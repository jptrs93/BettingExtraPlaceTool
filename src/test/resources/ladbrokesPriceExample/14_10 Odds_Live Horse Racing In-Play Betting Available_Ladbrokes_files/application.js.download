window.Modernizr=function(e,t,n){function r(e){v.cssText=e}function i(e,t){return r(T.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var r in e){var i=e[r];if(!a(i,"-")&&v[i]!==n)return"pfx"!=t||i}return!1}function u(e,t,r){for(var i in e){var a=t[e[i]];if(a!==n)return r===!1?e[i]:o(a,"function")?a.bind(r||t):a}return!1}function c(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+k.join(r+" ")+r).split(" ");return o(t,"string")||o(t,"undefined")?s(i,t):(i=(e+" "+x.join(r+" ")+r).split(" "),u(i,t,n))}function l(){h.input=function(n){for(var r=0,i=n.length;r<i;r++)Y[n[r]]=!!(n[r]in b);return Y.list&&(Y.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),Y}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var r,i,o,a=0,s=e.length;a<s;a++)b.setAttribute("type",i=e[a]),r="text"!==b.type,r&&(b.value=M,b.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&b.style.WebkitAppearance!==n?(_.appendChild(b),o=t.defaultView,r=o.getComputedStyle&&"textfield"!==o.getComputedStyle(b,null).WebkitAppearance&&0!==b.offsetHeight,_.removeChild(b)):/^(search|tel)$/.test(i)||(r=/^(url|email)$/.test(i)?b.checkValidity&&b.checkValidity()===!1:b.value!=M)),D[e[a]]=!!r;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,f,p="2.8.3",h={},m=!0,_=t.documentElement,g="modernizr",y=t.createElement(g),v=y.style,b=t.createElement("input"),M=":)",w={}.toString,T=" -webkit- -moz- -o- -ms- ".split(" "),L="Webkit Moz O ms",k=L.split(" "),x=L.toLowerCase().split(" "),A={svg:"http://www.w3.org/2000/svg"},S={},D={},Y={},E=[],C=E.slice,j=function(e,n,r,i){var o,a,s,u,c=t.createElement("div"),l=t.body,d=l||t.createElement("body");if(parseInt(r,10))for(;r--;)s=t.createElement("div"),s.id=i?i[r]:g+(r+1),c.appendChild(s);return o=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),c.id=g,(l?c:d).innerHTML+=o,d.appendChild(c),l||(d.style.background="",d.style.overflow="hidden",u=_.style.overflow,_.style.overflow="hidden",_.appendChild(d)),a=n(c,e),l?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),_.style.overflow=u),!!a},O=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t)&&n(t).matches||!1;var r;return j("@media "+t+" { #"+g+" { position: absolute; } }",function(t){r="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),r},N=function(){function e(e,i){i=i||t.createElement(r[e]||"div"),e="on"+e;var a=e in i;return a||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),a=o(i[e],"function"),o(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,a}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),z={}.hasOwnProperty;f=o(z,"undefined")||o(z.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return z.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=C.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var o=new i,a=t.apply(o,n.concat(C.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(C.call(arguments)))};return r}),S.flexbox=function(){return c("flexWrap")},S.flexboxlegacy=function(){return c("boxDirection")},S.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},S.canvastext=function(){return!(!h.canvas||!o(t.createElement("canvas").getContext("2d").fillText,"function"))},S.webgl=function(){return!!e.WebGLRenderingContext},S.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:j(["@media (",T.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},S.geolocation=function(){return"geolocation"in navigator},S.postmessage=function(){return!!e.postMessage},S.websqldatabase=function(){return!!e.openDatabase},S.indexedDB=function(){return!!c("indexedDB",e)},S.hashchange=function(){return N("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},S.history=function(){return!(!e.history||!history.pushState)},S.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},S.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},S.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),a(v.backgroundColor,"rgba")},S.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),a(v.backgroundColor,"rgba")||a(v.backgroundColor,"hsla")},S.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(v.background)},S.backgroundsize=function(){return c("backgroundSize")},S.borderimage=function(){return c("borderImage")},S.borderradius=function(){return c("borderRadius")},S.boxshadow=function(){return c("boxShadow")},S.textshadow=function(){return""===t.createElement("div").style.textShadow},S.opacity=function(){return i("opacity:.55"),/^0.55$/.test(v.opacity)},S.cssanimations=function(){return c("animationName")},S.csscolumns=function(){return c("columnCount")},S.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((e+"-webkit- ".split(" ").join(t+e)+T.join(n+e)).slice(0,-e.length)),a(v.backgroundImage,"gradient")},S.cssreflections=function(){return c("boxReflect")},S.csstransforms=function(){return!!c("transform")},S.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in _.style&&j("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e},S.csstransitions=function(){return c("transition")},S.fontface=function(){var e;return j('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),o=i.sheet||i.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])}),e},S.generatedcontent=function(){var e;return j(["#",g,"{font:0/0 a}#",g,':after{content:"',M,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},S.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n},S.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n},S.localstorage=function(){try{return localStorage.setItem(g,g),localStorage.removeItem(g),!0}catch(e){return!1}},S.sessionstorage=function(){try{return sessionStorage.setItem(g,g),sessionStorage.removeItem(g),!0}catch(e){return!1}},S.webworkers=function(){return!!e.Worker},S.applicationcache=function(){return!!e.applicationCache},S.svg=function(){return!!t.createElementNS&&!!t.createElementNS(A.svg,"svg").createSVGRect},S.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==A.svg},S.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(w.call(t.createElementNS(A.svg,"animate")))},S.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(w.call(t.createElementNS(A.svg,"clipPath")))};for(var P in S)f(S,P)&&(d=P.toLowerCase(),h[d]=S[P](),E.push((h[d]?"":"no-")+d));return h.input||l(),h.addTest=function(e,t){if("object"==typeof e)for(var r in e)f(e,r)&&h.addTest(r,e[r]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,"undefined"!=typeof m&&m&&(_.className+=" "+(t?"":"no-")+e),h[e]=t}return h},r(""),y=b=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=g[e[m]];return t||(t={},_++,e[m]=_,g[_]=t),t}function o(e,n,r){if(n||(n=t),l)return n.createElement(e);r||(r=i(n));var o;return o=r.cache[e]?r.cache[e].cloneNode():h.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!o.canHaveChildren||p.test(e)||o.tagUrn?o:r.frag.appendChild(o)}function a(e,n){if(e||(e=t),l)return e.createDocumentFragment();n=n||i(e);for(var o=n.frag.cloneNode(),a=0,s=r(),u=s.length;a<u;a++)o.createElement(s[a]);return o}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function u(e){e||(e=t);var r=i(e);return!y.shivCSS||c||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||s(e,r),e}var c,l,d="3.7.0",f=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",_=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,l=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,l=!0}}();var y={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:f.shivCSS!==!1,supportsUnknownElements:l,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:u,createElement:o,createDocumentFragment:a};e.html5=y,u(t)}(this,t),h._version=p,h._prefixes=T,h._domPrefixes=x,h._cssomPrefixes=k,h.mq=O,h.hasEvent=N,h.testProp=function(e){return s([e])},h.testAllProps=c,h.testStyles=j,h.prefixed=function(e,t,n){return t?c(e,t,n):c(e,"pfx")},_.className=_.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+E.join(" "):""),h}(this,this.document),window.Detectizr=function(e,t,n,r){function i(e,t){var n,r,o;if(arguments.length>2)for(n=1,r=arguments.length;n<r;n+=1)i(e,arguments[n]);else for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function o(e){return y.browser.userAgent.indexOf(e)>-1}function a(e){return e.test(y.browser.userAgent)}function s(e){return e.exec(y.browser.userAgent)}function u(e){return e.replace(/^\s+|\s+$/g,"")}function c(e){return null===e||e===r?"":String(e).replace(/((\s|\-|\.)+[a-z0-9])/g,function(e){return e.toUpperCase().replace(/(\s|\-|\.)/g,"")})}function l(e,t){var n=t||"",r=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(T," "):"");if(r){for(;r.indexOf(" "+n+" ")>=0;)r=r.replace(" "+n+" "," ");e.className=t?u(r):""}}function d(e,t,n){e&&(e=c(e),t&&(t=c(t),p(e+t,!0),n&&p(e+t+"_"+n,!0)))}function f(){e.clearTimeout(_),_=e.setTimeout(function(){g=y.device.orientation,e.innerHeight>e.innerWidth?y.device.orientation="portrait":y.device.orientation="landscape",p(y.device.orientation,!0),g!==y.device.orientation&&p(g,!1)},10)}function p(e,t){e&&v&&(M.addAllFeaturesAsClass?v.addTest(e,t):(t="function"==typeof t?t():t,t?v.addTest(e,!0):(delete v[e],l(L,e))))}function h(e,t){e.version=t;var n=t.split(".");n.length>0?(n=n.reverse(),e.major=n.pop(),n.length>0?(e.minor=n.pop(),n.length>0?(n=n.reverse(),e.patch=n.join(".")):e.patch="0"):e.minor="0"):e.major="0"}function m(r){var u,l,m,_,g,T,L,k,x=this;if(M=i({},M,r||{}),M.detectDevice){for(y.device={type:"",model:"",orientation:""},_=y.device,a(/googletv|smarttv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|ce\-html/)?(_.type=b[0],_.model="smartTv"):a(/xbox|playstation.3|wii/)?(_.type=b[0],_.model="gameConsole"):a(/ip(a|ro)d/)?(_.type=b[1],_.model="ipad"):a(/tablet/)&&!a(/rx-34/)||a(/folio/)?(_.type=b[1],_.model=String(s(/playbook/)||"")):a(/linux/)&&a(/android/)&&!a(/fennec|mobi|htc.magic|htcX06ht|nexus.one|sc-02b|fone.945/)?(_.type=b[1],_.model="android"):a(/kindle/)||a(/mac.os/)&&a(/silk/)?(_.type=b[1],_.model="kindle"):a(/gt-p10|sc-01c|shw-m180s|sgh-t849|sch-i800|shw-m180l|sph-p100|sgh-i987|zt180|htc(.flyer|\_flyer)|sprint.atp51|viewpad7|pandigital(sprnova|nova)|ideos.s7|dell.streak.7|advent.vega|a101it|a70bht|mid7015|next2|nook/)||a(/mb511/)&&a(/rutem/)?(_.type=b[1],_.model="android"):a(/bb10/)?(_.type=b[1],_.model="blackberry"):(_.model=s(/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec|j2me/),null!==_.model?(_.type=b[2],_.model=String(_.model)):(_.model="",a(/bolt|fennec|iris|maemo|minimo|mobi|mowser|netfront|novarra|prism|rx-34|skyfire|tear|xv6875|xv6975|google.wireless.transcoder/)?_.type=b[2]:a(/opera/)&&a(/windows.nt.5/)&&a(/htc|xda|mini|vario|samsung\-gt\-i8000|samsung\-sgh\-i9/)?_.type=b[2]:a(/windows.(nt|xp|me|9)/)&&!a(/phone/)||a(/win(9|.9|nt)/)||a(/\(windows 8\)/)?_.type=b[3]:a(/macintosh|powerpc/)&&!a(/silk/)?(_.type=b[3],_.model="mac"):a(/linux/)&&a(/x11/)?_.type=b[3]:a(/solaris|sunos|bsd/)?_.type=b[3]:a(/bot|crawler|spider|yahoo|ia_archiver|covario-ids|findlinks|dataparksearch|larbin|mediapartners-google|ng-search|snappy|teoma|jeeves|tineye/)&&!a(/mobile/)?(_.type=b[3],_.model="crawler"):_.type=b[2])),u=0,l=b.length;u<l;u+=1)p(b[u],_.type===b[u]);M.detectDeviceModel&&p(c(_.model),!0)}if(M.detectScreen&&(v&&v.mq&&(p("smallScreen",v.mq("only screen and (max-width: 480px)")),p("verySmallScreen",v.mq("only screen and (max-width: 320px)")),p("veryVerySmallScreen",v.mq("only screen and (max-width: 240px)"))),_.type===b[1]||_.type===b[2]?(e.onresize=function(e){f(e)},f()):(_.orientation="landscape",p(_.orientation,!0))),M.detectOS&&(y.os={},g=y.os,""!==_.model&&("ipad"===_.model||"iphone"===_.model||"ipod"===_.model?(g.name="ios",h(g,(a(/os\s([\d_]+)/)?RegExp.$1:"").replace(/_/g,"."))):"android"===_.model?(g.name="android",h(g,a(/android\s([\d\.]+)/)?RegExp.$1:"")):"blackberry"===_.model?(g.name="blackberry",h(g,a(/version\/([^\s]+)/)?RegExp.$1:"")):"playbook"===_.model&&(g.name="blackberry",h(g,a(/os ([^\s]+)/)?RegExp.$1.replace(";",""):""))),g.name||(o("win")||o("16bit")?(g.name="windows",o("windows nt 6.3")?h(g,"8.1"):o("windows nt 6.2")||a(/\(windows 8\)/)?h(g,"8"):o("windows nt 6.1")?h(g,"7"):o("windows nt 6.0")?h(g,"vista"):o("windows nt 5.2")||o("windows nt 5.1")||o("windows xp")?h(g,"xp"):o("windows nt 5.0")||o("windows 2000")?h(g,"2k"):o("winnt")||o("windows nt")?h(g,"nt"):o("win98")||o("windows 98")?h(g,"98"):(o("win95")||o("windows 95"))&&h(g,"95")):o("mac")||o("darwin")?(g.name="mac os",o("68k")||o("68000")?h(g,"68k"):o("ppc")||o("powerpc")?h(g,"ppc"):o("os x")&&h(g,(a(/os\sx\s([\d_]+)/)?RegExp.$1:"os x").replace(/_/g,"."))):o("webtv")?g.name="webtv":o("x11")||o("inux")?g.name="linux":o("sunos")?g.name="sun":o("irix")?g.name="irix":o("freebsd")?g.name="freebsd":o("bsd")&&(g.name="bsd")),g.name&&(p(g.name,!0),g.major&&(d(g.name,g.major),g.minor&&d(g.name,g.major,g.minor))),a(/\sx64|\sx86|\swin64|\swow64|\samd64/)?g.addressRegisterSize="64bit":g.addressRegisterSize="32bit",p(g.addressRegisterSize,!0)),M.detectBrowser&&(T=y.browser,a(/opera|webtv/)||!a(/msie\s([\d\w\.]+)/)&&!o("trident")?o("firefox")?(T.engine="gecko",T.name="firefox",h(T,a(/firefox\/([\d\w\.]+)/)?RegExp.$1:"")):o("gecko/")?T.engine="gecko":o("opera")?(T.name="opera",T.engine="presto",h(T,a(/version\/([\d\.]+)/)?RegExp.$1:a(/opera(\s|\/)([\d\.]+)/)?RegExp.$2:"")):o("konqueror")?T.name="konqueror":o("chrome")?(T.engine="webkit",T.name="chrome",h(T,a(/chrome\/([\d\.]+)/)?RegExp.$1:"")):o("iron")?(T.engine="webkit",T.name="iron"):o("crios")?(T.name="chrome",T.engine="webkit",h(T,a(/crios\/([\d\.]+)/)?RegExp.$1:"")):o("applewebkit/")?(T.name="safari",T.engine="webkit",h(T,a(/version\/([\d\.]+)/)?RegExp.$1:"")):o("mozilla/")&&(T.engine="gecko"):(T.engine="trident",T.name="ie",!e.addEventListener&&n.documentMode&&7===n.documentMode?h(T,"8.compat"):a(/trident.*rv[ :](\d+)\./)?h(T,RegExp.$1):h(T,a(/trident\/4\.0/)?"8":RegExp.$1)),T.name&&(p(T.name,!0),T.major&&(d(T.name,T.major),T.minor&&d(T.name,T.major,T.minor))),p(T.engine,!0),T.language=t.userLanguage||t.language,p(T.language,!0)),M.detectPlugins){for(T.plugins=[],x.detectPlugin=function(e){var n,r,i,o=t.plugins;for(l=o.length-1;l>=0;l--){for(n=o[l],r=n.name+n.description,i=0,m=e.length;m>=0;m--)r.indexOf(e[m])!==-1&&(i+=1);if(i===e.length)return!0}return!1},x.detectObject=function(e){for(l=e.length-1;l>=0;l--)try{new ActiveXObject(e[l])}catch(t){}return!1},u=w.length-1;u>=0;u--)L=w[u],k=!1,e.ActiveXObject?k=x.detectObject(L.progIds):t.plugins&&(k=x.detectPlugin(L.substrs)),k&&(T.plugins.push(L.name),p(L.name,!0));t.javaEnabled()&&(T.plugins.push("java"),p("java",!0))}}var _,g,y={},v=e.Modernizr,b=["tv","tablet","mobile","desktop"],M={addAllFeaturesAsClass:!1,detectDevice:!0,detectDeviceModel:!0,detectScreen:!0,detectOS:!0,detectBrowser:!0,detectPlugins:!0},w=[{name:"adobereader",substrs:["Adobe","Acrobat"],progIds:["AcroPDF.PDF","PDF.PDFCtrl.5"]},{name:"flash",substrs:["Shockwave Flash"],progIds:["ShockwaveFlash.ShockwaveFlash.1"]},{name:"wmplayer",substrs:["Windows Media"],progIds:["wmplayer.ocx"]},{name:"silverlight",substrs:["Silverlight"],progIds:["AgControl.AgControl"]},{name:"quicktime",substrs:["QuickTime"],progIds:["QuickTime.QuickTime"]}],T=/[\t\r\n]/g,L=n.documentElement;return y.detect=function(e){return m(e)},y.init=function(){y!==r&&(y.browser={userAgent:(t.userAgent||t.vendor||e.opera).toLowerCase()},y.detect())},y.init(),y}(this,this.navigator,this.document),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"!==n&&!Z.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return G.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=he[e]={};return Z.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function a(){X.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Z.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+s.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(be,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ve.test(n)?Z.parseJSON(n):n)}catch(i){}ye.set(e,t,n)}else n=void 0;return n}function c(){return!0}function l(){return!1}function d(){try{return X.activeElement}catch(e){}}function f(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;n<r;n++)ge.set(e[n],"globalEval",!t||ge.get(t[n],"globalEval"))}function _(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(ge.hasData(e)&&(o=ge.access(e),a=ge.set(t,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)Z.event.add(t,i,c[i][n])}ye.hasData(e)&&(s=ye.access(e),u=Z.extend({},s),ye.set(t,u))}}function g(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Le.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function v(t,n){var r,i=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function b(e){var t=X,n=Re[e];return n||(n=v(e,t),"none"!==n&&n||(He=(He||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=He[0].contentDocument,t.write(),t.close(),n=v(e,t),He.detach()),Re[e]=n),n}function M(e,t,n){var r,i,o,a,s=e.style;return n=n||qe(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Z.contains(e.ownerDocument,e)||(a=Z.style(e,t)),Fe.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function w(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function T(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=$e.length;i--;)if(t=$e[i]+n,t in e)return t;return r}function L(e,t,n){var r=Ue.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=Z.css(e,n+we[o],!0,i)),r?("content"===n&&(a-=Z.css(e,"padding"+we[o],!0,i)),"margin"!==n&&(a-=Z.css(e,"border"+we[o]+"Width",!0,i))):(a+=Z.css(e,"padding"+we[o],!0,i),"padding"!==n&&(a+=Z.css(e,"border"+we[o]+"Width",!0,i)));return a}function x(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=qe(e),a="border-box"===Z.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=M(e,t,o),(i<0||null==i)&&(i=e.style[t]),Fe.test(i))return i;r=a&&(K.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(a?"border":"content"),r,o)+"px"}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=ge.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Te(r)&&(o[a]=ge.access(r,"olddisplay",b(r.nodeName)))):(i=Te(r),"none"===n&&i||ge.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function S(e,t,n,r,i){return new S.prototype.init(e,t,n,r,i)}function D(){return setTimeout(function(){Ke=void 0}),Ke=Z.now()}function Y(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=we[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function E(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function C(e,t,n){var r,i,o,a,s,u,c,l,d=this,f={},p=e.style,h=e.nodeType&&Te(e),m=ge.get(e,"fxshow");n.queue||(s=Z._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Z.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=Z.css(e,"display"),l="none"===c?ge.get(e,"olddisplay")||b(e.nodeName):c,"inline"===l&&"none"===Z.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Qe.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||Z.style(e,r)}else c=void 0;if(Z.isEmptyObject(f))"inline"===("none"===c?b(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(h=m.hidden):m=ge.access(e,"fxshow",{}),o&&(m.hidden=!h),h?Z(e).show():d.done(function(){Z(e).hide()}),d.done(function(){var t;ge.remove(e,"fxshow");for(t in f)Z.style(e,t,f[t])});for(r in f)a=E(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function j(e,t){var n,r,i,o,a;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Z.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,a=tt.length,s=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ke||D(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;a<u;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),o<1&&u?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ke||D(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),l=c.props;for(j(l,c.opts.specialEasing);o<a;o++)if(r=tt[o].call(c,e,l,c.opts))return r;return Z.map(l,E,c),Z.isFunction(c.opts.start)&&c.opts.start.call(e,c),Z.fx.timer(Z.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(pe)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function z(e,t,n,r){function i(s){var u;return o[s]=!0,Z.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===vt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function P(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function W(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function H(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function R(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||Lt.test(e)?r(e,i):R(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)R(e+"["+i+"]",t[i],n,r)}function B(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var F=[],q=F.slice,I=F.concat,U=F.push,G=F.indexOf,V={},J=V.toString,$=V.hasOwnProperty,K={},X=e.document,Q="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return q.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:q.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:F.sort,splice:F.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||Z.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(c&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},a[t]=Z.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===Z.type(e)&&!e.nodeType&&!Z.isWindow(e)&&!(e.constructor&&!$.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[J.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;o<a&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;o<a&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):U.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:G.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;o<a;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return I.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e))return r=q.call(arguments,2),i=function(){return e.apply(t||this,r.concat(q.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i},now:Date.now,support:K}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,a,s,u,c,d,p,h,m;if((t?t.ownerDocument||t:R)!==C&&E(t),t=t||C,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&O){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),
!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&W(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&M.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(M.qsa&&(!N||!N.test(e))){if(p=d=H,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=k(e),(d=t.getAttribute("id"))?p=d.replace(be,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=c.length;u--;)c[u]=p+f(c[u]);h=ve.test(e)&&l(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,h.querySelectorAll(m)),n}catch(_){}finally{d||t.removeAttribute("id")}}}return A(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[H]=!0,e}function i(e){var t=C.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=F++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c=[B,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[H]||(t[H]={}),(s=u[r])&&s[0]===B&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function _(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function g(e,t,n,i,o,a){return i&&!i[H]&&(i=g(i)),o&&!o[H]&&(o=g(o,a)),r(function(r,a,s,u){var c,l,d,f=[],p=[],h=a.length,g=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?g:_(g,f,e,s,u),v=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,v,s,u),i)for(c=_(v,p),i(c,[],s,u),l=c.length;l--;)(d=c[l])&&(v[p[l]]=!(y[p[l]]=d));if(r){if(o||e){if(o){for(c=[],l=v.length;l--;)(d=v[l])&&c.push(y[l]=d);o(null,v=[],c,u)}for(l=v.length;l--;)(d=v[l])&&(c=o?ee(r,d):f[l])>-1&&(r[c]=!(a[c]=d))}}else v=_(v===a?v.splice(h,v.length):v),o?o(null,a,v,u):Q.apply(a,v)})}function y(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),c=p(function(e){return ee(t,e)>-1},a,!0),l=[function(e,n,r){var i=!o&&(r||n!==S)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];s<i;s++)if(n=w.relative[e[s].type])l=[p(h(l),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[H]){for(r=++s;r<i&&!w.relative[e[r].type];r++);return g(s>1&&h(l),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,s<r&&y(e.slice(s,r)),r<i&&y(e=e.slice(r)),r<i&&f(e))}l.push(n)}return h(l)}function v(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,c){var l,d,f,p=0,h="0",m=r&&[],g=[],y=S,v=r||o&&w.find.TAG("*",c),b=B+=null==y?1:Math.random()||.1,M=v.length;for(c&&(S=a!==C&&a);h!==M&&null!=(l=v[h]);h++){if(o&&l){for(d=0;f=e[d++];)if(f(l,a,s)){u.push(l);break}c&&(B=b)}i&&((l=!f&&l)&&p--,r&&m.push(l))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,g,a,s);if(r){if(p>0)for(;h--;)m[h]||g[h]||(g[h]=K.call(u));g=_(g)}Q.apply(u,g),c&&!r&&g.length>0&&p+n.length>1&&t.uniqueSort(u)}return c&&(B=b,S=y),m};return i?r(a):a}var b,M,w,T,L,k,x,A,S,D,Y,E,C,j,O,N,z,P,W,H="sizzle"+1*new Date,R=e.document,B=0,F=0,q=n(),I=n(),U=n(),G=function(e,t){return e===t&&(Y=!0),0},V=1<<31,J={}.hasOwnProperty,$=[],K=$.pop,X=$.push,Q=$.push,Z=$.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=/'|\\/g,Me=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Te=function(){E()};try{Q.apply($=Z.call(R.childNodes),R.childNodes),$[R.childNodes.length].nodeType}catch(Le){Q={apply:$.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}M=t.support={},L=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},E=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==C&&9===r.nodeType&&r.documentElement?(C=r,j=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),O=!L(r),M.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),M.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),M.getElementsByClassName=ge.test(r.getElementsByClassName),M.getById=i(function(e){return j.appendChild(e).id=H,!r.getElementsByName||!r.getElementsByName(H).length}),M.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(Me,we);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(Me,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=M.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):M.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=M.getElementsByClassName&&function(e,t){if(O)return t.getElementsByClassName(e)},z=[],N=[],(M.qsa=ge.test(r.querySelectorAll))&&(i(function(e){j.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||N.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(M.matchesSelector=ge.test(P=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&i(function(e){M.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),z.push("!=",ae)}),N=N.length&&new RegExp(N.join("|")),z=z.length&&new RegExp(z.join("|")),t=ge.test(j.compareDocumentPosition),W=t||ge.test(j.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return Y=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!M.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&W(R,e)?-1:t===r||t.ownerDocument===R&&W(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return Y=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],c=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;u[i]===c[i];)i++;return i?a(u[i],c[i]):u[i]===R?-1:c[i]===R?1:0},r):C},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==C&&E(e),n=n.replace(de,"='$1']"),M.matchesSelector&&O&&(!z||!z.test(n))&&(!N||!N.test(n)))try{var r=P.call(e,n);if(r||M.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,C,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==C&&E(e),W(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==C&&E(e);var n=w.attrHandle[t.toLowerCase()],r=n&&J.call(w.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:M.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(Y=!M.detectDuplicates,D=!M.sortStable&&e.slice(0),e.sort(G),Y){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},T=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Me,we),e[3]=(e[3]||e[4]||e[5]||"").replace(Me,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Me,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",_=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(_){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?_.firstChild:_.lastChild],a&&y){for(l=_[H]||(_[H]={}),c=l[e]||[],p=c[0]===B&&c[1],f=c[0]===B&&c[2],d=p&&_.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){l[e]=[B,p,f];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===B)f=c[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++f||(y&&((d[H]||(d[H]={}))[e]=[B,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(n):o.length>1?(i=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=x(e.replace(ue,"$1"));return i[H]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(Me,we),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Me,we).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return _e.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=u(b);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,k=t.tokenize=function(e,n){var r,i,o,a,s,u,c,l=I[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=w.preFilter;s;){r&&!(i=ce.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in w.filter)!(i=he[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},x=t.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),o[H]?r.push(o):i.push(o);o=U(e,v(i,r)),o.selector=e}return o},A=t.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,d=!r&&k(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&M.getById&&9===t.nodeType&&O&&w.relative[o[1].type]){if(t=(w.find.ID(a.matches[0].replace(Me,we),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(Me,we),ve.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Q.apply(n,r),n;break}}return(c||x(e,d))(r,t,!O,n,ve.test(e)&&l(t.parentNode)||t),n},M.sortStable=H.split("").sort(G).join("")===H,M.detectDuplicates=!!Y,E(),M.sortDetached=i(function(e){return 1&e.compareDocumentPosition(C.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),M.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=ie,Z.expr=ie.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ie.uniqueSort,Z.text=ie.getText,Z.isXMLDoc=ie.isXML,Z.contains=ie.contains;var oe=Z.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;t<n;t++)if(Z.contains(i[t],this))return!0}));for(t=0;t<n;t++)Z.find(e,i[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Z(e):e||[],!1).length}});var ue,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,le=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),ae.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=X.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};le.prototype=Z.fn,ue=Z(X);var de=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?G.call(Z(e),this[0]):G.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(fe[e]||Z.unique(i),de.test(e)&&i.reverse()),this.pushStack(i)}});var pe=/\S+/g,he={};Z.Callbacks=function(e){e="string"==typeof e?he[e]||o(e):Z.extend({},e);var t,n,r,i,a,s,u=[],c=!e.once&&[],l=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=u.length,r=!0;u&&s<a;s++)if(u[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(c?c.length&&l(c.shift()):t?u=[]:d.disable())},d={add:function(){if(u){var n=u.length;!function o(t){Z.each(t,function(t,n){var r=Z.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=u.length:t&&(i=n,l(t))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),r&&(n<=a&&a--,n<=s&&s--)}),this},has:function(e){return e?Z.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=t=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],r?c.push(t):l(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var a=Z.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=q.call(arguments),a=o.length,s=1!==a||e&&Z.isFunction(e.promise)?a:0,u=1===s?e:Z.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?q.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var me;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(me.resolveWith(X,[Z]),Z.fn.triggerHandler&&(Z(X).triggerHandler("ready"),Z(X).off("ready"))))}}),Z.ready.promise=function(t){return me||(me=Z.Deferred(),"complete"===X.readyState?setTimeout(Z.ready):(X.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},Z.ready.promise();var _e=Z.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===Z.type(n)){i=!0;for(s in n)Z.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(Z(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Z.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(pe)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ge=new s,ye=new s,ve=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Z.extend({hasData:function(e){return ye.hasData(e)||ge.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ge.access(e,t,n)},_removeData:function(e,t){ge.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ge.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r])));ge.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):_e(this,function(t){var n,r=Z.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),e.indexOf("-")!==-1&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ge.get(e,t),n&&(!r||Z.isArray(n)?r=ge.access(e,t,Z.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),o=Z._queueHooks(e,t),a=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ge.get(e,n)||ge.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Z.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ge.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Me=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,we=["Top","Right","Bottom","Left"],Te=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Le=/^(?:checkbox|radio)$/i;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),n=X.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),K.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";K.focusinBubbles="onfocusin"in e;var xe=/^key/,Ae=/^(?:mouse|pointer|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,De=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,d,f,p,h,m,_=ge.get(e);if(_)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=_.events)||(u=_.events={}),(a=_.handle)||(a=_.handle=function(t){return typeof Z!==ke&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pe)||[""],c=t.length;c--;)s=De.exec(t[c])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p&&(d=Z.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=Z.event.special[p]||{},l=Z.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:h.join(".")},o),(f=u[p])||(f=u[p]=[],f.delegateCount=0,d.setup&&d.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(p,a,!1)),d.add&&(d.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),Z.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,d,f,p,h,m,_=ge.hasData(e)&&ge.get(e);if(_&&(u=_.events)){for(t=(t||"").match(pe)||[""],c=t.length;c--;)if(s=De.exec(t[c])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=Z.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,d.remove&&d.remove.call(e,l));a&&!f.length&&(d.teardown&&d.teardown.call(e,h,_.handle)!==!1||Z.removeEvent(e,p,_.handle),delete u[p])}else for(p in u)Z.event.remove(e,p+t[c],n,r,!0);Z.isEmptyObject(u)&&(delete _.handle,ge.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,c,l,d,f=[r||X],p=$.call(t,"type")?t.type:t,h=$.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!Se.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[Z.expando]?t:new Z.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),d=Z.event.special[p]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!Z.isWindow(r)){for(u=d.delegateType||p,Se.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||X)&&f.push(s.defaultView||s.parentWindow||e);
}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?u:d.bindType||p,l=(ge.get(a,"events")||{})[t.type]&&ge.get(a,"handle"),l&&l.apply(a,n),l=c&&a[c],l&&l.apply&&Z.acceptData(a)&&(t.result=l.apply(a,n),t.result===!1&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!Z.acceptData(r)||c&&Z.isFunction(r[p])&&!Z.isWindow(r)&&(s=r[c],s&&(r[c]=null),Z.event.triggered=p,r[p](),Z.event.triggered=void 0,s&&(r[c]=s)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,i,o,a=[],s=q.call(arguments),u=(ge.get(this,"events")||{})[e.type]||[],c=Z.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=Z.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;n<s;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||X,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ae.test(i)?this.mouseHooks:xe.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Z.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===d()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Z.nodeName(this,"input"))return this.click(),!1},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:l):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Z.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),K.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ge.access(r,t);i||r.addEventListener(e,n,!0),ge.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ge.access(r,t)-1;i?ge.access(r,t,i):(r.removeEventListener(e,n,!0),ge.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=l;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=l),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Z.event.trigger(e,t,n,!0)}});var Ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ee=/<([\w:]+)/,Ce=/<|&#?\w+;/,je=/<(?:script|style|link)/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^$|\/(?:java|ecma)script/i,ze=/^true\/(.*)/,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td,Z.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=Z.contains(e.ownerDocument,e);if(!(K.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(a=g(s),o=g(e),r=0,i=o.length;r<i;r++)y(o[r],a[r]);if(t)if(n)for(o=o||g(e),a=a||g(s),r=0,i=o.length;r<i;r++)_(o[r],a[r]);else _(e,s);return a=g(s,"script"),a.length>0&&m(a,!u&&g(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,c,l=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if(i=e[f],i||0===i)if("object"===Z.type(i))Z.merge(d,i.nodeType?[i]:i);else if(Ce.test(i)){for(o=o||l.appendChild(t.createElement("div")),a=(Ee.exec(i)||["",""])[1].toLowerCase(),s=We[a]||We._default,o.innerHTML=s[1]+i.replace(Ye,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;Z.merge(d,o.childNodes),o=l.firstChild,o.textContent=""}else d.push(t.createTextNode(i));for(l.textContent="",f=0;i=d[f++];)if((!r||Z.inArray(i,r)===-1)&&(u=Z.contains(i.ownerDocument,i),o=g(l.appendChild(i),"script"),u&&m(o),n))for(c=0;i=o[c++];)Ne.test(i.type||"")&&n.push(i);return l},cleanData:function(e){for(var t,n,r,i,o=Z.event.special,a=0;void 0!==(n=e[a]);a++){if(Z.acceptData(n)&&(i=n[ge.expando],i&&(t=ge.cache[i]))){if(t.events)for(r in t.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);ge.cache[i]&&delete ge.cache[i]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(e){return _e(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Z.cleanData(g(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&m(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return _e(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!We[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ye,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=I.apply([],e);var n,r,i,o,a,s,u=0,c=this.length,l=this,d=c-1,f=e[0],m=Z.isFunction(f);if(m||c>1&&"string"==typeof f&&!K.checkClone&&Oe.test(f))return this.each(function(n){var r=l.eq(n);m&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(c&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(g(n,"script"),p),o=i.length;u<c;u++)a=n,u!==d&&(a=Z.clone(a,!0,!0),o&&Z.merge(i,g(a,"script"))),t.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,Z.map(i,h),u=0;u<o;u++)a=i[u],Ne.test(a.type||"")&&!ge.access(a,"globalEval")&&Z.contains(s,a)&&(a.src?Z._evalUrl&&Z._evalUrl(a.src):Z.globalEval(a.textContent.replace(Pe,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],i=Z(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),Z(i[a])[t](n),U.apply(r,n.get());return this.pushStack(r)}});var He,Re={},Be=/^margin/,Fe=new RegExp("^("+Me+")(?!px)[a-z%]+$","i"),qe=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=X.documentElement,o=X.createElement("div"),a=X.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Z.extend(K,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(X.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),t}}))}(),Z.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var Ie=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+Me+")(.*)$","i"),Ge=new RegExp("^([+-])=("+Me+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"},$e=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=M(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Z.camelCase(t),u=e.style;return t=Z.cssProps[s]||(Z.cssProps[s]=T(u,s)),a=Z.cssHooks[t]||Z.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ge.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Z.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=Z.camelCase(t);return t=Z.cssProps[s]||(Z.cssProps[s]=T(e.style,s)),a=Z.cssHooks[t]||Z.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=M(e,t,r)),"normal"===i&&t in Je&&(i=Je[t]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){if(n)return Ie.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ve,function(){return x(e,t,r)}):x(e,t,r)},set:function(e,n,r){var i=r&&qe(e);return L(e,n,r?k(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=w(K.reliableMarginRight,function(e,t){if(t)return Z.swap(e,{display:"inline-block"},M,[e,"marginRight"])}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+we[r]+t]=o[r]||o[r-2]||o[0];return i}},Be.test(e)||(Z.cssHooks[e+t].set=L)}),Z.fn.extend({css:function(e,t){return _e(this,function(e,t,n){var r,i,o={},a=0;if(Z.isArray(t)){for(r=qe(e),i=t.length;a<i;a++)o[t[a]]=Z.css(e,t[a],!1,r);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Te(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=S,S.prototype={constructor:S,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=S.propHooks[this.prop];return e&&e.get?e.get(this):S.propHooks._default.get(this)},run:function(e){var t,n=S.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=S.prototype.init,Z.fx.step={};var Ke,Xe,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+Me+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[C],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ze.exec(t),o=i&&i[3]||(Z.cssNumber[e]?"":"px"),a=(Z.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(Z.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,Z.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Te).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),o=Z.speed(t,n,r),a=function(){var t=O(this,Z.extend({},e),o);(i||ge.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,a=ge.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ge.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Z.timers,a=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Y(t,!0),e,r,i)}}),Z.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Ke=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Ke=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Xe||(Xe=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Xe),Xe=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),n=t.appendChild(X.createElement("option"));e.type="checkbox",K.checkOn=""!==e.value,K.optSelected=n.selected,t.disabled=!0,K.optDisabled=!n.disabled,e=X.createElement("input"),e.value="t",e.type="radio",K.radioValue="t"===e.value}();var rt,it,ot=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return _e(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===ke?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!K.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Z.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var at=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return _e(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),K.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u<c;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Z.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];u<c;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?Z.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=Z(this),o=e.match(pe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==ke&&"boolean"!==n||(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Z.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(n=r[u],(n.selected||u===i)&&(K.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=Z.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){if(Z.isArray(t))return e.checked=Z.inArray(Z(e).val(),t)>=0}},K.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=Z.now(),lt=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+e),t};var dt=/#.*$/,ft=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,_t=/^\/\//,gt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},vt={},bt="*/".concat("*"),Mt=e.location.href,wt=gt.exec(Mt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mt,type:"GET",isLocal:ht.test(wt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?P(P(e,Z.ajaxSettings),t):P(Z.ajaxSettings,e)},ajaxPrefilter:N(yt),ajaxTransport:N(vt),ajax:function(e,t){function n(e,t,n,a){var u,l,g,y,b,w=t;2!==v&&(v=2,s&&clearTimeout(s),r=void 0,o=a||"",M.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(y=W(d,M,n)),y=H(d,y,M,u),u?(d.ifModified&&(b=M.getResponseHeader("Last-Modified"),b&&(Z.lastModified[i]=b),b=M.getResponseHeader("etag"),b&&(Z.etag[i]=b)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=y.state,l=y.data,g=y.error,u=!g)):(g=w,!e&&w||(w="error",e<0&&(e=0))),M.status=e,M.statusText=(t||w)+"",u?h.resolveWith(f,[l,w,M]):h.rejectWith(f,[M,w,g]),M.statusCode(_),_=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[M,d,u?l:g]),m.fireWith(f,[M,w]),c&&(p.trigger("ajaxComplete",[M,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,c,l,d=Z.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?Z(f):Z.event,h=Z.Deferred(),m=Z.Callbacks("once memory"),_=d.statusCode||{},g={},y={},v=0,b="canceled",M={readyState:0,getResponseHeader:function(e){var t;if(2===v){if(!a)for(a={};t=pt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===v?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return v||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return v||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(v<2)for(t in e)_[t]=[_[t],e[t]];else M.always(e[M.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(M).complete=m.add,M.success=M.done,M.error=M.fail,d.url=((e||d.url||Mt)+"").replace(dt,"").replace(_t,wt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().match(pe)||[""],null==d.crossDomain&&(u=gt.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===wt[1]&&u[2]===wt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(wt[3]||("http:"===wt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),z(yt,d,t,M),2===v)return M;c=Z.event&&d.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(lt.test(i)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ft.test(i)?i.replace(ft,"$1_="+ct++):i+(lt.test(i)?"&":"?")+"_="+ct++)),d.ifModified&&(Z.lastModified[i]&&M.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&M.setRequestHeader("If-None-Match",Z.etag[i])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&M.setRequestHeader("Content-Type",d.contentType),M.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+bt+"; q=0.01":""):d.accepts["*"]);for(l in d.headers)M.setRequestHeader(l,d.headers[l]);if(d.beforeSend&&(d.beforeSend.call(f,M,d)===!1||2===v))return M.abort();b="abort";for(l in{success:1,error:1,complete:1})M[l](d[l]);if(r=z(vt,d,t,M)){M.readyState=1,c&&p.trigger("ajaxSend",[M,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){M.abort("timeout")},d.timeout));try{v=1,r.send(g,n)}catch(w){if(!(v<2))throw w;n(-1,w)}}else n(-1,"No Transport");return M},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Tt=/%20/g,Lt=/\[\]$/,kt=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)R(n,e[n],t,i);return r.join("&").replace(Tt,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray());
},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&At.test(this.nodeName)&&!xt.test(e)&&(this.checked||!Le.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var St=0,Dt={},Yt={0:200,1223:204},Et=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Dt)Dt[e]()}),K.cors=!!Et&&"withCredentials"in Et,K.ajax=Et=!!Et,Z.ajaxTransport(function(e){var t;if(K.cors||Et&&!e.crossDomain)return{send:function(n,r){var i,o=e.xhr(),a=++St;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Dt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Yt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Dt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ct=[],jt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ct.pop()||Z.expando+"_"+ct++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(jt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(jt,"$1"+i):t.jsonp!==!1&&(t.url+=(lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Z.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ct.push(i)),a&&Z.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var r=ae.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var Ot=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=Z.trim(e.slice(s)),e=e.slice(0,s)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Nt=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c,l=Z.css(e,"position"),d=Z(e),f={};"static"===l&&(e.style.position="relative"),s=d.offset(),o=Z.css(e,"top"),u=Z.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==ke&&(i=r.getBoundingClientRect()),n=B(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Nt;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Nt})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(i){return _e(this,function(t,i,o){var a=B(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=w(K.pixelPosition,function(e,n){if(n)return n=M(e,t),Fe.test(n)?Z(e).position()[t]+"px":n})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return _e(this,function(t,n,r){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Z.css(t,n,a):Z.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var zt=e.jQuery,Pt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Pt),t&&e.jQuery===Z&&(e.jQuery=zt),Z},typeof t===ke&&(e.jQuery=e.$=Z),Z}),function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var t="undefined"!=typeof window?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}}(function(){"use strict";function e(e){return function(){return J.apply(e,arguments)}}function t(e){return e===Object(e)}function n(e){return"[object StopIteration]"===re(e)||e instanceof I}function r(e,t){if(B&&t.stack&&"object"==typeof e&&null!==e&&e.stack){for(var n=[],r=t;r;r=r.source)r.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>r.stackCounter)&&(ee(e,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),n.unshift(r.stack));n.unshift(e.stack);var o=n.join("\n"+ie+"\n"),a=i(o);ee(e,"stack",{value:a,configurable:!0})}}function i(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];s(i)||o(i)||!i||n.push(i)}return n.join("\n")}function o(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function a(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function s(e){var t=a(e);if(!t)return!1;var n=t[0],r=t[1];return n===q&&r>=U&&r<=le}function u(){if(B)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=a(n);if(!r)return;return q=r[0],r[1]}}function c(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function l(e){return e instanceof h?e:y(e)?A(e):x(e)}function d(){function e(e){t=e,l.longStackSupport&&B&&(o.source=e),K(n,function(t,n){l.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],i=Z(d.prototype),o=Z(h.prototype);if(o.promiseDispatch=function(e,i,o){var a=$(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):l.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(n)return o;var e=_(t);return g(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},l.longStackSupport&&B)try{throw new Error}catch(a){o.stack=a.stack.substring(a.stack.indexOf("\n")+1),o.stackCounter=oe++}return i.promise=o,i.resolve=function(n){t||e(l(n))},i.fulfill=function(n){t||e(x(n))},i.reject=function(n){t||e(k(n))},i.notify=function(e){t||K(r,function(t,n){l.nextTick(function(){n(e)})},void 0)},i}function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=d();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function p(e){return f(function(t,n){for(var r=0,i=e.length;r<i;r++)l(e[r]).then(t,n)})}function h(e,t,n){void 0===t&&(t=function(e){return k(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=Z(h.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(s){a=k(s)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function m(e,t,n,r){return l(e).then(t,n,r)}function _(e){if(g(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function g(e){return e instanceof h}function y(e){return t(e)&&"function"==typeof e.then}function v(e){return g(e)&&"pending"===e.inspect().state}function b(e){return!g(e)||"fulfilled"===e.inspect().state}function M(e){return g(e)&&"rejected"===e.inspect().state}function w(){ae.length=0,se.length=0,ce||(ce=!0)}function T(e,t){ce&&("object"==typeof process&&"function"==typeof process.emit&&l.nextTick.runAfter(function(){X(se,e)!==-1&&(process.emit("unhandledRejection",t,e),ue.push(e))}),se.push(e),t&&"undefined"!=typeof t.stack?ae.push(t.stack):ae.push("(no stack) "+t))}function L(e){if(ce){var t=X(se,e);t!==-1&&("object"==typeof process&&"function"==typeof process.emit&&l.nextTick.runAfter(function(){var n=X(ue,e);n!==-1&&(process.emit("rejectionHandled",ae[t],e),ue.splice(n,1))}),se.splice(t,1),ae.splice(t,1))}}function k(e){var t=h({when:function(t){return t&&L(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return T(t,e),t}function x(e){return h({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return ne(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function A(e){var t=d();return l.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function S(e){return h({isDef:function(){}},function(t,n){return O(e,t,n)},function(){return l(e).inspect()})}function D(e,t,n){return l(e).spread(t,n)}function Y(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=r[e](t)}catch(s){return k(s)}return a.done?l(a.value):m(a.value,i,o)}try{a=r[e](t)}catch(s){return n(s)?l(s.value):k(s)}return m(a,i,o)}var r=e.apply(this,arguments),i=t.bind(t,"next"),o=t.bind(t,"throw");return i()}}function E(e){l.done(l.async(e)())}function C(e){throw new I(e)}function j(e){return function(){return D([this,N(arguments)],function(t,n){return e.apply(t,n)})}}function O(e,t,n){return l(e).dispatch(t,n)}function N(e){return m(e,function(e){var t=0,n=d();return K(e,function(r,i,o){var a;g(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,m(i,function(r){e[o]=r,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function z(e){if(0===e.length)return l.resolve();var t=l.defer(),n=0;return K(e,function(r,i,o){function a(e){t.resolve(e)}function s(e){n--,0===n&&(e.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+e.message,t.reject(e))}function u(e){t.notify({index:o,value:e})}var c=e[o];n++,m(c,a,s,u)},void 0),t.promise}function P(e){return m(e,function(e){return e=Q(e,l),m(N(Q(e,function(e){return m(e,G,G)})),function(){return e})})}function W(e){return l(e).allSettled()}function H(e,t){return l(e).then(void 0,void 0,t)}function R(e,t){return l(e).nodeify(t)}var B=!1;try{throw new Error}catch(F){B=!!F.stack}var q,I,U=u(),G=function(){},V=function(){function e(){for(var e,r;n.next;)n=n.next,e=n.task,n.task=void 0,r=n.domain,r&&(n.domain=void 0,r.enter()),t(e,r);for(;s.length;)e=s.pop(),t(e);i=!1}function t(t,n){try{t()}catch(r){if(a)throw n&&n.exit(),setTimeout(e,0),n&&n.enter(),r;setTimeout(function(){throw r},0)}n&&n.exit()}var n={task:void 0,next:null},r=n,i=!1,o=void 0,a=!1,s=[];if(V=function(e){r=r.next={task:e,domain:a&&process.domain,next:null},i||(i=!0,o())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)a=!0,o=function(){process.nextTick(e)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=function(){o=c,u.port1.onmessage=e,e()};var c=function(){u.port2.postMessage(0)};o=function(){setTimeout(e,0),c()}}else o=function(){setTimeout(e,0)};return V.runAfter=function(e){s.push(e),i||(i=!0,o())},V}(),J=Function.call,$=e(Array.prototype.slice),K=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),X=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Q=e(Array.prototype.map||function(e,t){var n=this,r=[];return K(n,function(i,o,a){r.push(e.call(t,o,a,n))},void 0),r}),Z=Object.create||function(e){function t(){}return t.prototype=e,new t},ee=Object.defineProperty||function(e,t,n){return e[t]=n.value,e},te=e(Object.prototype.hasOwnProperty),ne=Object.keys||function(e){var t=[];for(var n in e)te(e,n)&&t.push(n);return t},re=e(Object.prototype.toString);I="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var ie="From previous event:";l.resolve=l,l.nextTick=V,l.longStackSupport=!1;var oe=1;"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(l.longStackSupport=!0),l.defer=d,d.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve($(arguments,1)):e.resolve(n)}},l.Promise=f,l.promise=f,f.race=p,f.all=N,f.reject=k,f.resolve=l,l.passByCopy=function(e){return e},h.prototype.passByCopy=function(){return this},l.join=function(e,t){return l(e).join(t)},h.prototype.join=function(e){return l([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},l.race=p,h.prototype.race=function(){return this.then(l.race)},l.makePromise=h,h.prototype.toString=function(){return"[object Promise]"},h.prototype.then=function(e,t,n){function i(t){try{return"function"==typeof e?e(t):t}catch(n){return k(n)}}function o(e){if("function"==typeof t){r(e,s);try{return t(e)}catch(n){return k(n)}}return k(e)}function a(e){return"function"==typeof n?n(e):e}var s=this,u=d(),c=!1;return l.nextTick(function(){s.promiseDispatch(function(e){c||(c=!0,u.resolve(i(e)))},"when",[function(e){c||(c=!0,u.resolve(o(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=a(e)}catch(r){if(n=!0,!l.onerror)throw r;l.onerror(r)}n||u.notify(t)}]),u.promise},l.tap=function(e,t){return l(e).tap(t)},h.prototype.tap=function(e){return e=l(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},l.when=m,h.prototype.thenResolve=function(e){return this.then(function(){return e})},l.thenResolve=function(e,t){return l(e).thenResolve(t)},h.prototype.thenReject=function(e){return this.then(function(){throw e})},l.thenReject=function(e,t){return l(e).thenReject(t)},l.nearer=_,l.isPromise=g,l.isPromiseAlike=y,l.isPending=v,h.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=b,h.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=M,h.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ae=[],se=[],ue=[],ce=!0;l.resetUnhandledRejections=w,l.getUnhandledReasons=function(){return ae.slice()},l.stopUnhandledRejectionTracking=function(){w(),ce=!1},w(),l.reject=k,l.fulfill=x,l.master=S,l.spread=D,h.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},l.async=Y,l.spawn=E,l["return"]=C,l.promised=j,l.dispatch=O,h.prototype.dispatch=function(e,t){var n=this,r=d();return l.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},l.get=function(e,t){return l(e).dispatch("get",[t])},h.prototype.get=function(e){return this.dispatch("get",[e])},l.set=function(e,t,n){return l(e).dispatch("set",[t,n])},h.prototype.set=function(e,t){return this.dispatch("set",[e,t])},l.del=l["delete"]=function(e,t){return l(e).dispatch("delete",[t])},h.prototype.del=h.prototype["delete"]=function(e){return this.dispatch("delete",[e])},l.mapply=l.post=function(e,t,n){return l(e).dispatch("post",[t,n])},h.prototype.mapply=h.prototype.post=function(e,t){return this.dispatch("post",[e,t])},l.send=l.mcall=l.invoke=function(e,t){return l(e).dispatch("post",[t,$(arguments,2)])},h.prototype.send=h.prototype.mcall=h.prototype.invoke=function(e){return this.dispatch("post",[e,$(arguments,1)])},l.fapply=function(e,t){return l(e).dispatch("apply",[void 0,t])},h.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},l["try"]=l.fcall=function(e){return l(e).dispatch("apply",[void 0,$(arguments,1)])},h.prototype.fcall=function(){return this.dispatch("apply",[void 0,$(arguments)])},l.fbind=function(e){var t=l(e),n=$(arguments,1);return function(){return t.dispatch("apply",[this,n.concat($(arguments))])}},h.prototype.fbind=function(){var e=this,t=$(arguments);return function(){return e.dispatch("apply",[this,t.concat($(arguments))])}},l.keys=function(e){return l(e).dispatch("keys",[])},h.prototype.keys=function(){return this.dispatch("keys",[])},l.all=N,h.prototype.all=function(){return N(this)},l.any=z,h.prototype.any=function(){return z(this)},l.allResolved=c(P,"allResolved","allSettled"),h.prototype.allResolved=function(){return P(this)},l.allSettled=W,h.prototype.allSettled=function(){return this.then(function(e){return N(Q(e,function(e){function t(){return e.inspect()}return e=l(e),e.then(t,t)}))})},l.fail=l["catch"]=function(e,t){return l(e).then(void 0,t)},h.prototype.fail=h.prototype["catch"]=function(e){return this.then(void 0,e)},l.progress=H,h.prototype.progress=function(e){return this.then(void 0,void 0,e)},l.fin=l["finally"]=function(e,t){return l(e)["finally"](t)},h.prototype.fin=h.prototype["finally"]=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=l(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},l.done=function(e,t,n,r){return l(e).done(t,n,r)},h.prototype.done=function(e,t,n){var i=function(e){l.nextTick(function(){if(r(e,o),!l.onerror)throw e;l.onerror(e)})},o=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(i=process.domain.bind(i)),o.then(void 0,i)},l.timeout=function(e,t,n){return l(e).timeout(t,n)},h.prototype.timeout=function(e,t){var n=d(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},l.delay=function(e,t){return void 0===t&&(t=e,e=void 0),l(e).delay(t)},h.prototype.delay=function(e){return this.then(function(t){var n=d();return setTimeout(function(){n.resolve(t)},e),n.promise})},l.nfapply=function(e,t){return l(e).nfapply(t)},h.prototype.nfapply=function(e){var t=d(),n=$(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},l.nfcall=function(e){var t=$(arguments,1);return l(e).nfapply(t)},h.prototype.nfcall=function(){var e=$(arguments),t=d();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},l.nfbind=l.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=$(arguments,1);return function(){var n=t.concat($(arguments)),r=d();return n.push(r.makeNodeResolver()),l(e).fapply(n).fail(r.reject),r.promise}},h.prototype.nfbind=h.prototype.denodeify=function(){var e=$(arguments);return e.unshift(this),l.denodeify.apply(void 0,e)},l.nbind=function(e,t){var n=$(arguments,2);return function(){function r(){return e.apply(t,arguments)}var i=n.concat($(arguments)),o=d();return i.push(o.makeNodeResolver()),l(r).fapply(i).fail(o.reject),o.promise}},h.prototype.nbind=function(){var e=$(arguments,0);return e.unshift(this),l.nbind.apply(void 0,e)},l.nmapply=l.npost=function(e,t,n){return l(e).npost(t,n)},h.prototype.nmapply=h.prototype.npost=function(e,t){var n=$(t||[]),r=d();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},l.nsend=l.nmcall=l.ninvoke=function(e,t){var n=$(arguments,2),r=d();return n.push(r.makeNodeResolver()),l(e).dispatch("post",[t,n]).fail(r.reject),r.promise},h.prototype.nsend=h.prototype.nmcall=h.prototype.ninvoke=function(e){var t=$(arguments,1),n=d();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},l.nodeify=R,h.prototype.nodeify=function(e){return e?void this.then(function(t){l.nextTick(function(){e(null,t)})},function(t){l.nextTick(function(){e(t)})}):this},l.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var le=u();return l}),function(e){"use strict";function t(e,n,r){var i=t.resolve(e);if(!i){r=r||e,n=n||"root";var o=new Error('Failed to require "'+r+'" from "'+n+'"');throw o.path=e,o.parent=n,o.require=!0,o}var a=t.modules[i];if(!a._resolving&&!a.exports){var s={};s.exports={},s.client=s.component=!0,a._resolving=!0,a.call(this,t.relative(i),s.exports,s),delete a._resolving,a.exports=s.exports}return a.exports}t.modules={},t.aliases={},t.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));var n=[e,e+"/main",e+"/init",e+"/index"],r=t.aliases[e];r&&n.push(r);for(var i=0,o=n.length;i<o;i++)if(t.modules.hasOwnProperty(n[i]))return n[i];return null},t.normalize=function(e,t){var n=[];if("."!==t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var r=0,i=t.length;r<i;++r)".."===t[r]?e.pop():"."!==t[r]&&""!==t[r]&&n.push(t[r]);return e.concat(n).join("/")},t.register=function(e,n){t.modules[e]=n},t.alias=function(e,n){t.aliases[e]=n},t.relative=function(e){function n(r){var i=n.resolve(r);return t(i,e,r)}var r=t.normalize(e,"..");return n.resolve=function(e){var n=e.charAt(0);return"/"===n?e.slice(1):"."===n?t.normalize(r,e):e},n.exists=function(e){return t.modules.hasOwnProperty(n.resolve(e))},n},e.require=t}(window),require.register("cogwheels",function(e,t,n){"use strict";function r(){this.metadata={gears:[],config:{}}}function i(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].prio>t.prio)return e.splice(n,0,t),e;return e.push(t),e}function o(e,t){return e.prio||(e.prio=t||1e3),e}function a(e,t){t.config=e[t.name]||{}}function s(e){return!e.loaded}var u=e("boot/bootstrap"),c=(e("message-bus"),e("utils/debug")("cogwheels")),l=e("utils/x");r.prototype={start:function(e){this.metadata.config=e||{};var t=this;this.metadata.gears.forEach(function(e){a(t.metadata.config,e)}),u(this.metadata)},startLoadedGears:function(){var t=this.metadata.gears.filter(s),n=e("lifecycle-manager");n(this.metadata.config,[],t)},addGear:function(e){a(this.metadata.config,e),i(this.metadata.gears,o(e))},addFeature:function(e){this.addGear(e)},addInstrumentation:function(e,t){if(!e)throw new Error("missing name");if(!l.isObject(t))throw new Error("second parameter must be an object");f[e]&&c("WARNING: instrumentation property already present ("+e+")"),f[e]=t}};var d=new r,f={__name__:"Cogwheels",__this__:!0,repository:e("repository"),messageBus:e("message-bus"),router:e("router"),layoutEngine:e("layout-engine"),layout:e("layout"),getGears:function(){var e=d.metadata.gears;return e.sort(function(e,t){return e.prio!=t.prio?e.prio-t.prio:e.name<t.name?-1:e.name>t.name?1:0}).map(function(e){return e.name+"  version="+e.version+"  prio="+e.prio+"  loaded="+e.loaded})}};d.instrumentation=function(){return f},n.exports=d}),require.register("device-info",function(e,t,n){function r(){function e(e){Object.keys(e).forEach(function(t){n[t]=e[t],s.publish(t,e[t])}),s.publish("all",n)}function t(e,t){n[e]=t,s.publish(e,t),s.publish("all",n)}var n,r,a,s;this.init=function(e){e=e||{},r=e.rate||50,a=r>0,s=i.mixin({}),n={}},this.start=function(){e({width:window.innerWidth,hasTouch:!!(window.navigator.maxTouchPoints||window.navigator.msMaxTouchPoints||"ontouchstart"in document.documentElement||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}),a&&window.addEventListener("resize",o.debounce(function(){t("width",window.innerWidth)}.bind(this),r))},this.subscribe=function(e,t){t?s.subscribe(e,t):(t=e,s.subscribe("all",t))},this.properties=function(e){return e?n[e]:n},this.instrumentation=function(){return{__name__:"Device Info",properties:n,channel:s,updateProperty:t,updateProperties:e}}}var i=e("utils/subscribable"),o=e("utils/x");n.exports=new r}),require.register("layout-engine",function(e,t,n){var r=e("layout-engine/domify"),i=e("./layout-engine/region-handler"),o=e("utils/object-disabler"),a="Layout Engine",s={init:function(e){return e.disabled?(o(this,["init"]),this.start=function(){console.warn("layout-engine is disabled, cannot start")},void(this.instrumentation=function(){return{__name__:a,info:"This is disabled"}})):(this.config=e,this.root=e.root||document.body,this.defaultRegion=e.defaultRegion||"main",this.regions={},this.handlers={},void(this.regionHandlers={}))},start:function(){if(this.config.regions)for(var e in this.config.regions)this.initRegion(e,this.config.regions[e].handler,this.config.regions[e].options)},findRegion:function(e){return this.root.querySelector("#"+e)},registerHandler:function(e,t){this.handlers[e]=t},configureRegion:function(e,t,n){if(!this.handlers[t])throw new Error("layoutEngine: you can not set an unregister handler! ("+t+")");return this.regionHandlers[e]={handler:t,options:n||{}},!0},initRegion:function(e,t,n){var r=this.findRegion(e);if(!r)throw new Error("layoutEngine: you can not initialize a non existing region! ("+e+")");var o=null;if(o=t?this.handlers[t]:i,!o)throw new Error("layoutEngine: you can not initialize a region with a non existing handler! ("+t+")");var a=null;try{a=Object.create(o),a.setup(r,n)}catch(s){throw new Error("layoutEngine: invalid handler! ("+t+")")}finally{this.regions[e]=a}return a},destroyRegion:function(e){if(!this.regions[e])return!1;var t=this.getRegionHandler(e);return t&&t.clearRegion&&t.clearRegion(),this.regions[e]=null,delete this.regions[e],this.regionHandlers[e]=null,delete this.regionHandlers[e],!0},getRegionHandler:function(e){return this.regions[e]?this.regions[e]:null},render:function(e,t,n,i){n=n||"main";var o=r(e),a=this.regions[n];if(!a){var s=this.regionHandlers[n];a=s?this.initRegion(n,s.handler,s.options):this.initRegion(n,null,i)}return a.update(o,t,i),{el:o}},instrumentation:function(){return{__name__:a,__this__:!0}}};n.exports=s}),require.register("layout",function(e,t,n){function r(){function t(e){var t={};return e.forEach(function(e){var n=t[e]=new u(e);ko.components.register(e,{viewModel:{instance:n},template:c,synchronous:!0})}),t}function n(e){var t=document.querySelector(r.rootQuerySelector);l(t,'Root element "'+r.rootQuerySelector+'" not found.'),t.firstChild&&ko.removeNode(t.firstChild),t.innerHTML=e,ko.applyBindings({},t.firstChild)}var r,f,p;this.init=function(e){return e&&e.rootQuerySelector?(r=i.pick(e,"targets","rootQuerySelector"),i.defaults(r,{targets:[],rootQuerySelector:"body"}),f=t(r.targets),void(p=new s(o))):(a(this,["init"]),this.start=function(){console.warn("Layout is disabled, cannot start.")},void(this.instrumentation=function(){return{__name__:d,info:"This is disabled"}}))},this.start=function(){if(!p.isConfigured){var e=document.querySelector(r.rootQuerySelector);return l(e,'Root element "'+r.rootQuerySelector+'" not found.'),void ko.applyBindings({},e)}p.subscribe(function(e,t){t&&document.body.classList.remove(t.name),document.body.classList.add(e.name),n(e.template)}),p.start()},this.configureAdaptiveLayout=function(e){p.configure(e)},this.render=function(e,t,n){var r=f[e];l(i.isString(e),"Name of target must be provided."),l(i.isString(t),"Name of component must be provided."),l(!!r,'Target "'+e+'" has not been configured.'),l(ko.components.isRegistered(t),'Component "'+t+'" has not been registered.'),r.config({name:t,params:n||{}})},this.registerComponent=function(e,t,n){function r(e,t,n){ko.components.register(e,{viewModel:t,template:n,synchronous:!0})}l(i.isString(e),"name must be provided."),l(i.isFunction(t),"viewModel must be provided as a constructor function."),l(i.isString(n)||i.isFunction(n),"template must be provided as a string or a function."),i.isFunction(n)?p.subscribe(function(i){ko.components.isRegistered(e)&&ko.components.unregister(e),r(e,t,n(i))}):r(e,t,n)},this.registerComponentGear=function(t,n){n=n||{};var r=n.name||t,i=n.viewModel||e(t+"/view-model"),o=n.template||e(t+"/template");l(i,'"view-model.js" not found in gear folder.'),l(o,'"template.html" not found in gear folder.'),this.registerComponent(r,i,o)},this.onLayoutSwitch=function(e){return p.subscribe(e)},this.currentLayout=function(){return p.current()},this.previousLayout=function(){return p.previous()},this.instrumentation=function(){var e={__name__:d,isAdaptive:!!p.isConfigured,config:r,targets:f,renderTemplate:n};return p.isConfigured&&(e.layoutSwitcher=p),e}}var i=(e("utils/subscribable"),e("utils/x")),o=(e("utils/debug")("layout"),e("message-bus"),e("device-info")),a=e("utils/object-disabler"),s=e("./layout/layout-switcher"),u=e("./layout/target-view-model"),c="<!-- ko if: config --><!-- ko component: config --><!-- /ko --><!-- /ko -->",l=i.assert,d="Layout";n.exports=new r}),require.register("lifecycle-manager",function(e,t,n){function r(e,t,n){var o=t.concat(n);try{s.publish("sequence-starting","Starting lifecycle-manager sequence"),o.forEach(r.initGear),o.forEach(r.startGear),s.publish("sequence-complete","lifecycle-manager sequence complete")}catch(a){if(!e.silentErrors)throw a;i.publish("system-error",a)}}var i=e("message-bus"),o=e("utils/subscribable"),a=e("layout"),s=o.mixin({});r.subscribe=function(e,t){return s.subscribe(e,t)},r.initGear=function(t){var n=e(t.name);r.registerShutdown(n),s.publish("pre-init",t),r.gearInit(t,n),s.publish("post-init",t)},
r.startGear=function(t){var n=e(t.name);s.publish("pre-start",t),r.gearStart(t,n),s.publish("post-start",t),t.loaded=!0},r.gearInit=function(e,t){s.publish("init-component",e.name),t.init&&t.init(e.config),t.controllers&&t.controllers.forEach(function(t){t.init&&t.init(e.config);var n=t.component;n&&a.registerComponent(n.name,n.viewModel,n.template)});var n=t.component;n&&a.registerComponentGear(e.name,n)},r.gearStart=function(e,t){e.skipStart||(s.publish("start-component",e.name),t.start&&t.start(),t.controllers&&t.controllers.forEach(function(e){e.start&&e.start()}))},r.registerShutdown=function(e){function t(e){return"dispose"in e}(t(e)||e.controllers&&e.controllers.some(t))&&i.subscribe("system-shutdown",function(){e.controllers&&e.controllers.forEach(function(e){e.dispose&&e.dispose()}),e.dispose&&e.dispose()})},n.exports=r}),require.register("message-bus",function(e,t,n){"use strict";var r=e("utils/subscribable"),i={channel:r.mixin({}),subscribe:function(e,t){return this.channel&&this.channel.subscribe(e,t)},publish:function(e,t){var n={data:t,event:e};this.channel&&this.channel.publish(e,n)},subscribeOnce:function(e,t){if(this.channel){var n=this.channel.subscribe(e,t),r=n.callback;return n.callback=function(){r.apply(n,arguments),n.dispose.bind(n)()},n}}};i.instrumentation=function(){return{__this__:!0,__name__:"Message bus",subscriptions:i.channel._subscriptions.map(function(e){return e.event})}},n.exports=i}),require.register("repository",function(e,t,n){function r(){function e(e){return y[e]||p}function t(t,n){var r=e(t);if(!n[r])throw new Error("could not get id with idKey: "+r);return n[r]}function n(e,n,i){function o(n,r){d.async(i)(n,r),n||m.publish(e+"_"+t(e,r),{data:r,changeset:null})}function a(n,r){n?i(n):h.save(e,t(e,r),r,o)}r.hasProvider(e)?r.fetch(e,n,a):i(new Error('Missing network provider for "'+e+'"'))}var r,h,m,_,g=this,y={};this.init=function(e){e=e||{},y={},m=u.mixin({}),h=new o(d.pick(e,"maxRepositorySize")),r=new s(e),_=new l},this.setMaxConcurrentRequests=function(e){_.setMaxConcurrentRequests(e)},this.getMaxConcurrentRequests=function(){_.getMaxConcurrentRequests()},this.addNamespace=function(e,t){t=t||{},t.idKey&&(y[e]=t.idKey);var n=d.pick(t,"maxSize");d.defaults(n,{maxSize:0}),n.restorable=!!t.networkProvider,n.itemIsRemovable=function(e,t){return!!r.hasProvider(e)&&!r.hasNetworkSubscription(e,t)},h.addStorage(e,n),t.networkProvider&&r.add(e,t.networkProvider)},this.getMaxMemoryStorageSize=function(){h.getMaxMemoryStorageSize()},this.setMaxMemoryStorageSize=function(e){h.setMaxMemoryStorageSize(e)},this.getMaxPersistantStorageSize=function(){return h.getMaxPersistantStorageSize()},this.setMaxPersistantStorageSize=function(e){h.setMaxPersistantStorageSize(e)},this.instrumentation=function(){return{__name__:"Repository",__this__:!0,__description__:"A central data storage module for Cogwheels",network:r,channel:m,executionEngine:_,storageManager:h,idKeys:y}},this.get=function(e,t,n){function i(t,n){t?a(t):g.save(e,n,a)}function o(n,o){n?r.hasProvider(e)?r.fetch(e,t,i):a(n):a(null,o)}if("function"!=typeof n)throw new Error("Missing callback");if(void 0===t)throw new Error("Identifier is undefined");var a;_.addJob(e,t,{job:function(r){a=d.callAfter(n,r),h.getById(e,t,o)},info:"GET"})},this.query=function(t,n,r,i){if(void 0===n)throw new Error("Identifier is undefined");h.getById(t,n,function(n,o){if(n)return void i(n);try{var s=a.retriever(o,r,e(t))();i(null,s)}catch(u){i(u)}})},this.fetch=function(e,t,n){if(void 0===t)throw new Error("Identifier is undefined");var i,o=function(){r.fetch(e,t,function(t,n){t?i(t):g.save(e,n,i)})};_.addJob(e,t,{job:function(e){i=d.callAfter(n,e),o()},info:"FETCH"})},this.save=function(e,n,r){function i(n,i){d.async(r)(n,i),n||m.publish(e+"_"+t(e,i),{data:i,changeset:null})}r=r||f,h.save(e,t(e,n),n,i)},this.saveDiff=function(r,o,a){function s(e,n){d.async(a)(e,n),e||m.publish(r+"_"+t(r,n),{data:n,changeset:o&&o.changeset})}function u(u,l){if(u||!l)n(r,c,a);else if(o.versionTag-1!==l.versionTag)n(r,c,a);else{var d=i.createApplier(l,{idKey:e(r)});o.changeset.forEach(function(e){d(e)}),l.versionTag=o.versionTag,h.save(r,t(r,l),l,s)}}var c=o.entityId;a=a||f,h.getById(r,c,u)},this.subscribe=function(e,t,n){var i;if(!n)throw new Error("callback must be provided");if(void 0===t)throw new Error("Identifier is undefined");var o=function(){var e=Array.prototype.slice.call(arguments);n.apply(void 0,e)},a=function(n){function a(e,t,r){e?o(e):(t||r)&&s(t,r),n()}function s(t,n){n?g.saveDiff(e,n):g.save(e,t)}var u=e+"_"+t;i=m.subscribe(u,function(e){o(null,e.data,e.changeset)}),h.getById(e,t,function(i,u){if(u&&o(null,u),!r.hasProvider(e))return void n();if(r.increaseNetworkSubscription(e,t))return void n();var c=function(n){h.getById(e,t,function(e,t){n(t&&t.versionTag)})};r.subscribe(e,t,c,a,s)})};return _.addJob(e,t,{job:a,info:"SUBSCRIBE"}),{dispose:function(){o=f,_.addJob(e,t,{job:function(){i.dispose(),r.decreaseNetworkSubscription(e,t)},info:"DISPOSE"})}}},this.wait=function(e,t,n){_.wait.apply(null,arguments)},this.waitForMany=function(e,t){_.waitForMany(e,t)},this.waitForIdle=function(e,t){_.waitForIdle(e,t)},this.remove=function(e,t,n){n=n||f,h.remove(e,t,n)},this.link=function(t,n,r){return c(this,e(n),t,n,r)}}var i=e("repository/diff/object-applier"),o=e("repository/storage/storage-manager"),a=e("repository/diff/methods"),s=e("repository/network-provider"),u=e("utils/subscribable"),c=e("repository/linker"),l=e("repository/execution-engine/execution-engine"),d=e("utils/x"),f=d.noop,p="id";n.exports=new r}),require.register("router",function(e,t,n){function r(e,t){window.addEventListener?window.addEventListener(e,t,!1):window.attachEvent&&window.attachEvent("on"+e,t)}function i(e,t){window.removeEventListener?window.removeEventListener(e,t):window.detachEvent&&window.detachEvent(e,t)}var o=e("router/route"),a=e("router/context"),s=e("utils/object-disabler"),u=e("message-bus"),c=/^http/,l={activate:function(e){this.symbol=e.hashNavigationSymbol,this.config=e,this.firstTime=!0,this.boundfn=this.onhashchange.bind(this),r("hashchange",this.boundfn)},deactivate:function(){i("hashchange",this.boundfn)},onhashchange:function(e){e=e||{},e.newURL=e.newURL||location.hash;var t=e.newURL.indexOf(this.symbol),n=e.newURL.substring(t).replace(this.symbol,""),r=a.create(n,this.config.base,{});return p.dispatch(r)},dispatch:function(e){return this.firstTime?(this.firstTime=!1,this.onhashchange()):(window.location.hash=this.symbol+e.path,p.dispatch(e))}},d={activate:function(e){this.queryString=e.queryStringHistory,r("popstate",this.onpopstate)},deactivate:function(){i("popstate",this.onpopstate)},onpopstate:function(e){e.state&&p.dispatch(e.state)},dispatch:function(e){var t;return t=this.queryString?e.base+e.path:e.base+e.pathname,history.pushState(e,e.title,t),p.dispatch(e)}},f={activate:function(e){},deactivate:function(){},dispatch:function(e){return p.dispatch(e)}},p={init:function(e){return e.disabled?void s(this):(this.config=e||{},this.configure(),this.nav=this.createNavigationObject(),this.routes=[],void(this.statusHandlers={}))},createNavigationObject:function(){var e;return e=this.config.slave?f:this.config.pushStateEnabled?d:l,Object.create(e)},configure:function(){this.config.base=this.config.base||"",null==this.config.pushStateEnabled&&(this.config.pushStateEnabled=!0),this.config.hashNavigationSymbol=this.config.hashNavigationSymbol||"#"},start:function(){if(this.nav.activate(this.config),u.publish("router:started"),!this.config.noInitialRouting){var e=location.pathname+location.search+location.hash;this.navigate(e)}},stop:function(){this.nav.deactivate()},dispose:function(){this.stop(),this.routes=null,this.statusHandlers=null},removeRoute:function(e){var t=this.routes.indexOf(e);t!==-1&&this.routes.splice(t,1)},on:function(e,t){if(this.routes){var n=[].slice.call(arguments,1),r=new o(e,n);return r.setDisposeCallback(this.removeRoute.bind(this)),this.routes.push(r),r}},navigate:function(e){if(c.test(e))return void this.navigateExternal(e);u.publish("router:navigate",{url:e});var t=a.create(e,this.config.base,{});return this.nav.dispatch(t)},dispatch:function(e){if(u.publish("router:dispatch",{url:e.path}),null!=this.routes){e.unhandled=!0;for(var t,n=0;n<this.routes.length;n++)t=this.routes[n],t.match(e.path,e.params)&&(t.execute(e),e.unhandled=!1);return this.checkUnhandled(e),e}},checkUnhandled:function(e){e.unhandled&&(u.publish("router:404",e),this.statusHandlers[404]&&this.statusHandlers[404](e))},status:function(e,t){this.statusHandlers[e]=t},navigateExternal:function(e){u.publish("router:navigating-external",{url:e}),u.publish("system-shutdown",{reason:"navigating-external",url:e}),window.location.assign(e)}};p.instrumentation=function(){return{__name__:"Router",routers:p.routes,routerPaths:p.routes&&p.routes.map(function(e){return e.path}),config:p.config,statusHandlers:p.statusHandlers}},n.exports=p}),require.register("web-storage",function(e,t,n){"use strict";function r(e){return{store:function(t,n){e.set(t,n)},retrieve:function(t){return e.get(t)},remove:function(t){e.remove(t)},clear:function(){e.clear()}}}var i=e("web-storage/dom-storage"),o=e("web-storage/cookie"),a={memory:{retrieve:function(e){return this.storage&&this.storage[e]},store:function(e,t){this.storage||(this.storage={}),this.storage[e]=t},remove:function(e){this.storage&&delete this.storage[e]},clear:function(){this.storage={}}},session:r(i.session),local:r(i.local),cookie:{retrieve:function(e){return o.get(e)},store:function(e,t){var n=864e5,r=new Date(Date.now()+30*n);o.set(e,t,r)},remove:function(e){o.remove(e)},clear:function(){}}};t.init=function(){},t.dispose=function(){},t.store=function(e,t,n){a[e].store(t,n)},t.retrieve=function(e,t){return a[e].retrieve(t)},t.remove=function(e,t){a[e].remove(t)},t.clear=function(e){a[e].clear()},t.clearAll=function(){for(var e in a)a.hasOwnProperty(e)&&a[e].clear()},t.registerStrategy=function(e,t){a[e]=t}}),require.register("boot/bootstrap",function(e,t,n){"use strict";function r(t){var n=[{name:"device-info",prio:2,config:t.config["device-info"]||{}},{name:"router",prio:3,skipStart:!0,config:t.config.router||{}},{name:"layout-engine",prio:4,config:t.config["layout-engine"]||{}},{name:"layout",prio:5,config:t.config.layout||{}},{name:"repository",prio:6,config:t.config.repository||{}}],r=t.config["lifecycle-manager"]||{};i(r,n,t.gears),e("router").start()}var i=e("lifecycle-manager");n.exports=r}),require.register("layout/layout-switcher",function(e,t,n){function r(e){function t(e){return l.filter(e)[0]}function n(e){return t(function(t){return t.name=e})}function r(e){return t(function(t){return t.condition(e)})}function o(e){var t=r(e)||n(d);a(t,"Could not find default layout.");var i=!s||s.name!==t.name;i&&(u=s,s=t,f.publish("update",{current:s,previous:u}))}var s,u,c,l,d,f=i.mixin({});this.configure=function(e){a(!!e.layouts,"Layouts must be provided."),a(!!e["default"],"Default layout name must be provided."),c=e.dynamic||!1,d=e["default"],l=e.layouts.map(function(e){return{name:e.name,condition:e.condition,template:e.template.trim()}}),this.isConfigured=!0},this.start=function(){o(e.properties()),c&&e.subscribe(o)},this.current=function(){return s},this.previous=function(){return u},this.subscribe=function(e){f.subscribe("update",function(t){e(t.current,t.previous)})},this.instrumentation=function(){return{current:s,previous:u,channel:f}}}var i=e("utils/subscribable"),o=e("utils/x"),a=o.assert;n.exports=r}),require.register("layout/target-view-model",function(e,t,n){n.exports=function(e){this.name=e,this.config=ko.observable()}}),require.register("layout-engine/domify",function(e,t,n){"use strict";function r(e){if("string"!=typeof e)throw new TypeError("String expected");var t,n=/<([\w:]+)/.exec(e);if(!n)return document.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r)return t=document.createElement("html"),t.innerHTML=e,t.removeChild(t.lastChild);var o=i[r]||i._default,a=o[0],s=o[1],u=o[2];for(t=document.createElement("div"),t.innerHTML=s+e+u;a--;)t=t.lastChild;if(t.firstChild==t.lastChild)return t.removeChild(t.firstChild);for(var c=document.createDocumentFragment();t.firstChild;)c.appendChild(t.removeChild(t.firstChild));return c}n.exports=r;var i={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],i.option=i.optgroup=[1,'<select multiple="multiple">',"</select>"],i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","</table>"],i.text=i.circle=i.ellipse=i.line=i.path=i.polygon=i.polyline=i.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]}),require.register("layout-engine/region-handler",function(e,t,n){var r={setup:function(e,t){if(!e)throw new Error("missing root");this.setRoot(e)},update:function(e,t,n){var r=n||{};if(11===e.nodeType)throw new Error("Document fragments are not allowed!\nIf you are trying to render a template, make sure it has only one root node!");r.noBinding||(this.clearRegion(),ko.applyBindings(t,e),this.root.appendChild(e),this.previous={model:t,view:e})},clearRegion:function(){this.previous&&(ko.removeNode(this.previous.view),this.previous.model&&this.previous.model.dispose&&this.previous.model.dispose(),this.previous=null)},setRoot:function(e){this.root=e}};n.exports=r}),require.register("repository/linker",function(e,t,n){function r(e){var t=e.lastIndexOf("#");return[e.substring(0,t),e.substring(t+1,e.length)]}function i(e){return function(t){Array.isArray(t)?t.forEach(e):Object.keys(t).map(function(e){return t[e]}).forEach(e)}}function o(e,t){return function(n){return t(n)==e}}function a(e){return function(t){return t.type===e}}function s(e){return function(t){return!e(t)}}function u(e){return function(t){return t[e]}}function c(){var e=[].slice.call(arguments);return function(t){for(var n=t,r=e.length-1;r>=0;r--)n=e[r](n);return n}}function l(e,t){return e.reduce(function(e,n){return e[n[t]]||(e[n[t]]=[]),e[n[t]].push(n),e},{})}function d(e,t,n){for(var r=0;r<e.length;r++)if(n(e[r])==t)return e[r]}function f(e,t){if(e)throw new Error(t)}function p(e){this.__value=e}function h(e){return function(t,n){return f(!ko.isObservable(n),"Second parameter must be a Knockout observable"),f("push"in n,"Can not bind observable to observableArray"),f(e.observables[t],"Can not bind twice to the same selector"),e.observables[t]=n,b(e)}}function m(e){return function(t,n,r){return f(!(ko.isObservable(n)&&"push"in n),"Can only bind to observableArray"),f(e.observableArrays[t],"Can only bind to the same selector once"),r=r||{},!r.map&&r.attributes&&(r.map=function(e){var t={};return t.id=e.id,r.attributes.forEach(function(n){t[n]=e[n]}),t}),e.observableArrays[t]={array:n,filter:r.filter||function(){return!0},sort:r.sort||r.sorter,map:r.map||function(t){var n={};return n[e.idKey]=e.keyFn(t),n}},b(e)}}function _(e,t){return function(n){return L[n.type](e,t,n)}}function g(e,t){function n(n){try{return T.retriever(t,n,e.idKey)()}catch(r){return null}}function r(t){return p.of(function(){var r=n(t);r&&e.observables[t](r)})}function i(t){var r=e.observableArrays[t];return p.of(function(){var e=n(t);e&&r.array(e.filter(r.filter).map(r.map))})}function o(e,t){return Object.keys(e).map(t)}return o(e.observables,r).concat(o(e.observableArrays,i))}function y(e,t){return function(n,r,o){if(n)return t&&t(n);var d=[];if(o){var f=l(o.filter(a("added")),"key");d=d.concat(Object.keys(f).map(function(t){var n=f[t];if(e.observableArrays.hasOwnProperty(t)){var r=e.observableArrays[t],i=n.filter(c(r.filter,u("value")));return p.of(function(){var e=i.filter(function(e){return null===e.index||void 0===e.index});r.array.push.apply(r.array,e.map(c(r.map,u("value"))));var t=i.filter(function(e){return null!==e.index&&void 0!==e.index});t.forEach(function(e){r.array.splice(e.index,0,r.map(e.value))})})}return p.of(function(){})})),d=d.concat(o.filter(s(a("added"))).map(_(e,r)))}else r&&(d=g(e,r));d.forEach(function(e){e.run()});var h=i(function(e){e.sort&&e.array.sort(e.sort)});h(e.observableArrays),e.vm.update(r,o),t&&t(null,r,o)}}function v(e){return function(t){return f(e.isApplied,"Can only apply once"),e.isApplied=!0,e.disposables.push(e.repo.subscribe(e.namespace,e.identifier,y(e,t))),M(e)}}function b(e){return{observable:h(e),observableArray:m(e),apply:v(e)}}function M(e){return{dispose:function(){var t=i(function(e){(e.array?e.array:e)._isLinked=!1});t(e.observables),t(e.observableArrays),e.isApplied=!1,e.vm._isLinked=!1,e.disposables.forEach(function(e){e.dispose()})}}}function w(e,t,n,r,i){f(!e,"should pass repository"),f(!t,"missing key function"),f(!n,"Missing view model parameter to Linker (view model)"),f(!r,"Missing namespace parameter to Linker (namespace)"),f(void 0===i||null===i,"Missing identifier parameter to Linker (identifier)");var o={isApplied:!1,repo:e,vm:n,namespace:r,identifier:i,observables:{},observableArrays:{},disposables:[],idKey:t,keyFn:u(t||"id")},a=n.dispose||function(){};return n.dispose=c(a.bind(n),M(o).dispose),b(o)}var T=e("./diff/methods");p.prototype.map=function(e){return new p(c(e,this.__value))},p.prototype.run=function(e){return this.__value(e)},p.of=function(e){return new p(e)};var L={removed:function(e,t,n){return p.of(function(){var t=r(n.key);if(e.observableArrays.hasOwnProperty(t[0])){var i=e.observableArrays[t[0]].array;i.remove(o(t[1],e.keyFn))}})},changed:function(e,t,n){return p.of(function(){e.observables[n.key]&&e.observables[n.key](n.value);var i=r(n.key);if(e.observableArrays.hasOwnProperty(i[0])){var a=e.observableArrays[i[0]],s=i[1].split(".")[0],u=T.retriever(t,i[0]+"#"+s,e.idKey)();d(a.array(),s,e.keyFn)?a.filter(u)||a.array.remove(o(s,e.keyFn)):a.filter(u)&&a.array.push(a.map(u))}})}};n.exports=w}),require.register("repository/network-provider",function(e,t,n){function r(e){this.config=e,this.providers={},this.subscriptions={}}var i=e("./subscription-wrapper");r.prototype={add:function(e,t){if(!e)throw new Error("first parameter to network.add should be a namespace string");if(!t)throw new Error("second parameter to network.add should be a network provider");if(!t.fetch)throw new Error("second parameter provider is missing a fetch property");this.providers[e]=t},hasProvider:function(e){return!!this.providers[e]},fetch:function(e,t,n){var r=this.providers[e];return r?void r.fetch(t,n):void n(new Error("no network provider found for "+e))},subscribe:function(e,t,n,r,o){var a=e+"_"+t,s=this.subscriptions[a];s||(s=this.subscriptions[a]=new i);var u=this.providers[e];return u?s.subscription?void r(new Error("Subscription already present")):(s.subscription=u.subscribe(t,n,r,o),void s.increase()):void r(new Error("no network provider found for "+e))},hasNetworkSubscription:function(e,t){var n=e+"_"+t;return!!this.subscriptions[n]},increaseNetworkSubscription:function(e,t){var n=e+"_"+t,r=this.subscriptions[n];return!!r&&(r.increase(),!0)},decreaseNetworkSubscription:function(e,t){var n=e+"_"+t,r=this.subscriptions[n];r&&(r.decrease(),r.subscription||delete this.subscriptions[n])},instrumentation:function(){return{__this__:!0,__name__:"Network Provider"}}},n.exports=r}),require.register("repository/subscription-wrapper",function(e,t,n){function r(){this.count=0,this.subscription=null}r.prototype={decrease:function(){this.count--,this.count<=0&&this.dispose()},increase:function(){this.count++},dispose:function(){this.subscription&&this.subscription.dispose(),this.count=0,this.subscription=null}},n.exports=r}),require.register("router/context",function(e,t,n){"use strict";var r=e("./querystring"),i={init:function(e,t,n){this.base=t||"",this.path=e.replace(t,"")||"/",this.state=n||{},this.state.path=e,this.title=document.title,this.canonicalPath=e;var i=e.indexOf("?");this.querystring=~i?this.path.slice(i+1):"",this.pathname=~i?this.path.slice(0,i):this.path,this.params=[],this.queryObject=r.parse(this.querystring)}};t.create=function(e,t,n){var r=Object.create(i);return r.init(e,t,n),r}}),require.register("router/path-to-regexp",function(e,t,n){"use strict";function r(e,t,n){n=n||{};var r=n.sensitive,i=n.strict;return t=t||[],e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(i?"":"/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?(\*)?/g,function(e,n,r,i,o,a,s){return t.push({name:i,optional:!!a}),n=n||"",""+(a?"":n)+"(?:"+(a?n:"")+(r||"")+(o||r&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")+(s?"(/*)?":"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$",r?"":"i"))}n.exports=r}),require.register("router/querystring",function(e,t,n){"use strict";t.parse=function(e){if("string"!=typeof e)return{};if(e=e.trim(),""===e)return{};var t={},n=e.split("&");return n.forEach(function(e){var n=e.split("=");t[n[0]]=null==n[1]?"":decodeURIComponent(n[1])}),t},t.stringify=function(e){if(!e)return"";var t=[],n=Object.keys(e);return n.forEach(function(n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}),t.join("&")}}),require.register("router/route",function(e,t,n){"use strict";function r(e,t){this.path=e,this.keys=[],this.regexp=i(this.path,this.keys),this.middlewares=t}var i=e("./path-to-regexp");r.prototype={setDisposeCallback:function(e){this.disposeCallback=e},dispose:function(){this.disposeCallback&&this.disposeCallback(this)},execute:function(e){function t(){i+=1,n=r.middlewares[i],n&&n(e,t,r.path)}if(this.middlewares&&0!==this.middlewares.length){var n,r=this,i=0;n=this.middlewares[0],n(e,t,r.path)}},match:function(e,t){var n=e.indexOf("?"),r=~n?e.slice(0,n):e,i=this.regexp.exec(r),o=this.keys,a=[];if(!i)return!1;for(var s=1,u=i.length;s<u;++s){var c=o[s-1],l="string"==typeof i[s]?decodeURIComponent(i[s]):i[s];c?t[c.name]=void 0!==t[c.name]?t[c.name]:l:t.push(l),a.push(l)}return t.args=a,!0}},n.exports=r}),require.register("utils/debug",function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+u.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n),e}function o(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(t){}}function s(){var e;try{e=localStorage.debug}catch(t){}return e}var u=n.exports=e("./debug/debug");u.log=o,u.formatArgs=i,u.save=a,u.load=s,u.useColors=r,u.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],u.formatters.j=function(e){return JSON.stringify(e)},u.enable(s())}),require.register("utils/extend",function(e,t,n){"use strict";var r=e("utils/x").extend;n.exports=function(){return r.apply(this,arguments)}}),require.register("utils/ms",function(e,t,n){function r(e){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,l,"day")||a(e,c,"hour")||a(e,u,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,u=60*s,c=60*u,l=24*c,d=365.25*l;n.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):i(e)}}),require.register("utils/object-disabler",function(e,t,n){function r(e){return function(t){return"function"==typeof e[t]}}function i(e){return function(t){return e.indexOf(t)<0}}function o(e,t){var n=[];t=t||[],e.__disabled||(Object.keys(e).filter(r(e)).filter(i(t)).forEach(function(t){n.push({name:t,fn:e[t]}),e[t]=function(){return console.warn("Object disabled, tried calling "+t,arguments),!1}}),e.restore=function(){n.forEach(function(t){e[t.name]=t.fn}),delete e.restore,e.__disabled=!1},e.__disabled=!0)}n.exports=o}),require.register("utils/request",function(e,t,n){"use strict";function r(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(){if(!g.XMLHttpRequest)throw new Error("request not supported on target device");return new XMLHttpRequest}function o(e){return e===Object(e)}function a(e){if(!o(e))return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){for(var t,n,r={},i=e.split("&"),o=0,a=i.length;o<a;++o)n=i[o],t=n.split("="),r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return r}function u(e){var t,n,r,i,o=e.split(/\r?\n/),a={};o.pop();for(var s=0,u=o.length;s<u;++s)n=o[s],t=n.indexOf(":"),r=n.slice(0,t).toLowerCase(),i=y(n.slice(t+1)),a[r]=i;return a}function c(e){return e.split(/ *; */).shift()}function l(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})}function d(e,t){this.options=t||{},this.req=e,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body=this.parseBody(this.text),this.uuid=h()}function f(e,t){this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.uuid=h(),m.mixin(this);var n=this.subscribe("end",function(t){if(t.request.uuid===this.uuid){var r=new d(this,{});"HEAD"==e&&(r.text=null),this.callback(null,r),n.dispose()}}.bind(this))}function p(e,t){return"function"==typeof t?new f("GET",e).end(t):1==arguments.length?new f("GET",e):new f(e,t)}var h=e("./uuid"),m=e("./subscribable"),_=e("utils/x").noop,g="undefined"==typeof window?this:window,y="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};p.serializeObject=a,p.parseString=s,p.types={html:"text/html",json:"application/json",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},p.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},p.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},d.prototype.get=function(e){return this.header[e.toLowerCase()]},d.prototype.setHeaderProperties=function(e){this.header=e;var t=this.header["content-type"]||"";this.type=c(t);var n=l(t);for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r])},d.prototype.parseBody=function(e){var t=p.parse[this.type];return t?t(e):null},d.prototype.setStatusProperties=function(e){var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e||1223==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},d.prototype.toError=function(){var e=this.req,t=e.method,n=e.path,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.path=n,i},p.Response=d,f.prototype.timeout=function(e){return this._timeout=e,this},f.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},f.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.publish("abort",{request:this}),this},f.prototype.set=function(e,t){if(o(e)){for(var n in e)e.hasOwnProperty(n)&&this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},f.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},f.prototype.type=function(e){return this.set("Content-Type",p.types[e]||e),this},f.prototype.auth=function(e,t){var n=btoa(e+":"+t);return this.set("Authorization","Basic "+n),this},f.prototype.query=function(e){return"string"!=typeof e&&(e=a(e)),e&&this._query.push(e),this},f.prototype.send=function(e){var t=o(e),n=this.getHeader("Content-Type");if(t&&o(this._data))for(var r in e)e.hasOwnProperty(r)&&(this._data[r]=e[r]);else"string"==typeof e?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return t?(n||this.type("json"),this):this},f.prototype.callback=function(e,t){var n=this._callback;return 2==n.length?n(e,t):e?this.publish("error",{request:this,error:e}):void n(t)},f.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},f.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},f.prototype.withCredentials=function(){return this._withCredentials=!0,this},f.prototype.end=function(e){var t=this,n=this.xhr=i(),o=this._query.join("&"),a=this._timeout,s=this._data;if(this._callback=e||_,n.onreadystatechange=function(){if(4==n.readyState)return 0===n.status?t.aborted?t.timeoutError():t.crossDomainError():void t.publish("end",{request:t})},n.upload&&(n.upload.onprogress=function(e){e.percent=e.loaded/e.total*100,t.publish("progress",{request:t,progress:e})}),a&&!this._timer&&(this._timer=setTimeout(function(){t.abort()},a)),o&&(o=p.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!r(s)){var u=p.serialize[this.getHeader("Content-Type")];u&&(s=u(s))}for(var c in this.header)if(this.header.hasOwnProperty(c)){if(null==this.header[c])continue;n.setRequestHeader(c,this.header[c])}return n.send(s),this},p.Request=f,p.get=function(e,t,n){var r=p("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},p.head=function(e,t,n){var r=p("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},p.del=function(e,t){var n=p("DELETE",e);return t&&n.end(t),n},p.patch=function(e,t,n){var r=p("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},p.post=function(e,t,n){var r=p("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},p.put=function(e,t,n){var r=p("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},n.exports=p}),require.register("utils/script-loader",function(e,t,n){"use strict";var r={};t.scripts=r,t.load=function(e,t){function n(i){a.removeEventListener("load",n,!1),r[e]="loaded",t(null,a)}function i(n){var i=new Error("Could not load elem src="+e);r[e]="error",t(i)}var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.src=e,a.async=1,a.addEventListener?(a.addEventListener("load",n,!1),a.addEventListener("error",i)):a.attachEvent&&(a.attachEvent("onload",n),a.attachEvent("error",i)),r[e]="loading",o.insertBefore(a,o.lastChild)}}),require.register("utils/subscribable",function(e,t,n){"use strict";function r(e,t){
var n=i.call(this,e,t);return this._subscriptions.push(n),n}function i(e,t){var n={event:new RegExp(e),callback:t,dispose:function(){var e=this._subscriptions.indexOf(n);e>=0&&this._subscriptions.splice(e,1),n.isDisposed=!0}.bind(this)};return n}function o(e,t){var n=function(t){return e.match(t.event)},r=function(e){e.isDisposed||e.callback(t)};this._subscriptions.filter(n).forEach(r)}t.mixin=function(e){return e._subscriptions=[],e.subscribe=r,e.publish=o,e}}),require.register("utils/url",function(e,t,n){"use strict";var r=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");t.parse=function(e){var t;return t=e.match(r),{scheme:t[1],user_info:t[2],domain:t[3],port:t[4],path:t[5],querystring:t[6],fragment:t[7]}}}),require.register("utils/uuid",function(e,t,n){"use strict";var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");n.exports=function(){var e,t,n=new Array(36),i=0;for(t=0;t<36;t++)8===t||13===t||18===t||23===t?n[t]="-":14===t?n[t]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),e=15&i,i>>=4,n[t]=r[19===t?3&e|8:e]);return n.join("")}}),require.register("utils/x",function(e,t,n){function r(e){return!!e&&"object"==typeof e}var i={};i.deepEqual=e("./deep-equal/deep-equal"),i.callBefore=function(e,t){return function(){try{t&&t()}finally{e&&e.apply(void 0,arguments)}}},i.callAfter=function(e,t){return function(){try{e&&e.apply(void 0,arguments)}finally{t&&t()}}},i.noop=function(){},i.once=function(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}},i.after=function(e,t){return function(){if(e-=1,e<=0)return t.apply(this,arguments)}},i.async=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},0)}},i.throttle=function(e,t,n){t=t||100;var r,i;return function(){var o=n||this,a=Date.now(),s=arguments;r&&a<r+t?(i&&clearTimeout(i),i=setTimeout(function(){r=a,e.apply(o,s)},t)):(r=a,e.apply(o,s))}},i.debounce=function(e,t,n){var r;return t=t||100,function(){function i(){e.apply(o,a),r=null}var o=n||this,a=arguments;r&&clearTimeout(r),r=setTimeout(i,t)}},i.clone=function(e){return i.isObject(e)?Array.isArray(e)?e.slice():o({},e):e};var o=i.extend=function(e){var t=[].slice.call(arguments,1);return t.forEach(function(t){if(t)for(var n in t)e[n]=t[n]}),e};i.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},i.pick=function(e){if(!i.isObject(e))return{};var t={},n=[].slice.call(arguments,1);return n.forEach(function(n){n in e&&(t[n]=e[n])}),t},i.defaults=function(e){if(!i.isObject(e))return e;var t=[].slice.call(arguments,1);return t.forEach(function(t){i.isObject(t)&&Object.keys(t).forEach(function(n){n in e||(e[n]=t[n])})}),e};var a=Object.prototype.toString;i.isFunction=function(e){return!!e&&"[object Function]"===a.call(e)},i.isString=function(e){return"string"==typeof e||r(e)&&"[object String]"==a.call(e)},i.assert=function(e,t){if(!e)throw new Error(t)},n.exports=i}),require.register("web-storage/cookie",function(e,t,n){var r={get:function(e){return!!e&&(decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||!1)},set:function(e,t,n,r,i,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(i?"; domain="+i:"")+(o?"; path="+o:"")+(r?"; secure":""),!0},remove:function(e,t,n){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(n?"; path="+n:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}};n.exports=r}),require.register("web-storage/dom-storage",function(e,t,n){"use strict";function r(e){return JSON.stringify(e)}function i(e){if(null!=e)return JSON.parse(e)}var o=window,a={set:function(e,t){this.storage.setItem(e,r(t))},get:function(e){return i(this.storage.getItem(e))},remove:function(e){this.storage.removeItem(e)},clear:function(){this.storage.clear()},supported:function(){return!!this.storage}},s=Object.create(a);s.storage=o.sessionStorage;var u=Object.create(a);u.storage=o.localStorage,t.session=s,t.local=u}),require.register("repository/diff/methods",function(e,t,n){function r(e,t,n){var r=d(t),i=e[r.field];if(Array.isArray(i))c(i,n,r.id);else{if(!m.isObject(i)||!i.hasOwnProperty(r.id))throw new Error("Property "+r.id+" does not exist on object ("+n+")");delete i[r.id]}}function i(e,t,n){var r=e[t];if(!r)throw new Error("Unsupported changeset diff");if(Array.isArray(r)&&n){for(var i=0;i<r.length;i+=1)if(m.deepEqual(n,r[i])){r.splice(i,1);break}}else delete e[t]}function o(e,t){return e.filter(t)}function a(e){return e[0]}function s(e,t){return function(n){return n[e]==t}}function u(e,t,n){return a(o(e,s(t,n)))}function c(e,t,n){function r(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}var i=a(o(e,s(t,n)));r(e,i)}function l(e){return e.indexOf(p)>=0}function d(e){var t=e.split(p);return{field:t[0],id:t[1]}}function f(e,t,n,r){return n.split(h).reduce(function(e,n,i,o){if(i===o.length-1)return r(e,n);if(l(n)){var a=d(n);return u(e[a.field],t,a.id)}return e[n]},e)}var p="#",h=".",m=e("utils/x"),_=e("utils/debug")("cogwheels.repository.diff");t.updater=function(e,t,n){return f(e,n,t,function(e,n){return function(r){return e?e[n]=r:(_("WARN: obj is null for fullKey: "+t),r)}})},t.retriever=function(e,t,n){return f(e,n,t,function(e,t){return function(){if(l(t)){var r=d(t);return u(e[r.field],n,r.id)}return e[t]}})},t.remover=function(e,t,n){return f(e,n,t,function(e,o){if(!e||!m.isObject(e)||Array.isArray(e))throw new Error("Unsupported changeset diff ("+t+", "+n+")");return function(t){l(o)?r(e,o,n):i(e,o,t)}})},t.adder=function(e,t,n){return f(e,n,t,function(e,t){return function(n,r){var i=e[t];if(Array.isArray(i))null===r||void 0===r?i.push(n):i.splice(r,0,n);else if(l(t)){var o=d(t),a=e[o.field];if(!m.isObject(a)||a.hasOwnProperty(o.id))throw new Error("Cannot add a property that already exists. Changeset should be of type modified.");a[o.id]=n}else{if(e.hasOwnProperty(t)&&null!=e[t])throw new Error("Cannot add a property that already exists. Changeset should be of type modified."+e+","+t);e[t]=n}}})}}),require.register("repository/diff/object-applier",function(e,t,n){var r=e("./methods");t.createApplier=function(e,t){if(!t||!t.idKey)throw new Error("Missing second parameter config with idKey property");var n=t.idKey;return function(t){"changed"===t.type?r.updater(e,t.key,n)(t.value):"removed"===t.type?r.remover(e,t.key,n)(t.value):"added"===t.type&&r.adder(e,t.key,n)(t.value,t.index)}}}),require.register("repository/execution-engine/execution-engine",function(e,t,n){function r(){var e,t=this,n=l,r=[],i=0,o=0;this.setMaxConcurrentRequests=function(e){n=e},this.getMaxConcurrentRequests=function(){return n},this.increase=function(){i+=1},this.decrease=function(){if(i-=1,r.length>0&&!e()){var t=r.shift();a("PENDING JOBS QUEUE - dequeue: "+t.jobDescription),t.execute()}},this.isFull=e=function(){return n>0&&i>=n},this.enqueue=function(e){r.push(e),r.length>o&&(o=r.length),a("PENDING JOBS QUEUE - enqueue: "+e.jobDescription)},this.instrumentation=function(){return{__name__:"Pending Jobs",__description__:"A module inside the Cogheels execution engine to handle max number of concurrent requests",__this__:!0,getQueueSize:function(){return r.length},getMaxConcurrentRequests:t.getMaxConcurrentRequests,reset:function(){o=0},getQueueLengthPeek:function(){return o}}}}function i(){var e=0;u.mixin(this),this.increase=function(){e+=1},this.decrease=function(){e-=1,0===e&&this.publish("idle")},this.isEmpty=function(){return 0===e},this.instrumentation=function(){return{__name__:"Queued Jobs",__description__:"A module inside the Cogwheels execution engine to prevent concurrent requests on same namespace/id",getCount:function(){return e}}}}function o(){function e(e,t){v[e]||(v[e]={}),v[e][t]||(v[e][t]=new s(e,t,g,y,a))}function t(t,n,r){e(t,n);var i=h(r);v[t][n].enqueue(i)}function n(e,t){var n=l(e);u(n,t)}function o(e){var t=p();u(t,e)}function u(e,t){var n=e.length;if(0===n)return void t();var r=c.after(n,t);e.forEach(function(e){var t=h(r);e.enqueue(t)})}function l(e){var t=v[e],n=[];return t?(Object.keys(t).forEach(function(e){var r=t[e];r&&!r.isEmpty()&&n.push(r)}),n):n}function p(){var e=[];return Object.keys(v).forEach(function(t){e=e.concat(l(t))}),e}function h(e){if(f+=1,!e)throw new Error("callback missing");var t={job:e,jobNumber:f};return t.toString=function(){return"WAIT "+this.jobNumber},t}var m,_,g=new r,y=new i,v={};this.setMaxConcurrentRequests=function(e){g.setMaxConcurrentRequests(e)},this.addJob=function(t,n,r){d+=1,r.job.length>0&&(r.async=!0),r.jobNumber=d,r.toString=function(){return"JOB "+this.jobNumber+" : "+this.info+" ("+t+":"+n+")"},e(t,n),v[t][n].enqueue(r)},this.wait=m=function(e,r,i){if(arguments.length>=3)t(e,r,i);else if(2===arguments.length)i=r,n(e,i);else{if(i=e,!i)throw new Error("Missing callback");o(i)}},this.waitForMany=function(e,r){var i=[],o=[];if(!r)throw new Error("Missing callback");if(0===e.length)return void setTimeout(r,0);e.forEach(function(e){if(!e.namespace)throw new Error("Missing namespace property");e.identifier?o.push(e):i.push(e)});var a=c.after(e.length,r);i.forEach(function(e){n(e.namespace,a)}),o.forEach(function(e){t(e.namespace,e.identifier,a)})},this.waitForIdle=_=function(e,t){t=t||0;var n=function(){var n=d;r.dispose(),setTimeout(function(){d===n?e():_(e,t)},t)},r=y.subscribe("idle",n);y.isEmpty()&&n()},this.instrumentation=function(){var e={__name__:"Execution Engine",__description__:"A module in Cogwheels to run/queue requests",__this__:!0};return e.getQueueMap=function(){return v},e.getPendingJobs=function(){return g},e.getQueuedJobs=function(){return y},e.getNonEmptyQueuesOnNamespace=l,e.getAllNonEmptyQueues=p,e.getNbrOfQueuedJobs=function(){return p().map(function(e){return e.instrumentation().size}).reduce(function(e,t){return e+t},0)},e.getNbrOfQueuedJobsWithoutWait=function(){return p().map(function(e){return e.instrumentation().getSizeWithoutWaitJobs()}).reduce(function(e,t){return e+t},0)},e}}var a=e("utils/debug")("cogwheels:repository:execution-engine"),s=e("./job-queue"),u=e("utils/subscribable"),c=e("utils/x"),l=5,d=0,f=0;n.exports=o}),require.register("repository/execution-engine/job-queue",function(e,t,n){function r(e,t,n,r,o){function a(){if(0!==c.length){var e=c[0],t=e.job;if(e.async){if(n.isFull())return void n.enqueue({execute:a,jobDescription:e});o("QUEUE -   execute async: "+e),n.increase(),t(i.once(s))}else o("QUEUE -   execute: "+e),n.increase(),t(),s()}}function s(){if(0!==c.length){var e=c.shift();o("QUEUE -     done: "+e),n.decrease(),r.decrease(),a()}}var u,c=[];this.namespace=e,this.identifier=t,this.enqueue=function(e){var t=u();o("QUEUE - queue: "+e),c.push(e),r.increase(),t&&a()},this.isEmpty=u=function(){return 0===c.length},this.instrumentation=function(){return{size:c.length,queue:c,getSizeWithoutWaitJobs:function(){return c.filter(function(e){return!e.toString().match(/^WAIT /)}).length}}}}var i=e("utils/x");n.exports=r}),require.register("repository/storage/garbage-collector",function(e,t,n){function r(e,t){this.strategy=e,this.sizeToRemove=t,this.removedItems=[],this.removedSize=0}function i(e,t){return e.lastTouched-t.lastTouched}function o(e){e=i,this.gc=function(t,n){s("START");var i=new r(e,n);i.removeBasedOnStrategy(t),i.sizeToRemove&&i.removedSize<i.sizeToRemove&&(i.error=new Error("Could not free required size: "+i.sizeToRemove));var o=a.pick(i,"removedItems","removedSize","error");return s("FINISHED"+(i.error?" (with error): ":": "),o),o}}var a=e("utils/x"),s=e("utils/debug")("cogwheels:repository:gc");r.prototype.removeBasedOnStrategy=function(e){for(this.sizeToRemove&&e.sort(this.strategy);e.length>0&&(!this.sizeToRemove||this.removedSize<this.sizeToRemove);)this.remove(e.shift())},r.prototype.remove=function(e){e.remove()&&(this.removedSize+=e.size,this.removedItems.push(a.pick(e,"namespace","identifier","size")))},n.exports=o}),require.register("repository/storage/storage-item",function(e,t,n){function r(e){try{this.data=JSON.stringify(e)}catch(t){throw i("ERROR: could not stringify object",e),t}this.lastTouched=Date.now()}var i=e("utils/debug")("repository:storage:item");r.prototype.touch=function(){this.lastTouched=Date.now()},r.prototype.getSize=function(){return 2*this.data.length},r.prototype.getObject=function(){var e;try{e=JSON.parse(this.data)}catch(t){throw i("ERROR: could not parse string: "+this.data),t}return e},n.exports=r}),require.register("repository/storage/storage-manager",function(e,t,n){function r(e){function t(e){var t=l-c;if(l>0&&e>t){var n=[];Object.keys(u).forEach(function(e){n=n.concat(u[e].getMemoryStorageGCList())});var r=d.gc(n);if(c-=r.removedSize,r.error)return r.error;if(t=l-c,e>t)return new Error("Could not free enough space ("+e+")")}}function n(e,t){var n=e.maxSize-e.storageSize;if(e.maxSize>0&&t>n){if(!e.restorable)return r(e.namespace);var i=d.gc(e.getMemoryStorageGCList());if(c-=i.removedSize,i.error)return i.error;if(n=e.maxSize-e.storageSize,t>n)return r(e.namespace)}}function r(e){return new Error("Memory storage full: "+e)}function s(e){if(e in u)return u[e];throw new Error("storage does not exist: "+e)}var u={},c=0,l=0,d=new a;"maxRepositorySize"in e&&(l=e.maxRepositorySize),this.addStorage=function(e,t){u[e]=new i(e,t)},this.getById=function(e,t,n){var r=s(e),i=r.get(t);i.error?n(i.error):n(null,i.item.getObject())},this.getAll=function(e,t){var n=s(e),r=n.getAll().map(function(e){return e.getObject()});t(null,r)},this.save=function(e,r,i,a){var u=s(e),l=new o(i),d=l.getSize(),f=n(u,d);f=f||t(d),f&&a(f);var p=u.storageSize;f=u.save(r,l),c+=u.storageSize-p,f?a(f):a(null,i)},this.remove=function(e,t,n){var r=s(e),i=r.storageSize,o=r.remove(t);c+=r.storageSize-i,o.error?n(o.error):n(null,o.item.getObject())},this.instrumentation=function(){return{__name__:"Storage Manager",__this__:!0,repositorySize:c,storages:u,garbageCollector:d,memorySummary:{instrumentation:function(){var e={__name__:"Memory Summary"};return Object.keys(u).forEach(function(t){var n,r=u[t].storageSize;r>1e9?n=Math.round(r/1e9)+" G":r>1e6?n=Math.round(r/1e6)+" M":r>1e3&&(n=Math.round(r/1e3)+" K");var i="Garbage collect "+t+" "+r;n&&(i+=" ("+n+")"),e[i]=function(){var e=d.gc(u[t].getMemoryStorageGCList());c-=e.removedSize}}),e}},garbageCollect:function(){var e=[];Object.keys(u).forEach(function(t){e=e.concat(u[t].getMemoryStorageGCList())});var t=d.gc(e);c-=t.removedSize}}}}var i=e("./storage"),o=e("./storage-item"),a=(e("utils/x"),e("./garbage-collector"));n.exports=r}),require.register("repository/storage/storage",function(e,t,n){function r(e,t){this.namespace=e,this.itemIsRemovable=t.itemIsRemovable,this.maxSize=t.maxSize||0,this.restorable=t.restorable||!1,this.collection={},this.storageSize=0}function i(e){var t=this.collection[e],n=0;return t&&(delete this.collection[e],n=t.getSize(),this.storageSize-=n),{item:t,size:n}}var o=e("utils/x");e("./storage-item");r.prototype.get=function(e){var t={};return t.item=this.collection[e],t.item?t.item.touch():t.error=new Error("object not found"),t},r.prototype.getAll=function(){var e=this.collection,t=Object.keys(e).map(function(t){var n=e[t];return n.touch(),n});return t},r.prototype.save=function(e,t){i.call(this,e),this.collection[e]=t,this.storageSize+=t.getSize()},r.prototype.remove=function(e){var t=i.call(this,e);return t.item?t:{error:new Error("object not found")}},r.prototype.instrumentation=function(){var e=this;return{__name__:e.namespace,storageSize:this.storageSize,maxSize:this.maxSize,restorable:this.restorable,collection:this.collection,getRemovables:function(){var t={};return Object.keys(e.collection).forEach(function(n){e.collection[n];t[n]=e.itemIsRemovable(e.namespace,n)}),t}}},r.prototype.getMemoryStorageGCList=function(){var e=this;return this.restorable?Object.keys(e.collection).map(function(t){var n=e.collection[t];return o.extend(o.pick(n,"lastTouched"),{size:n.getSize(),namespace:e.namespace,identifier:t,remove:function(){return!!e.itemIsRemovable(this.namespace,this.identifier)&&(i.call(e,t),!0)}})}):[]},n.exports=r}),require.register("utils/debug/debug",function(e,t,n){function r(){return c.colors[d++%c.colors.length]}function i(e){function t(){}function n(){var e=n,t=+new Date,i=t-(l||t);e.diff=i,e.prev=l,e.curr=t,l=t,null==e.useColors&&(e.useColors=c.useColors()),null==e.color&&e.useColors&&(e.color=r());var o=Array.prototype.slice.call(arguments);o[0]=c.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var a=0;o[0]=o[0].replace(/%([a-z%])/g,function(t,n){if("%%"===t)return t;a++;var r=c.formatters[n];if("function"==typeof r){var i=o[a];t=r.call(e,i),o.splice(a,1),a--}return t}),"function"==typeof c.formatArgs&&(o=c.formatArgs.apply(e,o));var s=n.log||c.log||console.log.bind(console);s.apply(e,o)}t.enabled=!1,n.enabled=!0;var i=c.enabled(e)?n:t;return i.namespace=e,i}function o(e){for(var t=(e||"").split(/[\s,]+/),n=t.length,r=0;r<n;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),"-"===e[0]?c.skips.push(new RegExp("^"+e.substr(1)+"$")):c.names.push(new RegExp("^"+e+"$")))}function a(){c.names=[],c.skips=[],c.enable("")}function s(e){var t,n;for(t=0,n=c.skips.length;t<n;t++)if(c.skips[t].test(e))return!1;for(t=0,n=c.names.length;t<n;t++)if(c.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}var c=n.exports=i;c.coerce=u,c.disable=a,c.enable=o,c.enabled=s,c.humanize=e("../ms"),c.names=[],c.skips=[],c.formatters={};var l,d=0}),require.register("utils/deep-equal/deep-equal",function(e,t,n){function r(e){return null===e||void 0===e}function i(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function o(e,t,n){var o,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return!!s(t)&&(e=a.call(e),t=a.call(t),u(e,t,n));if(i(e)){if(!i(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}var l,d;try{l=Object.keys(e),d=Object.keys(t)}catch(f){return!1}if(l.length!=d.length)return!1;for(l.sort(),d.sort(),o=l.length-1;o>=0;o--)if(l[o]!=d[o])return!1;for(o=l.length-1;o>=0;o--)if(c=l[o],!u(e[c],t[c],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=e("./lib/is-arguments"),u=n.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}}),require.register("utils/deep-equal/lib/is-arguments",function(e,t,n){function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();n.exports=o?r:i}),window.cogwheels=require("cogwheels"),function(){var e=!0;!function(t){var n=this||(0,eval)("this"),r=n.document,i=n.navigator,o=n.jQuery,a=n.JSON;!function(e){"function"==typeof define&&define.amd?define(["exports","require"],e):e("function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports||exports:n.ko={})}(function(s,u){function c(e,t){var n=null===e||typeof e in _;return!!n&&e===t}function l(e,n){var r;return function(){r||(r=setTimeout(function(){r=t,e()},n))}}function d(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function f(e){var t=this;return e&&m.utils.objectForEach(e,function(e,n){var r=m.extenders[e];"function"==typeof r&&(t=r(t,n)||t)}),t}function p(e){m.bindingHandlers[e]={init:function(t,n,r,i,o){var a=function(){var t={};return t[e]=n(),t};return m.bindingHandlers.event.init.call(this,t,a,r,i,o)}}}function h(e,t,n,r){m.bindingHandlers[e]={init:function(e,i,o,a,s){var u,c;return m.computed(function(){var o=m.utils.unwrapObservable(i()),a=!n!=!o,l=!c,d=l||t||a!==u;d&&(l&&m.computedContext.getDependenciesCount()&&(c=m.utils.cloneNodes(m.virtualElements.childNodes(e),!0)),a?(l||m.virtualElements.setDomNodeChildren(e,m.utils.cloneNodes(c)),m.applyBindingsToDescendants(r?r(s,o):s,e)):m.virtualElements.emptyNode(e),u=a)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},m.expressionRewriting.bindingRewriteValidators[e]=!1,m.virtualElements.allowedBindings[e]=!0}var m="undefined"!=typeof s?s:{};m.exportSymbol=function(e,t){for(var n=e.split("."),r=m,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=t},m.exportProperty=function(e,t,n){e[t]=n},m.version="3.3.0",m.exportSymbol("version",m.version),m.utils=function(){function e(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function s(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function u(e,t){return e.__proto__=t,e}function c(e,t){if("input"!==m.utils.tagNameLower(e)||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}function l(e,t,n){var r;t&&("object"==typeof e.classList?(r=e.classList[n?"add":"remove"],m.utils.arrayForEach(t.match(M),function(t){r.call(e.classList,t)})):"string"==typeof e.className.baseVal?d(e.className,"baseVal",t,n):d(e,"className",t,n))}function d(e,t,n,r){var i=e[t].match(M)||[];m.utils.arrayForEach(n.match(M),function(e){m.utils.addOrRemoveItem(i,e,r)}),e[t]=i.join(" ")}var f={__proto__:[]}instanceof Array,p={},h={},_=i&&/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents";p[_]=["keyup","keydown","keypress"],p.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],e(p,function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)h[t[n]]=e});var g={propertychange:!0},y=r&&function(){for(var e=3,n=r.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",i[0];);return e>4?e:t}(),v=6===y,b=7===y,M=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},arrayIndexOf:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r))return e[r];return null},arrayRemoveItem:function(e,t){var n=m.utils.arrayIndexOf(e,t);n>0?e.splice(n,1):0===n&&e.shift()},arrayGetDistinctValues:function(e){e=e||[];for(var t=[],n=0,r=e.length;n<r;n++)m.utils.arrayIndexOf(t,e[n])<0&&t.push(e[n]);return t},arrayMap:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)n.push(t(e[r],r));return n},arrayFilter:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)t(e[r],r)&&n.push(e[r]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,n){var r=m.utils.arrayIndexOf(m.utils.peekObservable(e),t);r<0?n&&e.push(t):n||e.splice(r,1)},canSetPrototype:f,extend:s,setPrototypeOf:u,setPrototypeOfOrExtend:f?u:s,objectForEach:e,objectMap:function(e,t){if(!e)return e;var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r,e));return n},emptyDomNode:function(e){for(;e.firstChild;)m.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var t=m.utils.makeArray(e),n=t[0]&&t[0].ownerDocument||r,i=n.createElement("div"),o=0,a=t.length;o<a;o++)i.appendChild(m.cleanNode(t[o]));return i},cloneNodes:function(e,t){for(var n=0,r=e.length,i=[];n<r;n++){var o=e[n].cloneNode(!0);i.push(t?m.cleanNode(o):o)}return i},setDomNodeChildren:function(e,t){if(m.utils.emptyDomNode(e),t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(n.length>0){for(var r=n[0],i=r.parentNode,o=0,a=t.length;o<a;o++)i.insertBefore(t[o],r);for(var o=0,a=n.length;o<a;o++)m.removeNode(n[o])}},fixUpContinuousNodeArray:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);if(e.length>1){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)if(e.push(n),n=n.nextSibling,!n)return;e.push(r)}}return e},setOptionNodeSelectionState:function(e,t){y<7?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return m.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!m.utils.arrayFirst(e,m.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},registerEventHandler:function(e,t,n){var r=y&&g[t];if(!r&&o)o(e).bind(t,n);else if(r||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var i=function(t){n.call(e,t)},a="on"+t;e.attachEvent(a,i),m.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(a,i)})}else e.addEventListener(t,n,!1)},triggerEvent:function(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var i=c(e,t);if(o&&!i)o(e).trigger(t);else if("function"==typeof r.createEvent){if("function"!=typeof e.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var a=h[t]||"HTMLEvents",s=r.createEvent(a);s.initEvent(t,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(s)}else if(i&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}},unwrapObservable:function(e){return m.isObservable(e)?e():e},peekObservable:function(e){return m.isObservable(e)?e.peek():e},toggleDomNodeCssClass:l,setTextContent:function(e,n){var r=m.utils.unwrapObservable(n);null!==r&&r!==t||(r="");var i=m.virtualElements.firstChild(e);!i||3!=i.nodeType||m.virtualElements.nextSibling(i)?m.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(r)]):i.data=r,m.utils.forceRefresh(e)},setElementName:function(e,t){if(e.name=t,y<=7)try{e.mergeAttributes(r.createElement("<input name='"+e.name+"'/>"),!1)}catch(n){}},forceRefresh:function(e){if(y>=9){var t=1==e.nodeType?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(y){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=m.utils.unwrapObservable(e),t=m.utils.unwrapObservable(t);for(var n=[],r=e;r<=t;r++)n.push(r);return n},makeArray:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},isIe6:v,isIe7:b,ieVersion:y,getFormFields:function(e,t){for(var n=m.utils.makeArray(e.getElementsByTagName("input")).concat(m.utils.makeArray(e.getElementsByTagName("textarea"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],o=n.length-1;o>=0;o--)r(n[o])&&i.push(n[o]);return i},parseJson:function(e){return"string"==typeof e&&(e=m.utils.stringTrim(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},stringifyJson:function(e,t,n){if(!a||!a.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(m.utils.unwrapObservable(e),t,n)},postJson:function(t,n,i){i=i||{};var o=i.params||{},a=i.includeFields||this.fieldsIncludedWithJsonPost,s=t;if("object"==typeof t&&"form"===m.utils.tagNameLower(t)){var u=t;s=u.action;for(var c=a.length-1;c>=0;c--)for(var l=m.utils.getFormFields(u,a[c]),d=l.length-1;d>=0;d--)o[l[d].name]=l[d].value}n=m.utils.unwrapObservable(n);var f=r.createElement("form");f.style.display="none",f.action=s,f.method="post";for(var p in n){var h=r.createElement("input");h.type="hidden",h.name=p,h.value=m.utils.stringifyJson(m.utils.unwrapObservable(n[p])),f.appendChild(h)}e(o,function(e,t){var n=r.createElement("input");n.type="hidden",n.name=e,n.value=t,f.appendChild(n)}),r.body.appendChild(f),i.submitter?i.submitter(f):f.submit(),setTimeout(function(){f.parentNode.removeChild(f)},0)}}}(),m.exportSymbol("utils",m.utils),m.exportSymbol("utils.arrayForEach",m.utils.arrayForEach),m.exportSymbol("utils.arrayFirst",m.utils.arrayFirst),m.exportSymbol("utils.arrayFilter",m.utils.arrayFilter),m.exportSymbol("utils.arrayGetDistinctValues",m.utils.arrayGetDistinctValues),m.exportSymbol("utils.arrayIndexOf",m.utils.arrayIndexOf),m.exportSymbol("utils.arrayMap",m.utils.arrayMap),m.exportSymbol("utils.arrayPushAll",m.utils.arrayPushAll),m.exportSymbol("utils.arrayRemoveItem",m.utils.arrayRemoveItem),m.exportSymbol("utils.extend",m.utils.extend),m.exportSymbol("utils.fieldsIncludedWithJsonPost",m.utils.fieldsIncludedWithJsonPost),m.exportSymbol("utils.getFormFields",m.utils.getFormFields),m.exportSymbol("utils.peekObservable",m.utils.peekObservable),m.exportSymbol("utils.postJson",m.utils.postJson),m.exportSymbol("utils.parseJson",m.utils.parseJson),m.exportSymbol("utils.registerEventHandler",m.utils.registerEventHandler),m.exportSymbol("utils.stringifyJson",m.utils.stringifyJson),m.exportSymbol("utils.range",m.utils.range),m.exportSymbol("utils.toggleDomNodeCssClass",m.utils.toggleDomNodeCssClass),m.exportSymbol("utils.triggerEvent",m.utils.triggerEvent),m.exportSymbol("utils.unwrapObservable",m.utils.unwrapObservable),m.exportSymbol("utils.objectForEach",m.utils.objectForEach),m.exportSymbol("utils.addOrRemoveItem",m.utils.addOrRemoveItem),m.exportSymbol("utils.setTextContent",m.utils.setTextContent),m.exportSymbol("unwrap",m.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice(0);return r.push.apply(r,arguments),t.apply(e,r)}}),m.utils.domData=new function(){function e(e,o){var a=e[r],s=a&&"null"!==a&&i[a];if(!s){if(!o)return t;a=e[r]="ko"+n++,i[a]={}}return i[a]}var n=0,r="__ko__"+(new Date).getTime(),i={};return{get:function(n,r){var i=e(n,!1);return i===t?t:i[r]},set:function(n,r,i){if(i!==t||e(n,!1)!==t){var o=e(n,!0);o[r]=i}},clear:function(e){var t=e[r];return!!t&&(delete i[t],e[r]=null,!0)},nextKey:function(){return n++ +r}}},m.exportSymbol("utils.domData",m.utils.domData),m.exportSymbol("utils.domData.clear",m.utils.domData.clear),m.utils.domNodeDisposal=new function(){function e(e,n){var r=m.utils.domData.get(e,a);return r===t&&n&&(r=[],m.utils.domData.set(e,a,r)),r}function n(e){m.utils.domData.set(e,a,t)}function r(t){var n=e(t,!1);if(n){n=n.slice(0);for(var r=0;r<n.length;r++)n[r](t)}m.utils.domData.clear(t),m.utils.domNodeDisposal.cleanExternalData(t),u[t.nodeType]&&i(t)}function i(e){for(var t,n=e.firstChild;t=n;)n=t.nextSibling,8===t.nodeType&&r(t)}var a=m.utils.domData.nextKey(),s={
1:!0,8:!0,9:!0},u={1:!0,9:!0};return{addDisposeCallback:function(t,n){if("function"!=typeof n)throw new Error("Callback must be a function");e(t,!0).push(n)},removeDisposeCallback:function(t,r){var i=e(t,!1);i&&(m.utils.arrayRemoveItem(i,r),0==i.length&&n(t))},cleanNode:function(e){if(s[e.nodeType]&&(r(e),u[e.nodeType])){var t=[];m.utils.arrayPushAll(t,e.getElementsByTagName("*"));for(var n=0,i=t.length;n<i;n++)r(t[n])}return e},removeNode:function(e){m.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){o&&"function"==typeof o.cleanData&&o.cleanData([e])}}},m.cleanNode=m.utils.domNodeDisposal.cleanNode,m.removeNode=m.utils.domNodeDisposal.removeNode,m.exportSymbol("cleanNode",m.cleanNode),m.exportSymbol("removeNode",m.removeNode),m.exportSymbol("utils.domNodeDisposal",m.utils.domNodeDisposal),m.exportSymbol("utils.domNodeDisposal.addDisposeCallback",m.utils.domNodeDisposal.addDisposeCallback),m.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",m.utils.domNodeDisposal.removeDisposeCallback),function(){function e(e,t){t||(t=r);var i=t.parentWindow||t.defaultView||n,o=m.utils.stringTrim(e).toLowerCase(),a=t.createElement("div"),s=o.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!o.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!o.indexOf("<td")||!o.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],u="ignored<div>"+s[1]+e+s[2]+"</div>";for("function"==typeof i.innerShiv?a.appendChild(i.innerShiv(u)):a.innerHTML=u;s[0]--;)a=a.lastChild;return m.utils.makeArray(a.lastChild.childNodes)}function i(e,t){if(o.parseHTML)return o.parseHTML(e,t)||[];var n=o.clean([e],t);if(n&&n[0]){for(var r=n[0];r.parentNode&&11!==r.parentNode.nodeType;)r=r.parentNode;r.parentNode&&r.parentNode.removeChild(r)}return n}m.utils.parseHtmlFragment=function(t,n){return o?i(t,n):e(t,n)},m.utils.setHtml=function(e,n){if(m.utils.emptyDomNode(e),n=m.utils.unwrapObservable(n),null!==n&&n!==t)if("string"!=typeof n&&(n=n.toString()),o)o(e).html(n);else for(var r=m.utils.parseHtmlFragment(n,e.ownerDocument),i=0;i<r.length;i++)e.appendChild(r[i])}}(),m.exportSymbol("utils.parseHtmlFragment",m.utils.parseHtmlFragment),m.exportSymbol("utils.setHtml",m.utils.setHtml),m.memoization=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function n(){return e()+e()}function r(e,t){if(e)if(8==e.nodeType){var n=m.memoization.parseMemoText(e.nodeValue);null!=n&&t.push({domNode:e,memoId:n})}else if(1==e.nodeType)for(var i=0,o=e.childNodes,a=o.length;i<a;i++)r(o[i],t)}var i={};return{memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var t=n();return i[t]=e,"<!--[ko_memo:"+t+"]-->"},unmemoize:function(e,n){var r=i[e];if(r===t)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete i[e]}},unmemoizeDomNodeAndDescendants:function(e,t){var n=[];r(e,n);for(var i=0,o=n.length;i<o;i++){var a=n[i].domNode,s=[a];t&&m.utils.arrayPushAll(s,t),m.memoization.unmemoize(n[i].memoId,s),a.nodeValue="",a.parentNode&&a.parentNode.removeChild(a)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),m.exportSymbol("memoization",m.memoization),m.exportSymbol("memoization.memoize",m.memoization.memoize),m.exportSymbol("memoization.unmemoize",m.memoization.unmemoize),m.exportSymbol("memoization.parseMemoText",m.memoization.parseMemoText),m.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",m.memoization.unmemoizeDomNodeAndDescendants),m.extenders={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return m.dependentObservable({read:e,write:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}})},rateLimit:function(e,t){var n,r,i;"number"==typeof t?n=t:(n=t.timeout,r=t.method),i="notifyWhenChangesStop"==r?d:l,e.limit(function(e){return i(e,n)})},notify:function(e,t){e.equalityComparer="always"==t?null:c}};var _={undefined:1,"boolean":1,number:1,string:1};m.exportSymbol("extenders",m.extenders),m.subscription=function(e,t,n){this._target=e,this.callback=t,this.disposeCallback=n,this.isDisposed=!1,m.exportProperty(this,"dispose",this.dispose)},m.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},m.subscribable=function(){m.utils.setPrototypeOfOrExtend(this,m.subscribable.fn),this._subscriptions={},this._versionNumber=1};var g="change",y={subscribe:function(e,t,n){var r=this;n=n||g;var i=t?e.bind(t):e,o=new m.subscription(r,i,function(){m.utils.arrayRemoveItem(r._subscriptions[n],o),r.afterSubscriptionRemove&&r.afterSubscriptionRemove(n)});return r.beforeSubscriptionAdd&&r.beforeSubscriptionAdd(n),r._subscriptions[n]||(r._subscriptions[n]=[]),r._subscriptions[n].push(o),o},notifySubscribers:function(e,t){if(t=t||g,t===g&&this.updateVersion(),this.hasSubscriptionsForEvent(t))try{m.dependencyDetection.begin();for(var n,r=this._subscriptions[t].slice(0),i=0;n=r[i];++i)n.isDisposed||n.callback(e)}finally{m.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var t,n,r,i=this,o=m.isObservable(i),a="beforeChange";i._origNotifySubscribers||(i._origNotifySubscribers=i.notifySubscribers,i.notifySubscribers=function(e,t){t&&t!==g?t===a?i._rateLimitedBeforeChange(e):i._origNotifySubscribers(e,t):i._rateLimitedChange(e)});var s=e(function(){o&&r===i&&(r=i()),t=!1,i.isDifferent(n,r)&&i._origNotifySubscribers(n=r)});i._rateLimitedChange=function(e){t=!0,r=e,s()},i._rateLimitedBeforeChange=function(e){t||(n=e,i._origNotifySubscribers(e,a))}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var t=0;return m.utils.objectForEach(this._subscriptions,function(e,n){t+=n.length}),t},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:f};m.exportProperty(y,"subscribe",y.subscribe),m.exportProperty(y,"extend",y.extend),m.exportProperty(y,"getSubscriptionsCount",y.getSubscriptionsCount),m.utils.canSetPrototype&&m.utils.setPrototypeOf(y,Function.prototype),m.subscribable.fn=y,m.isSubscribable=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},m.exportSymbol("subscribable",m.subscribable),m.exportSymbol("isSubscribable",m.isSubscribable),m.computedContext=m.dependencyDetection=function(){function e(){return++o}function t(e){i.push(r),r=e}function n(){r=i.pop()}var r,i=[],o=0;return{begin:t,end:n,registerDependency:function(t){if(r){if(!m.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");r.callback(t,t._id||(t._id=e()))}},ignore:function(e,r,i){try{return t(),e.apply(r,i||[])}finally{n()}},getDependenciesCount:function(){if(r)return r.computed.getDependenciesCount()},isInitial:function(){if(r)return r.isInitial}}}(),m.exportSymbol("computedContext",m.computedContext),m.exportSymbol("computedContext.getDependenciesCount",m.computedContext.getDependenciesCount),m.exportSymbol("computedContext.isInitial",m.computedContext.isInitial),m.exportSymbol("computedContext.isSleeping",m.computedContext.isSleeping),m.exportSymbol("ignoreDependencies",m.ignoreDependencies=m.dependencyDetection.ignore),m.observable=function(t){function n(){return arguments.length>0?(n.isDifferent(r,arguments[0])&&(n.valueWillMutate(),r=arguments[0],e&&(n._latestValue=r),n.valueHasMutated()),this):(m.dependencyDetection.registerDependency(n),r)}var r=t;return m.subscribable.call(n),m.utils.setPrototypeOfOrExtend(n,m.observable.fn),e&&(n._latestValue=r),n.peek=function(){return r},n.valueHasMutated=function(){n.notifySubscribers(r)},n.valueWillMutate=function(){n.notifySubscribers(r,"beforeChange")},m.exportProperty(n,"peek",n.peek),m.exportProperty(n,"valueHasMutated",n.valueHasMutated),m.exportProperty(n,"valueWillMutate",n.valueWillMutate),n},m.observable.fn={equalityComparer:c};var v=m.observable.protoProperty="__ko_proto__";m.observable.fn[v]=m.observable,m.utils.canSetPrototype&&m.utils.setPrototypeOf(m.observable.fn,m.subscribable.fn),m.hasPrototype=function(e,n){return null!==e&&e!==t&&e[v]!==t&&(e[v]===n||m.hasPrototype(e[v],n))},m.isObservable=function(e){return m.hasPrototype(e,m.observable)},m.isWriteableObservable=function(e){return"function"==typeof e&&e[v]===m.observable||!("function"!=typeof e||e[v]!==m.dependentObservable||!e.hasWriteFunction)},m.exportSymbol("observable",m.observable),m.exportSymbol("isObservable",m.isObservable),m.exportSymbol("isWriteableObservable",m.isWriteableObservable),m.exportSymbol("isWritableObservable",m.isWriteableObservable),m.observableArray=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=m.observable(e);return m.utils.setPrototypeOfOrExtend(t,m.observableArray.fn),t.extend({trackArrayChanges:!0})},m.observableArray.fn={remove:function(e){for(var t=this.peek(),n=[],r="function"!=typeof e||m.isObservable(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var o=t[i];r(o)&&(0===n.length&&this.valueWillMutate(),n.push(o),t.splice(i,1),i--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(e===t){var n=this.peek(),r=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),r}return e?this.remove(function(t){return m.utils.arrayIndexOf(e,t)>=0}):[]},destroy:function(e){var t=this.peek(),n="function"!=typeof e||m.isObservable(e)?function(t){return t===e}:e;this.valueWillMutate();for(var r=t.length-1;r>=0;r--){var i=t[r];n(i)&&(t[r]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return m.utils.arrayIndexOf(e,t)>=0}):[]},indexOf:function(e){var t=this();return m.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},m.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){m.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,arguments);var n=t[e].apply(t,arguments);return this.valueHasMutated(),n}}),m.utils.arrayForEach(["slice"],function(e){m.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),m.utils.canSetPrototype&&m.utils.setPrototypeOf(m.observableArray.fn,m.observable.fn),m.exportSymbol("observableArray",m.observableArray);var b="arrayChange";m.extenders.trackArrayChanges=function(e){function t(){if(!i){i=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&n!==g||++a,t.apply(this,arguments)};var s=[].concat(e.peek()||[]);o=null,r=e.subscribe(function(t){if(t=[].concat(t||[]),e.hasSubscriptionsForEvent(b))var r=n(s,t);s=t,o=null,a=0,r&&r.length&&e.notifySubscribers(r,b)})}}function n(e,t){return(!o||a>1)&&(o=m.utils.compareArrays(e,t,{sparse:!0})),o}if(!e.cacheDiffForKnownOperation){var r,i=!1,o=null,a=0,s=e.beforeSubscriptionAdd,u=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(n){s&&s.call(e,n),n===b&&t()},e.afterSubscriptionRemove=function(t){u&&u.call(e,t),t!==b||e.hasSubscriptionsForEvent(b)||(r.dispose(),i=!1)},e.cacheDiffForKnownOperation=function(e,t,n){function r(e,t,n){return s[s.length]={status:e,value:t,index:n}}if(i&&!a){var s=[],u=e.length,c=n.length,l=0;switch(t){case"push":l=u;case"unshift":for(var d=0;d<c;d++)r("added",n[d],l+d);break;case"pop":l=u-1;case"shift":u&&r("deleted",e[l],l);break;case"splice":for(var f=Math.min(Math.max(0,n[0]<0?u+n[0]:n[0]),u),p=1===c?u:Math.min(f+(n[1]||0),u),h=f+c-2,_=Math.max(p,h),g=[],y=[],d=f,v=2;d<_;++d,++v)d<p&&y.push(r("deleted",e[d],d)),d<h&&g.push(r("added",n[v],d));m.utils.findMovesInArrayComparison(y,g);break;default:return}o=s}}}},m.computed=m.dependentObservable=function(n,r,i){function o(e,t,n){if(M&&t===l)throw Error("A 'pure' computed must not be called recursively");S[e]=n,n._order=D++,n._version=t.getVersion()}function a(){var e,t;for(e in S)if(S.hasOwnProperty(e)&&(t=S[e],t._target.hasChanged(t._version)))return!0}function s(){!w&&S&&m.utils.objectForEach(S,function(e,t){t.dispose&&t.dispose()}),S=null,D=0,v=!0,_=!1,w=!1}function u(){var e=l.throttleEvaluation;e&&e>=0?(clearTimeout(Y),Y=setTimeout(function(){c(!0)},e)):l._evalRateLimited?l._evalRateLimited():c(!0)}function c(n){if(!g&&!v){if(x&&x()){if(!y)return void A()}else y=!1;g=!0;try{var i=S,a=D,s=M?t:!D;m.dependencyDetection.begin({callback:function(e,t){v||(a&&i[t]?(o(t,e,i[t]),delete i[t],--a):S[t]||o(t,e,w?{_target:e}:e.subscribe(u)))},computed:l,isInitial:s}),S={},D=0;try{var c=r?b.call(r):b()}finally{m.dependencyDetection.end(),a&&!w&&m.utils.objectForEach(i,function(e,t){t.dispose&&t.dispose()}),_=!1}l.isDifferent(h,c)&&(w||p(h,"beforeChange"),h=c,e&&(l._latestValue=h),w?l.updateVersion():n&&p(h)),s&&p(h,"awake")}finally{g=!1}D||A()}}function l(){if(arguments.length>0){if("function"!=typeof T)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return T.apply(r,arguments),this}return m.dependencyDetection.registerDependency(l),(_||w&&a())&&c(),h}function d(){return(_&&!D||w&&a())&&c(),h}function f(){return _||D>0}function p(e,t){l.notifySubscribers(e,t)}var h,_=!0,g=!1,y=!1,v=!1,b=n,M=!1,w=!1;if(b&&"object"==typeof b?(i=b,b=i.read):(i=i||{},b||(b=i.read)),"function"!=typeof b)throw new Error("Pass a function that returns the value of the ko.computed");var T=i.write,L=i.disposeWhenNodeIsRemoved||i.disposeWhenNodeIsRemoved||null,k=i.disposeWhen||i.disposeWhen,x=k,A=s,S={},D=0,Y=null;r||(r=i.owner),m.subscribable.call(l),m.utils.setPrototypeOfOrExtend(l,m.dependentObservable.fn),l.peek=d,l.getDependenciesCount=function(){return D},l.hasWriteFunction="function"==typeof T,l.dispose=function(){A()},l.isActive=f;var E=l.limit;return l.limit=function(e){E.call(l,e),l._evalRateLimited=function(){l._rateLimitedBeforeChange(h),_=!0,l._rateLimitedChange(l)}},i.pure?(M=!0,w=!0,l.beforeSubscriptionAdd=function(e){if(!v&&w&&"change"==e){if(w=!1,_||a())S=null,D=0,_=!0,c();else{var t=[];m.utils.objectForEach(S,function(e,n){t[n._order]=e}),m.utils.arrayForEach(t,function(e,t){var n=S[e],r=n._target.subscribe(u);r._order=t,r._version=n._version,S[e]=r})}v||p(h,"awake")}},l.afterSubscriptionRemove=function(e){v||"change"!=e||l.hasSubscriptionsForEvent("change")||(m.utils.objectForEach(S,function(e,t){t.dispose&&(S[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),w=!0,p(t,"asleep"))},l._originalGetVersion=l.getVersion,l.getVersion=function(){return w&&(_||a())&&c(),l._originalGetVersion()}):i.deferEvaluation&&(l.beforeSubscriptionAdd=function(e){"change"!=e&&"beforeChange"!=e||d()}),m.exportProperty(l,"peek",l.peek),m.exportProperty(l,"dispose",l.dispose),m.exportProperty(l,"isActive",l.isActive),m.exportProperty(l,"getDependenciesCount",l.getDependenciesCount),L&&(y=!0,L.nodeType&&(x=function(){return!m.utils.domNodeIsAttachedToDocument(L)||k&&k()})),w||i.deferEvaluation||c(),L&&f()&&L.nodeType&&(A=function(){m.utils.domNodeDisposal.removeDisposeCallback(L,A),s()},m.utils.domNodeDisposal.addDisposeCallback(L,A)),l},m.isComputed=function(e){return m.hasPrototype(e,m.dependentObservable)};var M=m.observable.protoProperty;m.dependentObservable[M]=m.observable,m.dependentObservable.fn={equalityComparer:c},m.dependentObservable.fn[M]=m.dependentObservable,m.utils.canSetPrototype&&m.utils.setPrototypeOf(m.dependentObservable.fn,m.subscribable.fn),m.exportSymbol("dependentObservable",m.dependentObservable),m.exportSymbol("computed",m.dependentObservable),m.exportSymbol("isComputed",m.isComputed),m.pureComputed=function(e,t){return"function"==typeof e?m.computed(e,t,{pure:!0}):(e=m.utils.extend({},e),e.pure=!0,m.computed(e,t))},m.exportSymbol("pureComputed",m.pureComputed),function(){function e(i,o,a){a=a||new r,i=o(i);var s=!("object"!=typeof i||null===i||i===t||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean);if(!s)return i;var u=i instanceof Array?[]:{};return a.save(i,u),n(i,function(n){var r=o(i[n]);switch(typeof r){case"boolean":case"number":case"string":case"function":u[n]=r;break;case"object":case"undefined":var s=a.get(r);u[n]=s!==t?s:e(r,o,a)}}),u}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var r in e)t(r)}function r(){this.keys=[],this.values=[]}var i=10;m.toJS=function(t){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;m.isObservable(e)&&t<i;t++)e=e();return e})},m.toJSON=function(e,t,n){var r=m.toJS(e);return m.utils.stringifyJson(r,t,n)},r.prototype={constructor:r,save:function(e,t){var n=m.utils.arrayIndexOf(this.keys,e);n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var n=m.utils.arrayIndexOf(this.keys,e);return n>=0?this.values[n]:t}}}(),m.exportSymbol("toJS",m.toJS),m.exportSymbol("toJSON",m.toJSON),function(){var e="__ko__hasDomDataOptionValue__";m.selectExtensions={readValue:function(n){switch(m.utils.tagNameLower(n)){case"option":return n[e]===!0?m.utils.domData.get(n,m.bindingHandlers.options.optionValueDomDataKey):m.utils.ieVersion<=7?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return n.selectedIndex>=0?m.selectExtensions.readValue(n.options[n.selectedIndex]):t;default:return n.value}},writeValue:function(n,r,i){switch(m.utils.tagNameLower(n)){case"option":switch(typeof r){case"string":m.utils.domData.set(n,m.bindingHandlers.options.optionValueDomDataKey,t),e in n&&delete n[e],n.value=r;break;default:m.utils.domData.set(n,m.bindingHandlers.options.optionValueDomDataKey,r),n[e]=!0,n.value="number"==typeof r?r:""}break;case"select":""!==r&&null!==r||(r=t);for(var o,a=-1,s=0,u=n.options.length;s<u;++s)if(o=m.selectExtensions.readValue(n.options[s]),o==r||""==o&&r===t){a=s;break}(i||a>=0||r===t&&n.size>1)&&(n.selectedIndex=a);break;default:null!==r&&r!==t||(r=""),n.value=r}}}}(),m.exportSymbol("selectExtensions",m.selectExtensions),m.exportSymbol("selectExtensions.readValue",m.selectExtensions.readValue),m.exportSymbol("selectExtensions.writeValue",m.selectExtensions.writeValue),m.expressionRewriting=function(){function e(e){if(m.utils.arrayIndexOf(r,e)>=0)return!1;var t=e.match(i);return null!==t&&(t[1]?"Object("+t[1]+")"+t[2]:e)}function t(e){var t=m.utils.stringTrim(e);123===t.charCodeAt(0)&&(t=t.slice(1,-1));var n,r=[],i=t.match(d),o=[],a=0;if(i){i.push(",");for(var s,u=0;s=i[u];++u){var c=s.charCodeAt(0);if(44===c){if(a<=0){r.push(n&&o.length?{key:n,value:o.join("")}:{unknown:n||o.join("")}),n=a=0,o=[];continue}}else if(58===c){if(!a&&!n&&1===o.length){n=o.pop();continue}}else if(47===c&&u&&s.length>1){var l=i[u-1].match(f);l&&!p[l[0]]&&(t=t.substr(t.indexOf(s)+1),i=t.match(d),i.push(","),u=-1,s="/")}else 40===c||123===c||91===c?++a:41===c||125===c||93===c?--a:n||o.length||34!==c&&39!==c||(s=s.slice(1,-1));o.push(s)}}return r}function n(n,r){function i(t,n){function r(e){return!e||!e.preprocess||(n=e.preprocess(n,t,i))}var c;if(!u){if(!r(m.getBindingHandler(t)))return;h[t]&&(c=e(n))&&a.push("'"+t+"':function(_z){"+c+"=_z}")}s&&(n="function(){return "+n+" }"),o.push("'"+t+"':"+n)}r=r||{};var o=[],a=[],s=r.valueAccessors,u=r.bindingParams,c="string"==typeof n?t(n):n;return m.utils.arrayForEach(c,function(e){i(e.key||e.unknown,e.value)}),a.length&&i("_ko_property_writers","{"+a.join(",")+" }"),o.join(",")}var r=["true","false","null","undefined"],i=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,o='"(?:[^"\\\\]|\\\\.)*"',a="'(?:[^'\\\\]|\\\\.)*'",s="/(?:[^/\\\\]|\\\\.)*/w*",u=",\"'{}()/:[\\]",c="[^\\s:,/][^"+u+"]*[^\\s"+u+"]",l="[^\\s]",d=RegExp(o+"|"+a+"|"+s+"|"+c+"|"+l,"g"),f=/[\])"'A-Za-z0-9_$]+$/,p={"in":1,"return":1,"typeof":1},h={};return{bindingRewriteValidators:[],twoWayBindings:h,parseObjectLiteral:t,preProcessBindings:n,keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},writeValueToProperty:function(e,t,n,r,i){if(e&&m.isObservable(e))!m.isWriteableObservable(e)||i&&e.peek()===r||e(r);else{var o=t.get("_ko_property_writers");o&&o[n]&&o[n](r)}}}}(),m.exportSymbol("expressionRewriting",m.expressionRewriting),m.exportSymbol("expressionRewriting.bindingRewriteValidators",m.expressionRewriting.bindingRewriteValidators),m.exportSymbol("expressionRewriting.parseObjectLiteral",m.expressionRewriting.parseObjectLiteral),m.exportSymbol("expressionRewriting.preProcessBindings",m.expressionRewriting.preProcessBindings),m.exportSymbol("expressionRewriting._twoWayBindings",m.expressionRewriting.twoWayBindings),m.exportSymbol("jsonExpressionRewriting",m.expressionRewriting),m.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",m.expressionRewriting.preProcessBindings),function(){function e(e){return 8==e.nodeType&&s.test(a?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&u.test(a?e.text:e.nodeValue)}function n(n,r){for(var i=n,o=1,a=[];i=i.nextSibling;){if(t(i)&&(o--,0===o))return a;a.push(i),e(i)&&o++}if(!r)throw new Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var r=n(e,t);return r?r.length>0?r[r.length-1].nextSibling:e.nextSibling:null}function o(n){var r=n.firstChild,o=null;if(r)do if(o)o.push(r);else if(e(r)){var a=i(r,!0);a?r=a:o=[r]}else t(r)&&(o=[r]);while(r=r.nextSibling);return o}var a=r&&"<!--test-->"===r.createComment("test").text,s=a?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,u=a?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0};m.virtualElements={allowedBindings:{},childNodes:function(t){return e(t)?n(t):t.childNodes},emptyNode:function(t){if(e(t))for(var n=m.virtualElements.childNodes(t),r=0,i=n.length;r<i;r++)m.removeNode(n[r]);else m.utils.emptyDomNode(t)},setDomNodeChildren:function(t,n){if(e(t)){m.virtualElements.emptyNode(t);for(var r=t.nextSibling,i=0,o=n.length;i<o;i++)r.parentNode.insertBefore(n[i],r)}else m.utils.setDomNodeChildren(t,n)},prepend:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},insertAfter:function(t,n,r){r?e(t)?t.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):m.virtualElements.prepend(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},hasBindingValue:e,virtualNodeBindingValue:function(e){var t=(a?e.text:e.nodeValue).match(s);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(c[m.utils.tagNameLower(e)]){var t=e.firstChild;if(t)do if(1===t.nodeType){var n=o(t);if(n)for(var r=t.nextSibling,i=0;i<n.length;i++)r?e.insertBefore(n[i],r):e.appendChild(n[i])}while(t=t.nextSibling)}}}}(),m.exportSymbol("virtualElements",m.virtualElements),m.exportSymbol("virtualElements.allowedBindings",m.virtualElements.allowedBindings),m.exportSymbol("virtualElements.emptyNode",m.virtualElements.emptyNode),m.exportSymbol("virtualElements.insertAfter",m.virtualElements.insertAfter),m.exportSymbol("virtualElements.prepend",m.virtualElements.prepend),m.exportSymbol("virtualElements.setDomNodeChildren",m.virtualElements.setDomNodeChildren),function(){function e(e,n,r){var i=e+(r&&r.valueAccessors||"");return n[i]||(n[i]=t(e,r))}function t(e,t){var n=m.expressionRewriting.preProcessBindings(e,t),r="with($context){with($data||{}){return{"+n+"}}}";return new Function("$context","$element",r)}var n="data-bind";m.bindingProvider=function(){this.bindingCache={}},m.utils.extend(m.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute(n)||m.components.getComponentNameForNode(e);case 8:return m.virtualElements.hasBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),r=n?this.parseBindingsString(n,t,e):null;return m.components.addBindingsForCustomElement(r,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),r=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return m.components.addBindingsForCustomElement(r,e,t,!0)},getBindingsString:function(e,t){switch(e.nodeType){case 1:return e.getAttribute(n);case 8:return m.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(t,n,r,i){try{var o=e(t,this.bindingCache,i);return o(n,r)}catch(a){throw a.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+a.message,a}}}),m.bindingProvider.instance=new m.bindingProvider}(),m.exportSymbol("bindingProvider",m.bindingProvider),function(){function e(e){return function(){return e}}function r(e){return e()}function i(e){return m.utils.objectMap(m.dependencyDetection.ignore(e),function(t,n){return function(){return e()[n]}})}function a(t,n,r){return"function"==typeof t?i(t.bind(null,n,r)):m.utils.objectMap(t,e)}function s(e,t){return i(this.getBindings.bind(this,e,t))}function u(e){var t=m.virtualElements.allowedBindings[e];if(!t)throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function c(e,t,n){var r,i=m.virtualElements.firstChild(t),o=m.bindingProvider.instance,a=o.preprocessNode;if(a){for(;r=i;)i=m.virtualElements.nextSibling(r),a.call(o,r);i=m.virtualElements.firstChild(t)}for(;r=i;)i=m.virtualElements.nextSibling(r),l(e,r,n)}function l(e,t,n){var r=!0,i=1===t.nodeType;i&&m.virtualElements.normaliseVirtualElementDomStructure(t);var o=i&&n||m.bindingProvider.instance.nodeHasBindings(t);o&&(r=f(t,null,e,n).shouldBindDescendants),r&&!h[m.utils.tagNameLower(t)]&&c(e,t,!i)}function d(e){var t=[],n={},r=[];return m.utils.objectForEach(e,function i(o){if(!n[o]){var a=m.getBindingHandler(o);a&&(a.after&&(r.push(o),m.utils.arrayForEach(a.after,function(t){if(e[t]){if(m.utils.arrayIndexOf(r,t)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));i(t)}}),r.length--),t.push({key:o,handler:a})),n[o]=!0}}),t}function f(e,n,i,o){function a(){return m.utils.objectMap(h?h():l,r)}var c=m.utils.domData.get(e,_);if(!n){if(c)throw Error("You cannot apply bindings multiple times to the same element.");m.utils.domData.set(e,_,!0)}!c&&o&&m.storedBindingContextForNode(e,i);var l;if(n&&"function"!=typeof n)l=n;else{var f=m.bindingProvider.instance,p=f.getBindingAccessors||s,h=m.dependentObservable(function(){return l=n?n(i,e):p.call(f,e,i),l&&i._subscribable&&i._subscribable(),l},null,{disposeWhenNodeIsRemoved:e});l&&h.isActive()||(h=null)}var g;if(l){var y=h?function(e){return function(){return r(h()[e])}}:function(e){return l[e]};a.get=function(e){return l[e]&&r(y(e))},a.has=function(e){return e in l};var v=d(l);m.utils.arrayForEach(v,function(n){var r=n.handler.init,o=n.handler.update,s=n.key;8===e.nodeType&&u(s);try{"function"==typeof r&&m.dependencyDetection.ignore(function(){var n=r(e,y(s),a,i.$data,i);if(n&&n.controlsDescendantBindings){if(g!==t)throw new Error("Multiple bindings ("+g+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");g=s}}),"function"==typeof o&&m.dependentObservable(function(){o(e,y(s),a,i.$data,i)},null,{disposeWhenNodeIsRemoved:e})}catch(c){throw c.message='Unable to process binding "'+s+": "+l[s]+'"\nMessage: '+c.message,c}})}return{shouldBindDescendants:g===t}}function p(e){return e&&e instanceof m.bindingContext?e:new m.bindingContext(e)}m.bindingHandlers={};var h={script:!0,textarea:!0};m.getBindingHandler=function(e){return m.bindingHandlers[e]},m.bindingContext=function(e,n,r,i){function o(){var t=c?e():e,o=m.utils.unwrapObservable(t);return n?(n._subscribable&&n._subscribable(),m.utils.extend(u,n),l&&(u._subscribable=l)):(u.$parents=[],u.$root=o,u.ko=m),u.$rawData=t,u.$data=o,r&&(u[r]=o),i&&i(u,n,o),u.$data}function a(){return s&&!m.utils.anyDomNodeIsAttachedToDocument(s)}var s,u=this,c="function"==typeof e&&!m.isObservable(e),l=m.dependentObservable(o,null,{disposeWhen:a,disposeWhenNodeIsRemoved:!0});l.isActive()&&(u._subscribable=l,l.equalityComparer=null,s=[],l._addNode=function(e){s.push(e),m.utils.domNodeDisposal.addDisposeCallback(e,function(e){m.utils.arrayRemoveItem(s,e),s.length||(l.dispose(),u._subscribable=l=t)})})},m.bindingContext.prototype.createChildContext=function(e,t,n){return new m.bindingContext(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},m.bindingContext.prototype.extend=function(e){return new m.bindingContext(this._subscribable||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,m.utils.extend(t,"function"==typeof e?e():e)})};var _=m.utils.domData.nextKey(),g=m.utils.domData.nextKey();m.storedBindingContextForNode=function(e,t){return 2!=arguments.length?m.utils.domData.get(e,g):(m.utils.domData.set(e,g,t),void(t._subscribable&&t._subscribable._addNode(e)))},m.applyBindingAccessorsToNode=function(e,t,n){return 1===e.nodeType&&m.virtualElements.normaliseVirtualElementDomStructure(e),f(e,t,p(n),!0)},m.applyBindingsToNode=function(e,t,n){var r=p(n);return m.applyBindingAccessorsToNode(e,a(t,r,e),r)},m.applyBindingsToDescendants=function(e,t){1!==t.nodeType&&8!==t.nodeType||c(p(e),t,!0)},m.applyBindings=function(e,t){if(!o&&n.jQuery&&(o=n.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,l(p(e),t,!0)},m.contextFor=function(e){switch(e.nodeType){case 1:case 8:var n=m.storedBindingContextForNode(e);if(n)return n;if(e.parentNode)return m.contextFor(e.parentNode)}return t},m.dataFor=function(e){var n=m.contextFor(e);return n?n.$data:t},m.exportSymbol("bindingHandlers",m.bindingHandlers),m.exportSymbol("applyBindings",m.applyBindings),m.exportSymbol("applyBindingsToDescendants",m.applyBindingsToDescendants),m.exportSymbol("applyBindingAccessorsToNode",m.applyBindingAccessorsToNode),m.exportSymbol("applyBindingsToNode",m.applyBindingsToNode),m.exportSymbol("contextFor",m.contextFor),m.exportSymbol("dataFor",m.dataFor)}(),function(e){function t(t,n){return t.hasOwnProperty(n)?t[n]:e}function n(e,n){var i,s=t(o,e);s?s.subscribe(n):(s=o[e]=new m.subscribable,s.subscribe(n),r(e,function(t,n){var r=!(!n||!n.synchronous);a[e]={definition:t,isSynchronousComponent:r},delete o[e],i||r?s.notifySubscribers(t):setTimeout(function(){s.notifySubscribers(t)},0)}),i=!0)}function r(e,t){i("getConfig",[e],function(n){n?i("loadComponent",[e,n],function(e){t(e,n)}):t(null,null)})}function i(t,n,r,o){o||(o=m.components.loaders.slice(0));var a=o.shift();if(a){var s=a[t];if(s){var u=!1,c=s.apply(a,n.concat(function(e){u?r(null):null!==e?r(e):i(t,n,r,o)}));if(c!==e&&(u=!0,!a.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else i(t,n,r,o)}else r(null)}var o={},a={};m.components={get:function(e,r){var i=t(a,e);i?i.isSynchronousComponent?m.dependencyDetection.ignore(function(){r(i.definition)}):setTimeout(function(){r(i.definition)},0):n(e,r)},clearCachedDefinition:function(e){delete a[e]},_getFirstResultFromLoaders:i},m.components.loaders=[],m.exportSymbol("components",m.components),m.exportSymbol("components.get",m.components.get),m.exportSymbol("components.clearCachedDefinition",m.components.clearCachedDefinition)}(),function(e){function t(e,t,n,r){var i={},o=2,a=function(){
0===--o&&r(i)},s=n.template,u=n.viewModel;s?l(t,s,function(t){m.components._getFirstResultFromLoaders("loadTemplate",[e,t],function(e){i.template=e,a()})}):a(),u?l(t,u,function(t){m.components._getFirstResultFromLoaders("loadViewModel",[e,t],function(e){i[p]=e,a()})}):a()}function i(e,t,n){if("string"==typeof t)n(m.utils.parseHtmlFragment(t));else if(t instanceof Array)n(t);else if(c(t))n(m.utils.makeArray(t.childNodes));else if(t.element){var i=t.element;if(s(i))n(a(i));else if("string"==typeof i){var o=r.getElementById(i);o?n(a(o)):e("Cannot find element with ID "+i)}else e("Unknown element type: "+i)}else e("Unknown template value: "+t)}function o(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[p])n(t[p]);else if("instance"in t){var r=t.instance;n(function(e,t){return r})}else"viewModel"in t?o(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function a(e){switch(m.utils.tagNameLower(e)){case"script":return m.utils.parseHtmlFragment(e.text);case"textarea":return m.utils.parseHtmlFragment(e.value);case"template":if(c(e.content))return m.utils.cloneNodes(e.content.childNodes)}return m.utils.cloneNodes(e.childNodes)}function s(e){return n.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType}function c(e){return n.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function l(e,t,r){"string"==typeof t.require?u||n.require?(u||n.require)([t.require],r):e("Uses require, but no AMD loader is present"):r(t)}function d(e){return function(t){throw new Error("Component '"+e+"': "+t)}}var f={};m.components.register=function(e,t){if(!t)throw new Error("Invalid configuration for "+e);if(m.components.isRegistered(e))throw new Error("Component "+e+" is already registered");f[e]=t},m.components.isRegistered=function(e){return e in f},m.components.unregister=function(e){delete f[e],m.components.clearCachedDefinition(e)},m.components.defaultLoader={getConfig:function(e,t){var n=f.hasOwnProperty(e)?f[e]:null;t(n)},loadComponent:function(e,n,r){var i=d(e);l(i,n,function(n){t(e,i,n,r)})},loadTemplate:function(e,t,n){i(d(e),t,n)},loadViewModel:function(e,t,n){o(d(e),t,n)}};var p="createViewModel";m.exportSymbol("components.register",m.components.register),m.exportSymbol("components.isRegistered",m.components.isRegistered),m.exportSymbol("components.unregister",m.components.unregister),m.exportSymbol("components.defaultLoader",m.components.defaultLoader),m.components.loaders.push(m.components.defaultLoader),m.components._allRegisteredComponents=f}(),function(e){function t(e,t){var r=e.getAttribute("params");if(r){var i=n.parseBindingsString(r,t,e,{valueAccessors:!0,bindingParams:!0}),o=m.utils.objectMap(i,function(t,n){return m.computed(t,null,{disposeWhenNodeIsRemoved:e})}),a=m.utils.objectMap(o,function(t,n){var r=t.peek();return t.isActive()?m.computed({read:function(){return m.utils.unwrapObservable(t())},write:m.isWriteableObservable(r)&&function(e){t()(e)},disposeWhenNodeIsRemoved:e}):r});return a.hasOwnProperty("$raw")||(a.$raw=o),a}return{$raw:{}}}m.components.getComponentNameForNode=function(e){var t=m.utils.tagNameLower(e);return m.components.isRegistered(t)&&t},m.components.addBindingsForCustomElement=function(e,n,r,i){if(1===n.nodeType){var o=m.components.getComponentNameForNode(n);if(o){if(e=e||{},e.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var a={name:o,params:t(n,r)};e.component=i?function(){return a}:a}}return e};var n=new m.bindingProvider;m.utils.ieVersion<9&&(m.components.register=function(e){return function(t){return r.createElement(t),e.apply(this,arguments)}}(m.components.register),r.createDocumentFragment=function(e){return function(){var t=e(),n=m.components._allRegisteredComponents;for(var r in n)n.hasOwnProperty(r)&&t.createElement(r);return t}}(r.createDocumentFragment))}(),function(e){function t(e,t,n){var r=t.template;if(!r)throw new Error("Component '"+e+"' has no template");var i=m.utils.cloneNodes(r);m.virtualElements.setDomNodeChildren(n,i)}function n(e,t,n,r){var i=e.createViewModel;return i?i.call(e,r,{element:t,templateNodes:n}):r}var r=0;m.bindingHandlers.component={init:function(i,o,a,s,u){var c,l,d=function(){var e=c&&c.dispose;"function"==typeof e&&e.call(c),l=null},f=m.utils.makeArray(m.virtualElements.childNodes(i));return m.utils.domNodeDisposal.addDisposeCallback(i,d),m.computed(function(){var a,s,p=m.utils.unwrapObservable(o());if("string"==typeof p?a=p:(a=m.utils.unwrapObservable(p.name),s=m.utils.unwrapObservable(p.params)),!a)throw new Error("No component name specified");var h=l=++r;m.components.get(a,function(r){if(l===h){if(d(),!r)throw new Error("Unknown component '"+a+"'");t(a,r,i);var o=n(r,i,f,s),p=u.createChildContext(o,e,function(e){e.$component=o,e.$componentTemplateNodes=f});c=o,m.applyBindingsToDescendants(p,i)}})},null,{disposeWhenNodeIsRemoved:i}),{controlsDescendantBindings:!0}}},m.virtualElements.allowedBindings.component=!0}();var w={"class":"className","for":"htmlFor"};m.bindingHandlers.attr={update:function(e,n,r){var i=m.utils.unwrapObservable(n())||{};m.utils.objectForEach(i,function(n,r){r=m.utils.unwrapObservable(r);var i=r===!1||null===r||r===t;i&&e.removeAttribute(n),m.utils.ieVersion<=8&&n in w?(n=w[n],i?e.removeAttribute(n):e[n]=r):i||e.setAttribute(n,r.toString()),"name"===n&&m.utils.setElementName(e,i?"":r.toString())})}},function(){m.bindingHandlers.checked={after:["value","attr"],init:function(e,n,r){function i(){var t=e.checked,i=d?a():t;if(!m.computedContext.isInitial()&&(!u||t)){var o=m.dependencyDetection.ignore(n);c?l!==i?(t&&(m.utils.addOrRemoveItem(o,i,!0),m.utils.addOrRemoveItem(o,l,!1)),l=i):m.utils.addOrRemoveItem(o,i,t):m.expressionRewriting.writeValueToProperty(o,r,"checked",i,!0)}}function o(){var t=m.utils.unwrapObservable(n());c?e.checked=m.utils.arrayIndexOf(t,a())>=0:s?e.checked=t:e.checked=a()===t}var a=m.pureComputed(function(){return r.has("checkedValue")?m.utils.unwrapObservable(r.get("checkedValue")):r.has("value")?m.utils.unwrapObservable(r.get("value")):e.value}),s="checkbox"==e.type,u="radio"==e.type;if(s||u){var c=s&&m.utils.unwrapObservable(n())instanceof Array,l=c?a():t,d=u||c;u&&!e.name&&m.bindingHandlers.uniqueName.init(e,function(){return!0}),m.computed(i,null,{disposeWhenNodeIsRemoved:e}),m.utils.registerEventHandler(e,"click",i),m.computed(o,null,{disposeWhenNodeIsRemoved:e})}}},m.expressionRewriting.twoWayBindings.checked=!0,m.bindingHandlers.checkedValue={update:function(e,t){e.value=m.utils.unwrapObservable(t())}}}();var T="__ko__cssValue";m.bindingHandlers.css={update:function(e,t){var n=m.utils.unwrapObservable(t());null!==n&&"object"==typeof n?m.utils.objectForEach(n,function(t,n){n=m.utils.unwrapObservable(n),m.utils.toggleDomNodeCssClass(e,t,n)}):(n=String(n||""),m.utils.toggleDomNodeCssClass(e,e[T],!1),e[T]=n,m.utils.toggleDomNodeCssClass(e,n,!0))}},m.bindingHandlers.enable={update:function(e,t){var n=m.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},m.bindingHandlers.disable={update:function(e,t){m.bindingHandlers.enable.update(e,function(){return!m.utils.unwrapObservable(t())})}},m.bindingHandlers.event={init:function(e,t,n,r,i){var o=t()||{};m.utils.objectForEach(o,function(o){"string"==typeof o&&m.utils.registerEventHandler(e,o,function(e){var a,s=t()[o];if(s){try{var u=m.utils.makeArray(arguments);r=i.$data,u.unshift(r),a=s.apply(r,u)}finally{a!==!0&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}var c=n.get(o+"Bubble")!==!1;c||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},m.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=e(),n=m.utils.peekObservable(t);return n&&"number"!=typeof n.length?(m.utils.unwrapObservable(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:m.nativeTemplateEngine.instance}):{foreach:t,templateEngine:m.nativeTemplateEngine.instance}}},init:function(e,t,n,r,i){return m.bindingHandlers.template.init(e,m.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,r,i){return m.bindingHandlers.template.update(e,m.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,r,i)}},m.expressionRewriting.bindingRewriteValidators.foreach=!1,m.virtualElements.allowedBindings.foreach=!0;var L="__ko_hasfocusUpdating",k="__ko_hasfocusLastValue";m.bindingHandlers.hasfocus={init:function(e,t,n){var r=function(r){e[L]=!0;var i=e.ownerDocument;if("activeElement"in i){var o;try{o=i.activeElement}catch(a){o=i.body}r=o===e}var s=t();m.expressionRewriting.writeValueToProperty(s,n,"hasfocus",r,!0),e[k]=r,e[L]=!1},i=r.bind(null,!0),o=r.bind(null,!1);m.utils.registerEventHandler(e,"focus",i),m.utils.registerEventHandler(e,"focusin",i),m.utils.registerEventHandler(e,"blur",o),m.utils.registerEventHandler(e,"focusout",o)},update:function(e,t){var n=!!m.utils.unwrapObservable(t());e[L]||e[k]===n||(n?e.focus():e.blur(),m.dependencyDetection.ignore(m.utils.triggerEvent,null,[e,n?"focusin":"focusout"]))}},m.expressionRewriting.twoWayBindings.hasfocus=!0,m.bindingHandlers.hasFocus=m.bindingHandlers.hasfocus,m.expressionRewriting.twoWayBindings.hasFocus=!0,m.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){m.utils.setHtml(e,t())}},h("if"),h("ifnot",!1,!0),h("with",!0,!1,function(e,t){return e.createChildContext(t)});var x={};m.bindingHandlers.options={init:function(e){if("select"!==m.utils.tagNameLower(e))throw new Error("options binding applies only to SELECT elements");for(;e.length>0;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,r){function i(){return m.utils.arrayFilter(e.options,function(e){return e.selected})}function o(e,t,n){var r=typeof t;return"function"==r?t(e):"string"==r?e[t]:n}function a(n,i,a){a.length&&(y=!h&&a[0].selected?[m.selectExtensions.readValue(a[0])]:[],v=!0);var s=e.ownerDocument.createElement("option");if(n===x)m.utils.setTextContent(s,r.get("optionsCaption")),m.selectExtensions.writeValue(s,t);else{var u=o(n,r.get("optionsValue"),n);m.selectExtensions.writeValue(s,m.utils.unwrapObservable(u));var c=o(n,r.get("optionsText"),u);m.utils.setTextContent(s,c)}return[s]}function s(t,n){if(v&&h)m.selectExtensions.writeValue(e,m.utils.unwrapObservable(r.get("value")),!0);else if(y.length){var i=m.utils.arrayIndexOf(y,m.selectExtensions.readValue(n[0]))>=0;m.utils.setOptionNodeSelectionState(n[0],i),v&&!i&&m.dependencyDetection.ignore(m.utils.triggerEvent,null,[e,"change"])}}var u,c,l=0==e.length,d=e.multiple,f=!l&&d?e.scrollTop:null,p=m.utils.unwrapObservable(n()),h=r.get("valueAllowUnset")&&r.has("value"),_=r.get("optionsIncludeDestroyed"),g={},y=[];h||(d?y=m.utils.arrayMap(i(),m.selectExtensions.readValue):e.selectedIndex>=0&&y.push(m.selectExtensions.readValue(e.options[e.selectedIndex]))),p&&("undefined"==typeof p.length&&(p=[p]),c=m.utils.arrayFilter(p,function(e){return _||e===t||null===e||!m.utils.unwrapObservable(e._destroy)}),r.has("optionsCaption")&&(u=m.utils.unwrapObservable(r.get("optionsCaption")),null!==u&&u!==t&&c.unshift(x)));var v=!1;g.beforeRemove=function(t){e.removeChild(t)};var b=s;r.has("optionsAfterRender")&&"function"==typeof r.get("optionsAfterRender")&&(b=function(e,n){s(e,n),m.dependencyDetection.ignore(r.get("optionsAfterRender"),null,[n[0],e!==x?e:t])}),m.utils.setDomNodeChildrenFromArrayMapping(e,c,a,g,b),m.dependencyDetection.ignore(function(){if(h)m.selectExtensions.writeValue(e,m.utils.unwrapObservable(r.get("value")),!0);else{var t;t=d?y.length&&i().length<y.length:y.length&&e.selectedIndex>=0?m.selectExtensions.readValue(e.options[e.selectedIndex])!==y[0]:y.length||e.selectedIndex>=0,t&&m.utils.triggerEvent(e,"change")}}),m.utils.ensureSelectElementIsRenderedCorrectly(e),f&&Math.abs(f-e.scrollTop)>20&&(e.scrollTop=f)}},m.bindingHandlers.options.optionValueDomDataKey=m.utils.domData.nextKey(),m.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(e,t,n){m.utils.registerEventHandler(e,"change",function(){var r=t(),i=[];m.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&i.push(m.selectExtensions.readValue(e))}),m.expressionRewriting.writeValueToProperty(r,n,"selectedOptions",i)})},update:function(e,t){if("select"!=m.utils.tagNameLower(e))throw new Error("values binding applies only to SELECT elements");var n=m.utils.unwrapObservable(t());n&&"number"==typeof n.length&&m.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=m.utils.arrayIndexOf(n,m.selectExtensions.readValue(e))>=0;m.utils.setOptionNodeSelectionState(e,t)})}},m.expressionRewriting.twoWayBindings.selectedOptions=!0,m.bindingHandlers.style={update:function(e,n){var r=m.utils.unwrapObservable(n()||{});m.utils.objectForEach(r,function(n,r){r=m.utils.unwrapObservable(r),null!==r&&r!==t&&r!==!1||(r=""),e.style[n]=r})}},m.bindingHandlers.submit={init:function(e,t,n,r,i){if("function"!=typeof t())throw new Error("The value for a submit binding must be a function");m.utils.registerEventHandler(e,"submit",function(n){var r,o=t();try{r=o.call(i.$data,e)}finally{r!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},m.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){m.utils.setTextContent(e,t())}},m.virtualElements.allowedBindings.text=!0,function(){if(n&&n.navigator)var r=function(e){if(e)return parseFloat(e[1])},i=n.opera&&n.opera.version&&parseInt(n.opera.version()),o=n.navigator.userAgent,a=r(o.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),s=r(o.match(/Firefox\/([^ ]*)/));if(m.utils.ieVersion<10)var u=m.utils.domData.nextKey(),c=m.utils.domData.nextKey(),l=function(e){var t=this.activeElement,n=t&&m.utils.domData.get(t,c);n&&n(e)},d=function(e,t){var n=e.ownerDocument;m.utils.domData.get(n,u)||(m.utils.domData.set(n,u,!0),m.utils.registerEventHandler(n,"selectionchange",l)),m.utils.domData.set(e,c,t)};m.bindingHandlers.textInput={init:function(n,r,o){var u,c,l=n.value,f=function(i){clearTimeout(u),c=u=t;var a=n.value;l!==a&&(e&&i&&(n._ko_textInputProcessedEvent=i.type),l=a,m.expressionRewriting.writeValueToProperty(r(),o,"textInput",a))},p=function(t){if(!u){c=n.value;var r=e?f.bind(n,{type:t.type}):f;u=setTimeout(r,4)}},h=function(){var e=m.utils.unwrapObservable(r());return null!==e&&e!==t||(e=""),c!==t&&e===c?void setTimeout(h,4):void(n.value!==e&&(l=e,n.value=e))},_=function(e,t){m.utils.registerEventHandler(n,e,t)};e&&m.bindingHandlers.textInput._forceUpdateOn?m.utils.arrayForEach(m.bindingHandlers.textInput._forceUpdateOn,function(e){"after"==e.slice(0,5)?_(e.slice(5),p):_(e,f)}):m.utils.ieVersion<10?(_("propertychange",function(e){"value"===e.propertyName&&f(e)}),8==m.utils.ieVersion&&(_("keyup",f),_("keydown",f)),m.utils.ieVersion>=8&&(d(n,f),_("dragend",p))):(_("input",f),a<5&&"textarea"===m.utils.tagNameLower(n)?(_("keydown",p),_("paste",p),_("cut",p)):i<11?_("keydown",p):s<4&&(_("DOMAutoComplete",f),_("dragdrop",f),_("drop",f))),_("change",f),m.computed(h,null,{disposeWhenNodeIsRemoved:n})}},m.expressionRewriting.twoWayBindings.textInput=!0,m.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),m.bindingHandlers.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++m.bindingHandlers.uniqueName.currentIndex;m.utils.setElementName(e,n)}}},m.bindingHandlers.uniqueName.currentIndex=0,m.bindingHandlers.value={after:["options","foreach"],init:function(e,t,n){if("input"==e.tagName.toLowerCase()&&("checkbox"==e.type||"radio"==e.type))return void m.applyBindingAccessorsToNode(e,{checkedValue:t});var r=["change"],i=n.get("valueUpdate"),o=!1,a=null;i&&("string"==typeof i&&(i=[i]),m.utils.arrayPushAll(r,i),r=m.utils.arrayGetDistinctValues(r));var s=function(){a=null,o=!1;var r=t(),i=m.selectExtensions.readValue(e);m.expressionRewriting.writeValueToProperty(r,n,"value",i)},u=m.utils.ieVersion&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&"off"!=e.autocomplete&&(!e.form||"off"!=e.form.autocomplete);u&&m.utils.arrayIndexOf(r,"propertychange")==-1&&(m.utils.registerEventHandler(e,"propertychange",function(){o=!0}),m.utils.registerEventHandler(e,"focus",function(){o=!1}),m.utils.registerEventHandler(e,"blur",function(){o&&s()})),m.utils.arrayForEach(r,function(t){var n=s;m.utils.stringStartsWith(t,"after")&&(n=function(){a=m.selectExtensions.readValue(e),setTimeout(s,0)},t=t.substring("after".length)),m.utils.registerEventHandler(e,t,n)});var c=function(){var r=m.utils.unwrapObservable(t()),i=m.selectExtensions.readValue(e);if(null!==a&&r===a)return void setTimeout(c,0);var o=r!==i;if(o)if("select"===m.utils.tagNameLower(e)){var s=n.get("valueAllowUnset"),u=function(){m.selectExtensions.writeValue(e,r,s)};u(),s||r===m.selectExtensions.readValue(e)?setTimeout(u,0):m.dependencyDetection.ignore(m.utils.triggerEvent,null,[e,"change"])}else m.selectExtensions.writeValue(e,r)};m.computed(c,null,{disposeWhenNodeIsRemoved:e})},update:function(){}},m.expressionRewriting.twoWayBindings.value=!0,m.bindingHandlers.visible={update:function(e,t){var n=m.utils.unwrapObservable(t()),r=!("none"==e.style.display);n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},p("click"),m.templateEngine=function(){},m.templateEngine.prototype.renderTemplateSource=function(e,t,n,r){throw new Error("Override renderTemplateSource")},m.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},m.templateEngine.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||r;var n=t.getElementById(e);if(!n)throw new Error("Cannot find template with ID "+e);return new m.templateSources.domElement(n)}if(1==e.nodeType||8==e.nodeType)return new m.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},m.templateEngine.prototype.renderTemplate=function(e,t,n,r){var i=this.makeTemplateSource(e,r);return this.renderTemplateSource(i,t,n,r)},m.templateEngine.prototype.isTemplateRewritten=function(e,t){return this.allowTemplateRewriting===!1||this.makeTemplateSource(e,t).data("isRewritten")},m.templateEngine.prototype.rewriteTemplate=function(e,t,n){var r=this.makeTemplateSource(e,n),i=t(r.text());r.text(i),r.data("isRewritten",!0)},m.exportSymbol("templateEngine",m.templateEngine),m.templateRewriting=function(){function e(e){for(var t=m.expressionRewriting.bindingRewriteValidators,n=0;n<e.length;n++){var r=e[n].key;if(t.hasOwnProperty(r)){var i=t[r];if("function"==typeof i){var o=i(e[n].value);if(o)throw new Error(o)}else if(!i)throw new Error("This template engine does not support the '"+r+"' binding within its templates")}}}function t(t,n,r,i){var o=m.expressionRewriting.parseObjectLiteral(t);e(o);var a=m.expressionRewriting.preProcessBindings(o,{valueAccessors:!0}),s="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a+" } })()},'"+r.toLowerCase()+"')";return i.createJavaScriptEvaluatorBlock(s)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,r=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return m.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(e,i){return e.replace(n,function(){return t(arguments[4],arguments[1],arguments[2],i)}).replace(r,function(){return t(arguments[1],"<!-- ko -->","#comment",i)})},applyMemoizedBindingsToNextSibling:function(e,t){return m.memoization.memoize(function(n,r){var i=n.nextSibling;i&&i.nodeName.toLowerCase()===t&&m.applyBindingAccessorsToNode(i,e,r)})}}}(),m.exportSymbol("__tr_ambtns",m.templateRewriting.applyMemoizedBindingsToNextSibling),function(){m.templateSources={},m.templateSources.domElement=function(e){this.domElement=e},m.templateSources.domElement.prototype.text=function(){var e=m.utils.tagNameLower(this.domElement),t="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.domElement[t];var n=arguments[0];"innerHTML"===t?m.utils.setHtml(this.domElement,n):this.domElement[t]=n};var e=m.utils.domData.nextKey()+"_";m.templateSources.domElement.prototype.data=function(t){return 1===arguments.length?m.utils.domData.get(this.domElement,e+t):void m.utils.domData.set(this.domElement,e+t,arguments[1])};var n=m.utils.domData.nextKey();m.templateSources.anonymousTemplate=function(e){this.domElement=e},m.templateSources.anonymousTemplate.prototype=new m.templateSources.domElement,m.templateSources.anonymousTemplate.prototype.constructor=m.templateSources.anonymousTemplate,m.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var e=m.utils.domData.get(this.domElement,n)||{};return e.textData===t&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}var r=arguments[0];m.utils.domData.set(this.domElement,n,{textData:r})},m.templateSources.domElement.prototype.nodes=function(){if(0==arguments.length){var e=m.utils.domData.get(this.domElement,n)||{};return e.containerData}var t=arguments[0];m.utils.domData.set(this.domElement,n,{containerData:t})},m.exportSymbol("templateSources",m.templateSources),m.exportSymbol("templateSources.domElement",m.templateSources.domElement),m.exportSymbol("templateSources.anonymousTemplate",m.templateSources.anonymousTemplate)}(),function(){function e(e,t,n){for(var r,i=e,o=m.virtualElements.nextSibling(t);i&&(r=i)!==o;)i=m.virtualElements.nextSibling(r),n(r,i)}function n(t,n){if(t.length){var r=t[0],i=t[t.length-1],o=r.parentNode,a=m.bindingProvider.instance,s=a.preprocessNode;if(s){if(e(r,i,function(e,t){var n=e.previousSibling,o=s.call(a,e);o&&(e===r&&(r=o[0]||t),e===i&&(i=o[o.length-1]||n))}),t.length=0,!r)return;r===i?t.push(r):(t.push(r,i),m.utils.fixUpContinuousNodeArray(t,o))}e(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||m.applyBindings(n,e)}),e(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||m.memoization.unmemoizeDomNodeAndDescendants(e,[n])}),m.utils.fixUpContinuousNodeArray(t,o)}}function r(e){return e.nodeType?e:e.length>0?e[0]:null}function i(e,t,i,o,a){a=a||{};var u=e&&r(e),c=(u||i||{}).ownerDocument,l=a.templateEngine||s;m.templateRewriting.ensureTemplateIsRewritten(i,l,c);var d=l.renderTemplate(i,o,a,c);if("number"!=typeof d.length||d.length>0&&"number"!=typeof d[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var f=!1;switch(t){case"replaceChildren":m.virtualElements.setDomNodeChildren(e,d),f=!0;break;case"replaceNode":m.utils.replaceDomNodes(e,d),f=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t)}return f&&(n(d,o),a.afterRender&&m.dependencyDetection.ignore(a.afterRender,null,[d,o.$data])),d}function o(e,t,n){return m.isObservable(e)?e():"function"==typeof e?e(t,n):e}function a(e,n){var r=m.utils.domData.get(e,u);r&&"function"==typeof r.dispose&&r.dispose(),m.utils.domData.set(e,u,n&&n.isActive()?n:t)}var s;m.setTemplateEngine=function(e){if(e!=t&&!(e instanceof m.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");s=e},m.renderTemplate=function(e,n,a,u,c){if(a=a||{},(a.templateEngine||s)==t)throw new Error("Set a template engine before calling renderTemplate");if(c=c||"replaceChildren",u){var l=r(u),d=function(){return!l||!m.utils.domNodeIsAttachedToDocument(l)},f=l&&"replaceNode"==c?l.parentNode:l;return m.dependentObservable(function(){var t=n&&n instanceof m.bindingContext?n:new m.bindingContext(m.utils.unwrapObservable(n)),s=o(e,t.$data,t),d=i(u,c,s,t,a);"replaceNode"==c&&(u=d,l=r(u))},null,{disposeWhen:d,disposeWhenNodeIsRemoved:f})}return m.memoization.memoize(function(t){m.renderTemplate(e,n,a,t,"replaceNode")})},m.renderTemplateForEach=function(e,r,a,s,u){var c,l=function(t,n){c=u.createChildContext(t,a.as,function(e){e.$index=n});var r=o(e,t,c);return i(null,"ignoreTargetNode",r,c,a)},d=function(e,t,r){n(t,c),a.afterRender&&a.afterRender(t,e),c=null};return m.dependentObservable(function(){var e=m.utils.unwrapObservable(r)||[];"undefined"==typeof e.length&&(e=[e]);var n=m.utils.arrayFilter(e,function(e){return a.includeDestroyed||e===t||null===e||!m.utils.unwrapObservable(e._destroy)});m.dependencyDetection.ignore(m.utils.setDomNodeChildrenFromArrayMapping,null,[s,n,l,a,d])},null,{disposeWhenNodeIsRemoved:s})};var u=m.utils.domData.nextKey();m.bindingHandlers.template={init:function(e,t){var n=m.utils.unwrapObservable(t());if("string"==typeof n||n.name)m.virtualElements.emptyNode(e);else if("nodes"in n){var r=n.nodes||[];if(m.isObservable(r))throw new Error('The "nodes" option must be a plain, non-observable array.');var i=m.utils.moveCleanedNodesToContainerElement(r);new m.templateSources.anonymousTemplate(e).nodes(i)}else{var o=m.virtualElements.childNodes(e),i=m.utils.moveCleanedNodesToContainerElement(o);new m.templateSources.anonymousTemplate(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,n,r,i){var o,s,u=t(),c=m.utils.unwrapObservable(u),l=!0,d=null;if("string"==typeof c?(s=u,c={}):(s=c.name,"if"in c&&(l=m.utils.unwrapObservable(c["if"])),l&&"ifnot"in c&&(l=!m.utils.unwrapObservable(c.ifnot)),o=m.utils.unwrapObservable(c.data)),"foreach"in c){var f=l&&c.foreach||[];d=m.renderTemplateForEach(s||e,f,c,e,i)}else if(l){var p="data"in c?i.createChildContext(o,c.as):i;d=m.renderTemplate(s||e,p,c,e)}else m.virtualElements.emptyNode(e);a(e,d)}},m.expressionRewriting.bindingRewriteValidators.template=function(e){var t=m.expressionRewriting.parseObjectLiteral(e);return 1==t.length&&t[0].unknown?null:m.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},m.virtualElements.allowedBindings.template=!0}(),m.exportSymbol("setTemplateEngine",m.setTemplateEngine),m.exportSymbol("renderTemplate",m.renderTemplate),m.utils.findMovesInArrayComparison=function(e,t,n){if(e.length&&t.length){var r,i,o,a,s;for(r=i=0;(!n||r<n)&&(a=e[i]);++i){for(o=0;s=t[o];++o)if(a.value===s.value){a.moved=s.index,s.moved=a.index,t.splice(o,1),r=o=0;break}r+=o}}},m.utils.compareArrays=function(){function e(e,i,o){return o="boolean"==typeof o?{dontLimitMoves:o}:o||{},e=e||[],i=i||[],e.length<=i.length?t(e,i,n,r,o):t(i,e,r,n,o)}function t(e,t,n,r,i){var o,a,s,u,c,l,d=Math.min,f=Math.max,p=[],h=e.length,_=t.length,g=_-h||1,y=h+_+1;for(o=0;o<=h;o++)for(u=s,p.push(s=[]),c=d(_,o+g),l=f(0,o-1),a=l;a<=c;a++)if(a)if(o)if(e[o-1]===t[a-1])s[a]=u[a-1];else{var v=u[a]||y,b=s[a-1]||y;s[a]=d(v,b)+1}else s[a]=a+1;else s[a]=o+1;var M,w=[],T=[],L=[];for(o=h,a=_;o||a;)M=p[o][a]-1,a&&M===p[o][a-1]?T.push(w[w.length]={status:n,value:t[--a],index:a}):o&&M===p[o-1][a]?L.push(w[w.length]={status:r,value:e[--o],index:o}):(--a,--o,i.sparse||w.push({status:"retained",value:t[a]}));return m.utils.findMovesInArrayComparison(T,L,10*h),w.reverse()}var n="added",r="deleted";return e}(),m.exportSymbol("utils.compareArrays",m.utils.compareArrays),function(){function e(e,n,r,i,o){var a=[],s=m.dependentObservable(function(){var t=n(r,o,m.utils.fixUpContinuousNodeArray(a,e))||[];a.length>0&&(m.utils.replaceDomNodes(a,t),i&&m.dependencyDetection.ignore(i,null,[r,t,o])),a.length=0,m.utils.arrayPushAll(a,t)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!m.utils.anyDomNodeIsAttachedToDocument(a)}});return{mappedNodes:a,dependentObservable:s.isActive()?s:t}}var n=m.utils.domData.nextKey();m.utils.setDomNodeChildrenFromArrayMapping=function(r,i,o,a,s){function u(e,t){l=h[t],b!==t&&(L[e]=l),l.indexObservable(b++),m.utils.fixUpContinuousNodeArray(l.mappedNodes,r),y.push(l),w.push(l)}function c(e,t){if(e)for(var n=0,r=t.length;n<r;n++)t[n]&&m.utils.arrayForEach(t[n].mappedNodes,function(r){e(r,n,t[n].arrayEntry)})}i=i||[],a=a||{};for(var l,d,f,p=m.utils.domData.get(r,n)===t,h=m.utils.domData.get(r,n)||[],_=m.utils.arrayMap(h,function(e){return e.arrayEntry}),g=m.utils.compareArrays(_,i,a.dontLimitMoves),y=[],v=0,b=0,M=[],w=[],T=[],L=[],k=[],x=0;d=g[x];x++)switch(f=d.moved,d.status){case"deleted":f===t&&(l=h[v],l.dependentObservable&&l.dependentObservable.dispose(),M.push.apply(M,m.utils.fixUpContinuousNodeArray(l.mappedNodes,r)),a.beforeRemove&&(T[x]=l,w.push(l))),v++;break;case"retained":u(x,v++);break;case"added":f!==t?u(x,f):(l={arrayEntry:d.value,indexObservable:m.observable(b++)},y.push(l),w.push(l),p||(k[x]=l))}c(a.beforeMove,L),m.utils.arrayForEach(M,a.beforeRemove?m.cleanNode:m.removeNode);for(var A,S,x=0,D=m.virtualElements.firstChild(r);l=w[x];x++){l.mappedNodes||m.utils.extend(l,e(r,o,l.arrayEntry,s,l.indexObservable));for(var Y=0;S=l.mappedNodes[Y];D=S.nextSibling,A=S,Y++)S!==D&&m.virtualElements.insertAfter(r,S,A);!l.initialized&&s&&(s(l.arrayEntry,l.mappedNodes,l.indexObservable),l.initialized=!0)}c(a.beforeRemove,T),c(a.afterMove,L),c(a.afterAdd,k),m.utils.domData.set(r,n,y)}}(),m.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",m.utils.setDomNodeChildrenFromArrayMapping),m.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},m.nativeTemplateEngine.prototype=new m.templateEngine,m.nativeTemplateEngine.prototype.constructor=m.nativeTemplateEngine,m.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,n,r){var i=!(m.utils.ieVersion<9),o=i?e.nodes:null,a=o?e.nodes():null;if(a)return m.utils.makeArray(a.cloneNode(!0).childNodes);var s=e.text();return m.utils.parseHtmlFragment(s,r)},m.nativeTemplateEngine.instance=new m.nativeTemplateEngine,m.setTemplateEngine(m.nativeTemplateEngine.instance),m.exportSymbol("nativeTemplateEngine",m.nativeTemplateEngine),function(){m.jqueryTmplTemplateEngine=function(){function e(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function t(e,t,n){return o.tmpl(e,t,n)}var n=this.jQueryTmplVersion=function(){if(!o||!o.tmpl)return 0;try{if(o.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,i,a,s){s=s||r,a=a||{},e();var u=n.data("precompiled");if(!u){var c=n.text()||"";c="{{ko_with $item.koBindingContext}}"+c+"{{/ko_with}}",u=o.template(null,c),n.data("precompiled",u)}var l=[i.$data],d=o.extend({koBindingContext:i},a.templateOptions),f=t(u,l,d);return f.appendTo(s.createElement("div")),o.fragments={},f},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){r.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},n>0&&(o.tmpl.tag.ko_code={open:"__.push($1 || '');"},o.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},m.jqueryTmplTemplateEngine.prototype=new m.templateEngine,m.jqueryTmplTemplateEngine.prototype.constructor=m.jqueryTmplTemplateEngine;var e=new m.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&m.setTemplateEngine(e),m.exportSymbol("jqueryTmplTemplateEngine",m.jqueryTmplTemplateEngine)}()})}()}(),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Ae.call(e,t)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){Me.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function o(e,t){var n=!0;return h(function(){return n&&(i(e),n=!1),t.apply(this,arguments)},t)}function a(e,t){yt[e]||(i(t),yt[e]=!0)}function s(e,t){return function(n){return g(e.call(this,n),t)}}function u(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),
r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)}function l(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function d(){}function f(e,t){t!==!1&&j(e),m(this,e),this._d=new Date((+e._d)),bt===!1&&(bt=!0,Me.updateOffset(this),bt=!1)}function p(e){var t=x(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=Me.localeData(),this._bubble()}function h(e,t){for(var r in t)n(t,r)&&(e[r]=t[r]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),ze.length>0)for(n in ze)r=ze[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function _(e){return e<0?Math.ceil(e):Math.floor(e)}function g(e,t,n){for(var r=""+Math.abs(e),i=e>=0;r.length<t;)r="0"+r;return(i?n?"+":"":"-")+r}function y(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function v(e,t){var n;return t=W(t,e),e.isBefore(t)?n=y(e,t):(n=y(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function b(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(a(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Me.duration(n,r),M(this,i,e),this}}function M(e,t,n,r){var i=t._milliseconds,o=t._days,a=t._months;r=null==r||r,i&&e._d.setTime(+e._d+i*n),o&&me(e,"Date",he(e,"Date")+o*n),a&&pe(e,he(e,"Month")+a*n),r&&Me.updateOffset(e,o||a)}function w(e){return"[object Array]"===Object.prototype.toString.call(e)}function T(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function L(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&S(e[r])!==S(t[r]))&&a++;return a+o}function k(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=dt[e]||ft[t]||t}return e}function x(e){var t,r,i={};for(r in e)n(e,r)&&(t=k(r),t&&(i[t]=e[r]));return i}function A(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}Me[t]=function(i,o){var a,s,u=Me._locale[t],c=[];if("number"==typeof i&&(o=i,i=e),s=function(e){var t=Me().utc().set(r,e);return u.call(Me._locale,t,i||"")},null!=o)return s(o);for(a=0;a<n;a++)c.push(s(a));return c}}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function D(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Y(e,t,n){return ce(Me([e,11,31+t-n]),t,n).week}function E(e){return C(e)?366:365}function C(e){return e%4===0&&e%100!==0||e%400===0}function j(e){var t;e._a&&e._pf.overflow===-2&&(t=e._a[De]<0||e._a[De]>11?De:e._a[Ye]<1||e._a[Ye]>D(e._a[Se],e._a[De])?Ye:e._a[Ee]<0||e._a[Ee]>24||24===e._a[Ee]&&(0!==e._a[Ce]||0!==e._a[je]||0!==e._a[Oe])?Ee:e._a[Ce]<0||e._a[Ce]>59?Ce:e._a[je]<0||e._a[je]>59?je:e._a[Oe]<0||e._a[Oe]>999?Oe:-1,e._pf._overflowDayOfYear&&(t<Se||t>Ye)&&(t=Ye),e._pf.overflow=t)}function O(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function N(e){return e?e.toLowerCase().replace("_","-"):e}function z(e){for(var t,n,r,i,o=0;o<e.length;){for(i=N(e[o]).split("-"),t=i.length,n=N(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=P(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&L(i,n,!0)>=t-1)break;t--}o++}return null}function P(e){var t=null;if(!Ne[e]&&Pe)try{t=Me.locale(),require("./locale/"+e),Me.locale(t)}catch(n){}return Ne[e]}function W(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Me.isMoment(e)||T(e)?+e:+Me(e))-+n,n._d.setTime(+n._d+r),Me.updateOffset(n,!1),n):Me(e).local()}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,n,r=e.match(Be);for(t=0,n=r.length;t<n;t++)gt[r[t]]?r[t]=gt[r[t]]:r[t]=H(r[t]);return function(i){var o="";for(t=0;t<n;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}function B(e,t){return e.isValid()?(t=F(t,e.localeData()),pt[t]||(pt[t]=R(t)),pt[t](e)):e.localeData().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Fe.lastIndex=0;r>=0&&Fe.test(e);)e=e.replace(Fe,n),Fe.lastIndex=0,r-=1;return e}function q(e,t){var n,r=t._strict;switch(e){case"Q":return Ze;case"DDDD":return tt;case"YYYY":case"GGGG":case"gggg":return r?nt:Ue;case"Y":case"G":case"g":return it;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?rt:Ge;case"S":if(r)return Ze;case"SS":if(r)return et;case"SSS":if(r)return tt;case"DDD":return Ie;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Je;case"a":case"A":return t._locale._meridiemParse;case"x":return Xe;case"X":return Qe;case"Z":case"ZZ":return $e;case"T":return Ke;case"SSSS":return Ve;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?et:qe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return qe;case"Do":return r?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Q(X(e.replace("\\","")),"i"))}}function I(e){e=e||"";var t=e.match($e)||[],n=t[t.length-1]||[],r=(n+"").match(ct)||["-",0,0],i=+(60*r[1])+S(r[2]);return"+"===r[0]?i:-i}function U(e,t,n){var r,i=n._a;switch(e){case"Q":null!=t&&(i[De]=3*(S(t)-1));break;case"M":case"MM":null!=t&&(i[De]=S(t)-1);break;case"MMM":case"MMMM":r=n._locale.monthsParse(t,e,n._strict),null!=r?i[De]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[Ye]=S(t));break;case"Do":null!=t&&(i[Ye]=S(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=S(t));break;case"YY":i[Se]=Me.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[Se]=S(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":i[Ee]=S(t);break;case"m":case"mm":i[Ce]=S(t);break;case"s":case"ss":i[je]=S(t);break;case"S":case"SS":case"SSS":case"SSSS":i[Oe]=S(1e3*("0."+t));break;case"x":n._d=new Date(S(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=I(t);break;case"dd":case"ddd":case"dddd":r=n._locale.weekdaysParse(t),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=S(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=Me.parseTwoDigitYear(t)}}function G(e){var n,r,i,o,a,s,u;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,s=4,r=t(n.GG,e._a[Se],ce(Me(),1,4).year),i=t(n.W,1),o=t(n.E,1)):(a=e._locale._week.dow,s=e._locale._week.doy,r=t(n.gg,e._a[Se],ce(Me(),a,s).year),i=t(n.w,1),null!=n.d?(o=n.d,o<a&&++i):o=null!=n.e?n.e+a:a),u=le(r,i,o,s,a),e._a[Se]=u.year,e._dayOfYear=u.dayOfYear}function V(e){var n,r,i,o,a=[];if(!e._d){for(i=$(e),e._w&&null==e._a[Ye]&&null==e._a[De]&&G(e),e._dayOfYear&&(o=t(e._a[Se],i[Se]),e._dayOfYear>E(o)&&(e._pf._overflowDayOfYear=!0),r=oe(o,0,e._dayOfYear),e._a[De]=r.getUTCMonth(),e._a[Ye]=r.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=a[n]=i[n];for(;n<7;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Ee]&&0===e._a[Ce]&&0===e._a[je]&&0===e._a[Oe]&&(e._nextDay=!0,e._a[Ee]=0),e._d=(e._useUTC?oe:ie).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ee]=24)}}function J(e){var t;e._d||(t=x(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],V(e))}function $(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function K(t){if(t._f===Me.ISO_8601)return void ee(t);t._a=[],t._pf.empty=!0;var n,r,i,o,a,s=""+t._i,u=s.length,c=0;for(i=F(t._f,t._locale).match(Be)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(q(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&t._pf.unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),gt[o]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(o),U(o,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=u-c,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[Ee]<=12&&(t._pf.bigHour=e),t._a[Ee]=l(t._locale,t._a[Ee],t._meridiem),V(t),j(t)}function X(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e){var t,n,i,o,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)a=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=r(),t._f=e._f[o],K(t),O(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==i||a<i)&&(i=a,n=t));h(e,n||t)}function ee(e){var t,n,r=e._i,i=ot.exec(r);if(i){for(e._pf.iso=!0,t=0,n=st.length;t<n;t++)if(st[t][1].exec(r)){e._f=st[t][0]+(i[6]||" ");break}for(t=0,n=ut.length;t<n;t++)if(ut[t][1].exec(r)){e._f+=ut[t][0];break}r.match($e)&&(e._f+="Z"),K(e)}else e._isValid=!1}function te(e){ee(e),e._isValid===!1&&(delete e._isValid,Me.createFromInputFallback(e))}function ne(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function re(t){var n,r=t._i;r===e?t._d=new Date:T(r)?t._d=new Date((+r)):null!==(n=We.exec(r))?t._d=new Date((+n[1])):"string"==typeof r?te(t):w(r)?(t._a=ne(r.slice(0),function(e){return parseInt(e,10)}),V(t)):"object"==typeof r?J(t):"number"==typeof r?t._d=new Date(r):Me.createFromInputFallback(t)}function ie(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<1970&&s.setFullYear(e),s}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function ae(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function se(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ue(e,t,n){var r=Me.duration(e).abs(),i=xe(r.as("s")),o=xe(r.as("m")),a=xe(r.as("h")),s=xe(r.as("d")),u=xe(r.as("M")),c=xe(r.as("y")),l=i<ht.s&&["s",i]||1===o&&["m"]||o<ht.m&&["mm",o]||1===a&&["h"]||a<ht.h&&["hh",a]||1===s&&["d"]||s<ht.d&&["dd",s]||1===u&&["M"]||u<ht.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,se.apply({},l)}function ce(e,t,n){var r,i=n-t,o=n-e.day();return o>i&&(o-=7),o<i-7&&(o+=7),r=Me(e).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function le(e,t,n,r,i){var o,a,s=oe(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,o=i-s+(s>r?7:0)-(s<i?7:0),a=7*(t-1)+(n-i)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:E(e-1)+a}}function de(t){var n,r=t._i,i=t._f;return t._locale=t._locale||Me.localeData(t._l),null===r||i===e&&""===r?Me.invalid({nullInput:!0}):("string"==typeof r&&(t._i=r=t._locale.preparse(r)),Me.isMoment(r)?new f(r,(!0)):(i?w(i)?Z(t):K(t):re(t),n=new f(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function fe(e,t){var n,r;if(1===t.length&&w(t[0])&&(t=t[0]),!t.length)return Me();for(n=t[0],r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function pe(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),D(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function he(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function me(e,t,n){return"Month"===t?pe(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function _e(e,t){return function(n){return null!=n?(me(this,e,n),Me.updateOffset(this,t),this):he(this,e)}}function ge(e){return 400*e/146097}function ye(e){return 146097*e/400}function ve(e){Me.duration.fn[e]=function(){return this._data[e]}}function be(e){"undefined"==typeof ender&&(we=ke.moment,e?ke.moment=o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Me):ke.moment=Me)}for(var Me,we,Te,Le="2.9.0",ke="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,xe=Math.round,Ae=Object.prototype.hasOwnProperty,Se=0,De=1,Ye=2,Ee=3,Ce=4,je=5,Oe=6,Ne={},ze=[],Pe="undefined"!=typeof module&&module&&module.exports,We=/^\/?Date\((\-?\d+)/i,He=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Re=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Be=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Fe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qe=/\d\d?/,Ie=/\d{1,3}/,Ue=/\d{1,4}/,Ge=/[+\-]?\d{1,6}/,Ve=/\d+/,Je=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$e=/Z|[\+\-]\d\d:?\d\d/gi,Ke=/T/i,Xe=/[\+\-]?\d+/,Qe=/[\+\-]?\d+(\.\d{1,3})?/,Ze=/\d/,et=/\d\d/,tt=/\d{3}/,nt=/\d{4}/,rt=/[+-]?\d{6}/,it=/[+-]?\d+/,ot=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at="YYYY-MM-DDTHH:mm:ssZ",st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ut=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ct=/([\+\-]|\d\d)/gi,lt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),dt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ft={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pt={},ht={s:45,m:45,h:22,d:26,M:11},mt="DDD w W M D d".split(" "),_t="M D H h m s w W".split(" "),gt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},YYYYY:function(){return g(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+g(Math.abs(e),6)},gg:function(){return g(this.weekYear()%100,2)},gggg:function(){return g(this.weekYear(),4)},ggggg:function(){return g(this.weekYear(),5)},GG:function(){return g(this.isoWeekYear()%100,2)},GGGG:function(){return g(this.isoWeekYear(),4)},GGGGG:function(){return g(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return g(S(this.milliseconds()/10),2)},SSS:function(){return g(this.milliseconds(),3)},SSSS:function(){return g(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+g(S(e/60),2)+":"+g(S(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+g(S(e/60),2)+g(S(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},yt={},vt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],bt=!1;mt.length;)Te=mt.pop(),gt[Te+"o"]=u(gt[Te],Te);for(;_t.length;)Te=_t.pop(),gt[Te+Te]=s(gt[Te],2);gt.DDDD=s(gt.DDD,3),h(d.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Me.utc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;t<7;t++)if(this._weekdaysParse[t]||(n=Me([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var r=this._calendar[e];return"function"==typeof r?r.apply(t,[n]):r},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ce(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),Me=function(t,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._i=t,a._f=n,a._l=i,a._strict=o,a._isUTC=!1,a._pf=r(),de(a)},Me.suppressDeprecationWarnings=!1,Me.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),Me.min=function(){var e=[].slice.call(arguments,0);return fe("isBefore",e)},Me.max=function(){var e=[].slice.call(arguments,0);return fe("isAfter",e)},Me.utc=function(t,n,i,o){var a;return"boolean"==typeof i&&(o=i,i=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=i,a._i=t,a._f=n,a._strict=o,a._pf=r(),de(a).utc()},Me.unix=function(e){return Me(1e3*e)},Me.duration=function(e,t){var r,i,o,a,s=e,u=null;return Me.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(u=He.exec(e))?(r="-"===u[1]?-1:1,s={y:0,d:S(u[Ye])*r,h:S(u[Ee])*r,m:S(u[Ce])*r,s:S(u[je])*r,ms:S(u[Oe])*r}):(u=Re.exec(e))?(r="-"===u[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*r},s={y:o(u[2]),M:o(u[3]),d:o(u[4]),h:o(u[5]),m:o(u[6]),s:o(u[7]),w:o(u[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=v(Me(s.from),Me(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),i=new p(s),Me.isDuration(e)&&n(e,"_locale")&&(i._locale=e._locale),i},Me.version=Le,Me.defaultFormat=at,Me.ISO_8601=function(){},Me.momentProperties=ze,Me.updateOffset=function(){},Me.relativeTimeThreshold=function(t,n){return ht[t]!==e&&(n===e?ht[t]:(ht[t]=n,!0))},Me.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return Me.locale(e,t)}),Me.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?Me.defineLocale(e,t):Me.localeData(e),n&&(Me.duration._locale=Me._locale=n)),Me._locale._abbr},Me.defineLocale=function(e,t){return null!==t?(t.abbr=e,Ne[e]||(Ne[e]=new d),Ne[e].set(t),Me.locale(e),Ne[e]):(delete Ne[e],null)},Me.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return Me.localeData(e)}),Me.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Me._locale;if(!w(e)){if(t=P(e))return t;e=[e]}return z(e)},Me.isMoment=function(e){return e instanceof f||null!=e&&n(e,"_isAMomentObject")},Me.isDuration=function(e){return e instanceof p};for(Te=vt.length-1;Te>=0;--Te)A(vt[Te]);Me.normalizeUnits=function(e){return k(e)},Me.invalid=function(e){var t=Me.utc(NaN);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},Me.parseZone=function(){return Me.apply(null,arguments).parseZone()},Me.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)},Me.isDate=T,h(Me.fn=f.prototype,{clone:function(){return Me(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date((+this)):this._d},toISOString:function(){var e=Me(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():B(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return O(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&L(this._a,(this._isUTC?Me.utc(this._a):Me(this._a)).toArray())>0)},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=B(this,e||Me.defaultFormat);return this.localeData().postformat(t)},add:b(1,"add"),subtract:b(-1,"subtract"),diff:function(e,t,n){var r,i,o=W(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=k(t),"year"===t||"month"===t||"quarter"===t?(i=c(this,o),"quarter"===t?i/=3:"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-a)/864e5:"week"===t?(r-a)/6048e5:r),n?i:_(i)},from:function(e,t){return Me.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(Me(),e)},calendar:function(e){var t=e||Me(),n=W(t,this).startOf("day"),r=this.diff(n,"days",!0),i=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,Me(t)))},isLeapYear:function(){return C(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ae(e,this.localeData()),this.add(e-t,"d")):t},month:_e("Month",!0),startOf:function(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=k(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Me.isMoment(e)?e:Me(e),+this>+e):(n=Me.isMoment(e)?+e:+Me(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Me.isMoment(e)?e:Me(e),+this<+e):(n=Me.isMoment(e)?+e:+Me(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},isSame:function(e,t){var n;return t=k(t||"millisecond"),"millisecond"===t?(e=Me.isMoment(e)?e:Me(e),+this===+e):(n=+Me(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=Me.apply(null,arguments),e<this?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=Me.apply(null,arguments),e>this?this:e}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,r=this._offset||0;return null!=e?("string"==typeof e&&(e=I(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?M(this,Me.duration(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Me.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(I(this._i)),this},hasAlignedHourOffset:function(e){return e=e?Me(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(e){var t=xe((Me(this).startOf("day")-Me(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ce(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ce(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return Y(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return Y(this.year(),e.dow,e.doy)},get:function(e){return e=k(e),this[e]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else e=k(e),"function"==typeof this[e]&&this[e](t);return this},locale:function(t){var n;return t===e?this._locale._abbr:(n=Me.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),Me.fn.millisecond=Me.fn.milliseconds=_e("Milliseconds",!1),Me.fn.second=Me.fn.seconds=_e("Seconds",!1),Me.fn.minute=Me.fn.minutes=_e("Minutes",!1),Me.fn.hour=Me.fn.hours=_e("Hours",!0),Me.fn.date=_e("Date",!0),Me.fn.dates=o("dates accessor is deprecated. Use date instead.",_e("Date",!0)),Me.fn.year=_e("FullYear",!0),Me.fn.years=o("years accessor is deprecated. Use year instead.",_e("FullYear",!0)),Me.fn.days=Me.fn.day,Me.fn.months=Me.fn.month,Me.fn.weeks=Me.fn.week,Me.fn.isoWeeks=Me.fn.isoWeek,Me.fn.quarters=Me.fn.quarter,Me.fn.toJSON=Me.fn.toISOString,Me.fn.isUTC=Me.fn.isUtc,h(Me.duration.fn=p.prototype,{_bubble:function(){var e,t,n,r=this._milliseconds,i=this._days,o=this._months,a=this._data,s=0;a.milliseconds=r%1e3,e=_(r/1e3),a.seconds=e%60,t=_(e/60),a.minutes=t%60,n=_(t/60),a.hours=n%24,i+=_(n/24),s=_(ge(i)),i-=_(ye(s)),o+=_(i/30),i%=30,s+=_(o/12),o%=12,a.days=i,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return _(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)},humanize:function(e){var t=ue(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=Me.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=Me.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=k(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=k(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*ge(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ye(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;
case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:Me.fn.lang,locale:Me.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),Me.duration.fn.toString=Me.duration.fn.toISOString;for(Te in lt)n(lt,Te)&&ve(Te.toLowerCase());Me.duration.fn.asMilliseconds=function(){return this.as("ms")},Me.duration.fn.asSeconds=function(){return this.as("s")},Me.duration.fn.asMinutes=function(){return this.as("m")},Me.duration.fn.asHours=function(){return this.as("h")},Me.duration.fn.asDays=function(){return this.as("d")},Me.duration.fn.asWeeks=function(){return this.as("weeks")},Me.duration.fn.asMonths=function(){return this.as("M")},Me.duration.fn.asYears=function(){return this.as("y")},Me.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),function(e){e(Me)}(function(e){return e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}),function(e){e(Me)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})}),function(e){e(Me)}(function(e){return e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,n,o,a){var s=r(t),u=i[e][r(t)];return 2===s&&(u=u[n?0:1]),u.replace(/%d/i,t)}},a=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];return e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})}),function(e){e(Me)}(function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};return e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":"h"===r?n?"":"":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},r=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[r][e.day()]}return e.defineLocale("be",{months:r,monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,isPM:function(e){return/^(||)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}),function(e){e(Me)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,isPM:function(e){return/^(||)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}),function(e){e(Me)}(function(t){function n(e,t,n){var r={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+o(r[n],e)}function r(e){switch(i(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function i(e){return e>9?i(e%10):e}function o(e,t){return 2===t?a(e):e}function a(t){var n={m:"v",b:"v",d:"z"};return n[t.charAt(0)]===e?t:n[t.charAt(0)]+t.substring(1)}return t.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:n,h:"un eur",hh:"%d eur",d:"un devezh",dd:n,M:"ur miz",MM:n,y:"ur bloaz",yy:r},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e){return e>1&&e<5&&1!==~~(e/10)}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"pr sekund":"pr sekundami";case"m":return n?"minuta":i?"minutu":"minutou";case"mm":return n||i?o+(t(e)?"minuty":"minut"):o+"minutami";case"h":return n?"hodina":i?"hodinu":"hodinou";case"hh":return n||i?o+(t(e)?"hodiny":"hodin"):o+"hodinami";case"d":return n||i?"den":"dnem";case"dd":return n||i?o+(t(e)?"dny":"dn"):o+"dny";case"M":return n||i?"msc":"mscem";case"MM":return n||i?o+(t(e)?"msce":"msc"):o+"msci";case"y":return n||i?"rok":"rokem";case"yy":return n||i?o+(t(e)?"roky":"let"):o+"lety"}}var r="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),i="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");return e.defineLocale("cs",{months:r,monthsShort:i,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,i),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], LT",LLLL:"dddd, YYYY [] MMMM [] D[-], LT"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=r[t]),e+n},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return"function"==typeof n&&(n=n.apply(t)),n.replace("{}",r%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}),function(e){e(Me)}(function(e){return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e,t,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}return e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}),function(e){e(Me)}(function(e){function t(e,t,r,i){var o="";switch(r){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":o=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":o=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":o=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":o=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":o=i?"vuoden":"vuotta"}return o=n(e,i)+" "+o}function n(e,t){return e<10?t?i[e]:r[e]:e}var r="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),i=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",r[7],r[8],r[9]];return e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")}})}),function(e){e(Me)}(function(e){return e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY LT",LLLL:"dddd, D []MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10===0&&10!==e?e+" ":e+" "}}})}),function(e){e(Me)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}),function(e){e(Me)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("hr",{months:"sjeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){function t(e,t,n,r){var i=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return i+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return i+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return i+(r||t?" v":" ve")}return""}function n(e){return(e?"":"[mlt] ")+"["+r[this.day()]+"] LT[-kor]"}var r="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");return e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?n===!0?"de":"DE":n===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){function t(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function n(e,t){var n="___________".split("_");return n[e.month()]}function r(e,t){var n="______".split("_");return n[e.day()]}return e.defineLocale("hy-am",{months:t,monthsShort:n,weekdays:r,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){function t(e){return e%100===11||e%10!==1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"m":return n?"mnta":"mntu";case"mm":return t(e)?o+(n||i?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dgum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return t(e)?n?o+"mnuir":o+(i?"mnui":"mnuum"):n?o+"mnuur":o+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return t(e)?o+(n||i?"r":"rum"):o+(n||i?"r":"ri")}}return e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"LTs",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDLT",LLLL:"YYYYMDLT dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}),function(e){e(Me)}(function(e){function t(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function n(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},r=/(|)/.test(t)?"accusative":"nominative";return n[r][e.day()]}return e.defineLocale("ka",{months:t,monthsShort:"___________".split("_"),weekdays:n,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20===0||e%100===0?"-"+e:e+"-"},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"YYYY MMMM D dddd LT"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})}),function(e){e(Me)}(function(e){function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"a "+e:"an "+e}function r(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"viru "+e:"virun "+e}function i(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,n=e/10;return i(0===t?n:t)}if(e<1e4){for(;e>=10;)e/=10;return i(e)}return e/=1e3,i(e)}return e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:r,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"}function n(e,t,n,r){return t?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(e){return e%10===0||e>10&&e<20}function i(e){return s[e].split("_")}function o(e,t,o,a){var s=e+" ";return 1===e?s+n(e,t,o[0],a):t?s+(r(e)?i(o)[1]:i(o)[0]):a?s+i(o)[1]:s+(r(e)?i(o)[1]:i(o)[2])}function a(e,t){var n=t.indexOf("dddd HH:mm")===-1,r=u[e.day()];return n?r:r.substring(0,r.length-2)+"";
}var s={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},u="sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_");return e.defineLocale("lt",{months:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:a,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:t,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e,t,n){var r=e.split("_");return n?t%10===1&&11!==t?r[2]:r[3]:t%10===1&&11!==t?r[0]:r[1]}function n(e,n,i){return e+" "+t(r[i],e,n)}var r={mm:"minti_mintes_minte_mintes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mnesi_mneus_mnesis_mnei",yy:"gadu_gadus_gads_gadi"};return e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vlk",past:"%s agrk",s:"daas sekundes",m:"minti",mm:n,h:"stundu",hh:n,d:"dienu",dd:n,M:"mnesi",MM:n,y:"gadu",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,isPM:function(e){return/^( ||)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}),function(e){e(Me)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}),function(e){e(Me)}(function(e){return e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tirs_ons_tors_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<3?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<10?"":e<15?"":e<18?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function n(e,n,r){var i=e+" ";switch(r){case"m":return n?"minuta":"minut";case"mm":return i+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzin";case"hh":return i+(t(e)?"godziny":"godzin");case"MM":return i+(t(e)?"miesice":"miesicy");case"yy":return i+(t(e)?"lata":"lat")}}var r="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,t){return/D MMMM/.test(t)?i[e.month()]:r[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzie",dd:"%d dni",M:"miesic",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [s] LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"})}),function(e){e(Me)}(function(e){return e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e,t,n){var r={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},i=" ";return(e%100>=20||e>=100&&e%100===0)&&(i=" de "),e+i+r[n]}return e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:n?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function o(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},r=/\[ ?[] ?(?:||)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[r][e.day()]}return e.defineLocale("ru",{months:r,monthsShort:i,weekdays:o,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){function t(e){return e>1&&e<5}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"pr seknd":"pr sekundami";case"m":return n?"minta":i?"mintu":"mintou";case"mm":return n||i?o+(t(e)?"minty":"mint"):o+"mintami";case"h":return n?"hodina":i?"hodinu":"hodinou";case"hh":return n||i?o+(t(e)?"hodiny":"hodn"):o+"hodinami";case"d":return n||i?"de":"dom";case"dd":return n||i?o+(t(e)?"dni":"dn"):o+"dami";case"M":return n||i?"mesiac":"mesiacom";case"MM":return n||i?o+(t(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return n||i?"rok":"rokom";case"yy":return n||i?o+(t(e)?"roky":"rokov"):o+"rokmi"}}var r="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),i="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");return e.defineLocale("sk",{months:r,monthsShort:i,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(r,i),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur";case"dd":return r+=1===e?"dan":"dni";case"MM":return r+=1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev";case"yy":return r+=1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){var t={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};return e.defineLocale("sr-cyrl",{months:["","","","","","","","","","","",""],monthsShort:[".",".",".",".","","","",".",".",".",".","."],weekdays:["","","","","","",""],weekdaysShort:[".",".",".",".",".",".","."],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};return e.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"dddd LT",lastWeek:"[Frra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(e){return e+""},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}),function(e){e(Me)}(function(e){return e.defineLocale("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),
weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",LTS:"LT s ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  LT",LLLL:"dddd D MMMM YYYY  LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}),function(e){e(Me)}(function(e){return e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(e){if(0===e)return e+"'nc";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(e){e(Me)}(function(e){return e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}),function(e){e(Me)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":"h"===r?n?"":"":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},r=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[r][e.day()]}function o(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}return e.defineLocale("uk",{months:r,monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:o("[ "),nextDay:o("[ "),lastDay:o("[ "),nextWeek:o("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return o("[] dddd [").call(this);case 1:case 2:case 4:return o("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}),function(e){e(Me)}(function(e){return e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY LT",LLLL:"dddd, D MMMM [nm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},week:{dow:1,doy:4}})}),function(e){e(Me)}(function(e){return e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}})}),Me.locale("en"),Pe?module.exports=Me:"function"==typeof define&&define.amd?(define(function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(ke.moment=we),Me}),be(!0)):be()}.call(this),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["moment"],t):"object"==typeof exports?module.exports=t(require("moment")):t(e.moment)}(this,function(e){"use strict";function t(e){return e>96?e-87:e>64?e-29:e-48}function n(e){var n,r=0,i=e.split("."),o=i[0],a=i[1]||"",s=1,u=0,c=1;for(45===e.charCodeAt(0)&&(r=1,c=-1),r;r<o.length;r++)n=t(o.charCodeAt(r)),u=60*u+n;for(r=0;r<a.length;r++)s/=60,n=t(a.charCodeAt(r)),u+=n*s;return u*c}function r(e){for(var t=0;t<e.length;t++)e[t]=n(e[t])}function i(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}function o(e,t){var n,r=[];for(n=0;n<t.length;n++)r[n]=e[t[n]];return r}function a(e){var t=e.split("|"),n=t[2].split(" "),a=t[3].split(""),s=t[4].split(" ");return r(n),r(a),r(s),i(s,a.length),{name:t[0],abbrs:o(t[1].split(" "),a),offsets:o(n,a),untils:s}}function s(e){e&&this._set(a(e))}function u(e){return(e||"").toLowerCase().replace(/\//g,"_")}function c(e){var t,n,r;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|")[0],r=u(n),M[r]=e[t],T[r]=n}function l(e,t){e=u(e);var n,r=M[e];return r instanceof s?r:"string"==typeof r?(r=new s(r),M[e]=r,r):w[e]&&t!==l&&(n=l(w[e],l))?(r=M[e]=new s,r._set(n),r.name=T[e],r):null}function d(){var e,t=[];for(e in T)T.hasOwnProperty(e)&&(M[e]||M[w[e]])&&T[e]&&t.push(T[e]);return t.sort()}function f(e){var t,n,r,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),r=u(n[0]),i=u(n[1]),w[r]=i,T[r]=n[0],w[i]=r,T[i]=n[1]}function p(e){c(e.zones),f(e.links),g.dataVersion=e.version}function h(e){return h.didShowError||(h.didShowError=!0,_("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!l(e)}function m(e){return!(!e._a||void 0!==e._tzm)}function _(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function g(t){var n=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],i=l(r),o=e.utc.apply(null,n);return i&&!e.isMoment(t)&&m(o)&&o.add(i.parse(o),"minutes"),o.tz(r),o}function y(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function v(e){return function(){return this._z=null,e.apply(this,arguments)}}if(void 0!==e.tz)return _("Moment Timezone "+e.tz.version+" was already loaded "+(e.tz.dataVersion?"with data from ":"without any data")+e.tz.dataVersion),e;var b="0.4.1",M={},w={},T={},L=e.version.split("."),k=+L[0],x=+L[1];(k<2||2===k&&x<6)&&_("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),s.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},_index:function(e){var t,n=+e,r=this.untils;for(t=0;t<r.length;t++)if(n<r[t])return t},parse:function(e){var t,n,r,i,o=+e,a=this.offsets,s=this.untils,u=s.length-1;for(i=0;i<u;i++)if(t=a[i],n=a[i+1],r=a[i?i-1:i],t<n&&g.moveAmbiguousForward?t=n:t>r&&g.moveInvalidForward&&(t=r),o<s[i]-6e4*t)return a[i];return a[u]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},g.version=b,g.dataVersion="",g._zones=M,g._links=w,g._names=T,g.add=c,g.link=f,g.load=p,g.zone=l,g.zoneExists=h,g.names=d,g.Zone=s,g.unpack=a,g.unpackBase60=n,g.needsOffset=m,g.moveInvalidForward=!0,g.moveAmbiguousForward=!1;var A=e.fn;e.tz=g,e.defaultZone=null,e.updateOffset=function(t,n){var r,i=e.defaultZone;void 0===t._z&&(i&&m(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z&&(r=t._z.offset(t),Math.abs(r)<16&&(r/=60),void 0!==t.utcOffset?t.utcOffset(-r,n):t.zone(r,n))},A.tz=function(t){return t?(this._z=l(t),this._z?e.updateOffset(this):_("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},A.zoneName=y(A.zoneName),A.zoneAbbr=y(A.zoneAbbr),A.utc=v(A.utc),e.tz.setDefault=function(t){return(k<2||2===k&&x<9)&&_("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?l(t):null,e};var S=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(S)?(S.push("_z"),S.push("_a")):S&&(S._z=null),p({version:"2015g",zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Cayman|EST EDT|50 40|01010101010|1Qtj0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Fort_Nelson|PST PDT MST|80 70 70|010101010102|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Merida|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Metlakatla|PST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|010101010101|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT CLT|30 40 30|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|01023|1BWh0 1qM0 WM0 8Hz0","Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kashgar|XJT|-60|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Samarkand|UZT|-50|0|","Asia/Seoul|KST|-90|0|","Asia/Singapore|SGT|-80|0|","Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST|-a0|0|","Australia/Darwin|ACST|-9u|0|","Australia/Eucla|ACWST|-8J|0|","Australia/LHI|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|AWST|-80|0|","Chile/EasterIsland|EASST EAST EAST|50 60 50|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0","Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT NFT|-bu -b0|01|1PoCu","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Merida|America/Mexico_City","America/Merida|America/Monterrey","America/Merida|Mexico/General","America/Metlakatla|Pacific/Pitcairn","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Samarkand|Asia/Tashkent","Asia/Seoul|ROK","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Chisinau|Europe/Tiraspol","Europe/Moscow|Europe/Volgograd","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]
}),e}),function(e,t){function n(e){var t="";if(e=parseInt(e,10),!e||e<1)return t;for(;e;)t+="0",e-=1;return t}function r(e,t,r){return null==e&&(e=""),e=""+e,(r?e:"")+n(t-e.length)+(r?"":e)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}function s(e,t){var n,r=0,i=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r<i;){if(t(e[r]))return e[r];r+=1}}function u(e,t){var n=0,r=e.length;if(e&&r)for(;n<r;){if(t(e[n],n)===!1)return;n+=1}}function c(e,t){var n=0,r=e.length,i=[];if(!e||!r)return i;for(;n<r;)i[n]=t(e[n],n),n+=1;return i}function l(e,t){return c(e,function(e){return e[t]})}function d(e){var t=[];return u(e,function(e){e&&t.push(e)}),t}function f(e){var t=[];return u(e,function(e){s(t,e)||t.push(e)}),t}function p(e,t){var n=[];return u(e,function(e){u(t,function(t){e===t&&n.push(e)})}),f(n)}function h(e,t){var n=[];return u(e,function(r,i){if(!t(r))return n=e.slice(i),!1}),n}function m(e,t){var n=e.slice().reverse();return h(n,t).reverse()}function _(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var g;if("function"==typeof require)try{g=require("moment")}catch(y){}if(!g&&e.moment&&(g=e.moment),!g)throw"Moment Duration Format cannot find Moment.js";g.duration.fn.format=function(){var e,t,a,y,v,b,M=[].slice.call(arguments),w=_({},this.format.defaults),T=g.duration(this);return w.duration=this,u(M,function(e){return"string"==typeof e||"function"==typeof e?void(w.template=e):"number"==typeof e?void(w.precision=e):void(o(e)&&_(w,e))}),a=w.types=i(w.types)?w.types:w.types.split(" "),"function"==typeof w.template&&(w.template=w.template.apply(w)),e=new RegExp(c(a,function(e){return w[e].source}).join("|"),"g"),y=function(e){return s(a,function(t){return w[t].test(e)})},t=c(w.template.match(e),function(e,t){var n=y(e),r=e.length;return{index:t,length:r,token:"escape"===n?e.replace(w.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}},this),v=p(a,f(d(l(t,"type")))),v.length?(u(v,function(e,n){var r,i,o,a,s;r=T.as(e),i=r>0?Math.floor(r):Math.ceil(r),o=r-i,a=n+1===v.length,s=!n,u(t,function(t){t.type===e&&(_(t,{value:r,wholeValue:i,decimalValue:o,isLeast:a,isMost:s}),s&&null==w.forceLength&&t.length>1&&(w.forceLength=!0))}),T.subtract(i,e)}),w.trim&&(t=("left"===w.trim?h:m)(t,function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)})),b=!1,"right"===w.trim&&t.reverse(),t=c(t,function(e){var t,i;if(!e.type)return e.token;if(t=e.isLeast&&w.precision<0?(Math.floor(e.wholeValue*Math.pow(10,w.precision))*Math.pow(10,-w.precision)).toString():e.wholeValue.toString(),t=t.replace(/^\-/,""),e.length>1&&(b||e.isMost||w.forceLength)&&(t=r(t,e.length)),e.isLeast&&w.precision>0)switch(i=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),i.length){case 1:t+="."+r(i[0],w.precision,!0).slice(0,w.precision);break;case 2:t+="."+r(i[1],w.precision,!0).slice(0,w.precision);break;case 3:t+="."+r(n(+i[2]-1)+(i[0]||"0")+i[1],w.precision,!0).slice(0,w.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),b=!0,t}),"right"===w.trim&&t.reverse(),t.join("")):l(t,"token").join("")},g.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration,n=a(e,function(e){return t._data[e]});switch(n){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this),function(){function e(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function t(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height}function n(n){var r=this;e(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a(function(){t(r)&&(r.__resizeLast__.width=r.offsetWidth,r.__resizeLast__.height=r.offsetHeight,r.__resizeListeners__.forEach(function(e){e.call(r,n)}))})}function r(){if(!o){var e=(y?y:"")+".resize-triggers { "+(v?v:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),o=!0}}var i=document.attachEvent,o=!1;if(!i){var a=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),s=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}(),u=!1,c="animation",l="",d="animationstart",f="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h="",m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(u=!0),u===!1)for(var _=0;_<f.length;_++)if(void 0!==m.style[f[_]+"AnimationName"]){h=f[_],c=h+"Animation",l="-"+h.toLowerCase()+"-",d=p[_],u=!0;break}var g="resizeanim",y="@"+l+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",v=l+"animation: 1ms "+g+"; "}window.addResizeListener=function(t,o){i?t.attachEvent("onresize",o):(t.__resizeTriggers__||("static"==getComputedStyle(t).position&&(t.style.position="relative"),r(),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),e(t),t.addEventListener("scroll",n,!0),d&&t.__resizeTriggers__.addEventListener(d,function(n){n.animationName==g&&e(t)})),t.__resizeListeners__.push(o))},window.removeResizeListener=function(e,t){i?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",n),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}(),function(e){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};e.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(n)}),this;var r={},o=this,a=e(window).width(),s=e(window).height();if(!e(o).data("bxSlider")){var u=function(){e(o).data("bxSlider")||(r.settings=e.extend({},t,n),r.settings.slideWidth=parseInt(r.settings.slideWidth),r.children=o.children(r.settings.slideSelector),r.children.length<r.settings.minSlides&&(r.settings.minSlides=r.children.length),r.children.length<r.settings.maxSlides&&(r.settings.maxSlides=r.children.length),r.settings.randomStart&&(r.settings.startSlide=Math.floor(Math.random()*r.children.length)),r.active={index:r.settings.startSlide},r.carousel=r.settings.minSlides>1||r.settings.maxSlides>1,r.carousel&&(r.settings.preloadImages="all"),r.minThreshold=r.settings.minSlides*r.settings.slideWidth+(r.settings.minSlides-1)*r.settings.slideMargin,r.maxThreshold=r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin,r.working=!1,r.controls={},r.interval=null,r.animProp="vertical"===r.settings.mode?"top":"left",r.usingCSS=r.settings.useCSS&&"fade"!==r.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],n=0;n<t.length;n++)if(void 0!==e.style[t[n]])return r.cssPrefix=t[n].replace("Perspective","").toLowerCase(),r.animProp="-"+r.cssPrefix+"-transform",!0;return!1}(),"vertical"===r.settings.mode&&(r.settings.maxSlides=r.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(r.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),c())},c=function(){var t=r.children.eq(r.settings.startSlide);o.wrap('<div class="'+r.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),r.viewport=o.parent(),r.settings.ariaLive&&!r.settings.ticker&&r.viewport.attr("aria-live","polite"),r.loader=e('<div class="bx-loading" />'),r.viewport.prepend(r.loader),o.css({width:"horizontal"===r.settings.mode?1e3*r.children.length+215+"%":"auto",position:"relative"}),r.usingCSS&&r.settings.easing?o.css("-"+r.cssPrefix+"-transition-timing-function",r.settings.easing):r.settings.easing||(r.settings.easing="swing"),r.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),r.viewport.parent().css({maxWidth:p()}),r.children.css({"float":"horizontal"===r.settings.mode?"left":"none",listStyle:"none",position:"relative"}),r.children.css("width",h()),"horizontal"===r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginRight",r.settings.slideMargin),"vertical"===r.settings.mode&&r.settings.slideMargin>0&&r.children.css("marginBottom",r.settings.slideMargin),"fade"===r.settings.mode&&(r.children.css({position:"absolute",zIndex:0,display:"none"}),r.children.eq(r.settings.startSlide).css({zIndex:r.settings.slideZIndex,display:"block"})),r.controls.el=e('<div class="bx-controls" />'),r.settings.captions&&L(),r.active.last=r.settings.startSlide===_()-1,r.settings.video&&o.fitVids(),("all"===r.settings.preloadImages||r.settings.ticker)&&(t=r.children),r.settings.ticker?r.settings.pager=!1:(r.settings.controls&&w(),r.settings.auto&&r.settings.autoControls&&T(),r.settings.pager&&M(),(r.settings.controls||r.settings.autoControls||r.settings.pager)&&r.viewport.after(r.controls.el)),l(t,d)},l=function(t,n){var r=t.find('img:not([src=""]), iframe').length,i=0;return 0===r?void n():void t.find('img:not([src=""]), iframe').each(function(){e(this).one("load error",function(){++i===r&&n()}).each(function(){this.complete&&e(this).trigger("load")})})},d=function(){if(r.settings.infiniteLoop&&"fade"!==r.settings.mode&&!r.settings.ticker){var t="vertical"===r.settings.mode?r.settings.minSlides:r.settings.maxSlides,n=r.children.slice(0,t).clone(!0).addClass("bx-clone"),i=r.children.slice(-t).clone(!0).addClass("bx-clone");r.settings.ariaHidden&&(n.attr("aria-hidden",!0),i.attr("aria-hidden",!0)),o.append(n).prepend(i)}r.loader.remove(),y(),"vertical"===r.settings.mode&&(r.settings.adaptiveHeight=!0),r.viewport.height(f()),o.redrawSlider(),r.settings.onSliderLoad.call(o,r.active.index),r.initialized=!0,r.settings.responsive&&e(window).bind("resize",I),r.settings.auto&&r.settings.autoStart&&(_()>1||r.settings.autoSlideForOnePage)&&O(),r.settings.ticker&&N(),r.settings.pager&&Y(r.settings.startSlide),r.settings.controls&&j(),r.settings.touchEnabled&&!r.settings.ticker&&H(),r.settings.keyboardEnabled&&!r.settings.ticker&&e(document).keydown(W)},f=function(){var t=0,n=e();if("vertical"===r.settings.mode||r.settings.adaptiveHeight)if(r.carousel){var o=1===r.settings.moveSlides?r.active.index:r.active.index*g();for(n=r.children.eq(o),i=1;i<=r.settings.maxSlides-1;i++)n=o+i>=r.children.length?n.add(r.children.eq(i-1)):n.add(r.children.eq(o+i))}else n=r.children.eq(r.active.index);else n=r.children;return"vertical"===r.settings.mode?(n.each(function(n){t+=e(this).outerHeight()}),r.settings.slideMargin>0&&(t+=r.settings.slideMargin*(r.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"===r.viewport.css("box-sizing")?t+=parseFloat(r.viewport.css("padding-top"))+parseFloat(r.viewport.css("padding-bottom"))+parseFloat(r.viewport.css("border-top-width"))+parseFloat(r.viewport.css("border-bottom-width")):"padding-box"===r.viewport.css("box-sizing")&&(t+=parseFloat(r.viewport.css("padding-top"))+parseFloat(r.viewport.css("padding-bottom"))),t},p=function(){var e="100%";return r.settings.slideWidth>0&&(e="horizontal"===r.settings.mode?r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin:r.settings.slideWidth),e},h=function(){var e=r.settings.slideWidth,t=r.viewport.width();if(0===r.settings.slideWidth||r.settings.slideWidth>t&&!r.carousel||"vertical"===r.settings.mode)e=t;else if(r.settings.maxSlides>1&&"horizontal"===r.settings.mode){if(t>r.maxThreshold)return e;t<r.minThreshold?e=(t-r.settings.slideMargin*(r.settings.minSlides-1))/r.settings.minSlides:r.settings.shrinkItems&&(e=Math.floor((t+r.settings.slideMargin)/Math.ceil((t+r.settings.slideMargin)/(e+r.settings.slideMargin))-r.settings.slideMargin))}return e},m=function(){var e=1,t=null;return"horizontal"===r.settings.mode&&r.settings.slideWidth>0?r.viewport.width()<r.minThreshold?e=r.settings.minSlides:r.viewport.width()>r.maxThreshold?e=r.settings.maxSlides:(t=r.children.first().width()+r.settings.slideMargin,e=Math.floor((r.viewport.width()+r.settings.slideMargin)/t)):"vertical"===r.settings.mode&&(e=r.settings.minSlides),e},_=function(){var e=0,t=0,n=0;if(r.settings.moveSlides>0)if(r.settings.infiniteLoop)e=Math.ceil(r.children.length/g());else for(;t<r.children.length;)++e,t=n+m(),n+=r.settings.moveSlides<=m()?r.settings.moveSlides:m();else e=Math.ceil(r.children.length/m());return e},g=function(){return r.settings.moveSlides>0&&r.settings.moveSlides<=m()?r.settings.moveSlides:m()},y=function(){var e,t,n;r.children.length>r.settings.maxSlides&&r.active.last&&!r.settings.infiniteLoop?"horizontal"===r.settings.mode?(t=r.children.last(),e=t.position(),v(-(e.left-(r.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===r.settings.mode&&(n=r.children.length-r.settings.minSlides,e=r.children.eq(n).position(),v(-e.top,"reset",0)):(e=r.children.eq(r.active.index*g()).position(),r.active.index===_()-1&&(r.active.last=!0),void 0!==e&&("horizontal"===r.settings.mode?v(-e.left,"reset",0):"vertical"===r.settings.mode&&v(-e.top,"reset",0)))},v=function(t,n,i,a){var s,u;r.usingCSS?(u="vertical"===r.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",o.css("-"+r.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"===n?(o.css(r.animProp,u),0!==i?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),E())}):E()):"reset"===n?o.css(r.animProp,u):"ticker"===n&&(o.css("-"+r.cssPrefix+"-transition-timing-function","linear"),o.css(r.animProp,u),0!==i?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),v(a.resetValue,"reset",0),z())}):(v(a.resetValue,"reset",0),z()))):(s={},s[r.animProp]=t,"slide"===n?o.animate(s,i,r.settings.easing,function(){E()}):"reset"===n?o.css(r.animProp,t):"ticker"===n&&o.animate(s,i,"linear",function(){v(a.resetValue,"reset",0),z()}))},b=function(){for(var t="",n="",i=_(),o=0;o<i;o++)n="",r.settings.buildPager&&e.isFunction(r.settings.buildPager)||r.settings.pagerCustom?(n=r.settings.buildPager(o),r.pagerEl.addClass("bx-custom-pager")):(n=o+1,r.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+n+"</a></div>";r.pagerEl.html(t)},M=function(){r.settings.pagerCustom?r.pagerEl=e(r.settings.pagerCustom):(r.pagerEl=e('<div class="bx-pager" />'),r.settings.pagerSelector?e(r.settings.pagerSelector).html(r.pagerEl):r.controls.el.addClass("bx-has-pager").append(r.pagerEl),b()),r.pagerEl.on("click touchend","a",D)},w=function(){r.controls.next=e('<a class="bx-next" href="">'+r.settings.nextText+"</a>"),r.controls.prev=e('<a class="bx-prev" href="">'+r.settings.prevText+"</a>"),r.controls.next.bind("click touchend",k),r.controls.prev.bind("click touchend",x),r.settings.nextSelector&&e(r.settings.nextSelector).append(r.controls.next),r.settings.prevSelector&&e(r.settings.prevSelector).append(r.controls.prev),r.settings.nextSelector||r.settings.prevSelector||(r.controls.directionEl=e('<div class="bx-controls-direction" />'),r.controls.directionEl.append(r.controls.prev).append(r.controls.next),r.controls.el.addClass("bx-has-controls-direction").append(r.controls.directionEl))},T=function(){r.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+r.settings.startText+"</a></div>"),r.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+r.settings.stopText+"</a></div>"),r.controls.autoEl=e('<div class="bx-controls-auto" />'),r.controls.autoEl.on("click",".bx-start",A),r.controls.autoEl.on("click",".bx-stop",S),r.settings.autoControlsCombine?r.controls.autoEl.append(r.controls.start):r.controls.autoEl.append(r.controls.start).append(r.controls.stop),r.settings.autoControlsSelector?e(r.settings.autoControlsSelector).html(r.controls.autoEl):r.controls.el.addClass("bx-has-controls-auto").append(r.controls.autoEl),C(r.settings.autoStart?"stop":"start")},L=function(){r.children.each(function(t){var n=e(this).find("img:first").attr("title");void 0!==n&&(""+n).length&&e(this).append('<div class="bx-caption"><span>'+n+"</span></div>")})},k=function(e){e.preventDefault(),r.controls.el.hasClass("disabled")||(r.settings.auto&&r.settings.stopAutoOnClick&&o.stopAuto(),o.goToNextSlide())},x=function(e){e.preventDefault(),r.controls.el.hasClass("disabled")||(r.settings.auto&&r.settings.stopAutoOnClick&&o.stopAuto(),o.goToPrevSlide())},A=function(e){o.startAuto(),e.preventDefault()},S=function(e){o.stopAuto(),e.preventDefault()},D=function(t){var n,i;t.preventDefault(),r.controls.el.hasClass("disabled")||(r.settings.auto&&r.settings.stopAutoOnClick&&o.stopAuto(),n=e(t.currentTarget),void 0!==n.attr("data-slide-index")&&(i=parseInt(n.attr("data-slide-index")),i!==r.active.index&&o.goToSlide(i)))},Y=function(t){var n=r.children.length;return"short"===r.settings.pagerType?(r.settings.maxSlides>1&&(n=Math.ceil(r.children.length/r.settings.maxSlides)),void r.pagerEl.html(t+1+r.settings.pagerShortSeparator+n)):(r.pagerEl.find("a").removeClass("active"),void r.pagerEl.each(function(n,r){e(r).find("a").eq(t).addClass("active")}))},E=function(){if(r.settings.infiniteLoop){var e="";0===r.active.index?e=r.children.eq(0).position():r.active.index===_()-1&&r.carousel?e=r.children.eq((_()-1)*g()).position():r.active.index===r.children.length-1&&(e=r.children.eq(r.children.length-1).position()),e&&("horizontal"===r.settings.mode?v(-e.left,"reset",0):"vertical"===r.settings.mode&&v(-e.top,"reset",0))}r.working=!1,r.settings.onSlideAfter.call(o,r.children.eq(r.active.index),r.oldIndex,r.active.index)},C=function(e){r.settings.autoControlsCombine?r.controls.autoEl.html(r.controls[e]):(r.controls.autoEl.find("a").removeClass("active"),r.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},j=function(){1===_()?(r.controls.prev.addClass("disabled"),r.controls.next.addClass("disabled")):!r.settings.infiniteLoop&&r.settings.hideControlOnEnd&&(0===r.active.index?(r.controls.prev.addClass("disabled"),r.controls.next.removeClass("disabled")):r.active.index===_()-1?(r.controls.next.addClass("disabled"),r.controls.prev.removeClass("disabled")):(r.controls.prev.removeClass("disabled"),r.controls.next.removeClass("disabled")))},O=function(){if(r.settings.autoDelay>0){setTimeout(o.startAuto,r.settings.autoDelay)}else o.startAuto(),e(window).focus(function(){o.startAuto()}).blur(function(){o.stopAuto()});r.settings.autoHover&&o.hover(function(){r.interval&&(o.stopAuto(!0),r.autoPaused=!0)},function(){r.autoPaused&&(o.startAuto(!0),r.autoPaused=null)})},N=function(){var t,n,i,a,s,u,c,l,d=0;"next"===r.settings.autoDirection?o.append(r.children.clone().addClass("bx-clone")):(o.prepend(r.children.clone().addClass("bx-clone")),t=r.children.first().position(),d="horizontal"===r.settings.mode?-t.left:-t.top),v(d,"reset",0),r.settings.pager=!1,r.settings.controls=!1,r.settings.autoControls=!1,r.settings.tickerHover&&(r.usingCSS?(a="horizontal"===r.settings.mode?4:5,r.viewport.hover(function(){n=o.css("-"+r.cssPrefix+"-transform"),i=parseFloat(n.split(",")[a]),v(i,"reset",0)},function(){l=0,r.children.each(function(t){l+="horizontal"===r.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),s=r.settings.speed/l,u="horizontal"===r.settings.mode?"left":"top",c=s*(l-Math.abs(parseInt(i))),z(c)})):r.viewport.hover(function(){o.stop()},function(){l=0,r.children.each(function(t){l+="horizontal"===r.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),s=r.settings.speed/l,u="horizontal"===r.settings.mode?"left":"top",c=s*(l-Math.abs(parseInt(o.css(u)))),z(c)})),z()},z=function(e){var t,n,i,a=e?e:r.settings.speed,s={left:0,top:0},u={left:0,top:0};"next"===r.settings.autoDirection?s=o.find(".bx-clone").first().position():u=r.children.first().position(),t="horizontal"===r.settings.mode?-s.left:-s.top,n="horizontal"===r.settings.mode?-u.left:-u.top,i={resetValue:n},v(t,"ticker",a,i)},P=function(t){var n=e(window),r={top:n.scrollTop(),left:n.scrollLeft()},i=t.offset();return r.right=r.left+n.width(),r.bottom=r.top+n.height(),i.right=i.left+t.outerWidth(),i.bottom=i.top+t.outerHeight(),!(r.right<i.left||r.left>i.right||r.bottom<i.top||r.top>i.bottom)},W=function(e){var t=document.activeElement.tagName.toLowerCase(),n="input|textarea",r=new RegExp(t,["i"]),i=r.exec(n);if(null==i&&P(o)){if(39===e.keyCode)return k(e),!1;if(37===e.keyCode)return x(e),!1}},H=function(){r.touch={start:{x:0,y:0},end:{x:0,y:0}},r.viewport.bind("touchstart MSPointerDown pointerdown",R),r.viewport.on("click",".bxslider a",function(e){r.viewport.hasClass("click-disabled")&&(e.preventDefault(),r.viewport.removeClass("click-disabled"))})},R=function(e){if(r.controls.el.addClass("disabled"),r.working)e.preventDefault(),r.controls.el.removeClass("disabled");else{r.touch.originalPos=o.position();var t=e.originalEvent,n="undefined"!=typeof t.changedTouches?t.changedTouches:[t];r.touch.start.x=n[0].pageX,r.touch.start.y=n[0].pageY,r.viewport.get(0).setPointerCapture&&(r.pointerId=t.pointerId,r.viewport.get(0).setPointerCapture(r.pointerId)),r.viewport.bind("touchmove MSPointerMove pointermove",F),r.viewport.bind("touchend MSPointerUp pointerup",q),r.viewport.bind("MSPointerCancel pointercancel",B)}},B=function(e){v(r.touch.originalPos.left,"reset",0),r.controls.el.removeClass("disabled"),r.viewport.unbind("MSPointerCancel pointercancel",B),r.viewport.unbind("touchmove MSPointerMove pointermove",F),r.viewport.unbind("touchend MSPointerUp pointerup",q),r.viewport.get(0).releasePointerCapture&&r.viewport.get(0).releasePointerCapture(r.pointerId)},F=function(e){var t=e.originalEvent,n="undefined"!=typeof t.changedTouches?t.changedTouches:[t],i=Math.abs(n[0].pageX-r.touch.start.x),o=Math.abs(n[0].pageY-r.touch.start.y),a=0,s=0;3*i>o&&r.settings.preventDefaultSwipeX?e.preventDefault():3*o>i&&r.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==r.settings.mode&&r.settings.oneToOneTouch&&("horizontal"===r.settings.mode?(s=n[0].pageX-r.touch.start.x,a=r.touch.originalPos.left+s):(s=n[0].pageY-r.touch.start.y,a=r.touch.originalPos.top+s),v(a,"reset",0))},q=function(e){r.viewport.unbind("touchmove MSPointerMove pointermove",F),r.controls.el.removeClass("disabled");var t=e.originalEvent,n="undefined"!=typeof t.changedTouches?t.changedTouches:[t],i=0,a=0;r.touch.end.x=n[0].pageX,r.touch.end.y=n[0].pageY,"fade"===r.settings.mode?(a=Math.abs(r.touch.start.x-r.touch.end.x),a>=r.settings.swipeThreshold&&(r.touch.start.x>r.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto())):("horizontal"===r.settings.mode?(a=r.touch.end.x-r.touch.start.x,i=r.touch.originalPos.left):(a=r.touch.end.y-r.touch.start.y,i=r.touch.originalPos.top),!r.settings.infiniteLoop&&(0===r.active.index&&a>0||r.active.last&&a<0)?v(i,"reset",200):Math.abs(a)>=r.settings.swipeThreshold?(a<0?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):v(i,"reset",200)),r.viewport.unbind("touchend MSPointerUp pointerup",q),r.viewport.get(0).releasePointerCapture&&r.viewport.get(0).releasePointerCapture(r.pointerId)},I=function(t){if(r.initialized)if(r.working)window.setTimeout(I,10);else{var n=e(window).width(),i=e(window).height();a===n&&s===i||(a=n,s=i,o.redrawSlider(),r.settings.onSliderResize.call(o,r.active.index))}},U=function(e){var t=m();r.settings.ariaHidden&&!r.settings.ticker&&(r.children.attr("aria-hidden","true"),r.children.slice(e,e+t).attr("aria-hidden","false"))},G=function(e){return e<0?r.settings.infiniteLoop?_()-1:r.active.index:e>=_()?r.settings.infiniteLoop?0:r.active.index:e};return o.goToSlide=function(t,n){var i,a,s,u,c=!0,l=0,d={left:0,top:0},p=null;if(r.oldIndex=r.active.index,r.active.index=G(t),!r.working&&r.active.index!==r.oldIndex){if(r.working=!0,c=r.settings.onSlideBefore.call(o,r.children.eq(r.active.index),r.oldIndex,r.active.index),"undefined"!=typeof c&&!c)return r.active.index=r.oldIndex,void(r.working=!1);"next"===n?r.settings.onSlideNext.call(o,r.children.eq(r.active.index),r.oldIndex,r.active.index)||(c=!1):"prev"===n&&(r.settings.onSlidePrev.call(o,r.children.eq(r.active.index),r.oldIndex,r.active.index)||(c=!1)),r.active.last=r.active.index>=_()-1,(r.settings.pager||r.settings.pagerCustom)&&Y(r.active.index),r.settings.controls&&j(),"fade"===r.settings.mode?(r.settings.adaptiveHeight&&r.viewport.height()!==f()&&r.viewport.animate({height:f()},r.settings.adaptiveHeightSpeed),r.children.filter(":visible").fadeOut(r.settings.speed).css({zIndex:0}),r.children.eq(r.active.index).css("zIndex",r.settings.slideZIndex+1).fadeIn(r.settings.speed,function(){e(this).css("zIndex",r.settings.slideZIndex),E()})):(r.settings.adaptiveHeight&&r.viewport.height()!==f()&&r.viewport.animate({height:f()},r.settings.adaptiveHeightSpeed),!r.settings.infiniteLoop&&r.carousel&&r.active.last?"horizontal"===r.settings.mode?(p=r.children.eq(r.children.length-1),d=p.position(),l=r.viewport.width()-p.outerWidth()):(i=r.children.length-r.settings.minSlides,d=r.children.eq(i).position()):r.carousel&&r.active.last&&"prev"===n?(a=1===r.settings.moveSlides?r.settings.maxSlides-g():(_()-1)*g()-(r.children.length-r.settings.maxSlides),p=o.children(".bx-clone").eq(a),d=p.position()):"next"===n&&0===r.active.index?(d=o.find("> .bx-clone").eq(r.settings.maxSlides).position(),r.active.last=!1):t>=0&&(u=t*parseInt(g()),d=r.children.eq(u).position()),"undefined"!=typeof d?(s="horizontal"===r.settings.mode?-(d.left-l):-d.top,v(s,"slide",r.settings.speed)):r.working=!1),r.settings.ariaHidden&&U(r.active.index*g())}},o.goToNextSlide=function(){if(r.settings.infiniteLoop||!r.active.last){var e=parseInt(r.active.index)+1;o.goToSlide(e,"next")}},o.goToPrevSlide=function(){if(r.settings.infiniteLoop||0!==r.active.index){var e=parseInt(r.active.index)-1;o.goToSlide(e,"prev")}},o.startAuto=function(e){r.interval||(r.interval=setInterval(function(){"next"===r.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},r.settings.pause),r.settings.autoControls&&e!==!0&&C("stop"))},o.stopAuto=function(e){r.interval&&(clearInterval(r.interval),r.interval=null,r.settings.autoControls&&e!==!0&&C("start"))},o.getCurrentSlide=function(){return r.active.index},o.getCurrentSlideElement=function(){return r.children.eq(r.active.index)},o.getSlideElement=function(e){return r.children.eq(e)},o.getSlideCount=function(){return r.children.length},o.isWorking=function(){return r.working},o.redrawSlider=function(){r.children.add(o.find(".bx-clone")).outerWidth(h()),r.viewport.css("height",f()),r.settings.ticker||y(),r.active.last&&(r.active.index=_()-1),r.active.index>=_()&&(r.active.last=!0),r.settings.pager&&!r.settings.pagerCustom&&(b(),Y(r.active.index)),r.settings.ariaHidden&&U(r.active.index*g())},o.destroySlider=function(){r.initialized&&(r.initialized=!1,e(".bx-clone",this).remove(),r.children.each(function(){void 0!==e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!==e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),r.controls.el&&r.controls.el.remove(),r.controls.next&&r.controls.next.remove(),r.controls.prev&&r.controls.prev.remove(),r.pagerEl&&r.settings.controls&&!r.settings.pagerCustom&&r.pagerEl.remove(),e(".bx-caption",this).remove(),r.controls.autoEl&&r.controls.autoEl.remove(),clearInterval(r.interval),r.settings.responsive&&e(window).unbind("resize",I),r.settings.keyboardEnabled&&e(document).unbind("keydown",W),e(this).removeData("bxSlider"))},o.reloadSlider=function(t){void 0!==t&&(n=t),o.destroySlider(),u(),e(o).data("bxSlider",this)},u(),e(o).data("bxSlider",this),this}}}(jQuery),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.SockJS=e()}}(function(){var e;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(n){"use strict";var r=e("./transport-list");t.exports=e("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(e,t,n){"use strict";function r(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var i=e("inherits"),o=e("./event");i(r,o),t.exports=r},{"./event":4,inherits:57}],3:[function(e,t,n){"use strict";function r(){o.call(this)}var i=e("inherits"),o=e("./eventtarget");i(r,o),r.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},r.prototype.once=function(e,t){function n(){r.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}var r=this,i=!1;this.on(e,n)},r.prototype.emit=function(e){var t=this._listeners[e];if(t)for(var n=Array.prototype.slice.call(arguments,1),r=0;r<t.length;r++)t[r].apply(this,n);
},r.prototype.on=r.prototype.addListener=o.prototype.addEventListener,r.prototype.removeListener=o.prototype.removeEventListener,t.exports.EventEmitter=r},{"./eventtarget":5,inherits:57}],4:[function(e,t,n){"use strict";function r(e){this.type=e}r.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},{}],5:[function(e,t,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n},r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);return r!==-1?void(n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],i=0;i<r.length;i++)r[i].apply(this,n)},t.exports=r},{}],6:[function(e,t,n){"use strict";function r(e){o.call(this),this.initEvent("message",!1,!1),this.data=e}var i=e("inherits"),o=e("./event");i(r,o),t.exports=r},{"./event":4,inherits:57}],7:[function(e,t,n){"use strict";function r(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}var i=e("json3"),o=e("./utils/iframe");r.prototype._transportClose=function(e,t){o.postMessage("c",i.stringify([e,t]))},r.prototype._transportMessage=function(e){o.postMessage("t",e)},r.prototype._send=function(e){this._transport.send(e)},r.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=r},{"./utils/iframe":47,json3:58}],8:[function(e,t,n){(function(n){"use strict";var r=e("./utils/url"),i=e("./utils/event"),o=e("json3"),a=e("./facade"),s=e("./info-iframe-receiver"),u=e("./utils/iframe"),c=e("./location"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:iframe-bootstrap")),t.exports=function(e,t){var n={};t.forEach(function(e){e.facadeTransport&&(n[e.facadeTransport.transportName]=e.facadeTransport)}),n[s.transportName]=s;var d;e.bootstrap_iframe=function(){var t;u.currentWindowId=c.hash.slice(1);var s=function(i){if(i.source===parent&&("undefined"==typeof d&&(d=i.origin),i.origin===d)){var s;try{s=o.parse(i.data)}catch(f){return void l("bad json",i.data)}if(s.windowId===u.currentWindowId)switch(s.type){case"s":var p;try{p=o.parse(s.data)}catch(f){l("bad json",s.data);break}var h=p[0],m=p[1],_=p[2],g=p[3];if(l(h,m,_,g),h!==e.version)throw new Error('Incompatibile SockJS! Main site uses: "'+h+'", the iframe: "'+e.version+'".');if(!r.isOriginEqual(_,c.href)||!r.isOriginEqual(g,c.href))throw new Error("Can't connect to different domain from within an iframe. ("+c.href+", "+_+", "+g+")");t=new a(new n[m](_,g));break;case"m":t._send(s.data);break;case"c":t&&t._close(),t=null}}};i.attachEvent("message",s),u.postMessage("s")}}}).call(this,{env:{}})},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:54,json3:58}],9:[function(e,t,n){(function(n){"use strict";function r(e,t){i.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(e,t){var i,o;if(200===e){if(o=+new Date-r,t)try{i=a.parse(t)}catch(c){u("bad json",t)}s.isObject(i)||(i={})}n.emit("finish",i,o),n.removeAllListeners()})}var i=e("events").EventEmitter,o=e("inherits"),a=e("json3"),s=e("./utils/object"),u=function(){};"production"!==n.env.NODE_ENV&&(u=e("debug")("sockjs-client:info-ajax")),o(r,i),r.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=r}).call(this,{env:{}})},{"./utils/object":49,debug:54,events:3,inherits:57,json3:58}],10:[function(e,t,n){"use strict";function r(e){var t=this;o.call(this),this.ir=new u(e,s),this.ir.once("finish",function(e,n){t.ir=null,t.emit("message",a.stringify([e,n]))})}var i=e("inherits"),o=e("events").EventEmitter,a=e("json3"),s=e("./transport/sender/xhr-local"),u=e("./info-ajax");i(r,o),r.transportName="iframe-info-receiver",r.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=r},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:57,json3:58}],11:[function(e,t,n){(function(n,r){"use strict";function i(e,t){var n=this;o.call(this);var i=function(){var r=n.ifr=new c(l.transportName,t,e);r.once("message",function(e){if(e){var t;try{t=s.parse(e)}catch(r){return d("bad json",e),n.emit("finish"),void n.close()}var i=t[0],o=t[1];n.emit("finish",i,o)}n.close()}),r.once("close",function(){n.emit("finish"),n.close()})};r.document.body?i():u.attachEvent("load",i)}var o=e("events").EventEmitter,a=e("inherits"),s=e("json3"),u=e("./utils/event"),c=e("./transport/iframe"),l=e("./info-iframe-receiver"),d=function(){};"production"!==n.env.NODE_ENV&&(d=e("debug")("sockjs-client:info-iframe")),a(i,o),i.enabled=function(){return c.enabled()},i.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=i}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:54,events:3,inherits:57,json3:58}],12:[function(e,t,n){(function(n){"use strict";function r(e,t){p(e);var n=this;i.call(this),setTimeout(function(){n.doXhr(e,t)},0)}var i=e("events").EventEmitter,o=e("inherits"),a=e("./utils/url"),s=e("./transport/sender/xdr"),u=e("./transport/sender/xhr-cors"),c=e("./transport/sender/xhr-local"),l=e("./transport/sender/xhr-fake"),d=e("./info-iframe"),f=e("./info-ajax"),p=function(){};"production"!==n.env.NODE_ENV&&(p=e("debug")("sockjs-client:info-receiver")),o(r,i),r._getReceiver=function(e,t,n){return n.sameOrigin?new f(t,c):u.enabled?new f(t,u):s.enabled&&n.sameScheme?new f(t,s):d.enabled()?new d(e,t):new f(t,l)},r.prototype.doXhr=function(e,t){var n=this,i=a.addPath(e,"/info");p("doXhr",i),this.xo=r._getReceiver(e,i,t),this.timeoutRef=setTimeout(function(){p("timeout"),n._cleanup(!1),n.emit("finish")},r.timeout),this.xo.once("finish",function(e,t){p("finish",e,t),n._cleanup(!0),n.emit("finish",e,t)})},r.prototype._cleanup=function(e){p("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},r.prototype.close=function(){p("close"),this.removeAllListeners(),this._cleanup(!1)},r.timeout=8e3,t.exports=r}).call(this,{env:{}})},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:54,events:3,inherits:57}],13:[function(e,t,n){(function(e){"use strict";t.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,n){(function(n,r){"use strict";function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");y.call(this),this.readyState=i.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&_.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports;var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return c.string(r)}}this._server=n.server||c.numberString(1e3);var o=new a(e);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var s="https:"===o.protocol;if("https"===v.protocol&&!s)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var u=t.sort();u.forEach(function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<u.length-1&&e===u[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")});var l=d.getOrigin(v.href);this._origin=l?l.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,T("using url",this.url),this._urlInfo={nullOrigin:!m.hasDomain(),sameOrigin:d.isOriginEqual(this.url,v.href),sameScheme:d.isSchemeEqual(this.url,v.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function o(e){return 1e3===e||e>=3e3&&e<=4999}e("./shims");var a=e("url-parse"),s=e("inherits"),u=e("json3"),c=e("./utils/random"),l=e("./utils/escape"),d=e("./utils/url"),f=e("./utils/event"),p=e("./utils/transport"),h=e("./utils/object"),m=e("./utils/browser"),_=e("./utils/log"),g=e("./event/event"),y=e("./event/eventtarget"),v=e("./location"),b=e("./event/close"),M=e("./event/trans-message"),w=e("./info-receiver"),T=function(){};"production"!==n.env.NODE_ENV&&(r.dbg=e("debug"),T=r.dbg("sockjs-client:main"));var L;s(i,y),i.prototype.close=function(e,t){if(e&&!o(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==i.CLOSING&&this.readyState!==i.CLOSED){var n=!0;this._close(e||1e3,t||"Normal closure",n)}},i.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===i.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===i.OPEN&&this._transport.send(l.quote(e))},i.version=e("./version"),i.CONNECTING=0,i.OPEN=1,i.CLOSING=2,i.CLOSED=3,i.prototype._receiveInfo=function(e,t){if(T("_receiveInfo",t),this._ir=null,!e)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=h.extend(e,this._urlInfo),T("info",e);var n=L.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,T(this._transports.length+" enabled transports"),this._connect()},i.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(T("attempt",e.transportName),e.needBody&&(!r.document.body||"undefined"!=typeof r.document.readyState&&"complete"!==r.document.readyState&&"interactive"!==r.document.readyState))return T("waiting for body"),this._transports.unshift(e),void f.attachEvent("load",this._connect.bind(this));var t=this._rto*e.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),T("using timeout",t);var n=d.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId());T("transport url",n);var i=new e(n,this._transUrl);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=e.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},i.prototype._transportTimeout=function(){T("_transportTimeout"),this.readyState===i.CONNECTING&&this._transportClose(2007,"Transport timed out")},i.prototype._transportMessage=function(e){T("_transportMessage",e);var t,n=this,r=e.slice(0,1),i=e.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new g("heartbeat")),void T("heartbeat",this.transport)}if(i)try{t=u.parse(i)}catch(o){T("bad json",i)}if("undefined"==typeof t)return void T("empty payload",i);switch(r){case"a":Array.isArray(t)&&t.forEach(function(e){T("message",n.transport,e),n.dispatchEvent(new M(e))});break;case"m":T("message",this.transport,t),this.dispatchEvent(new M(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},i.prototype._transportClose=function(e,t){return T("_transportClose",this.transport,e,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),o(e)||2e3===e||this.readyState!==i.CONNECTING?void this._close(e,t):void this._connect()},i.prototype._open=function(){T("_open",this._transport.transportName,this.readyState),this.readyState===i.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=i.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new g("open")),T("connected",this.transport)):this._close(1006,"Server lost session")},i.prototype._close=function(e,t,n){T("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===i.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=i.CLOSING,setTimeout(function(){this.readyState=i.CLOSED,r&&this.dispatchEvent(new g("error"));var o=new b("close");o.wasClean=n||!1,o.code=e||1e3,o.reason=t,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null,T("disconnected")}.bind(this),0)},i.prototype.countRTO=function(e){return e>100?4*e:300+e},t.exports=function(t){return L=p(t),e("./iframe-bootstrap")(i,t),i}}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:54,inherits:57,json3:58,"url-parse":59}],15:[function(e,t,n){"use strict";function r(e){var t=+e;return t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function i(e){return e>>>0}function o(){}var a,s=Array.prototype,u=Object.prototype,c=Function.prototype,l=String.prototype,d=s.slice,f=u.toString,p=function(e){return"[object Function]"===u.toString.call(e)},h=function(e){return"[object Array]"===f.call(e)},m=function(e){return"[object String]"===f.call(e)},_=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();a=_?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var g=function(e,t,n){for(var r in t)u.hasOwnProperty.call(t,r)&&a(e,r,t[r],n)},y=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};g(c,{bind:function(e){var t=this;if(!p(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=d.call(arguments,1),r=function(){if(this instanceof u){var r=t.apply(this,n.concat(d.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(d.call(arguments)))},i=Math.max(0,t.length-n.length),a=[],s=0;s<i;s++)a.push("$"+s);var u=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(r);return t.prototype&&(o.prototype=t.prototype,u.prototype=new o,o.prototype=null),u}}),g(Array,{isArray:h});var v=Object("a"),b="a"!==v[0]||!(0 in v),M=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(e,n,r){"object"!=typeof r&&(t=!1)}),e.call([1],function(){n="string"==typeof this},"x")),!!e&&t&&n};g(s,{forEach:function(e){var t=y(this),n=b&&m(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if(!p(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}},!M(s.forEach));var w=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;g(s,{indexOf:function(e){var t=b&&m(this)?this.split(""):y(this),n=t.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=r(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}},w);var T=l.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var e=void 0===/()??/.exec("")[1];l.split=function(t,n){var r=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==f.call(t))return T.call(this,t,n);var o,a,u,c,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),p=0;for(t=new RegExp(t.source,d+"g"),r+="",e||(o=new RegExp("^"+t.source+"$(?!\\s)",d)),n=void 0===n?-1>>>0:i(n);(a=t.exec(r))&&(u=a.index+a[0].length,!(u>p&&(l.push(r.slice(p,a.index)),!e&&a.length>1&&a[0].replace(o,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(a[e]=void 0)}),a.length>1&&a.index<r.length&&s.push.apply(l,a.slice(1)),c=a[0].length,p=u,l.length>=n)));)t.lastIndex===a.index&&t.lastIndex++;return p===r.length?!c&&t.test("")||l.push(""):l.push(r.slice(p)),l.length>n?l.slice(0,n):l}}():"0".split(void 0,0).length&&(l.split=function(e,t){return void 0===e&&0===t?[]:T.call(this,e,t)});var L="\t\n\x0B\f\r \u2028\u2029\ufeff",k="",x="["+L+"]",A=new RegExp("^"+x+x+"*"),S=new RegExp(x+x+"*$"),D=l.trim&&(L.trim()||!k.trim());g(l,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(A,"").replace(S,"")}},D);var Y=l.substr,E="".substr&&"b"!=="0b".substr(-1);g(l,{substr:function(e,t){return Y.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},E)},{}],16:[function(e,t,n){"use strict";t.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(e,t,n){(function(n,r){"use strict";function i(e,t,n,r){l(e,t);var i=this;o.call(this),setTimeout(function(){i._start(e,t,n,r)},0)}var o=e("events").EventEmitter,a=e("inherits"),s=e("../../utils/event"),u=e("../../utils/url"),c=r.XMLHttpRequest,l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:browser:xhr")),a(i,o),i.prototype._start=function(e,t,n,r){var o=this;try{this.xhr=new c}catch(a){}if(!this.xhr)return l("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();t=u.addQuery(t,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){l("unload cleanup"),o._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){l("xhr timeout"),o.emit("finish",0,""),o._cleanup(!1)})}catch(d){return l("exception",d),this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!i.supportsCORS||(l("withCredentials"),this.xhr.withCredentials="true"),r&&r.headers)for(var f in r.headers)this.xhr.setRequestHeader(f,r.headers[f]);this.xhr.onreadystatechange=function(){if(o.xhr){var e,t,n=o.xhr;switch(l("readyState",n.readyState),n.readyState){case 3:try{t=n.status,e=n.responseText}catch(r){}l("status",t),1223===t&&(t=204),200===t&&e&&e.length>0&&(l("chunk"),o.emit("chunk",t,e));break;case 4:t=n.status,l("status",t),1223===t&&(t=204),12005!==t&&12029!==t||(t=0),l("finish",t,n.responseText),o.emit("finish",t,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(d){o.emit("finish",0,""),o._cleanup(!1)}},i.prototype._cleanup=function(e){if(l("cleanup"),this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},i.prototype.close=function(){l("close"),this._cleanup(!0)},i.enabled=!!c;var d=["Active"].concat("Object").join("X");!i.enabled&&d in r&&(l("overriding xmlhttprequest"),c=function(){try{return new r[d]("Microsoft.XMLHTTP")}catch(e){return null}},i.enabled=!!new c);var f=!1;try{f="withCredentials"in new c}catch(p){}i.supportsCORS=f,t.exports=i}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],18:[function(e,t,n){(function(e){t.exports=e.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,n){(function(e){t.exports=e.WebSocket||e.MozWebSocket}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){"use strict";function r(e){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/eventsource",a,s)}var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./receiver/eventsource"),s=e("./sender/xhr-cors"),u=e("eventsource");i(r,o),r.enabled=function(){return!!u},r.transportName="eventsource",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:57}],21:[function(e,t,n){"use strict";function r(e){if(!o.enabled)throw new Error("Transport created when disabled");s.call(this,e,"/htmlfile",o,a)}var i=e("inherits"),o=e("./receiver/htmlfile"),a=e("./sender/xhr-local"),s=e("./lib/ajax-based");i(r,s),r.enabled=function(e){return o.enabled&&e.sameOrigin},r.transportName="htmlfile",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:57}],22:[function(e,t,n){(function(n){"use strict";function r(e,t,n){if(!r.enabled())throw new Error("Transport created when disabled");a.call(this);var i=this;this.origin=u.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=d.string(8);var o=u.addPath(n,"/iframe.html")+"#"+this.windowId;f(e,t,o),this.iframeObj=c.createIframe(o,function(e){f("err callback"),i.emit("close",1006,"Unable to load an iframe ("+e+")"),i.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}var i=e("inherits"),o=e("json3"),a=e("events").EventEmitter,s=e("../version"),u=e("../utils/url"),c=e("../utils/iframe"),l=e("../utils/event"),d=e("../utils/random"),f=function(){};"production"!==n.env.NODE_ENV&&(f=e("debug")("sockjs-client:transport:iframe")),i(r,a),r.prototype.close=function(){if(f("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},r.prototype._message=function(e){if(f("message",e.data),!u.isOriginEqual(e.origin,this.origin))return void f("not same origin",e.origin,this.origin);var t;try{t=o.parse(e.data)}catch(n){return void f("bad json",e.data)}if(t.windowId!==this.windowId)return void f("mismatched window id",t.windowId,this.windowId);switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",o.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=o.parse(t.data)}catch(n){return void f("bad json",t.data)}this.emit("close",r[0],r[1]),this.close()}},r.prototype.postMessage=function(e,t){f("postMessage",e,t),this.iframeObj.post(o.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},r.prototype.send=function(e){f("send",e),this.postMessage("m",e)},r.enabled=function(){return c.iframeEnabled},r.transportName="iframe",r.roundTrips=2,t.exports=r}).call(this,{env:{}})},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:54,events:3,inherits:57,json3:58}],23:[function(e,t,n){(function(n){"use strict";function r(e){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/jsonp",s,a)}var i=e("inherits"),o=e("./lib/sender-receiver"),a=e("./receiver/jsonp"),s=e("./sender/jsonp");i(r,o),r.enabled=function(){return!!n.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:57}],24:[function(e,t,n){(function(n){"use strict";function r(e){return function(t,n,r){u("create ajax sender",t,n);var i={};"string"==typeof n&&(i.headers={"Content-type":"text/plain"});var o=a.addPath(t,"/xhr_send"),s=new e("POST",o,n,i);return s.once("finish",function(e){return u("finish",e),s=null,200!==e&&204!==e?r(new Error("http status "+e)):void r()}),function(){u("abort"),s.close(),s=null;var e=new Error("Aborted");e.code=1e3,r(e)}}}function i(e,t,n,i){s.call(this,e,t,r(i),n,i)}var o=e("inherits"),a=e("../../utils/url"),s=e("./sender-receiver"),u=function(){};"production"!==n.env.NODE_ENV&&(u=e("debug")("sockjs-client:ajax-based")),o(i,s),t.exports=i}).call(this,{env:{}})},{"../../utils/url":52,"./sender-receiver":28,debug:54,inherits:57}],25:[function(e,t,n){(function(n){"use strict";function r(e,t){a(e),o.call(this),this.sendBuffer=[],this.sender=t,this.url=e}var i=e("inherits"),o=e("events").EventEmitter,a=function(){};"production"!==n.env.NODE_ENV&&(a=e("debug")("sockjs-client:buffered-sender")),i(r,o),r.prototype.send=function(e){a("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){a("sendScheduleWait");var e,t=this;this.sendStop=function(){a("sendStop"),t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){a("timeout"),t.sendStop=null,t.sendSchedule()},25)},r.prototype.sendSchedule=function(){a("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(t){e.sendStop=null,t?(a("error",t),e.emit("close",t.code||1006,"Sending error: "+t),e._cleanup()):e.sendScheduleWait()}),this.sendBuffer=[]}},r.prototype._cleanup=function(){a("_cleanup"),this.removeAllListeners()},r.prototype.stop=function(){a("stop"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],26:[function(e,t,n){(function(n){"use strict";var r=e("inherits"),i=e("../iframe"),o=e("../../utils/object");t.exports=function(e){function t(t,n){i.call(this,e.transportName,t,n)}return r(t,i),t.enabled=function(t,r){if(!n.document)return!1;var a=o.extend({},r);return a.sameOrigin=!0,e.enabled(a)&&i.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=i.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:57}],27:[function(e,t,n){(function(n){"use strict";function r(e,t,n){a(t),o.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}var i=e("inherits"),o=e("events").EventEmitter,a=function(){};"production"!==n.env.NODE_ENV&&(a=e("debug")("sockjs-client:polling")),i(r,o),r.prototype._scheduleReceiver=function(){a("_scheduleReceiver");var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(t){a("message",t),e.emit("message",t)}),t.once("close",function(n,r){a("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||("network"===r?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})},r.prototype.abort=function(){a("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],28:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r,i){var c=o.addPath(e,t);u(c);var l=this;a.call(this,e,n),this.poll=new s(r,c,i),this.poll.on("message",function(e){u("poll message",e),l.emit("message",e)}),this.poll.once("close",function(e,t){u("poll close",e,t),l.poll=null,l.emit("close",e,t),l.close()})}var i=e("inherits"),o=e("../../utils/url"),a=e("./buffered-sender"),s=e("./polling"),u=function(){};"production"!==n.env.NODE_ENV&&(u=e("debug")("sockjs-client:sender-receiver")),i(r,a),r.prototype.close=function(){u("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},t.exports=r}).call(this,{env:{}})},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:54,inherits:57}],29:[function(e,t,n){(function(n){"use strict";function r(e){s(e),o.call(this);var t=this,n=this.es=new a(e);n.onmessage=function(e){s("message",e.data),t.emit("message",decodeURI(e.data))},n.onerror=function(e){s("error",n.readyState,e);var r=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(r)}}var i=e("inherits"),o=e("events").EventEmitter,a=e("eventsource"),s=function(){};"production"!==n.env.NODE_ENV&&(s=e("debug")("sockjs-client:receiver:eventsource")),i(r,o),r.prototype.abort=function(){s("abort"),this._cleanup(),this._close("user")},r.prototype._cleanup=function(){s("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},r.prototype._close=function(e){s("close",e);var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,eventsource:18,inherits:57}],30:[function(e,t,n){(function(n,r){"use strict";function i(e){l(e),u.call(this);var t=this;a.polluteGlobalNamespace(),this.id="a"+c.string(6),e=s.addQuery(e,"c="+decodeURIComponent(a.WPrefix+"."+this.id)),l("using htmlfile",i.htmlfileEnabled);var n=i.htmlfileEnabled?a.createHtmlfile:a.createIframe;r[a.WPrefix][this.id]={start:function(){l("start"),t.iframeObj.loaded()},message:function(e){l("message",e),t.emit("message",e)},stop:function(){l("stop"),t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){l("callback"),t._cleanup(),t._close("permanent")})}var o=e("inherits"),a=e("../../utils/iframe"),s=e("../../utils/url"),u=e("events").EventEmitter,c=e("../../utils/random"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:receiver:htmlfile")),o(i,u),i.prototype.abort=function(){l("abort"),this._cleanup(),this._close("user")},i.prototype._cleanup=function(){l("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete r[a.WPrefix][this.id]},i.prototype._close=function(e){l("_close",e),this.emit("close",null,e),this.removeAllListeners()},i.htmlfileEnabled=!1;var d=["Active"].concat("Object").join("X");if(d in r)try{i.htmlfileEnabled=!!new r[d]("htmlfile")}catch(f){}i.enabled=i.htmlfileEnabled||a.iframeEnabled,t.exports=i}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],31:[function(e,t,n){(function(n,r){"use strict";function i(e){d(e);var t=this;l.call(this),o.polluteGlobalNamespace(),this.id="a"+a.string(6);var n=u.addQuery(e,"c="+encodeURIComponent(o.WPrefix+"."+this.id));r[o.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){d("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))},i.timeout)}var o=e("../../utils/iframe"),a=e("../../utils/random"),s=e("../../utils/browser"),u=e("../../utils/url"),c=e("inherits"),l=e("events").EventEmitter,d=function(){};
"production"!==n.env.NODE_ENV&&(d=e("debug")("sockjs-client:receiver:jsonp")),c(i,l),i.prototype.abort=function(){if(d("abort"),r[o.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},i.timeout=35e3,i.scriptErrorTimeout=1e3,i.prototype._callback=function(e){d("_callback",e),this._cleanup(),this.aborting||(e&&(d("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())},i.prototype._abort=function(e){d("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},i.prototype._cleanup=function(){if(d("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete r[o.WPrefix][this.id]},i.prototype._scriptError=function(){d("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},i.scriptErrorTimeout))},i.prototype._createScript=function(e){d("_createScript",e);var t,n=this,i=this.script=r.document.createElement("script");if(i.id="a"+a.string(8),i.src=e,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){d("onload"),n._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(d("onreadystatechange",i.readyState),/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){n.loadedOkay=!0;try{i.onclick()}catch(e){}}i&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&r.document.attachEvent)if(s.isOpera())t=this.script2=r.document.createElement("script"),t.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=t.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(o){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0);var u=r.document.getElementsByTagName("head")[0];u.insertBefore(i,u.firstChild),t&&u.insertBefore(t,u.firstChild)},t.exports=i}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],32:[function(e,t,n){(function(n){"use strict";function r(e,t){a(e),o.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(e,t){a("finish",e,t),n._chunkHandler(e,t),n.xo=null;var r=200===e?"network":"permanent";a("close",r),n.emit("close",null,r),n._cleanup()})}var i=e("inherits"),o=e("events").EventEmitter,a=function(){};"production"!==n.env.NODE_ENV&&(a=e("debug")("sockjs-client:receiver:xhr")),i(r,o),r.prototype._chunkHandler=function(e,t){if(a("_chunkHandler",e),200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf("\n"),n===-1)break;var i=r.slice(0,n);i&&(a("message",i),this.emit("message",i))}},r.prototype._cleanup=function(){a("_cleanup"),this.removeAllListeners()},r.prototype.abort=function(){a("abort"),this.xo&&(this.xo.close(),a("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=r}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],33:[function(e,t,n){(function(n,r){"use strict";function i(e){u("createIframe",e);try{return r.document.createElement('<iframe name="'+e+'">')}catch(t){var n=r.document.createElement("iframe");return n.name=e,n}}function o(){u("createForm"),c=r.document.createElement("form"),c.style.display="none",c.style.position="absolute",c.method="POST",c.enctype="application/x-www-form-urlencoded",c.acceptCharset="UTF-8",l=r.document.createElement("textarea"),l.name="d",c.appendChild(l),r.document.body.appendChild(c)}var a=e("../../utils/random"),s=e("../../utils/url"),u=function(){};"production"!==n.env.NODE_ENV&&(u=e("debug")("sockjs-client:sender:jsonp"));var c,l;t.exports=function(e,t,n){u(e,t),c||o();var r="a"+a.string(8);c.target=r,c.action=s.addQuery(s.addPath(e,"/jsonp_send"),"i="+r);var d=i(r);d.id=r,d.style.display="none",c.appendChild(d);try{l.value=t}catch(f){}c.submit();var p=function(e){u("completed",r,e),d.onerror&&(d.onreadystatechange=d.onerror=d.onload=null,setTimeout(function(){u("cleaning up",r),d.parentNode.removeChild(d),d=null},500),l.value="",n(e))};return d.onerror=function(){u("onerror",r),p()},d.onload=function(){u("onload",r),p()},d.onreadystatechange=function(e){u("onreadystatechange",r,d.readyState,e),"complete"===d.readyState&&p()},function(){u("aborted",r),p(new Error("Aborted"))}}}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:54}],34:[function(e,t,n){(function(n,r){"use strict";function i(e,t,n){l(e,t);var r=this;o.call(this),setTimeout(function(){r._start(e,t,n)},0)}var o=e("events").EventEmitter,a=e("inherits"),s=e("../../utils/event"),u=e("../../utils/browser"),c=e("../../utils/url"),l=function(){};"production"!==n.env.NODE_ENV&&(l=e("debug")("sockjs-client:sender:xdr")),a(i,o),i.prototype._start=function(e,t,n){l("_start");var i=this,o=new r.XDomainRequest;t=c.addQuery(t,"t="+ +new Date),o.onerror=function(){l("onerror"),i._error()},o.ontimeout=function(){l("ontimeout"),i._error()},o.onprogress=function(){l("progress",o.responseText),i.emit("chunk",200,o.responseText)},o.onload=function(){l("load"),i.emit("finish",200,o.responseText),i._cleanup(!1)},this.xdr=o,this.unloadRef=s.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(a){this._error()}},i.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},i.prototype._cleanup=function(e){if(l("cleanup",e),this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},i.prototype.close=function(){l("close"),this._cleanup(!0)},i.enabled=!(!r.XDomainRequest||!u.hasDomain()),t.exports=i}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],35:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var i=e("inherits"),o=e("../driver/xhr");i(r,o),r.enabled=o.enabled&&o.supportsCORS,t.exports=r},{"../driver/xhr":17,inherits:57}],36:[function(e,t,n){"use strict";function r(){var e=this;i.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},r.timeout)}var i=e("events").EventEmitter,o=e("inherits");o(r,i),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,t.exports=r},{events:3,inherits:57}],37:[function(e,t,n){"use strict";function r(e,t,n){o.call(this,e,t,n,{noCredentials:!0})}var i=e("inherits"),o=e("../driver/xhr");i(r,o),r.enabled=o.enabled,t.exports=r},{"../driver/xhr":17,inherits:57}],38:[function(e,t,n){(function(n){"use strict";function r(e){if(!r.enabled())throw new Error("Transport created when disabled");s.call(this),c("constructor",e);var t=this,n=o.addPath(e,"/websocket");n="https"===n.slice(0,5)?"wss"+n.slice(5):"ws"+n.slice(4),this.url=n,this.ws=new u(this.url),this.ws.onmessage=function(e){c("message event",e.data),t.emit("message",e.data)},this.unloadRef=i.unloadAdd(function(){c("unload"),t.ws.close()}),this.ws.onclose=function(e){c("close event",e.code,e.reason),t.emit("close",e.code,e.reason),t._cleanup()},this.ws.onerror=function(e){c("error event",e),t.emit("close",1006,"WebSocket connection broken"),t._cleanup()}}var i=e("../utils/event"),o=e("../utils/url"),a=e("inherits"),s=e("events").EventEmitter,u=e("./driver/websocket"),c=function(){};"production"!==n.env.NODE_ENV&&(c=e("debug")("sockjs-client:websocket")),a(r,s),r.prototype.send=function(e){var t="["+e+"]";c("send",t),this.ws.send(t)},r.prototype.close=function(){c("close"),this.ws&&this.ws.close(),this._cleanup()},r.prototype._cleanup=function(){c("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),i.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},r.enabled=function(){return c("enabled"),!!u},r.transportName="websocket",r.roundTrips=2,t.exports=r}).call(this,{env:{}})},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:54,events:3,inherits:57}],39:[function(e,t,n){"use strict";function r(e){if(!u.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",s,u)}var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./xdr-streaming"),s=e("./receiver/xhr"),u=e("./sender/xdr");i(r,o),r.enabled=a.enabled,r.transportName="xdr-polling",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:57}],40:[function(e,t,n){"use strict";function r(e){if(!s.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",a,s)}var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./receiver/xhr"),s=e("./sender/xdr");i(r,o),r.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&(s.enabled&&e.sameScheme)},r.transportName="xdr-streaming",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:57}],41:[function(e,t,n){"use strict";function r(e){if(!u.enabled&&!s.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",a,s)}var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./receiver/xhr"),s=e("./sender/xhr-cors"),u=e("./sender/xhr-local");i(r,o),r.enabled=function(e){return!e.nullOrigin&&(!(!u.enabled||!e.sameOrigin)||s.enabled)},r.transportName="xhr-polling",r.roundTrips=2,t.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],42:[function(e,t,n){(function(n){"use strict";function r(e){if(!u.enabled&&!s.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",a,s)}var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./receiver/xhr"),s=e("./sender/xhr-cors"),u=e("./sender/xhr-local"),c=e("../utils/browser");i(r,o),r.enabled=function(e){return!e.nullOrigin&&(!c.isOpera()&&s.enabled)},r.transportName="xhr-streaming",r.roundTrips=2,r.needBody=!!n.document,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],43:[function(e,t,n){(function(e){"use strict";e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var n=new Uint8Array(t);return e.crypto.getRandomValues(n),n}:t.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,n){(function(e){"use strict";t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(t){return!1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){"use strict";var r,i=e("json3"),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,a=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};t.exports={quote:function(e){var t=i.stringify(e);return o.lastIndex=0,o.test(t)?(r||(r=a(o)),t.replace(o,function(e){return r[e]})):t}}},{json3:58}],46:[function(e,t,n){(function(n){"use strict";var r=e("./random"),i={},o=!1,a=n.chrome&&n.chrome.app&&n.chrome.app.runtime;t.exports={attachEvent:function(e,t){"undefined"!=typeof n.addEventListener?n.addEventListener(e,t,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+e,t),n.attachEvent("on"+e,t))},detachEvent:function(e,t){"undefined"!=typeof n.addEventListener?n.removeEventListener(e,t,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+e,t),n.detachEvent("on"+e,t))},unloadAdd:function(e){if(a)return null;var t=r.string(8);return i[t]=e,o&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in i&&delete i[e]},triggerUnloadCallbacks:function(){for(var e in i)i[e](),delete i[e]}};var s=function(){o||(o=!0,t.exports.triggerUnloadCallbacks())};a||t.exports.attachEvent("unload",s)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(e,t,n){(function(n,r){"use strict";var i=e("./event"),o=e("json3"),a=e("./browser"),s=function(){};"production"!==n.env.NODE_ENV&&(s=e("debug")("sockjs-client:utils:iframe")),t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in r||(r[t.exports.WPrefix]={})},postMessage:function(e,n){r.parent!==r?r.parent.postMessage(o.stringify({windowId:t.exports.currentWindowId,type:e,data:n||""}),"*"):s("Cannot postMessage, no parent window.",e,n)},createIframe:function(e,t){var n,o,a=r.document.createElement("iframe"),u=function(){s("unattach"),clearTimeout(n);try{a.onload=null}catch(e){}a.onerror=null},c=function(){s("cleanup"),a&&(u(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),i.unloadDel(o))},l=function(e){s("onerror",e),a&&(c(),t(e))},d=function(e,t){s("post",e,t);try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(e,t)},0)}catch(n){}};return a.src=e,a.style.display="none",a.style.position="absolute",a.onerror=function(){l("onerror")},a.onload=function(){s("onload"),clearTimeout(n),n=setTimeout(function(){l("onload timeout")},2e3)},r.document.body.appendChild(a),n=setTimeout(function(){l("timeout")},15e3),o=i.unloadAdd(c),{post:d,cleanup:c,loaded:u}},createHtmlfile:function(e,n){var o,a,u,c=["Active"].concat("Object").join("X"),l=new r[c]("htmlfile"),d=function(){clearTimeout(o),u.onerror=null},f=function(){l&&(d(),i.unloadDel(a),u.parentNode.removeChild(u),u=l=null,CollectGarbage())},p=function(e){s("onerror",e),l&&(f(),n(e))},h=function(e,t){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(e,t)},0)}catch(n){}};l.open(),l.write('<html><script>document.domain="'+r.document.domain+'";</script></html>'),l.close(),l.parentWindow[t.exports.WPrefix]=r[t.exports.WPrefix];var m=l.createElement("div");return l.body.appendChild(m),u=l.createElement("iframe"),m.appendChild(u),u.src=e,u.onerror=function(){p("onerror")},o=setTimeout(function(){p("timeout")},15e3),a=i.unloadAdd(f),{post:h,cleanup:f,loaded:d}}},t.exports.iframeEnabled=!1,r.document&&(t.exports.iframeEnabled=("function"==typeof r.postMessage||"object"==typeof r.postMessage)&&!a.isKonqueror())}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:54,json3:58}],48:[function(e,t,n){(function(e){"use strict";var n={};["log","debug","warn"].forEach(function(t){var r=e.console&&e.console[t]&&e.console[t].apply;n[t]=r?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:n.log}),t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){"use strict";t.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}}},{}],50:[function(e,t,n){"use strict";var r=e("crypto"),i="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(e){for(var t=i.length,n=r.randomBytes(e),o=[],a=0;a<e;a++)o.push(i.substr(n[a]%t,1));return o.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}}},{crypto:43}],51:[function(e,t,n){(function(n){"use strict";var r=function(){};"production"!==n.env.NODE_ENV&&(r=e("debug")("sockjs-client:utils:transport")),t.exports=function(e){return{filterToEnabled:function(t,n){var i={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach(function(e){if(e)return"websocket"===e.transportName&&n.websocket===!1?void r("disabled from server","websocket"):t.length&&t.indexOf(e.transportName)===-1?void r("not in whitelist",e.transportName):void(e.enabled(n)?(r("enabled",e.transportName),i.main.push(e),e.facadeTransport&&i.facade.push(e.facadeTransport)):r("disabled",e.transportName))}),i}}}}).call(this,{env:{}})},{debug:54}],52:[function(e,t,n){(function(n){"use strict";var r=e("url-parse"),i=function(){};"production"!==n.env.NODE_ENV&&(i=e("debug")("sockjs-client:utils:url")),t.exports={getOrigin:function(e){if(!e)return null;var t=new r(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return i("same",e,t,n),n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)}}}).call(this,{env:{}})},{debug:54,"url-parse":59}],53:[function(e,t,n){t.exports="1.0.3"},{}],54:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?c.removeItem("debug"):c.debug=e}catch(t){}}function s(){var e;try{e=c.debug}catch(t){}return e}function u(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r;var c;c="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":55}],55:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];t=i.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var u=i.log||n.log||console.log.bind(console);u.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i,n.coerce=u,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,l=0},{ms:56}],56:[function(e,t,n){function r(e){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,l,"day")||a(e,c,"hour")||a(e,u,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,u=60*s,c=60*u,l=24*c,d=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):i(e)}},{}],57:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],58:[function(t,n,r){(function(t){(function(){function i(e,t){function n(e){if(n[e]!==_)return n[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,l="function"==typeof u&&v;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===u(0)&&"0"===u(new r)&&'""'==u(new o)&&u(y)===_&&u(_)===_&&u()===_&&"1"===u(a)&&"[1]"==u([a])&&"[null]"==u([_])&&"null"==u(null)&&"[null,null,null]"==u([_,y,null])&&u({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===u(null,a)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new c((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==u(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new c((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==u(new c((-1)))}catch(d){l=!1}}i=l}if("json-parse"==e){var f=t.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){a=f(s);var p=5==a.a.length&&1===a.a[0];if(p){try{p=!f('"\t"')}catch(d){}if(p)try{p=1!==f("01")}catch(d){}if(p)try{p=1!==f("1.")}catch(d){}}}}catch(d){p=!1}i=p}}return n[e]=!!i}e||(e=u.Object()),t||(t=u.Object());var r=e.Number||u.Number,o=e.String||u.String,s=e.Object||u.Object,c=e.Date||u.Date,l=e.SyntaxError||u.SyntaxError,d=e.TypeError||u.TypeError,f=e.Math||u.Math,p=e.JSON||u.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var h,m,_,g=s.prototype,y=g.toString,v=new c((-0xc782b5b800cec));try{v=v.getUTCFullYear()==-109252&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(b){}if(!n("json")){var M="[object Function]",w="[object Date]",T="[object Number]",L="[object String]",k="[object Array]",x="[object Boolean]",A=n("bug-string-char-index");if(!v)var S=f.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],Y=function(e,t){return D[t]+365*(e-1970)+S((e-1969+(t=+(t>1)))/4)-S((e-1901+t)/100)+S((e-1601+t)/400)};if((h=g.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),m=function(e,t){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)h.call(r,i)&&o++;return n=r=null,o?m=2==o?function(e,t){var n,r={},i=y.call(e)==M;for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i=y.call(e)==M;for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,i,o=y.call(e)==M,s=!o&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)o&&"prototype"==n||!s.call(e,n)||t(n);for(i=r.length;n=r[--i];s.call(e,n)&&t(n));}),m(e,t)},!n("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C="000000",j=function(e,t){return(C+(t||0)).slice(-e)},O="\\u00",N=function(e){for(var t='"',n=0,r=e.length,i=!A||r>10,o=i&&(A?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=E[a];break;default:if(a<32){t+=O+j(2,a.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},z=function(e,t,n,r,i,o,a){var s,u,c,l,f,p,g,v,b,M,A,D,E,C,O,P;try{s=t[e]}catch(W){}if("object"==typeof s&&s)if(u=y.call(s),u!=w||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(u!=T&&u!=L&&u!=k||h.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(Y){for(f=S(s/864e5),c=S(f/365.2425)+1970-1;Y(c+1,0)<=f;c++);for(l=S((f-Y(c,0))/30.42);Y(c,l+1)<=f;l++);f=1+f-Y(c,l),p=(s%864e5+864e5)%864e5,g=S(p/36e5)%24,v=S(p/6e4)%60,b=S(p/1e3)%60,M=p%1e3}else c=s.getUTCFullYear(),l=s.getUTCMonth(),f=s.getUTCDate(),g=s.getUTCHours(),v=s.getUTCMinutes(),b=s.getUTCSeconds(),M=s.getUTCMilliseconds();s=(c<=0||c>=1e4?(c<0?"-":"+")+j(6,c<0?-c:c):j(4,c))+"-"+j(2,l+1)+"-"+j(2,f)+"T"+j(2,g)+":"+j(2,v)+":"+j(2,b)+"."+j(3,M)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if(u=y.call(s),u==x)return""+s;if(u==T)return s>-1/0&&s<1/0?""+s:"null";if(u==L)return N(""+s);if("object"==typeof s){for(C=a.length;C--;)if(a[C]===s)throw d();if(a.push(s),A=[],O=o,o+=i,u==k){for(E=0,C=s.length;E<C;E++)D=z(E,s,n,r,i,o,a),A.push(D===_?"null":D);P=A.length?i?"[\n"+o+A.join(",\n"+o)+"\n"+O+"]":"["+A.join(",")+"]":"[]"}else m(r||s,function(e){var t=z(e,s,n,r,i,o,a);t!==_&&A.push(N(e)+":"+(i?" ":"")+t)}),P=A.length?i?"{\n"+o+A.join(",\n"+o)+"\n"+O+"}":"{"+A.join(",")+"}":"{}";return a.pop(),P}};t.stringify=function(e,t,n){var r,i,o,s;if(a[typeof t]&&t)if((s=y.call(t))==M)i=t;else if(s==k){o={};for(var u,c=0,l=t.length;c<l;u=t[c++],s=y.call(u),(s==L||s==T)&&(o[u]=1));}if(n)if((s=y.call(n))==T){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==L&&(r=n.length<=10?n:n.slice(0,10));return z("",(u={},u[""]=e,u),i,o,r,"",[])}}if(!n("json-parse")){var P,W,H=o.fromCharCode,R={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},B=function(){throw P=W=null,l()},F=function(){for(var e,t,n,r,i,o=W,a=o.length;P<a;)switch(i=o.charCodeAt(P)){case 9:case 10:case 13:case 32:P++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=A?o.charAt(P):o[P],P++,e;case 34:for(e="@",P++;P<a;)if(i=o.charCodeAt(P),i<32)B();else if(92==i)switch(i=o.charCodeAt(++P)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=R[i],P++;break;case 117:for(t=++P,n=P+4;P<n;P++)i=o.charCodeAt(P),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||B();e+=H("0x"+o.slice(t,P));break;default:B()}else{if(34==i)break;for(i=o.charCodeAt(P),t=P;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++P);e+=o.slice(t,P)}if(34==o.charCodeAt(P))return P++,e;B();default:if(t=P,45==i&&(r=!0,i=o.charCodeAt(++P)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(P+1),i>=48&&i<=57)&&B(),r=!1;P<a&&(i=o.charCodeAt(P),i>=48&&i<=57);P++);if(46==o.charCodeAt(P)){for(n=++P;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==P&&B(),P=n}if(i=o.charCodeAt(P),101==i||69==i){for(i=o.charCodeAt(++P),43!=i&&45!=i||P++,n=P;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==P&&B(),P=n}return+o.slice(t,P)}if(r&&B(),"true"==o.slice(P,P+4))return P+=4,!0;if("false"==o.slice(P,P+5))return P+=5,!1;if("null"==o.slice(P,P+4))return P+=4,null;B()}return"$"},q=function(e){var t,n;if("$"==e&&B(),"string"==typeof e){if("@"==(A?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=F(),"]"!=e;n||(n=!0))n&&(","==e?(e=F(),"]"==e&&B()):B()),","==e&&B(),t.push(q(e));return t}if("{"==e){for(t={};e=F(),"}"!=e;n||(n=!0))n&&(","==e?(e=F(),"}"==e&&B()):B()),","!=e&&"string"==typeof e&&"@"==(A?e.charAt(0):e[0])&&":"==F()||B(),t[e.slice(1)]=q(F());return t}B()}return e},I=function(e,t,n){var r=U(e,t,n);r===_?delete e[t]:e[t]=r},U=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(y.call(i)==k)for(r=i.length;r--;)I(i,r,n);else m(i,function(e){I(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return P=0,W=""+e,n=q(F()),"$"!=F()&&B(),P=W=null,t&&y.call(t)==M?U((r={},r[""]=n,r),"",t):n}}}return t.runInContext=i,t}var o="function"==typeof e&&e.amd,a={"function":!0,object:!0},s=a[typeof r]&&r&&!r.nodeType&&r,u=a[typeof window]&&window||this,c=s&&a[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),s&&!o)i(u,s);else{var l=u.JSON,d=u.JSON3,f=!1,p=i(u,u.JSON3={noConflict:function(){return f||(f=!0,u.JSON=l,u.JSON3=d,l=d=null),p}});u.JSON={parse:p.parse,stringify:p.stringify}}o&&e(function(){return p})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);var c,l,d,f,p=s.test(e),h=typeof t,m=this,_=0;for("object"!==h&&"string"!==h&&(n=t,t=null),n&&"function"!=typeof n&&(n=a.parse),t=o(t);_<u.length;_++)l=u[_],c=l[0],f=l[1],c!==c?m[f]=e:"string"==typeof c?~(d=e.indexOf(c))&&("number"==typeof l[2]?(m[f]=e.slice(0,d),e=e.slice(d+l[2])):(m[f]=e.slice(d),e=e.slice(0,d))):(d=c.exec(e))&&(m[f]=d[1],e=e.slice(0,e.length-d[0].length)),m[f]=m[f]||(l[3]||"port"===f&&p?t[f]||"":""),l[4]&&(m[f]=m[f].toLowerCase());n&&(m.query=n(m.query)),i(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(l=m.auth.split(":"),m.username=l[0]||"",m.password=l[1]||""),m.href=m.toString()}var i=e("requires-port"),o=e("./lolcation"),a=e("querystringify"),s=/^\/(?!\/)/,u=[["#","hash"],["?","query"],["//","protocol",2,1,1],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];r.prototype.set=function(e,t,n){var r=this;return"query"===e?("string"==typeof t&&(t=(n||a.parse)(t)),r[e]=t):"port"===e?(r[e]=t,i(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="")):"hostname"===e?(r[e]=t,r.port&&(t+=":"+r.port),
r.host=t):"host"===e?(r[e]=t,/\:\d+/.test(t)&&(t=t.split(":"),r.hostname=t[0],r.port=t[1])):r[e]=t,r.href=r.toString(),r},r.prototype.toString=function(e){e&&"function"==typeof e||(e=a.stringify);var t,n=this,r=n.protocol+"//";return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.hostname,n.port&&(r+=":"+n.port),r+=n.pathname,n.query&&(t="object"==typeof n.query?e(n.query):n.query,r+=("?"===t.charAt(0)?"":"?")+t),n.hash&&(r+=n.hash),r},r.qs=a,r.location=o,t.exports=r},{"./lolcation":60,querystringify:61,"requires-port":62}],60:[function(e,t,n){(function(n){"use strict";var r,i={hash:1,query:1};t.exports=function(t){t=t||n.location||{},r=r||e("./");var o,a={},s=typeof t;if("blob:"===t.protocol)a=new r(unescape(t.pathname),{});else if("string"===s){a=new r(t,{});for(o in i)delete a[o]}else if("object"===s)for(o in t)o in i||(a[o]=t[o]);return a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":59}],61:[function(e,t,n){"use strict";function r(e){for(var t,n=/([^=?&]+)=([^&]*)/g,r={};t=n.exec(e);r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return r}function i(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var r in e)o.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}var o=Object.prototype.hasOwnProperty;n.stringify=i,n.parse=r},{}],62:[function(e,t,n){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 22!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}]},{},[1])(1)}),function(){var e,t,n,r,i={}.hasOwnProperty,o=[].slice;e={LF:"\n",NULL:"\0"},n=function(){function t(e,t,n){this.command=e,this.headers=null!=t?t:{},this.body=null!=n?n:""}var n;return t.prototype.toString=function(){var n,r,o,a,s;n=[this.command],o=this.headers["content-length"]===!1,o&&delete this.headers["content-length"],s=this.headers;for(r in s)i.call(s,r)&&(a=s[r],n.push(""+r+":"+a));return this.body&&!o&&n.push("content-length:"+t.sizeOfUTF8(this.body)),n.push(e.LF+this.body),n.join(e.LF)},t.sizeOfUTF8=function(e){return e?encodeURI(e).match(/%..|./g).length:0},n=function(n){var r,i,o,a,s,u,c,l,d,f,p,h,m,_,g,y,v;for(a=n.search(RegExp(""+e.LF+e.LF)),s=n.substring(0,a).split(e.LF),o=s.shift(),u={},h=function(e){return e.replace(/^\s+|\s+$/g,"")},y=s.reverse(),m=0,g=y.length;m<g;m++)f=y[m],l=f.indexOf(":"),u[h(f.substring(0,l))]=h(f.substring(l+1));if(r="",p=a+2,u["content-length"])d=parseInt(u["content-length"]),r=(""+n).substring(p,p+d);else for(i=null,c=_=p,v=n.length;(p<=v?_<v:_>v)&&(i=n.charAt(c),i!==e.NULL);c=p<=v?++_:--_)r+=i;return new t(o,u,r)},t.unmarshall=function(t){var r;return function(){var i,o,a,s;for(a=t.split(RegExp(""+e.NULL+e.LF+"*")),s=[],i=0,o=a.length;i<o;i++)r=a[i],(null!=r?r.length:void 0)>0&&s.push(n(r));return s}()},t.marshall=function(n,r,i){var o;return o=new t(n,r,i),o.toString()+e.NULL},t}(),t=function(){function t(e){this.ws=e,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={}}var i;return t.prototype.debug=function(e){var t;return"undefined"!=typeof window&&null!==window&&null!=(t=window.console)?t.log(e):void 0},i=function(){return Date.now?Date.now():(new Date).valueOf},t.prototype._transmit=function(e,t,r){var i;for(i=n.marshall(e,t,r),"function"==typeof this.debug&&this.debug(">>> "+i);;){if(!(i.length>this.maxWebSocketFrameSize))return this.ws.send(i);this.ws.send(i.substring(0,this.maxWebSocketFrameSize)),i=i.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+i.length)}},t.prototype._setupHeartbeat=function(t){var n,o,a,s,u,c;if((u=t.version)===r.VERSIONS.V1_1||u===r.VERSIONS.V1_2)return c=function(){var e,n,r,i;for(r=t["heart-beat"].split(","),i=[],e=0,n=r.length;e<n;e++)s=r[e],i.push(parseInt(s));return i}(),o=c[0],n=c[1],0!==this.heartbeat.outgoing&&0!==n&&(a=Math.max(this.heartbeat.outgoing,n),"function"==typeof this.debug&&this.debug("send PING every "+a+"ms"),this.pinger=r.setInterval(a,function(t){return function(){return t.ws.send(e.LF),"function"==typeof t.debug?t.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==o?(a=Math.max(this.heartbeat.incoming,o),"function"==typeof this.debug&&this.debug("check PONG every "+a+"ms"),this.ponger=r.setInterval(a,function(e){return function(){var t;if(t=i()-e.serverActivity,t>2*a)return"function"==typeof e.debug&&e.debug("did not receive server activity for the last "+t+"ms"),e.ws.close()}}(this))):void 0},t.prototype._parseConnect=function(){var e,t,n,r;switch(e=1<=arguments.length?o.call(arguments,0):[],r={},e.length){case 2:r=e[0],t=e[1];break;case 3:e[1]instanceof Function?(r=e[0],t=e[1],n=e[2]):(r.login=e[0],r.passcode=e[1],t=e[2]);break;case 4:r.login=e[0],r.passcode=e[1],t=e[2],n=e[3];break;default:r.login=e[0],r.passcode=e[1],t=e[2],n=e[3],r.host=e[4]}return[r,t,n]},t.prototype.connect=function(){var t,a,s,u;return t=1<=arguments.length?o.call(arguments,0):[],u=this._parseConnect.apply(this,t),s=u[0],this.connectCallback=u[1],a=u[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(t){return function(r){var o,s,u,c,l,d,f,p,h,m,_,g;if(c="undefined"!=typeof ArrayBuffer&&r.data instanceof ArrayBuffer?(o=new Uint8Array(r.data),"function"==typeof t.debug?t.debug("--- got data length: "+o.length):void 0,function(){var e,t,n;for(n=[],e=0,t=o.length;e<t;e++)s=o[e],n.push(String.fromCharCode(s));return n}().join("")):r.data,t.serverActivity=i(),c===e.LF)return void("function"==typeof t.debug&&t.debug("<<< PONG"));for("function"==typeof t.debug&&t.debug("<<< "+c),_=n.unmarshall(c),g=[],h=0,m=_.length;h<m;h++)switch(l=_[h],l.command){case"CONNECTED":"function"==typeof t.debug&&t.debug("connected to server "+l.headers.server),t.connected=!0,t._setupHeartbeat(l.headers),g.push("function"==typeof t.connectCallback?t.connectCallback(l):void 0);break;case"MESSAGE":p=l.headers.subscription,f=t.subscriptions[p]||t.onreceive,f?(u=t,d=l.headers["message-id"],l.ack=function(e){return null==e&&(e={}),u.ack(d,p,e)},l.nack=function(e){return null==e&&(e={}),u.nack(d,p,e)},g.push(f(l))):g.push("function"==typeof t.debug?t.debug("Unhandled received MESSAGE: "+l):void 0);break;case"RECEIPT":g.push("function"==typeof t.onreceipt?t.onreceipt(l):void 0);break;case"ERROR":g.push("function"==typeof a?a(l):void 0);break;default:g.push("function"==typeof t.debug?t.debug("Unhandled frame: "+l):void 0)}return g}}(this),this.ws.onclose=function(e){return function(){var t;return t="Whoops! Lost connection to "+e.ws.url,"function"==typeof e.debug&&e.debug(t),e._cleanUp(),"function"==typeof a?a(t):void 0}}(this),this.ws.onopen=function(e){return function(){return"function"==typeof e.debug&&e.debug("Web Socket Opened..."),s["accept-version"]=r.VERSIONS.supportedVersions(),s["heart-beat"]=[e.heartbeat.outgoing,e.heartbeat.incoming].join(","),e._transmit("CONNECT",s)}}(this)},t.prototype.disconnect=function(e,t){return null==t&&(t={}),this._transmit("DISCONNECT",t),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof e?e():void 0},t.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&r.clearInterval(this.pinger),this.ponger)return r.clearInterval(this.ponger)},t.prototype.send=function(e,t,n){return null==t&&(t={}),null==n&&(n=""),t.destination=e,this._transmit("SEND",t,n)},t.prototype.subscribe=function(e,t,n){var r;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=e,this.subscriptions[n.id]=t,this._transmit("SUBSCRIBE",n),r=this,{id:n.id,unsubscribe:function(){return r.unsubscribe(n.id)}}},t.prototype.unsubscribe=function(e){return delete this.subscriptions[e],this._transmit("UNSUBSCRIBE",{id:e})},t.prototype.begin=function(e){var t,n;return n=e||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),t=this,{id:n,commit:function(){return t.commit(n)},abort:function(){return t.abort(n)}}},t.prototype.commit=function(e){return this._transmit("COMMIT",{transaction:e})},t.prototype.abort=function(e){return this._transmit("ABORT",{transaction:e})},t.prototype.ack=function(e,t,n){return null==n&&(n={}),n["message-id"]=e,n.subscription=t,this._transmit("ACK",n)},t.prototype.nack=function(e,t,n){return null==n&&(n={}),n["message-id"]=e,n.subscription=t,this._transmit("NACK",n)},t}(),r={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(e,n){var i,o;return null==n&&(n=["v10.stomp","v11.stomp"]),i=r.WebSocketClass||WebSocket,o=new i(e,n),new t(o)},over:function(e){return new t(e)},Frame:n},"undefined"!=typeof exports&&null!==exports&&(exports.Stomp=r),"undefined"!=typeof window&&null!==window?(r.setInterval=function(e,t){return window.setInterval(t,e)},r.clearInterval=function(e){return window.clearInterval(e)},window.Stomp=r):exports||(self.Stomp=r)}.call(this);
require.register("socket-enabler/client",function(e,n,r){function t(){y=!1,E(!0),v=1,g.forEach(function(e){e()})}function i(e){e&&e.headers&&"READY"===e.headers.type&&(y=!0,k.forEach(function(e){e()})),m.forEach(function(n){n(e)})}function o(e){p("Error",e),console.error(e.headers&&e.headers.message||e),w.forEach(function(n){n(e)})}function s(e){var n=1e3*(Math.pow(2,e)-1);return n>3e4&&(n=3e4),Math.random()*n}function u(){if(v>0){var e=s(v);setTimeout(function(){v++,c()},e)}}function c(){p("Connecting"),SockJS.prototype._debug=e("utils/debug")("sockjs"),d=new SockJS(f.url),a=Stomp.over(d),a.debug=e("utils/debug")("stompjs"),b.extend(a,f.stomp),a.connect(f.connect,t,o),a.onreceive=i,d.onclose=function(e){y=!1,a._cleanUp(),p("Closed",e),E(!1),u()}}var a,d,f,l=e("message-bus"),b=e("utils/x"),p=e("utils/debug")("socket-enabler:client"),h=e("./default-config"),v=1,g=[],m=[],w=[],k=[],y=!1,E=function(){var e=!1;return function(n){var r;return 0===arguments.length?e:(n?(e=!0,r="connected"):(e=!1,r="disconnected"),p(r),void l.publish("socket-enabler:"+r))}}();n.init=function(e){f=b.extend({},h,e),f.url=f.url||(f.baseUrl||"")+f.destinationPrefix},n.connect=function(e){e&&g.push(e),c()},n.disconnect=function(){a.disconnect(),E(!1)},n.onReceive=function(e){m.push(e)},n.onConnect=function(e){g.push(e)},n.onError=function(e){w.push(e)},n.onReady=function(e){k.push(e)},n.subscribe=function(e,n,r){if(E()){p('Subscribing to destination "'+n+'"'+(r?" with versionTag "+r:""));var t={};t.id=e,t.destination=n,r&&(t.versionTag=r),a._transmit("SUBSCRIBE",t)}},n.unsubscribe=function(e){E()&&(p('Unsubscribing to id "'+e+'"'),a._transmit("UNSUBSCRIBE",{id:e}))},n.send=function(e,n,r,t){return E()?(p('Send to "'+n,r),r=r||{},r.id=e,r.destination=n,a._transmit("SEND",r,t||"")):void 0},n.isConnected=function(){return E()},n.isReady=function(){return y}}),require.register("socket-enabler/default-config",function(e,n,r){r.exports={connect:{"protocol-version":"1.3"},stomp:{heartbeat:{outgoing:1e4,incoming:1e4},maxWebSocketFrameSize:13312}}}),require.register("socket-enabler/index",function(e,n,r){function t(e){var n=u;return e.locale&&(n=i(n,e.locale)),n=i(n,e.name),e.id&&(n=i(n,e.id)),n}function i(e,n){var r=e+"/"+n;return r.replace(/\/+/,"/")}var o,s,u,c=(e("utils/debug")("socket-enabler:index"),e("utils/x")),a=e("./client"),d=e("./response-bus"),f=e("./pubsub"),l=e("./request"),b=e("cogwheels");n.init=function(e){e.destinationPrefix=e.destinationPrefix||"/api",u=e.destinationPrefix,a.init(e);var r=new d(a);s=new l(a,r),o=new f(a,r),b.addInstrumentation("socketEnabler",n)},n.start=function(){a.connect()},n.instrumentation=function(){return{__this__:!0,__name__:"Socket enabler",pubsub:o,request:s,destinationPrefix:u}},n.subscribe=function(e,n,r){if(!e.id)throw new Error('attribute "id" is required');var i,s=t(e),u=e.versionTag;return i=c.isFunction(u)?u:function(e){e(u)},o.subscribe(s,i,n,r)},n.fetch=function(e,n,r){var i=t(e);s.get(i,n,r)},n.put=function(e,n,r,i){var o=t(e);s.get(o,r,i,JSON.stringify(n))},n.createNetworkProvider=function(r,t){var i=e("./network-provider");if(!r)throw new Error("Missing endpointName parameter");return new i(r,n.fetch,n.subscribe,t)}}),require.register("socket-enabler/network-provider",function(e,n,r){function t(e,n,r,t){t=t||{};var o=function(n,r){var o={};return t&&(o=i.clone(t)),o.name=e,o.id=n,void 0!==r&&(o.versionTag=r),o};this.subscribe=function(e,n,t,i){var s=o(e,n);return r(s,function(e,n,r){var i="DIFF"===n,o="UP_TO_DATE"===n;o?t():i?t(null,null,r):e?t(e):t(null,r)},function(e,n){var r="DIFF"===e;r?i(null,n):i(n,null)})},this.fetch=function(e,r){var t=o(e);n(t,r)},this.configure=function(e){if(!e)throw new Error("missing configuration object");i.extend(t,e)},this.getConfiguration=function(){return i.clone(t)}}var i=e("utils/x");r.exports=t}),require.register("socket-enabler/pubsub",function(e,n,r){function t(e,n){var r=this.subscriptions={};this.client=e,this.responseBus=n,e.onReady(function(){Object.keys(r).forEach(function(n){r[n].provideVersionTag(function(r){e.subscribe(n,n,r)})})}),e.onReceive(function(e){var n=e.headers.destination,t=r[n];if(t)try{var o=t.handler,s=e.headers.type,u=JSON.parse(e.body);o(s,u)}catch(c){i("WARN: Received an empty response from server.")}})}{var i=e("utils/debug")("socket-enabler:pubsub"),o=e("utils/x");e("utils/uuid")}t.prototype.subscribe=function(e,n,r,t){var i=this.client,s=this.responseBus,u=this.subscriptions,c=o.once(function(){i.unsubscribe(e),delete u[e],s.removeHandler(e)});if(void 0===n)throw new Error("No provideVersionTag provided");if(!o.isFunction(n))throw new Error("provideVersionTag must be a function");if(!r)throw new Error("No onSubscribe provided");if(!t)throw new Error("No onUpdate provided");if(u[e])throw new Error('Subscription for "'+e+'" already registered');return s.addHandler(e,function(e,n,t){e&&c(),r(e,t&&t.type,n)},!0),u[e]={handler:t,provideVersionTag:n},n(function(n){i.subscribe(e,e,n)}),{dispose:c}},r.exports=t}),require.register("socket-enabler/request",function(e,n,r){function t(e,n){var r=this.queued=[];this.client=e,this.responseBus=n,e.onReady(function(){r.forEach(function(n){e.send(n.id,n.destination,n.headers,n.body)}),r.splice(0,r.length)})}var i=e("utils/uuid");t.prototype.get=function(e,n,r,t){var o=this.responseBus,s=this.queued,u=this.client,c=i();o.addHandler(c,n),u.isReady()?u.send(c,e,r,t):s.push({id:c,destination:e,headers:r,body:t})},r.exports=t}),require.register("socket-enabler/response-bus",function(e,n,r){function t(e){var n=this.handlers={};e.onReceive(function(e){var r=e.headers,t=r.id,s=n[t];if(s){var u=s.callback;r.destination===i?(u(null,JSON.parse(e.body),r),s.keep||this.removeHandler(t)):r.destination===o&&(u(new Error(e.body)),s.keep||this.removeHandler(t))}}.bind(this)),e.onConnect(function(n){n||(e.subscribe(i,i),e.subscribe(o,o))})}var i="/user/request-response",o="/user/error";t.prototype.addHandler=function(e,n,r){this.handlers[e]={callback:n,keep:r}},t.prototype.removeHandler=function(e){this.handlers[e]=void 0},r.exports=t}),window.cogwheels.addFeature({name:"socket-enabler",version:"0.1.24",prio:10});
require.register("instrumentation/index",function(e,t,n){"use strict";function o(e){return null!==e&&"object"==typeof e&&e.nodeType>0}var i,r,a,l,c,s;i={title:"Cogwheels Instrumentation",id:"cogwheels-instrumentation-div",borderColor:"#333",borderWidth:5,height:400,width:500,titleHeight:20,titleBackground:"#333",buttonHeight:22,buttonBackground:"#444",contentTopPadding:10,contentHPadding:10,contentBottomPadding:3,minWidth:450,minHeight:100,indentation:25,background:"#003",maxValueStringLength:150,searchMatchBackground:"#333",selectedSearchMatchBackground:"#888"},r=function(){function e(e){return function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift(e),n.element.apply(null,t)}}function t(e,t){if(t){if(t.style)for(var n in t.style)e.style[n]=t.style[n];for(var o in t)"style"!==o&&(e[o]=t[o])}}var n={};return n.element=function(e){var n,i=document.createElement(e);return"string"==typeof arguments[1]?(i.innerHTML=arguments[1],arguments.length>2&&t(i,arguments[2])):o(arguments[1])?n=Array.prototype.slice.call(arguments,1):(t(i,arguments[1]),arguments.length>2&&(n=Array.prototype.slice.call(arguments,2))),n&&n.forEach(function(e){i.appendChild(e)}),i},n.div=e("div"),n.span=e("span"),n.input=e("input"),n.button=e("button"),n}(),a=function(){var e;this.isCollapsed=function(t){return e[t]&&e[t].collapsed},this.setCollapsed=function(t){if(!e)throw"state does not exist";e[t]=e[t]||{},e[t].collapsed=!0},this.setExpanded=function(t){if(!e)throw"state does not exist";e[t]=e[t]||{},e[t].collapsed=!1},this.reset=function(){e=null},this.createEmpty=function(){e={}},this.has=function(t){return e?!!e[t]:!1},this.replace=function(t){e=t.getInnerState()},this.getInnerState=function(){return e},this.exists=function(){return!!e},this.expandAll=function(){e&&Object.keys(e).forEach(function(t){e[t].collapsed=!1})},this.collapseAll=function(){e=null,e&&Object.keys(e).forEach(function(t){e[t].collapsed=!0})}},l=function(){function e(e){return"function"==typeof e}function t(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"object"==typeof e&&!r(e)&&!t(e)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(t){return n(t)&&e(t.instrumentation)}function l(e,t){var o;return o=null===e?"null":"string"==typeof e?'"'+e+'"':r(e)?"("+e.length+") ["+e+"]":n(e)?"{"+Object.keys(e).length+"} Object":""+e,t&&o.length>t&&(o=o.substring(0,t-3)+"..."),o}this.parse=function(t){function c(e){y.push(e)}function s(e){v+="/"+e,m+=1}function u(){v=v.replace(/\/[^/]*$/,""),m-=1}function d(e){var t={meta:{},path:v,value:e,level:m,nbrOfChildren:0};return a(e)&&h(t,e),t.valueString=l(t.value,i.maxValueStringLength),t.fullValueString=l(t.value),t}function h(e,t){e.thisIsInstrumentation=!0,e.instrumentationObject=t;var o=t.instrumentation();if(!n(o))throw new Error("instrumentation must return an object");e.value=p(o,e)}function p(e,t){var n={};return Object.keys(e).forEach(function(o){o.match(/^__.+__$/)?t.meta[o.replace(/^__/,"").replace(/__$/,"")]=e[o]:n[o]=e[o]}),n}function f(e,t){var n=e.nodeName.toLowerCase(),o="";o="&lt;"+n,e.id&&(o+=' id="'+e.id+'"'),e.classList&&e.classList.length&&(o+=' class="',o+=Array.prototype.join.call(document.body.classList," "),o+='"'),o+=e.children&&e.children.length?"&gt;...&lt;/"+n+"&gt;":" /&gt;",t.valueString=t.fullValueString=o}function g(t,i,a){s(i);var l=d(t);l.parentIsIntrumentation=a,l.name=l.meta.name||i+"",l.thisIsInstrumentation&&(t=l.value),a&&e(t)?i.match(/^get/)?(u(),g(t(),i.replace(/^get/,""),a),s(i)):i.match(/^set[A-Z]/)?(l.type="SETTER",l.setterName=i.replace(/^set/,""),1!==t.length?console.warn("Invalid number of parameters (should be exactly one): "+l.path):c(l)):i.match(/^access[A-Z]/)?(l.type="ACCESSOR",l.accessorName=i.replace(/^access/,""),1!==t.length?console.warn("Invalid number of parameters (should be exactly one): "+l.path):c(l)):0===t.length?(l.type="ACTION",l.actionName=l.name.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase(),l.actionName=l.actionName.charAt(0).toUpperCase()+l.actionName.slice(1),c(l)):console.warn("Skipping function: "+i):e(t)?(l.value=void 0,l.valueString=l.fullValueString="function",c(l)):o(t)?(f(t,l),c(l)):n(t)?(c(l),l.thisIsInstrumentation&&l.meta["this"]&&Object.keys(l.instrumentationObject).map(function(e){return{key:e,value:l.instrumentationObject[e]}}).filter(function(t){return!e(t.value)}).forEach(function(e){g(e.value,"this."+e.key,!0)}),Object.keys(t).sort().forEach(function(e){var n=t[e];g(n,e,l.thisIsInstrumentation),l.nbrOfChildren+=1})):r(t)?(c(l),t.forEach(function(e,t){g(e,t,!1),l.nbrOfChildren+=1})):c(l),u()}var y=[],m=0,v="";return g(t,"Root"),y}},c=function(){function e(){t=null,n=null}var t=null,n=null;this.clearSearch=e,this.getSelectedIndex=function(){return n},this.getNbrOfResults=function(){return t?t.length:0},this.hasResult=function(){return t&&t.length>=1},this.search=function(o,i){if(0===o.length||!i)return void e();t=[];var r=new RegExp(o);return i.forEach(function(e){e.valueString.match(r)?t.push(e.path):(e.fullValueString.match(r)||e.name.match(r))&&t.push(e.path)}),t.length>0&&(n=0),t},this.isOnSearchPath=function(e){if(e+="/",!t)return!1;var n=!1;return t.forEach(function(t){0===t.indexOf(e)&&(n=!0)}),n},this.isMatch=function(e){return t?-1!==t.indexOf(e):!1},this.isSelected=function(e){return t&&null!==n?e===t[n]:!1},this.nextMatch=function(){t&&0!==t.length&&(null===n?n=0:(n+=1,n>=t.length&&(n=0)))},this.prevMatch=function(){t&&0!==t.length&&(null===n?n=0:(n-=1,0>n&&(n=t.length-1)))}},s=function(){var e=r.span,t=r.div,n=r.button,o=r.input,l=function(r,l,c){function s(){return t({style:{position:"absolute",top:i.titleHeight+i.buttonHeight+5+"px",bottom:"0px",left:"0px",right:"0px",paddingTop:i.contentTopPadding+"px",paddingRight:i.contentHPadding+"px",paddingBottom:i.contentBottomPadding+"px",paddingLeft:i.contentHPadding+"px",overflow:"auto",whiteSpace:"nowrap"}})}function u(e){return t(e,{style:{position:"absolute",left:"0px",right:"0px",top:"0px",height:i.titleHeight+"px",textAlign:"center",fontSize:"bigger",backgroundColor:i.titleBackground,cursor:"move"}})}function d(e,n,o){return t({onmousedown:function(e){e.stopPropagation()},style:{backgroundColor:i.background,position:"absolute",left:"0px",right:"0px",top:i.borderWidth+"px",bottom:i.borderWidth+"px",cursor:"auto"}},e,n,o)}function h(e){return t({style:{backgroundColor:i.borderColor,position:"absolute",top:"0px",bottom:"0px",left:i.borderWidth+"px",right:i.borderWidth+"px",cursor:"ns-resize"}},e)}function p(e){return e.replace(/\/[^/]*$/,"")}function f(e){I&&(I.contentDiv.scrollTop>e.offsetTop-15?I.contentDiv.scrollTop=e.offsetTop-15:I.contentDiv.scrollTop+I.contentDiv.offsetHeight<e.offsetTop+e.offsetHeight+30&&(I.contentDiv.scrollTop=e.offsetTop-I.contentDiv.offsetHeight+e.offsetHeight+30))}function g(e,n,o,a){var c=t({style:{backgroundColor:i.background}});return c.parentContainer=o,r.exists()?(!r.has(a)||r.isCollapsed(a))&&(c.style.display="none"):e>2?(c.style.display="none",O.setCollapsed(a)):O.setExpanded(a),l.isOnSearchPath(a)&&(c.style.display=""),n.nameSpan.style.textDecoration="underline",n.nameSpan.style.cursor="pointer",n.nameSpan.onclick=function(e,t){return function(){var n=!1;"none"===e.style.display?(e.style.display="",r.setExpanded(t)):(e.style.display="none",n=!0,r.setCollapsed(t))}}(c,a),c}function y(e,t,n){function o(t){a=parseInt(e.style.left),l=parseInt(e.style.top),c=parseInt(e.style.height),s=parseInt(e.style.width),h=t.x,p=t.y}function r(){window.onmousemove=f,window.onmouseup=g}var a,l,c,s,u,d,h,p,f=window.onmousemove,g=window.onmouseup;t.onmousedown=function(t){t.stopPropagation(),o(t),window.onmousemove=function(t){u=t.x-h,d=t.y-p,m(e,{x:a+u,y:l+d})},window.onmouseup=r},e.onmousedown=function(t){t.stopPropagation(),o(t),window.onmouseup=r,window.onmousemove=t.offsetX<i.borderWidth?t.offsetY>parseInt(e.style.height)-30?function(t){u=t.x-h,d=t.y-p,m(e,{x:a+u,width:s-u,height:c+d})}:t.offsetY<30?function(t){u=t.x-h,d=t.y-p,m(e,{x:a+u,width:s-u,y:l+d,height:c-d})}:function(t){u=t.x-h,m(e,{x:a+u,width:s-u})}:t.offsetY>parseInt(e.style.height)-30?function(t){u=t.x-h,d=t.y-p,m(e,{width:s+u,height:c+d})}:t.offsetY<30?function(t){u=t.x-h,d=t.y-p,m(e,{width:s+u,y:l+d,height:c-d})}:function(t){u=t.x-h,m(e,{width:s+u})}},n.onmousedown=function(t){t.stopPropagation(),o(t),window.onmouseup=r,window.onmousemove=t.offsetY<i.borderWidth?t.offsetX>parseInt(e.style.width)-30?function(t){u=t.x-h,d=t.y-p,m(e,{width:s+u,y:l+d,height:c-d})}:t.offsetX<30?function(t){u=t.x-h,d=t.y-p,m(e,{x:a+u,width:s-u,y:l+d,height:c-d})}:function(t){d=t.y-p,m(e,{y:l+d,height:c-d})}:t.offsetX>parseInt(e.style.width)-30?function(t){u=t.x-h,d=t.y-p,m(e,{width:s+u,height:c+d})}:t.offsetX<30?function(t){u=t.x-h,d=t.y-p,m(e,{x:a+u,width:s-u,height:c+d})}:function(t){d=t.y-p,m(e,{height:c+d})}}}function m(e,t){var n=t.hasOwnProperty("x"),o=t.hasOwnProperty("y"),r=t.hasOwnProperty("width"),a=t.hasOwnProperty("height"),l=n?t.x:parseInt(e.style.left),c=o?t.y:parseInt(e.style.top),s=r?t.width:parseInt(e.style.width),u=a?t.height:parseInt(e.style.height),d=window.innerWidth,h=window.innerHeight,p=i.minWidth,f=i.minHeight;r&&(p>s&&(n&&(l-=p-s),s=p),0>l&&(s+=l,l=0),l+s>d&&(s=d-l),e.style.width=s+"px"),a&&(f>u&&(o&&(c-=f-u),u=f),0>c&&(u+=c,c=0),c+u>h&&(u=h-c),e.style.height=u+"px"),n&&(l+s>d&&(l=d-s),0>l&&(l=0),e.style.left=l+"px"),t.hasOwnProperty("y")&&(c+u>h&&(c=h-u),0>c&&(c=0),e.style.top=c+"px")}function v(){var r=n("Reload",{onclick:function(){c("reloadClicked")}}),a=n("Close",{onclick:function(){c("closeClicked")},style:{marginLeft:"10px"}}),s=n("+",{onclick:function(){c("expandAll")},style:{marginLeft:"10px"}}),u=n("-",{onclick:function(){c("collapseAll")},style:{marginLeft:"0px"}});k=e("Search",{style:{marginRight:"5px"}}),b=o({style:{display:"inline-block"},oninput:function(){c("search",{value:this.value,renderedData:C})},onkeypress:function(e){e||(e=window.event);var t=e.keyCode||e.which;13===t&&(l.hasResult()?c("nextMatch"):c("search",{value:b.value,renderedData:C}))}});var d=e({style:{"float":"right"}},k,b),h=t({style:{position:"absolute",left:"0px",right:"0px",top:i.titleHeight+"px",height:i.buttonHeight+"px",fontSize:"bigger",backgroundColor:i.buttonBackground,paddingTop:"5px",paddingLeft:"4px",paddingRight:"4px"}},r,a,s,u,d);return h}function w(r){var a=t({style:{paddingLeft:(r.level-1)*i.indentation+"px",borderBottom:"1px solid "+i.background}}),s=t(a);s.row=a;var u,d,h,p,f=function(){c("setterClicked",{setter:function(){r.value(h.value)}})};if(s.path=r.path,"ACTION"===r.type)a.appendChild(n(r.actionName,{onclick:function(){c("actionButtonClicked",{action:r.value})}}));else if("SETTER"===r.type||"ACCESSOR"===r.type)p="SETTER"===r.type?r.setterName:r.accessorName,"ACCESSOR"===r.type&&(p+=" ("+r.value()+")"),d=e(p,{style:{marginRight:"6px"}}),a.appendChild(d),h=o({onkeypress:function(e){e||(e=window.event);var t=e.keyCode||e.which;13===t&&f()},style:{display:"inline-block",marginRight:"4px"}}),a.appendChild(h),a.appendChild(n("set",{onclick:f}));else{var g,y;y=r.thisIsInstrumentation?"yellow":r.name.match(/this\./)?"#afa":"white";var m=e(r.name+":",{style:{color:y}});u=e(r.valueString,{onclick:function(){c("valueClicked",{value:r.value})},style:{marginLeft:"20px",cursor:"pointer",fontStyle:"italic",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}}),r.meta.description&&(g=e("i",{style:{marginLeft:"10px",textDecoration:"underline",cursor:"pointer",color:"#ccf"}}),g.onclick=function(e){return function(){alert(e)}}(r.meta.description)),a.appendChild(m),g&&a.appendChild(g),a.appendChild(u),a.nameSpan=m,a.valueObject=r.value}return l.isMatch(r.path)&&(a.style.backgroundColor=i.searchMatchBackground,u&&(u.style.backgroundColor=i.searchMatchBackground)),l.isSelected(r.path)&&(a.style.backgroundColor=i.selectedSearchMatchBackground,u&&(u.style.backgroundColor=i.selectedSearchMatchBackground),a.isSelected=!0),s}function x(){var e=document.body;return e.onkeydown?void console.warn("key listener already present on body"):void(e.onkeydown=function(e){e||(e=window.event);var t=e.keyCode||e.which;switch(t){case 38:c("prevMatch");break;case 40:c("nextMatch");break;case 27:c("clearSearch")}})}var b,k,C,S,I,O=new a;this.render=function(e){if(!e)throw"No data to render";O.createEmpty();var n,o,i=e[0].level,a=t();I.contentDiv.innerHTML="",I.contentDiv.appendChild(a),e.forEach(function(e){var t;for(e.level>i&&(i=e.level,t=p(e.path),a=g(e.level,n.row,a,t),n.appendChild(a));i>e.level;)i-=1,a=a.parentContainer;n=w(e),n.row.isSelected&&(o=n.row),a.appendChild(n)}),o&&f(o),r.exists()||r.replace(O);var c="Search";null!==l.getSelectedIndex()&&(c+=" ("+(l.getSelectedIndex()+1)+"/"+l.getNbrOfResults()+")"),k.innerHTML=c,C=e,b.focus()},this.rerender=S=function(){this.render(C)}.bind(this),this.close=function(){I&&I.parentNode.removeChild(I),I=null},this.createInstrumentationDiv=function(){var e=u(i.title),n=v(),o=s(),r=d(e,n,o),a=h(r);return I=t({id:i.id,style:{position:"fixed",top:"50px",left:"30px",height:i.height+"px",width:i.width+"px",opacity:"0.95",backgroundColor:i.borderColor,color:"white",fontSize:"14px",fontFamily:"Courier new",zIndex:"10000",cursor:"ew-resize",overflow:"hidden",textAlign:"left",userSelect:"none",webkitUserSelect:"none",MozUserSelect:"none"}},a),I.contentDiv=o,y(I,e,a),x(I),I}};return l}(),function(){function e(e,n){switch(e){case"search":r.search(n.value,n.renderedData),u.rerender();break;case"nextMatch":r.nextMatch(),u.rerender();break;case"prevMatch":r.prevMatch(),u.rerender();break;case"clearSearch":r.clearSearch(),u.rerender();break;case"valueClicked":console.log(n.value),d.value=n.value;break;case"actionButtonClicked":n.action(),t();break;case"setterClicked":n.setter(),t();break;case"reloadClicked":t();break;case"closeClicked":u.close();break;case"expandAll":o.expandAll(),u.rerender();break;case"collapseAll":o.collapseAll(),u.rerender();break;default:throw new Error('Unknown action: "'+e+'"')}}var t,n=new l,o=new a,r=new c,u=new s(o,r,e),d=function(e){e=e||window.cogwheels||{},!e.instrumentation,o.reset();var r=document.getElementById(i.id);r&&r.parentNode.removeChild(r);var a=u.createInstrumentationDiv();document.body.appendChild(a);var l=n.parse(e);t=function(){var e=n.parse(l[0].instrumentationObject);u.render(e)},u.render(l,t)};window.cogwheels?window.cogwheels.instrument=d:window.instrument=d}()}),window.cogwheels.addFeature({name:"instrumentation",version:"0.1.5"});
require.register("ladbrokes-router/index",function(e,a,t){function r(e){if(e){h.pageRedirectPermanently(e);var a=f.create(e,s.config.base,{});history.replaceState(a,a.title,a.pathname),s.dispatch(a)}else g("redirect error - missing redirect url")}function o(e,a){e.params.locale!==d.value()?(p.subscribeOnce("^locale:changed$",function(e){a()}),d.supports(e.params.locale)?d.locale(e.params.locale):window.location="/"+d.defaultLocale()+"/"):a()}function n(e,a){e.firstRoute=y,y=!1,a()}function u(e,a,t){e.previousRoutePath=w,w=t.replace(v,""),a()}function i(e,a){R=e.deactivate,a()}function c(e,a){var t;e.previousRoutePath!==w&&R?(t=R(e,w),a()):a()}function l(e){var a=e.queryObject&&e.queryObject.addSelection;a&&m.service.addSelectionById(a)}var s=e("router"),d=e("locale"),p=e("message-bus"),f=e("router/context"),v="/:locale",h=e("seo"),b=e("utils/debug"),g=b("ladbrokes-router"),m=e("betslip");a.redirect=r,a.navigate=s.navigate.bind(s),a.init=function(){s.status(404,function(e){var a=d.value()||d.defaultLocale(),t="/"+a+"/";r(t)}),s.on("/",function(e,a){var t="/"+d.defaultLocale()+"/";r(t)})};var y=!0,w=null,R=null;a.on=function(e,a){var t=[];t.push(v+("/"===e[0]?"":"/")+e),t.push(o),t.push(n),t.push(u),t.push(c);for(var r=1;r<arguments.length;r++)t.push(arguments[r]);t.push(i),t.push(l),s.on.apply(s,t)}}),window.cogwheels.addGear({name:"ladbrokes-router",version:"0.0.1",prio:800});
require.register("moment-timezone/index",function(e,n,o){n.init=function(){moment.tz.setDefault("Europe/London")}}),window.cogwheels.addGear({name:"moment-timezone",version:"0.0.1"});
require.register("time-left/index",function(e,t,f){var i={_diff:0,_pad:function(e){return("0"+e).slice(-2)},setDiff:function(e){e=e||0;var t=Date.now()-e;i._diff=t},getDiff:function(){return i._diff},get:function(e){e=e||0;var t=Date.now()-i._diff;return e-t},getFormated:function(e){var t=this.get(e),f=Math.floor(t/6e4%60),r=Math.floor(t/1e3%60);return f=Math.max(0,f),r=Math.max(0,r),i._pad(f)+":"+i._pad(r)}};t.setDiff=i.setDiff,t.getDiff=i.getDiff,t.get=i.get,t.getFormated=i.getFormated}),window.cogwheels.addGear({name:"time-left",version:"0.1.0"});
require.register("translated-property/index",function(t,e,i){var n=t("domain-model/helper"),s=t("locale"),a=function(t){this.get=ko.observable(""),this.update(t)};a.prototype.update=function(t){t=t||{};var e=s.value();this.translations=t.translations,this.unpiped=t.unpiped,this.raw=t.unpiped,this.translations&&this.translations[e]?this.get(this.translations[e]):t.value?this.get(t.value):this.get(this.unpiped||""),this.value=this.get()},a.prototype.original=function(){return n.getSubsetOfObject(this,["get"])},i.exports=function(t){return new a(t)}}),window.cogwheels.addGear({name:"translated-property",version:"0.0.1"});
require.register("cashout/index",function(e,t,s){function a(){n.mixin(this)}function i(e){var t="GENERIC_ERROR";return e&&e.result&&("SUCCESS"===e.result.status&&e.failureReason?t=e.failureReason.split(":")[0]:"ERROR"===e.result.status&&e.result.errorCode&&(t=e.result.errorCode)),t}var u=e("locale"),r=e("message-bus"),n=e("utils/subscribable"),o=e("authentication/user");a.prototype.startUpdate=function(){var e,t=this,s=!1,a=function(){if(!s){var i="/cashout-details",r=u.value();r&&(i="/"+r+i),$.getJSON(i).done(function(i){if(!s)if(i&&"SUCCESS"===i.result.status){var u=i.newTime?1e3*i.newTime:5e3;u>0&&(i.data.forEach(function(e){t.publish("cashout:"+e.id,e)}),e=setTimeout(a.bind(t),u))}else e=setTimeout(a.bind(t),1e4)}).fail(function(){e=setTimeout(a.bind(t),1e4)})}}.bind(this);a();var i=function(){e&&clearTimeout(e),a()},r=t.subscribe("cashedout:|cashouterror",i);return{dispose:function(){s=!0,r.dispose()},restart:i}},a.prototype.performCashOut=function(e,t){var s,a=this;s=u.value(),t||(t="/bet-settlement/settle-bet/"+e.id()+"/"+e.selectedValue(),s&&(t="/"+s+t)),r.publish("loadingOverlay:show"),$.getJSON(t).done(function(t){var u=!0;if(t&&t.result&&"SUCCESS"===t.result.status)if("CASHOUT_COMPLETE"===t.status||"CASHOUT_UNAVAILABLE:BET_SETTLED"===t.status)o.balance(t.balance),r.publish("cashout:reset"),e.finalValue(t.amount||"N/A"),e.onSuccess(),t.id=e.id(),a.publish("cashedout:"+e.id(),t);else if("CASHOUT_PENDING"===t.status){var n,l=t.delay||5,c=t.delayId;u=!1,n="/"+s+"/bet-settlement/get-bet/"+e.id()+"/"+c+"/"+l,setTimeout(function(){a.performCashOut(e,n)},1e3*l)}else t.failureReason&&"CASHOUT_VALUE_CHANGE"===t.failureReason?e.onPriceChange(t):t.failureReason&&"CASHOUT_WAITING"===t.failureReason?(o.balance(t.balance||o.balance()),r.publish("cashout:reset"),e.finalValue(t.amount||"N/A"),e.onSuccess(),t.id=e.id(),t.isWaiting=!0,a.publish("cashedout:"+e.id(),t),r.publish("user:update",{delay:60})):(a.publish("cashouterror"),e.onError(i(t)));else e.onError(i(t));u&&r.publish("loadingOverlay:hide")}).fail(function(){e.onError(i()),r.publish("loadingOverlay:hide")})},s.exports=new a}),window.cogwheels.addGear({name:"cashout",version:"0.0.1"});
require.register("custom-promise/index",function(t,i,o){function e(t){return(t||[]).forEach(function(t){this.add(t)}.bind(this)),this}e.prototype.add=function(t){var i=this,o=t+"Array",e=t+"Resolved",n="do"+t.charAt(0).toUpperCase()+t.slice(1);i[o]=i[o]||[],i[e]=!1,i[t]=function(t){return i[e]===!1?this[o].push(t):t(i[e]),i},i[n]=function(t){i[e]=t,this[o].forEach(function(i){i(t)})}},o.exports=e}),window.cogwheels.addGear({name:"custom-promise",version:"0.0.1"});
require.register("lazy-populate/index",function(e,n,i){function a(e,n,i,a,t,o){function w(){var t;t=m=window.requestTimeout(function(){var a=n.slice(r,u);l(e,a),r+=i,u+=i,u=n.length<u?n.length:u,n.length>=r?(w(),window.clearRequestTimeout(t)):(window.clearRequestTimeout(t),o&&o())},r>0?a:0)}var m,r=0,u=i,l=function(e,n){var i=ko.utils.arrayMap(n,t);e.push.apply(e,i)};return n=n||[],n.length>i?(w(e,n,i,o),{dispose:function(){n.length=0,m&&window.clearRequestTimeout(m)}}):(e(n.map(t)),void(o&&o()))}i.exports=a}),function(){!function(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,n){window.setTimeout(e,1e3/60)}}(),window.requestInterval=function(e,n){function i(){var o=(new Date).getTime(),w=o-a;w>=n&&(e.call(),a=(new Date).getTime()),t.value=window.requestAnimFrame(i)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(e,n);var a=(new Date).getTime(),t={};return t.value=window.requestAnimFrame(i),t},window.clearRequestInterval=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearInterval(e)},window.requestTimeout=function(e,n){function i(){var o=(new Date).getTime(),w=o-a;w>=n?e.call():t.value=window.requestAnimFrame(i)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setTimeout(e,n);var a=(new Date).getTime(),t={};return t.value=window.requestAnimFrame(i),t},window.clearRequestTimeout=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearTimeout(e)}}()}(),window.cogwheels.addGear({name:"lazy-populate",version:"0.0.1",prio:100});
require.register("live-chat/index",function(e,t,n){function i(){var e=this;c.mixin(e),e.enabled=ko.observable(!1),e.toDispose(r.subscribe("authentication:logged-in",function(){b("logged in; %o",I),e.setUpChatClient()}));var t=function(t){b("cms data: %o",t),e.enabled(t.chatEnabled||!1),I.initUrl=t.initUrl||"",I.orgId=t.orgId||"",I.deploymentId=t.deploymentId||"",I.buttonId=t.buttonId||""};this.loadScript=function(e){var n=a(l.getDeepProperty(e,"salesForceChat.chatSettings"),0);n.chatEnabled&&$.getScript(n.scriptUrl,function(e,i){b("load script: %o",i),"success"===i&&t(n)})},this.setUpChatClient=function(){e.enabled()&&s.authenticated()&&(b("setup live agent"),window.liveagent.disconnect(),window.liveagent.addCustomDetail("Account_Id","Ladbrokes_"+s.customerId),window.liveagent.findOrCreate("Account").map("IMS_Customer_Identifier__c","Account_Id",!0,!0,!1).saveToTranscript("AccountId").linkToEntity("Case","AccountId"),window.liveagent.init(I.initUrl,I.deploymentId,I.orgId),window._laq||(window._laq=[]),window._laq.push(function(){b("laq: %o",I),window.liveagent.showWhenOnline(I.buttonId,document.getElementById(g+I.buttonId)),window.liveagent.showWhenOffline(I.buttonId,document.getElementById(g+I.buttonId))}),o(g))},e.getSalesForceToken=function(e,t,n,i){if(s.authenticated()){var o=function(t){e+="?username="+t.username+"&sessionId="+t.sessionToken.sessionToken,n&&(e+="&&startUrl="+n),window.open(decodeURIComponent(e),"_blank",i)},d=1,a=u.retrieve("local","ptSalesForceAuthSystemId"),l=window.iapiConf.serviceType;window.iapiSetCallout(iapiCALLOUT_TEMPORARYTOKEN,o),window.iapiRequestTemporaryToken(d,a,l)}else window.open(decodeURIComponent(t),"_blank",i)}}function o(e){document.getElementById(e+I.buttonId)||(document.getElementById(e).id=e+I.buttonId),document.getElementById(e+I.buttonId).onclick=function(){window.liveagent.startChat(I.buttonId)}}function d(){p.enabled()&&s.authenticated()&&(b("start chat (%o)",I.buttonId),window.liveagent.startChat(I.buttonId))}function a(e,t,n){return null==n&&(n=t),Array.isArray(e)?e[n]||{}:e&&(Array.isArray(e[t])&&e[t][n]||e[t])||{}}var l=e("domain-model/helper"),s=e("authentication/user"),r=e("message-bus"),c=e("gear-disposable-mixin"),u=e("web-storage-extender"),w=e("utils/debug"),b=w("live-chat"),g="footer_liveagent_button_online_",I=Object.create(null),p=new i;ko.bindingHandlers.liveChat={init:function(e){if(e.getAttribute("id").indexOf("liveagent_button_online")!==-1){var t=function(){b("laq: %o",I),window.liveagent.showWhenOnline(I.buttonId,e),window.liveagent.showWhenOffline(I.buttonId,e)};t.id=e.getAttribute("id"),window._laq.push(t),e.addEventListener("click",d,!1),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){e.removeEventListener("click",d,!1);for(var n=0;n<window._laq;++n)window._laq[n].id===t.id&&(window._laq.splice(n,1),--n)})}}},n.exports=p}),window.cogwheels.addGear({name:"live-chat",version:"0.0.1",prio:100});
require.register("locale/index",function(e,t,r){function n(e){e=e||{},h=e.supportedLocales||d,w=e.defaultLocale||w;var t=e.url;if(void 0===t)throw new Error("No URL was defined");p.subscribe(function(e){document.documentElement.setAttribute("lang",e),g=e,f.get(t.replace("{}",e)).set("X-Requested-With","XMLHttpRequest").set("Accept","application/json").end(function(t,r){if(t)throw t;if(200===r.status){try{s.store("local","locale:locale",e)}catch(n){}v=r.body,i.publish("locale:changed",e)}})})}function o(){p=null,v=null,h=null}function l(e){for(var t=h.length,r=0;r<t;r++)if(h[r]===e)return!0;return!1}function a(e){for(var t=arguments,r=v,n=r[e]?r[e]:e,o=1;o<t.length;o++){var l=new RegExp("\\{"+(o-1)+"\\}","g");n=n.replace(l,t[o])}return n}function u(){var e;try{e=s.retrieve("local","locale:locale")}catch(t){}var r,n=navigator.languages||[];if(e&&l(e))return e;for(var o in n)if(n.hasOwnProperty(o)&&(r=l(o)))return r;return g=w,w}function c(){return h}var i=e("message-bus"),s=e("web-storage"),f=e("utils/request"),d=["de","el","en","hr","it","pl","ru","tr"],p=ko.observable(""),g="",v={},h=[],w="en";t.init=n,t.dispose=o,t.t=a,t.defaultLocale=u,t.locale=p,t.value=function(){return g},t.supports=l,t.supportedLocales=c}),window.cogwheels.addGear({name:"locale",version:"0.1.2",dependencies:{},prio:300});
require.register("oddsboost/index",function(s,o,e){function t(s){a("save state: %o",s),localStorage.setItem("oddsboost:state",JSON.stringify(s))}function b(s){if(s){var o=JSON.parse(localStorage.getItem("oddsboost:state"));a("reading state for %o (%o)",s,o),d.publish("oddsboost:enable",o)}}var i=s("message-bus"),n=s("utils/subscribable"),u=s("utils/debug"),a=u("oddsboost/bus"),d=n.mixin({}),r=ko.observable(!1),l=ko.observable();d.subscribe("oddsboost:enable",r),d.subscribe("oddsboost:token",l),r.subscribe(t),l.subscribe(b),d.subscribe("oddsboost:disable",function(){a("disable state"),r(!1),d.publish("oddsboost:enable",r())}),i.subscribe("authentication:logged-out",function(){d.publish("oddsboost:token")});var c={subscribe:function(s,o){return"oddsboost:enable"===s&&r()&&o(r()),"oddsboost:token"===s&&l()&&o(l()),a("subscribe to %o",s),d.subscribe(s,o)},publish:function(s){var o=[].slice.call(arguments,1);a("%s: %o",s,o.length>1?o:o[0]),a("publish to %o",s),o.length>1?d.publish(s,o):d.publish(s,o[0])},state:function(){return ko.utils.unwrapObservable(r)}};e.exports=c}),window.cogwheels.addGear({name:"oddsboost",version:"0.0.1"});
require.register("web-storage-extender/index",function(e,r,t){var o=e("web-storage"),n={store:function(e,r,t){try{o.store(e,r,t)}catch(n){}},retrieve:function(e,r){try{return o.retrieve(e,r)}catch(t){}},remove:function(e,r){try{o.remove(e,r)}catch(t){}},clear:function(e){try{o.clear(e)}catch(r){}},hasSupport:function(e){try{return o.store(e,"hasSupport",!0),o.remove(e,"hasSupport"),!0}catch(r){return!1}}};t.exports=n}),window.cogwheels.addGear({name:"web-storage-extender",version:"0.0.1",description:"This is a extended version of webstorage to check if current used storage exist"});
require.register("modal/index",function(e,n,t){var o,i,d,a,l=e("layout-engine"),s=e("./template"),r=e("message-bus");o=function(){var e=document.getElementById("modal"),n=document.body,t=document.getElementById("modalIframe");n.style.height=window.innerHeight+"px",e.style.height=window.innerHeight+"px",t.style.height=e.clientHeight-120+"px"},i=function(e){var n=document.createElement("div"),t=document.body,i=document.documentElement;i.scrollHeight>i.clientHeight&&i.classList.add("showScrollbar"),n.id="modal",t.appendChild(n),t.classList.add("modal-open"),t.style.height=window.innerHeight+"px",l.render(s,{url:e},"modal"),o();var d=document.querySelector(".modal-background");d.classList.add("in")},d=function(){var e,n=document.createElement("div"),t={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in t)if(t.hasOwnProperty(e)&&"undefined"!=typeof n.style[e])return t[e]},a=function(){var e=document.documentElement,n=document.body,t=document.getElementById("modal"),o=document.querySelector(".modal-background");o.classList.remove("in"),ko.utils.registerEventHandler(o,d(),function(){e.classList.remove("showScrollbar"),n.classList.remove("modal-open"),n.style.height=null,n.style.height="",l.destroyRegion("modal"),document.getElementById("modal")&&n.removeChild(t)})},n.init=function(){r.subscribe("^modal:open$",function(e){i(e.data)}),r.subscribe("^modal:close$",function(){a()}),ko.utils.registerEventHandler(window,"resize",function(){document.body.classList.contains("modal-open")&&o()})}}),require.register("modal/template",function(e,n,t){t.exports='<div class="modal-background animate" data-bind="modalClose"><div class="modal-content"><div class="modal-close" data-bind="modalClose">x</div><iframe data-bind="attr: {src: url}" id="modalIframe" seamless></iframe></div></div>'}),window.cogwheels.addGear({name:"modal",version:"0.0.1"});
require.register("seo/index",function(e,t,o){function a(e){window.hasOwnProperty("onCaptureReady")&&window.onCaptureReady(500),b("SEO: onCaptureReady called - seo4ajax will get a 500. "+JSON.stringify(e),e),d=e,u.publish("track:page")}function n(e){var t,o,a,n,i,s,r;switch(i=e.sportName,e.pageType){case"event":n=e.eventName||"",n=n.replace("<b>","").replace("</b>",""),o=y.t("seo.title.event",i,n),a=y.t("seo.description.event",i,n);break;case"type":s=e.typeName||"",o=y.t("seo.title.type",i,s),a=y.t("seo.description.type",i,s);break;case"subtype":s=e.typeName||"",r=e.subTypeName||"",o=y.t("seo.title.subtype",i,s,r),a=y.t("seo.description.subtype",i,s,r);break;case"class":o=y.t("seo.title.class",i),a=y.t("seo.description.class",i);break;case"promotions":o=y.t("seo.title.promotions"),a=y.t("seo.description.promotions");break;case"promotions/promotion":o=y.t("seo.title.promotions.promotion",e.eventName),a=e.description;break;case"coupons":o=y.t("seo.title.coupons"),a=y.t("seo.description.coupons");break;case"coupons/coupon":o=y.t("seo.title.coupons.coupon",e.eventName),a=y.t("seo.description.coupons.coupon",e.eventName);break;case"bet-in-play":o=y.t("seo.title.bet-in-play"),a=y.t("seo.description.bet-in-play");break;default:o=y.t("seo.title.other"),a=y.t("seo.description.other")}document.title=o,c.setAttribute("content",a),e.id&&e.pageType&&("type"===e.pageType||"subtype"===e.pageType||"class"===e.pageType)?(t="/"+y.value()+"/seoData/"+e.pageType+"/"+e.id,$.getJSON(t).done(function(e){e.title&&(document.title=e.title),e.description&&c.setAttribute("content",e.description)}).fail(function(e,t,o){}).always(function(){u.publish("page:rendered")})):u.publish("page:rendered"),setTimeout(function(){window.hasOwnProperty("onCaptureReady")&&window.onCaptureReady(),b("SEO: onCaptureReady called - seo4ajax will now snapshot the page")},1e4)}function i(e){e?(window.hasOwnProperty("onCaptureReady")&&window.onCaptureReady(301,e),b("SEO: onCaptureReady called - seo4ajax will get a 301 to "+e)):b("SEO: error - can not do redirect without redirectUrl")}function s(){window.hasOwnProperty("onCaptureReady")&&window.onCaptureReady(410),b("SEO: onCaptureReady called - seo4ajax will get a 410")}function r(){p=document.createElement("link"),p.setAttribute("rel","canonical"),p.setAttribute("href",""),document.querySelector("head").appendChild(p),c=document.querySelector("meta[name='description']"),u.subscribe("^router:dispatch$",function(e){p.setAttribute("href","https://sports.ladbrokes.com"+e.data.url)})}var p,c,d,u=e("message-bus"),l=e("utils/debug"),y=e("locale"),b=l("seo4ajax");t.init=r,t.pageRenderComplete=n,t.pageRedirectPermanently=i,t.pageRenderFailed=a,t.pageExpired=s,t.getError=function(){return d}}),window.cogwheels.addGear({name:"seo",version:"0.0.1"});
require.register("comet/index",function(t,e,n){function o(t){t=t||{},c=t.host||"",u={}}function i(){a(),u=null}function r(t,e){var n=new EventSource(c+"/listen"+t);u[t]=n,n.onmessage=function(t){var n;try{n=JSON.parse(t.data)}catch(o){}n&&e(n)}}function s(t){u.hasOwnProperty(t)&&(u[t].close(),delete u[t])}function a(t){var e,n;if(void 0===t){t=[];for(n in u)u.hasOwnProperty(n)&&t.push(n)}for(e=0;e<t.length;e++)s(t[e])}var c="",u=null;n.exports={init:o,dispose:i,subscribe:r,unsubscribe:s,unsubscribeAll:a}}),function(){!function(t){"use strict";function e(){this.data={}}function n(){this.listeners=new e}function o(t){setTimeout(function(){throw t},0)}function i(t){this.type=t,this.target=void 0}function r(t,e){i.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function s(t,e){var n=t;return n!==n&&(n=e),n<x?x:n>O?O:n}function a(t,e,n){try{"function"==typeof e&&e.call(t,n)}catch(i){o(i)}}function c(e,o){function c(){K=y,void 0!==H&&(H.abort(),H=void 0),0!==P&&(clearTimeout(P),P=0),0!==B&&(clearTimeout(B),B=0),q.readyState=y}function u(t){var n=K===m||K===g?H.responseText:"",o=void 0,u=!1;if(K===g){var d=0,v="",l=void 0;if(h)try{d=H.status,v=H.statusText,l=H.getResponseHeader("Content-Type")}catch(f){d=0,v="",l=void 0}else""!==t&&"error"!==t&&(d=200,v="OK",l=H.contentType);if(void 0!==l&&null!==l||(l=""),0===d&&""===v&&"load"===t&&""!==n&&(d=200,v="OK",""===l)){var x=/^data\:([^,]*?)(?:;base64)?,[\S]*$/.exec(e);void 0!==x&&null!==x&&(l=x[1])}if(200===d&&C.test(l)){if(K=m,G=!0,L=A,q.readyState=m,o=new i("open"),q.dispatchEvent(o),a(q,q.onopen,o),K===y)return}else if(0!==d){var N="";N=200!==d?"EventSource's response has a status "+d+" "+v.replace(/\s+/g," ")+" that is not 200. Aborting the connection.":"EventSource's response has a Content-Type specifying an unsupported type: "+l.replace(/\s+/g," ")+". Aborting the connection.",setTimeout(function(){throw new Error(N)},0),u=!0}}if(K===m){n.length>D&&(G=!0);for(var B=D-1,z=n.length,F="\n";++B<z;)if(F=n.charAt(B),J===E&&"\n"===F)J=S;else if(J===E&&(J=S),"\r"===F||"\n"===F){if("data"===U?M.push(k):"id"===U?X=k:"event"===U?$=k:"retry"===U?(A=s(Number(k),A),L=A):"heartbeatTimeout"===U&&(I=s(Number(k),I),0!==P&&(clearTimeout(P),P=setTimeout(j,I))),k="",U="",J===S){if(0!==M.length&&(R=X,""===$&&($="message"),o=new r($,{data:M.join("\n"),lastEventId:X}),q.dispatchEvent(o),"message"===$&&a(q,q.onmessage,o),K===y))return;M.length=0,$=""}J="\r"===F?E:S}else J===S&&(J=w),J===w?":"===F?J=T:U+=F:J===T?(" "!==F&&(k+=F),J=b):J===b&&(k+=F);D=z}K!==m&&K!==g||!("load"===t||"error"===t||u||D>1048576||0===P&&!G)?0===P&&(G=!1,P=setTimeout(j,I)):(u?c():(K=p,H.abort(),0!==P&&(clearTimeout(P),P=0),L>16*A&&(L=16*A),L>O&&(L=O),P=setTimeout(j,L),L=2*L+1,q.readyState=g),o=new i("error"),q.dispatchEvent(o),a(q,q.onerror,o))}function d(){u("progress")}function v(){u("load")}function x(){u("error")}e=e.toString();var N=l&&void 0!==o&&Boolean(o.withCredentials),A=s(1e3,0),I=s(45e3,0),R="",q=this,L=A,G=!1,H=new f,P=0,B=0,D=0,K=p,M=[],X="",$="",j=void 0,J=S,U="",k="";h&&(B=setTimeout(function z(){3===H.readyState&&u("progress"),B=setTimeout(z,500)},0)),j=function(){if(P=0,K!==p)return void u("");if(h&&(void 0!==H.sendAsBinary||void 0===H.onloadend)&&void 0!==t.document&&void 0!==t.document.readyState&&"complete"!==t.document.readyState)return void(P=setTimeout(j,4));H.onload=v,H.onerror=x,h&&(H.onabort=x,H.onreadystatechange=d),H.onprogress=d,G=!1,P=setTimeout(j,I),D=0,K=g,M.length=0,$="",X=R,k="",U="",J=S;var n=e.slice(0,5);n="data:"!==n&&"blob:"!==n?e+((e.indexOf("?",0)===-1?"?":"&")+"lastEventId="+encodeURIComponent(R)+"&r="+(Math.random()+1).toString().slice(2)):e,H.open("GET",n,!0),h&&(H.withCredentials=N,H.responseType="text",H.setRequestHeader("Accept","text/event-stream")),H.send(void 0)},n.call(this),this.close=c,this.url=e,this.readyState=g,this.withCredentials=N,this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,j()}function u(){this.CONNECTING=g,this.OPEN=m,this.CLOSED=y}e.prototype={get:function(t){return this.data[t+"~"]},set:function(t,e){this.data[t+"~"]=e},"delete":function(t){delete this.data[t+"~"]}},n.prototype={dispatchEvent:function(t){t.target=this;var e=t.type.toString(),n=this.listeners,i=n.get(e);if(void 0!==i)for(var r=i.length,s=-1,a=void 0;++s<r;){a=i[s];try{a.call(this,t)}catch(c){o(c)}}},addEventListener:function(t,e){t=t.toString();var n=this.listeners,o=n.get(t);void 0===o&&(o=[],n.set(t,o));for(var i=o.length;--i>=0;)if(o[i]===e)return;o.push(e)},removeEventListener:function(t,e){t=t.toString();var n=this.listeners,o=n.get(t);if(void 0!==o){for(var i=o.length,r=[],s=-1;++s<i;)o[s]!==e&&r.push(o[s]);0===r.length?n["delete"](t):n.set(t,r)}}},r.prototype=i.prototype;var d=t.XMLHttpRequest,v=t.XDomainRequest,l=void 0!==d&&void 0!==(new d).withCredentials,h=l,f=l?d:void 0!==v?v:void 0,p=-1,g=0,m=1,y=2,E=3,S=4,w=5,T=6,b=7,C=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,x=1e3,O=18e6;u.prototype=n.prototype,c.prototype=new u,u.call(c);var N=function(){if(void 0!==t.EventSource)try{var e=new t.EventSource("data:text/event-stream;charset=utf-8,");return e.close(),e.withCredentials===!1&&""!==e.url}catch(n){o(n)}return!1};void 0===f||N()||(t.NativeEventSource=t.EventSource,t.EventSource=c)}(this)}(),window.cogwheels.addGear({name:"comet",version:"0.0.1",dependencies:{}});
require.register("gear-disposable-mixin/index",function(s,i,e){function o(s){return function(){this.disposables.forEach(function(s){s.dispose()}),s&&s.call(this)}}function n(s){if(!s.dispose)throw new Error("Objects to be disposed must implement dispose!");return this.disposables.push(s),s}i.mixin=function(s){return s.disposables=[],s.toDispose=n,s.dispose=o(s.dispose),s}}),window.cogwheels.addGear({name:"gear-disposable-mixin",version:"0.1.2"});
require.register("knockout-partials/index",function(e,t,a){function n(e){return e.makeTemplateSource=function(e){if("string"==typeof e){if(e.indexOf("/")!==-1)return new ko.templateSources.featureTemplate(e);var t=t||document,a=t.getElementById(e);if(!a)throw new Error("Cannot find template with ID "+e);return new ko.templateSources.domElement(a)}if(1==e.nodeType||8==e.nodeType)return new ko.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},e}t.init=function(e){ko.setTemplateEngine(n(new ko.nativeTemplateEngine))},t.start=function(){},t.dispose=function(){},ko.templateSources.featureTemplate=function(e){this.templateName=e,this.templates={}},ko.templateSources.featureTemplate.prototype.text=function(t){if(!t){var a=this.templates[this.templateName];return a||(a=this.templates[this.templateName]=e(this.templateName)),a}this.templates[this.templateName]=t},ko.templateSources.featureTemplate.prototype.data=function(e,t){var a=this.templateName;return this.templates._data=this.templates._data||{},this.templates._data[a]=this.templates._data[a]||{},t?void(this.templates._data[a][e]=t):this.templates._data[a][e]}}),window.cogwheels.addGear({name:"knockout-partials",version:"1.0.0",author:{name:"CoreJS",email:"corejs@mobenga.com"}});
require.register("betslip-expander/index",function(e,s,t){s.init=function(){ko.components.register("betslip-expander",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("betslip-expander/template",function(e,s,t){t.exports='<header class="betslip-header expanded" data-bind="click: click"><span class="icon-arrow white-arrow"></span><ul class="betslip-tabs"><li class="betslip-tab" data-bind="css: { active: selectedTab() === \'betslip\' }, click: showBetslip, clickBubble: false"><span data-bind="text: $root.locale.t(\'toolbar.infobar.betslip\')">Betslip</span> <span id="betslip-indicator" data-bind="text: singleBetCount()"></span></li><li class="betslip-tab" data-bind="css: { active: selectedTab() === \'my-bets\' }, click: showMyBets, clickBubble: false"><span data-bind="text: $root.locale.t(\'toolbar.infobar.mybets\')">My bets</span></li></ul></header>'}),require.register("betslip-expander/view-model",function(e,s,t){function i(e){b(["betslip"],function(s){s.betslip.myBetsTab.openBetsEnabled&&(e.selectedTab("my-bets"),l.publish("betslip:hide"),l.publish("my-bets-tabs:show"))})}var a,n=e("betslip-front"),l=e("message-bus"),o=e("gear-disposable-mixin"),b=e("pages/cmsData"),c=e("betslip-front/setBetslipHeight");t.exports=function(e){var s=this;o.mixin(this),a=n.getBetslip(),this.singleBetCount=a.singleBetCount,this.selectedTab=ko.observable("betslip"),i(this),this.expanded=!0,this.cashOutInProgress=ko.observable(!1),this.toDispose(l.subscribe("cashout:inprogress",function(){this.cashOutInProgress(!0)}.bind(this))),this.toDispose(l.subscribe("cashout:done",function(){this.cashOutInProgress(!1)}.bind(this))),this.toDispose(l.subscribe("betslipexpander:showbetsliptab",function(){this.showBetslip()}.bind(this))),this.expand=function(){var e=document.getElementById("collapse-betslip-container"),s=document.querySelector(".betslip-header");e.classList.contains("dn")&&(e.classList.remove("dn"),s.classList.add("expanded")),c(),this.expanded=!0},this.showBetslip=function(e,t){s.cashOutInProgress()||(l.publish("betslip:show"),l.publish("my-bets-tabs:hide"),"betslip"!==s.selectedTab()&&l.publish("track:filter",{action:"betslip",element:t?t.target:null}),s.selectedTab("betslip"),s.expand())},this.showMyBets=function(e,t){s.cashOutInProgress()||(l.publish("betslip:hide"),l.publish("my-bets-tabs:show"),"my-bets"!==s.selectedTab()&&l.publish("track:filter",{action:"my-bets",element:t?t.target:null}),s.selectedTab("my-bets"),s.expand())},this.contract=function(){var e=document.getElementById("collapse-betslip-container"),s=document.querySelector(".betslip-header");e.classList.contains("dn")||(e.classList.add("dn"),s.classList.remove("expanded")),c(),this.expanded=!1},this.click=function(e,s){var t={};t.target=s.target,this.expanded?(this.contract(),t.expanded="Collapse"):(this.expand(),t.expanded="Expand"),t.action="Betslip",l.publish("track:collapse-expand",t)}.bind(this)}}),window.cogwheels.addGear({name:"betslip-expander",version:"0.0.1"});
require.register("fraction/fraction",function(n,r,t){function o(n){for(var r="",t=0;t<n;t++)r+="0";return r}function e(n,r){var t;return t=n%r>0?e(r,n%r):r}function a(n){var r=n.numerator,t=n.denominator,o=e(r,t);return 1!==o&&(n.numerator=r/o,n.denominator=t/o),n}function i(n){var r=parseInt(n,10),t=parseInt("1"+o(n.length));return a({numerator:r,denominator:t})}function u(n,r){var t={numerator:n.numerator*r.denominator,denominator:n.denominator*r.denominator},o={numerator:r.numerator*n.denominator,denominator:r.denominator*n.denominator};return{f1:t,f2:o}}function m(n,r){void 0===r?void 0!==n?this.init(n):this.setValue(0,1):this.setValue(n,r)}m.prototype={decimalSign:".",numerator:0,denominator:0,number:0,setValue:function(n,r){var t=!1;this.number=n/r,this.number<0&&(t=!0),n=Math.abs(n),r=Math.abs(r);var o=a({numerator:n,denominator:r});this.numerator=(t?-1:1)*o.numerator,this.denominator=o.denominator},init:function(n){var r=!1;this.number=parseFloat(n),n<0&&(r=!0);var t=""+n,o=t.indexOf(this.decimalSign);if(o===-1)this.numerator=parseInt(n,10),this.denominator=1;else{var e=0;0===o&&(t="0"+t,o++),r&&1===o||(e=parseInt(t.substring(0,o),10)),r&&(e=Math.abs(e));var a=t.substring(o+1),u=i(a);this.denominator=u.denominator,this.numerator=(r?-1:1)*(u.numerator+u.denominator*e)}},add:function(n){var r=u(this,n),t=r.f1,o=r.f2;return new m(t.numerator+o.numerator,t.denominator)},subtract:function(n){var r=u(this,n),t=r.f1,o=r.f2;return new m(t.numerator-o.numerator,t.denominator)},multiply:function(n){return new m(this.numerator*n.numerator,this.denominator*n.denominator)},divide:function(n){var r=new m(n.denominator,n.numerator);return this.multiply(r)},truncate:function(n){var r=new m(Math.pow(10,n)),t=this.multiply(r),o=new m(Math.floor(t.number)),e=o.divide(r);return e}},r.fraction=m}),require.register("fraction/index",function(n,r,t){t.exports=n("./fraction")}),window.cogwheels.addGear({name:"fraction",version:"1.1.0",author:{name:"Robbin Tapper",email:"robbin.tapper@mobenga.com"}});
require.register("market-selector/index",function(e,t,r){var a="market-selector",o=e("./view-model"),s=e("./template"),i={viewModel:o,template:s};t.init=function(e){ko.components.register(a,i)}}),require.register("market-selector/template",function(e,t,r){r.exports='<div class="market-selector"><ul class="market-selector__items"><!-- ko foreach:  { data: marketGroups, as: \'marketGroup\' } --><li class="market-selector__item__container"><div class="market-selector__item" data-bind="\n                    click: function(){ $parent.setSelectedMarketGroup(marketGroup) },\n                    css: { \'active\': $parent.selectedMarket() && $parent.selectedMarket().id === marketGroup.id }"><div class="text" data-bind="text: marketGroup.name"></div></div></li><!-- /ko --></ul></div>'}),require.register("market-selector/view-model",function(e,t,r){function a(e){var t=this;t.marketGroups=e.marketGroups,t.selectedMarket=e.selected,t.setSelectedMarketGroup=function(r){t.selectedMarket(r),e.callback(r)}}a.prototype={update:function(){},dispose:function(){}},r.exports=a}),window.cogwheels.addGear({name:"market-selector",version:"0.1.0"});
require.register("overask-offer/index",function(e,t,a){var s="overask-offer",i=e("./view-model"),n=e("./template"),r={viewModel:{viewModel:i},template:n};t.init=function(e){ko.components.register(s,r)}}),require.register("overask-offer/template",function(e,t,a){a.exports='<!-- ko if: showOffer --><div class="overask"><div class="overask__header-message-container"><div class="overask__header-message" data-bind="text: locale.t(\'overask.offer.header.text\')"></div><div class="overask__header-timer-container"><div class="overask__header-timer-text" data-bind="text: expirationText"></div><!-- ko ifnot: hasExpired --><div class="overask__header-timer-value" data-bind="text: timerValue"></div><!-- /ko --></div></div><div class="overask__header-message-arrow-container"><div class="overask__header-message-arrow"></div></div><!-- Loop over and display the selections (TODO: make subcomponent?) --><div data-bind="foreach: {data: bets, as: \'bet\' }"><div class="overask__bet-wrapper" data-bind="foreach: {data: bet.selections, as: \'selection\'}"><div class="overask__bet-item" data-bind="css: $parents[1].idAsClass(\'accept-\', bet)"><div class="overask__bet-item-row-1"><div class="overask__bet-item-row-1-left"><a class="slip-remove overask__bet-item-remove-button" data-bind="click: function() {$parents[1].removeBetFromOffer(bet)}, visible: $parents[1].isCollapseable(bet)">x</a><div class="overask__bet-item-name-wrapper" data-bind="click: function() {$parents[1].cannotBeModified()}"><div><div class="overask__bet-item-name" data-bind="text: selection.placedSelection.name"></div><div class="overask__bet-item-market-name" data-bind="text: selection.placedSelection.marketName"></div></div><div class="overask__bet-item-event-name" data-bind="html: selection.placedSelection.eventName"></div></div></div><div class="overask__bet-item-row-1-right" data-bind="click: function() {$parents[1].cannotBeModified()}"><div class="overask__bet-item-stake-wrapper"><!-- ko if: $parents[1].hasPriceChanged(selection) || $parents[1].hasPriceTypeChanged(selection) --><span class="overask__strike-through" data-bind="text: $parents[1].getOldOdds($data)"></span><!-- /ko --> <span class="overask__highlight-wrapper" data-bind="css: {\'overask__highlight\': $parents[1].hasStakeAndPriceChanged(bet,selection)}"><span class="overask__bet-item-odds"><span><!-- ko if: $parents[1].hasPriceTypeSP(selection) --><span data-bind="\n                                                        text: $parents[1].locale.t(\'price_type.SP\'),\n                                                        css: {\n                                                                \'overask__highlight\': $parents[1].hasPriceTypeAndNotStakeChanged(bet, selection),\n                                                                \'overask__white-text\': $parents[1].hasStakeAndPriceChanged(bet, selection)\n                                                            }"></span><!-- /ko --><!-- ko ifnot: $parents[1].hasPriceTypeSP(selection) --><!-- ko if: $parents[1].hasPriceChanged(selection) --> <span data-bind="\n                                                            text: $parents[1].getNewOdds($data),\n                                                            css:\n                                                                {\n                                                                    \'overask__highlight\': $parents[1].hasPriceAndNotStakeChanged(bet, selection),\n                                                                    \'overask__white-text\': $parents[1].hasStakeAndPriceChanged(bet, selection)\n                                                                }"></span><!-- /ko --><!-- ko ifnot: $parents[1].hasPriceChanged(selection) --> <span data-bind="text: $parents[1].getOldOdds($data)"></span><!-- /ko --><!-- /ko --></span></span> <span class="overask__odds-times-stake" data-bind="visible: !$parents[1].isMultipleBet(bet)">x</span> <span data-bind="visible: !$parents[1].isMultipleBet(bet)"><!-- ko if: $parents[1].hasStakeChanged(bet) --><span data-bind="\n                                                    currencyFormat: bet.offeredStakePerLine,\n                                                    css:\n                                                        {\n                                                            \'overask__highlight\': $parents[1].hasStakeAndNotPriceChanged(bet, selection),\n                                                            \'overask__white-text\': $parents[1].hasStakeAndPriceChanged(bet, selection)\n                                                        }"></span><!-- /ko --><!-- ko ifnot: $parents[1].hasStakeChanged(bet) --> <span data-bind="currencyFormat: bet.stakePerLine"></span><!-- /ko --></span></span></div><div class="overask__bet-item-potential-returns-wrapper" data-bind="visible: !$parents[1].isMultipleBet(bet)"><div data-bind="text: $parents[1].locale.t(\'overask.offer.pot.return\')"></div><span class="overask__bet-item-potential-returns" data-bind="currencyFormat: $parents[1].getPotentialReturns(bet, $data)"></span></div><div data-bind="visible: !$parents[1].isMultipleBet(bet)"><!-- ko if: $parents[1].hasLegTypeWin(selection) --><div class="overask__leg-type" data-bind="text: $parents[1].locale.t(\'racing.results.win.only\')"></div><!-- /ko --><!-- ko if: $parents[1].hasLegTypeEW(selection) --><div class="overask__leg-type" data-bind="text: $parents[1].locale.t(\'betslip.each-way\')"></div><!-- /ko --></div></div></div><!-- ko if: $parents[1].isMultipleBet(bet) && !$parents[1].isLastSelection(bet, selection) --><div class="overask__bet-item-bottom-line"><div class="overask__bet-item-bottom-middle"><div class="overask__bet-item-bottom-middle-text"><translate params="key:\'overask.offer.and\'"></div></div></div><!-- /ko --></div><!-- ko ifnot: $parents[1].isMultipleBet(bet)--><div class="overask__removed-bet-wrapper dn" data-bind="css: $parents[1].idAsClass(\'cancel-\', bet)"><div class="overask__removed-bet-text-wrapper"><span class="overask__removed-bet-header" data-bind="text: $parents[1].locale.t(\'overask.offer.removed.header\')"></span><div class="overask__removed-bet-text"><span class="overask__removed-bet-text-name" data-bind="text: selection.placedSelection.name"></span> <span class="overask__removed-bet-text-price" data-bind="currencyFormat: $parents[1].composeRemovedBetText(bet, $data)"></span></div></div><div class="overask__removed-bet-button"><a class="button overask__undo-button" data-bind="text: $parents[1].locale.t(\'overask.offer.removed.undo\'), click: function() {$parents[1].undoRemoveBetFromOffer(bet)}"></a></div></div><!-- /ko --></div><!-- ko if: $parent.isMultipleBet(bet)--><div class="overask__multiple-arrow-container"><div class="overask__multiple-arrow"></div></div><div class="overask__bet-item-multiple" data-bind="css: $parent.idAsClass(\'accept-\', bet)"><div class="overask__bet-item-row-1"><div class="overask__bet-item-row-1-left"><div class="overask__bet-item-name-wrapper" data-bind="click: function() {$parent.cannotBeModified()}"><div><div><span class="overask__bet-item-name" data-bind="text: $parent.displayAccaName(bet)"></span> <span data-bind="text: \'(x\' + bet.placedBet.numberOfLines + \')\'"></span></div></div></div></div><div class="overask__bet-item-row-1-right" data-bind="click: function() {$parent.cannotBeModified()}"><div class="overask__bet-item-stake-wrapper"><!-- ko if: $parent.hasAccaPriceChanged(bet) || $parent.hasPriceTypeChanged(bet) --><span class="overask__strike-through" data-bind="text: $parent.getOldOdds($data)"></span><!-- /ko --> <span class="overask__highlight-wrapper" data-bind="css: {\'overask__highlight\': $parent.hasAccaStakeAndPriceChanged(bet)}"><!-- ko if: $parent.hasAccaPriceType(bet) --><span class="overask__bet-item-odds"><span><!-- ko if: $parent.hasAccaPriceTypeSP(bet) --><span data-bind="\n                                                        text: $parent.locale.t(\'price_type.SP\'),\n                                                        css: {\n                                                                \'overask__highlight\': $parent.hasAccaPriceTypeAndNotStakeChanged(bet),\n                                                                \'overask__white-text\': $parent.hasAccaStakeAndPriceChanged(bet)\n                                                            }"></span><!-- /ko --><!-- ko ifnot: $parent.hasAccaPriceTypeSP(bet) --><!-- ko if: $parent.hasAccaPriceChanged(bet) --> <span data-bind="\n                                                        text: $parent.getNewOdds($data),\n                                                        css:\n                                                            {\n                                                                \'overask__highlight\': $parent.hasAccaStakeAndNotPriceChanged(bet),\n                                                                \'overask__white-text\': $parent.hasAccaStakeAndPriceChanged(bet)\n                                                            }"></span><!-- /ko --><!-- ko ifnot: $parent.hasAccaPriceChanged(bet) --> <span data-bind="text: $parent.getOldOdds($data)"></span><!-- /ko --><!-- /ko --></span></span> <span class="overask__odds-times-stake">x</span><!-- /ko --> <span><!-- ko if: $parent.hasStakeChanged(bet) --><span data-bind="\n                                                currencyFormat: bet.offeredStakePerLine,\n                                                css:\n                                                {\n                                                    \'overask__highlight\': $parent.hasAccaStakeAndNotPriceChanged(bet),\n                                                    \'overask__white-text\': $parent.hasAccaStakeAndPriceChanged(bet)\n                                                }"></span><!-- /ko --><!-- ko ifnot: $parent.hasStakeChanged(bet) --> <span data-bind="currencyFormat: bet.stakePerLine"></span><!-- /ko --></span></span></div><div class="overask__bet-item-potential-returns-wrapper"><div><div data-bind="text: $parent.locale.t(\'overask.offer.pot.return\')"></div><span class="overask__bet-item-potential-returns" data-bind="currencyFormat: $parent.getAccaPotentialReturns(bet)"></span></div><!-- ko if: $parent.multipleHasLegTypeWin(bet.selections) --><div class="overask__leg-type" data-bind="text: $parent.locale.t(\'racing.results.win.only\')"></div><!-- /ko --><!-- ko if: $parent.multipleHasLegTypeEW(bet.selections) --><div class="overask__leg-type" data-bind="text: $parent.locale.t(\'betslip.each-way\')"></div><!-- /ko --></div></div></div></div><div class="overask__removed-bet-wrapper dn" data-bind="css: $parent.idAsClass(\'cancel-\', bet)"><div class="overask__removed-bet-text-wrapper"><span class="overask__removed-bet-header" data-bind="text: $parent.locale.t(\'overask.offer.removed.header\')"></span><div class="overask__removed-bet-text"><span class="overask__removed-bet-text-name" data-bind="text: $parent.displayAccaName(bet)"></span> <span data-bind="text: \'(x\' + bet.placedBet.numberOfLines + \')\'"></span> <span class="overask__removed-bet-text-price" data-bind="text: $parent.composeRemovedBetText(bet, $data)"></span><div class="overask__removed-bet-button"><a class="button overask__undo-button" data-bind="text: $parent.locale.t(\'overask.offer.removed.undo\'), click: function() {$parent.undoRemoveBetFromOffer(bet)}"></a></div></div></div></div><!-- /ko --></div><div class="overask__footer"><div class="overask__footer-stake"><div class="overask__footer-stake-text" data-bind="text: locale.t(\'betslip.total-stake\') + \':\'"></div><div class="overask__footer-stake-value" data-bind="currencyFormat: totalStake()"></div></div><div class="overask__footer-pot-returns"><div class="overask__footer-pot-returns-text" data-bind="text: locale.t(\'betslip.total-est-returns\') + \':\'"></div><div class="overask__footer-pot-returns-value" data-bind="currencyFormat: getTotalPotentialReturns()"></div></div><!-- ko if: user.countryCode === \'DEU\' --><div class="overask__footer-tax-disclaimer" data-bind="text: $root.locale.t(\'betslip.disclaimer.german.tax\')"></div><!-- /ko --><div class="overask__footer-buttons"><a class="button overask__footer-button-cancel" data-bind="click: function() {displayCancelPopup()} ,text: $root.locale.t(\'betslip.confirm.button.cancel\')"></a> <a id="overAskPlaceButton" class="button action overask__footer-button-place" data-bind="click: function() {placeOffer ()} ,text: $root.locale.t(\'betslip.bet-button\')"></a></div></div></div><!-- /ko -->'}),require.register("overask-offer/view-model",function(e,t,a){function s(e){var t=this;u.mixin(this);var a=ko.unwrap(e.data);m("Initialize Component with %o",e),this.locale=l,this.user=h,this.bets=ko.observableArray(a.overAskBets),this.storedPending=a.storedPending,this.rejectedBets=a.rejectedBets,this.showOffer=ko.observable(!0),this.numberOfAcceptedBets=ko.observable(o(t.bets(),_)),this.totalStake=ko.observable(n(t.bets())||0),this.potentialReturns=ko.observable(r(t.bets())||0),this.hasSPPrice=ko.observable(i(t.bets())||!1),this.timer((a.expiryDateTime-Date.now())/1e3),this.timerText=l.t("overask.offer.timer.text"),this.expiredText=l.t("overask.offer.timer.expiredtext"),this.expirationText=ko.observable(this.timerText),this.displayBets=ko.observable(!0),this.hasExpired=ko.observable(!1),this.timerValue=ko.observable(0),this.offerExpired.bind(this),this.cancelOffer.bind(this),this.timerProcess,this.hasBeenPlaced=ko.observable(!1),localStorage.setItem("overaskPendingOffer",!0),this.toDispose(p.subscribe("overask-offer:canceled",this.cancelOffer.bind(this)))}function i(e){var t=!1;return e.forEach(function(e){e.bettingStatus===_&&e.selections.forEach(function(e){(e.offeredPriceType&&"S"===e.offeredPriceType||"S"===e.priceType)&&(t=!0)})}),t}function n(e){var t=0;return e.forEach(function(e){e.bettingStatus===_&&(t+=e.offeredStake?e.offeredStake:e.totalStake)}),t}function r(e){var t=0;return e.forEach(function(e){e.bettingStatus===_&&(e.placedBet.betType!==x?e.offeredPriceType&&"S"===e.offeredPriceType||(t+=e.offeredPotentialReturn):e.selections[0].offeredPriceType&&"S"===e.selections[0].offeredPriceType||"S"===e.selections[0].priceType||(t+=e.offeredPotentialReturn))}),t}function o(e,t){var a=0;return e.forEach(function(e){e.status===S?(e.bettingStatus=t,a++):e.status===P?e.bettingStatus=_:e.status===T&&(e.bettingStatus=T),e.placedBet&&!e.placedBet.betType&&(e.placedBet.betType=x)}),a}function d(e){var t=[];return e.forEach(function(e){t.push({betKey:e.betKey,status:e.bettingStatus})}),t}var c=e("over-ask").service,l=e("locale"),p=e("message-bus"),v=e("domain-model/helpers/sport-types"),h=e("authentication/user"),f=e("betslip"),b=e("domain-model/helper"),u=e("gear-disposable-mixin"),k=e("utils/debug"),m=k("overask/view-model"),_="ACCEPT",g="CANCEL",y="EXPIRED",P="ACCEPTED",S="NEW_OFFER",T="REJECTED",x="SGL";s.prototype={offerExpired:function(){this.expirationText(this.expiredText),this.hasExpired(!0),o(this.bets(),y);var e=document.getElementById("overAskPlaceButton");e&&(e.classList.remove("action"),e.classList.add("overask__footer-button-place-inactive")),this.updateOfferedBets(),setTimeout(function(){p.publish("overask-offer:expired")},5e3)},cancelOffer:function(){o(this.bets(),g),this.updateOfferedBets()},placeOffer:function(){if(!this.hasExpired()&&!this.hasBeenPlaced()){var e=document.getElementById("overAskPlaceButton");e&&(e.classList.remove("action"),e.classList.add("overask__footer-button-place-inactive")),this.hasBeenPlaced(!0),this.updateOfferedBets()}},displayCancelPopup:function(){var e=l.t("overask.popup.cancel.title"),t=l.t("overask.popup.cancel.body"),a=l.t("overask.popup.button.cancel"),s=l.t("overask.popup.cancel.no-wait");p.publish("modal:overask-popup",{action:"open",title:e,message:t,waitButton:s,cancelOfferButton:a})},removeBetFromOffer:function(e){if(e.bettingStatus=g,this.totalStake(n(this.bets())),this.potentialReturns(r(this.bets())),this.hasSPPrice(i(this.bets())),this.numberOfAcceptedBets(this.numberOfAcceptedBets()-1),this.numberOfAcceptedBets()<1){var t=document.getElementById("overAskPlaceButton");t&&(t.classList.remove("action"),t.classList.add("overask__footer-button-place-inactive"))}var a=document.getElementsByClassName("accept-"+e.betKey),s=document.getElementsByClassName("cancel-"+e.betKey);a.length>0&&s.length>0&&([].forEach.call(a,function(e){e.classList.add("dn")}),s[0].classList.remove("dn"))},undoRemoveBetFromOffer:function(e){if(e.bettingStatus=_,this.totalStake(n(this.bets())),this.potentialReturns(r(this.bets())),this.hasSPPrice(i(this.bets())),this.numberOfAcceptedBets()<1){this.numberOfAcceptedBets(1);var t=document.getElementById("overAskPlaceButton");t&&(t.classList.add("action"),t.classList.remove("overask__footer-button-place-inactive"))}else this.numberOfAcceptedBets(this.numberOfAcceptedBets()+1);var a=document.getElementsByClassName("accept-"+e.betKey),s=document.getElementsByClassName("cancel-"+e.betKey);a.length>0&&s.length>0&&([].forEach.call(a,function(e){e.classList.remove("dn")}),s[0].classList.add("dn"))},updateOfferedBets:function(){var e=this;clearInterval(this.timerProcess);var t=d(this.bets()),a=this.rejectedBets;t=JSON.stringify(t),p.publish("placing-overaskBet",!1),c.updateOfferedBets(t,a,function(t){var a=f.getBetslip().overaskReceipts;a=a?a:e.storedPending.overaskReceipts,a.forEach(function(e){t.body.forEach(function(t){if(e.receipt.betKey===t.betKey){var a={bet:e.bet,receipt:t};f.getBetslip().receipts.push(a),p.publish("track:add-transaction",a)}})}),f.service.removeAllButReceipts(),e.showOffer(!1),localStorage.setItem("overaskPendingOffer",!1),p.publish("authentication:update","alreadyUpdated")})},getOddsType:function(){return this.user.oddsDisplay()||"fractional"},hasStakeChanged:function(e){return!!e.offeredStakePerLine},hasPriceChanged:function(e){return!(!e.offeredPriceNumerator&&!e.offeredPriceDenominator)},hasPriceTypeChanged:function(e){return!!e.offeredPriceType},hasPriceTypeSP:function(e){return e.offeredPriceType?"S"===e.offeredPriceType:"S"===e.priceType},hasLegTypeWin:function(e){return(e.placedSelection.sportId===v.HORSE_RACING||e.placedSelection.sportId===v.GREYHOUNDS)&&(e.offeredLegType?"W"===e.offeredLegType:"W"===e.legType)},hasLegTypeEW:function(e){return e.offeredLegType?"E"===e.offeredLegType:"E"===e.legType},multipleHasLegTypeWin:function(e){return e.length>0&&this.hasLegTypeWin(e[0])},multipleHasLegTypeEW:function(e){return e.length>0&&this.hasLegTypeEW(e[0])},hasStakeAndPriceChanged:function(e,t){return this.hasStakeChanged(e)&&(this.hasPriceChanged(t)||this.hasPriceTypeChanged(t))},hasStakeAndNotPriceChanged:function(e,t){return this.hasStakeChanged(e)&&!(this.hasPriceChanged(t)||this.hasPriceTypeChanged(t))},hasPriceAndNotStakeChanged:function(e,t){return this.hasPriceChanged(t)&&!this.hasStakeChanged(e)},hasPriceTypeAndNotStakeChanged:function(e,t){return this.hasPriceTypeChanged(t)&&!this.hasStakeChanged(e)},hasAccaPriceTypeAndNotStakeChanged:function(e){return e.offeredPriceType&&!this.hasStakeChanged(e)},hasAccaPriceChanged:function(e){return e.offeredPriceNumerator||e.offeredPriceDenominator},hasAccaStakeAndNotPriceChanged:function(e){return!this.hasAccaPriceChanged(e)&&this.hasStakeChanged(e)},hasAccaStakeAndPriceChanged:function(e){return this.hasAccaPriceChanged(e)&&this.hasStakeChanged(e)},hasAccaPriceTypeSP:function(e){return"S"===e.offeredPriceType},hasAccaPriceType:function(e){return!(!e.offeredPriceType&&!e.priceType)},acceptedBet:function(e){return m("acceptedBet: %o",e.bettingStatus),e.bettingStatus===_},isMultipleBet:function(e){return e.placedBet.betType!==x},isCollapseable:function(e){return this.bets().length>1&&!this.isMultipleBet(e)&&e.status!==P},isLastSelection:function(e,t){var a=e.selections.length;return this.isMultipleBet(e)&&t.key===e.selections[a-1].key},getOldOdds:function(e){return this.hasPriceTypeChanged(e)&&"L"===e.offeredPriceType?"SP":"fractional"===this.getOddsType()?e.priceNumerator+"/"+e.priceDenominator:b.toFixed(e.priceDecimal,2)},getNewOdds:function(e){return"fractional"===this.getOddsType()?e.offeredPriceNumerator+"/"+e.offeredPriceDenominator:e.offeredPriceDecimal},getPotentialReturns:function(e,t){return t.offeredPriceType&&"S"===t.offeredPriceType||"S"===t.priceType?"N/A":e.offeredPotentialReturn},getAccaPotentialReturns:function(e){return i([e])?"N/A":e.offeredPotentialReturn},getTotalPotentialReturns:function(){return this.hasSPPrice()?"N/A":this.potentialReturns()},composeRemovedBetText:function(e,t){var a,s=" ",i=" ",n=" @ ",r=t,o=l.t("overask.cancel.label.towin"),d=l.t("overask.cancel.label.eachway");return e.placedBet.betType!==x&&(r=e),r.offeredLegType?i="W"===r.offeredLegType?o:d:r.legType&&(i="W"===r.legType?o:d),(r.offeredPriceType||r.priceType)&&(n+="S"===r.offeredPriceType||"S"===r.priceType?"SP":r.offeredPriceNumerator?this.getNewOdds(r):this.getOldOdds(r),n+=" x "),a=e.offeredStakePerLine?e.offeredStakePerLine:e.stakePerLine,s+=i+n+a},cannotBeModified:function(){p.publish("modal:overask-popup",{action:"open",title:l.t("overask.popup.nochange.title"),message:l.t("overask.popup.nochange.body"),okButton:l.t("alert.button.ok")})},displayAccaName:function(e){var t=l.t("bet.poolType.accumulator."+e.placedBet.betType),a=l.t("bet.poolType."+e.placedBet.betType),s=l.t("bet.poolType.ACC");return"AC"===e.placedBet.betType.substring(0,2)?t+" "+s:a},idAsClass:function(e,t){return e+t.betKey},timer:function(e){var t,a,s=e,i=this;this.timerProcess=setInterval(function(){t=parseInt(s/60,10),a=parseInt(s%60,10),t=t<10?"0"+t:t,a=a<10?"0"+a:a,i.timerValue(t+":"+a),--s<0&&(clearInterval(i.timerProcess),i.offerExpired())},1e3)},addGa:function(e,t,a){},dispose:function(){}},a.exports=s}),window.cogwheels.addGear({name:"overask-offer",version:"0.1.0"});
require.register("tooltip/index",function(t,e,i){var o="tooltip",l=t("./view-model"),a=t("./template"),d={viewModel:l,template:a};e.init=function(){ko.components.register(o,d),ko.utils.registerEventHandler(document.body,"click",function(t){$("tooltip").each(function(){0===$(this).has(t.target).length&&$(this).hide()})})}}),require.register("tooltip/template",function(t,e,i){i.exports='<div class="bubble-wrapper" data-bind="style: { left: left, top: top } "><div class="bubble-content"><div class="close-popup" data-bind="click: hideTooltip, clickBubble: false">&times;</div><div class="bubble-header" data-bind="text: title"></div><div class="bubble-text" data-bind="template: { nodes: $componentTemplateNodes, data: data }"></div></div></div>'}),require.register("tooltip/view-model",function(t,e,i){function o(t){var e=this;e.left=t.left,e.top=t.top,e.title=t.title,e.data=t.data,this.hideTooltip=function(t,e){$(e.target).parents("tooltip").hide()}}i.exports=o}),window.cogwheels.addGear({name:"tooltip",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("tutorial/index",function(t,i,e){var o="tutorial",a=t("./view-model"),l=t("./template"),r={viewModel:{viewModel:a},template:l};i.init=function(){ko.components.register(o,r)}}),require.register("tutorial/template",function(t,i,e){e.exports='<div data-bind="if: showTutorial"><!-- ko if: type === \'initialButton\' --><div class="tutorial-content edit-button"><div class="close-popup">&times;</div><div class="tutorial-header" data-bind="text: $root.locale.t(\'acca.edit.tutorial.editmyacca.header\')"></div><div class="tutorial-text" data-bind="text: $root.locale.t(\'acca.edit.tutorial.editmyacca.text\')"></div></div><!-- /ko --><!-- ko if: type === \'removalButton\' --><div class="tutorial-content removal-selection"><div class="close-popup">&times;</div><div class="tutorial-header" data-bind="text: $root.locale.t(\'acca.edit.tutorial.remove.header\')"></div><div class="tutorial-text" data-bind="text: $root.locale.t(\'acca.edit.tutorial.remove.text\')"></div></div><!-- /ko --><!-- ko if: type === \'undoButton\' --><div class="tutorial-content undo-feature" data-bind="repaintDom: {selector:\'acca-container\', browser: \'Internet Explorer\'}"><div class="close-popup">&times;</div><div class="tutorial-header" data-bind="text: $root.locale.t(\'acca.edit.tutorial.undo.header\')"></div><div class="tutorial-text" data-bind="text: $root.locale.t(\'acca.edit.tutorial.undo.text\')"></div></div><!-- /ko --><!-- ko if: type === \'confirmButton\' --><div class="tutorial-content confirm-changes"><div class="close-popup">&times;</div><div class="tutorial-header" data-bind="text: $root.locale.t(\'acca.edit.tutorial.confirm.header\')"></div><div class="tutorial-text" data-bind="text: $root.locale.t(\'acca.edit.tutorial.confirm.text\')"></div></div><!-- /ko --></div>'}),require.register("tutorial/view-model",function(t,i,e){function o(t){var i=this,e=localStorage.getItem("tutorial"),o=t.isSuspended,a=e?JSON.parse(e):{initialButton:!0,undoButton:!0,removalButton:!0,confirmButton:!0};this.isConfirmTutorialEnabled=t.isConfirmTutorialEnabled,this.type=t.type,this.slideAnimation=t.slideAnimation||"",this.showTutorial=ko.observable(a[this.type]||!1),this.clickEventDisabled=ko.observable(!0),this.addTutorialListener=this.addTutorialListener.bind(this),this.showTutorial()&&!o()?(i.clickEventDisabled(!0),"removalButton"===i.type?i.slideAnimation("animationResetX"):"undoButton"===i.type&&i.slideAnimation("animationResetUndo")):"undoButton"===i.type&&a.confirmButton?(i.isConfirmTutorialEnabled(!0),i.clickEventDisabled(!0)):i.clickEventDisabled(!1),this.removePopup=function(){i.showTutorial(!1),a[i.type]=!1,"undoButton"===i.type&&i.isConfirmTutorialEnabled(!0),localStorage.setItem("tutorial",JSON.stringify(a)),i.clickEventDisabled(!1)},this.addTutorialListener(".acca-container")}o.prototype={addTutorialListener:function(t){document.querySelector(t)&&document.querySelector(t).addEventListener("click",function(t){"close-popup"===t.target.className?this.removePopup():this.clickEventDisabled()&&this.showTutorial()&&t.stopPropagation()}.bind(this),!0)}},e.exports=o}),window.cogwheels.addGear({name:"tutorial",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("over-ask/index",function(e,s,r){s.service=e("./service")}),require.register("over-ask/service",function(e,s,r){function t(e,s,r){n.store("local","overask-offer",{}),a.post("/en-gb/overask/updatebetoffers").type("json").send(e).end(function(e,t){if(v("overask response: %o",t.status),200===t.status){var a=JSON.parse(t.text);v("overask: %o",a),"ACCEPTED"===a.status&&o(a,s,r)}})}function o(e,s,r){var t=[];if(e.overAskBets&&e.overAskBets.forEach(function(e){"ACCEPTED"===e.status&&t.push(e.betKey)}),t.length>0){var o="/overask/receipt/"+t.join(",");o+=s.length>0?","+s.join(","):"",a.get(o).set("Cache-Control","no-cache").set("Pragma","no-cache").end(r)}}var a=e("utils/request"),n=e("web-storage-extender"),i=e("utils/debug"),v=i("overask/service");s.updateOfferedBets=t,s.getOveraskReceipt=o}),window.cogwheels.addGear({name:"over-ask",version:"0.0.0"});
require.register("private-market/index",function(e,r,a){r.service=e("./service")}),require.register("private-market/service",function(e,r,a){function i(e,r){var a="/privateMarkets/";r&&(a+=r),$.ajax({url:"/"+t.locale()+a}).then(function(r){e(r)})}var t=e("locale");r.fetchPrivateMarkets=i}),window.cogwheels.addGear({name:"private-market",version:"1.3.3.7"});
require.register("quick-deposit/index",function(e,i,t){i.quickDeposit=e("./quick-deposit-service")}),require.register("quick-deposit/quick-deposit-service",function(e,i,t){function o(e,i,t){$.ajax({url:e,type:"POST",data:i,contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(e){t&&t(e)})}var n=e("locale");i.deposit=function(e,i,t){var c="/quick-deposit",s=n.value();s&&(c="/"+s+c),o(c,JSON.stringify({cvv:e,amount:i}),t)}}),window.cogwheels.addGear({name:"quick-deposit",version:"0.0.1"});
require.register("websocket/Websocket",function(i,e,t){function s(i){this.endPoint=i.endPoint,this.id=i.id,this.logId=this.endPoint+"-"+this.id,this.populate=i.populate||function(){},this.update=i.update||function(){},this.before=i.before||function(){},this.disposed=i.disposed,this.initialized=!1,this.getInitialized=i.initialized||function(){return!0},this.debugging=i.debugging,this.isFetched=!1,this.deferred=$.Deferred(),this.hasSubscribed=!1}var o=i("repository"),n=i("utils/debug"),r=n("websocket"),d=i("domain-model/helpers/websocket-error-helper");s.prototype={repositoryHandler:function(){var i=this,e=function(e,t){return e?void!d.objectNotFoundError(e):void(i.isFetched&&!i.getInitialized()||t.id&&t.id!==i.id||(i.getInitialized()?(r("%c"+i.logId,"font-weight:bold;","updated data",t),i.disposed()&&i.update(t)):(i.isFetched=!0,setTimeout(function(){r("%c"+i.logId,"font-weight:bold;","initial data",t),i.disposed()&&i.populate(t)}.bind(i),50))))};return function(t,s){if(i.debugging)e(t,s);else try{e(t,s)}catch(o){}}},subscribe:function(){if(!this.hasSubscribed){r("%csubscription ","color: blue;",this.logId,this.hasSubscribed);var i=this.repositoryHandler();this.subscription=o.subscribe(this.endPoint,this.id,i),this.hasSubscribed=!0}return{subscription:this.subscription,logId:this.logId}},unsubscribe:function(i){return i&&(r("%cunsubscription ","color: red;",i.logId||" no end-point"),i&&i.subscription&&i.subscription.dispose&&i.subscription.dispose()),null},subscribeWithPromise:function(){if(this.debugging)this.disposed()&&this.before&&this.before();else try{this.disposed()&&this.before&&this.before()}catch(i){}return this.getInitialized=function(){return this.initialized}.bind(this),{subscription:this.subscribe(),promise:this.deferred.promise(),initialize:function(i){this.deferred.resolve(i),this.initialized=!0}.bind(this)}}},t.exports=s}),require.register("websocket/index",function(i,e,t){function s(){var i=c.value().split("-");return i[0]+"-"+i[1].toUpperCase()}function o(i,e){e=e||{},a.addNamespace(i,{networkProvider:h.createNetworkProvider(i,e)})}function n(){var i=["events","races","event-groups","menu","featured","results-header","resulted-sport"];i.forEach(function(i){o(i,{locale:s()})})}function r(){var i=["event-group-list","next-races","coupon-with-event-details","today-and-future-races","totepool","toteevent","virtuals","virtual-items"];i.forEach(function(i){o(i)})}function d(){n(),r()}function u(i,e,t,s,o,n){var r=new p({endPoint:i,id:e,initialized:t,populate:s,update:o,disposed:n,debugging:l});return{subscription:r.subscribe(),logId:r.logId}}var c=i("locale"),b=i("message-bus"),a=i("repository"),h=i("socket-enabler"),p=i("./Websocket"),l=!1;e.init=function(i){l=i.debug||!1,o("scoreboards"),c.value()?d():b.subscribeOnce("^locale:changed$",function(i){d()})},e.subscribe=u,e.unsubscribe=p.prototype.unsubscribe,e.subscribeWithPromise=function(i,e,t,s,o,n){var r=new p({endPoint:i,id:e,populate:t,update:s,before:o,disposed:n,debugging:l});return r.subscribeWithPromise()}}),window.cogwheels.addGear({name:"websocket",version:"0.0.1",prio:100});
require.register("shared-functions/index",function(e,r,o){r.sharedSidbar=e("./shared-functions")}),require.register("shared-functions/shared-functions",function(e,r,o){var n=e("domain-model/models/RacingViewModel"),s=e("pages/racing-details/sidebar"),i=e("message-bus"),t=e("layout-engine"),a=e("locale"),d=e("domain-model/helper"),c=e("domain-model/helpers/sport-types");r.leftSidebar=function(e,r,o){var l,u,m,g,f,p,h=e.params.id||0,b=e.params,w={21:["Horse Racing",c.HORSE_RACING],19:["Greyhound Racing",c.GREYHOUNDS]};Object.keys(w).forEach(function(e){w[e].indexOf(r)!==-1&&(l=e)}),f=new n(l,b),p=f.subscribe(l,h,o).done(function(e){e=e||{},e.sport&&(e.sport.id===c.HORSE_RACING?(f.meetings.today.title(a.t("racing.horse.today")),f.meetings.tomorrow.title(a.t("racing.horse.tomorrow"))):e.sport.id===c.GREYHOUNDS&&(f.meetings.today.title(a.t("racing.greyhound.today")),f.meetings.tomorrow.title(a.t("racing.greyhound.tomorrow"))),f.sportNameTranslated(d.getTranslations(e.sport.nameTranslations)))}),m=p.promise;var y=$.Deferred();g=y.promise();var R=i.subscribe("next-races:loaded",function(e){y.resolve()});return i.publish("leftsidebar:showextramenu"),t.render(s,f,"left-sidebar-details-menu-region"),u=[m,g],{promises:u,dispose:function(){R.dispose&&R.dispose(),u.forEach(function(e){e&&e.abort&&e.abort(),e=null})}}}}),window.cogwheels.addGear({name:"shared-functions",version:"0.0.1"});
require.register("bannerComponent/index",function(i,t,e){t.init=function(){ko.components.register("banner",{viewModel:i("./view-model"),template:i("./template"),synchronous:!0})}}),require.register("bannerComponent/template",function(i,t,e){e.exports='<div><!-- ko if: linkType() === \'internal\' --><a class="applink" data-bind="attr: { href: href}, click: trackPromotionClick"><!-- ko ifnot: isBanner --><span class="applinks-title" data-bind="text: text"></span><!-- /ko --><!-- ko if: icon  --> <span class="applinks-icon" data-bind="css: iconType()"></span><!-- /ko --><!-- ko if: img  --> <img data-bind="altImage: img, css:{\'applinks-icon\': !isBanner}"><!-- /ko --></a><!-- /ko --><!-- ko ifnot: linkType() === \'internal\' --> <a class="applink" data-bind="attr: { href: href}, popupLink: modalSettings(), click: trackPromotionClick"><!-- ko ifnot: isBanner --><span class="applinks-title" data-bind="text: text"></span><!-- /ko --><!-- ko if: icon --> <span class="applinks-icon" data-bind="css: iconType()"></span><!-- /ko --><!-- ko if: img  --> <img data-bind="altImage: img, css:{\'applinks-icon\': !isBanner}"><!-- /ko --></a><!-- /ko --></div>'}),require.register("bannerComponent/view-model",function(i,t,e){var n=i("message-bus"),o=i("domain-model/helpers/tracking"),a=function(i){this.icon=i.value.icon||"",this.showPopUp=i.value.showPopup,this.openNewWindow=i.value.openNewWindow,this.href=i.value.url||i.value.href,this.text=i.value.text,this.img=i.value.img||"",this.isBanner=i.isBanner||!1,this.linkType=ko.pureComputed(a.prototype.linkType,this),this.modalSettings=ko.pureComputed(a.prototype.modalSettings,this),this.iconType=ko.pureComputed(a.prototype.iconType,this),this.trackPromotionClick=function(i,t){var e=this.img.indexOf("#ALT:"),a=e>-1?this.img.substring(0,e):this.img;if(t)if(this.text){var s=o.findPositionHirarchy(t.target);n.publish("track:game",{action:this.text,label:s,creative:a})}else{var r,p=/^https?:\/\/([^\/]*)/,l=/media\.ladbrokes\.com\/Nelson\/(.*)/,c=l.test(a)?a.match(l)[1]:a,h=c.match(/.*\/([^\.]*)/)[1],m="Promotion",d="Sports",k=o.findPositionHirarchy(t.target);if(p.test(this.href)){var u=this.href.match(p)[1],f=/([^\/]*)\.ladbrokes\.com/;this.href.indexOf("/betexchange")>-1?(d="Exchange",m="X-Sell"):f.test(u)?(d=u.match(f)[1].replace(/\w\S*/g,function(i){return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()}),m="Sports"===d?"Promotion":"X-Sell"):(d=this.href,m="Other Promotion")}r=d+" - "+h,n.publish("track:promotion",{category:m,action:r,label:k,type:d,promotion:h,creative:c})}}};a.prototype={linkType:function(){return this.openNewWindow?this.showPopUp?"popup":"modal":"internal"},modalSettings:function(){var i={};return i.url=this.href,i.type=this.linkType(),i},iconType:function(){var i={};return i[this.icon]=!0,i},dispose:function(){this.linkType.dispose(),this.modalSettings.dispose(),this.iconType.dispose()}},e.exports=a}),window.cogwheels.addGear({name:"bannerComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("banners/index",function(e,i,t){i.init=function(){ko.components.register("banner-slider",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("banners/template",function(e,i,t){t.exports='<div class="slider"><ul class="bxslider" data-bind="foreach: { data: banners, afterRender: applySlider.bind($data) }"><li><!-- ko if: openNewWindow --><a data-bind="popupLink: { url: $parent.hrefFor($data), type: \'popup\'}, click: $parent.onClick"><img data-bind="altImage: img"></a><!-- /ko --><!-- ko ifnot: openNewWindow --> <a data-bind="attr:{ href: $parent.hrefFor($data), target: $parent.targetFor($data) }, click: $parent.onClick"><img data-bind="altImage: img"></a><!-- /ko --></li></ul><span id="slider-prev"></span> <span id="slider-next"></span></div>'}),require.register("banners/view-model",function(e,i,t){var n=e("utils/extend"),r=e("locale"),s=e("message-bus");t.exports=function(e){var i=this;this.slider=null,this.rotationPeriod=parseInt(ko.unwrap(e.rotationPeriod))||0,this.banners=ko.observableArray(ko.unwrap(e.banners)),this.index=0,this.onElementResize=function(){var e,i=document.body.clientWidth,t=1265,n=360;i<t?(e=i-n,this.slider[0].style.maxWidth=e+"px",this.timer=setTimeout(function(){this.slider[0].style.maxWidth="none"}.bind(this),10)):this.slider[0].style.maxWidth="none",this.slider&&this.slider.redrawSlider()}.bind(this),this.onClick=e.onClick||function(){},this.el=null,this.hrefFor=function(e){var i=e.url;return 0===i.indexOf("/")?"/"+r.value()+i:i},this.targetFor=function(e){var i=e.url;return 0!==i.indexOf("/")&&"_blank"},this.triggerSlider=function(e){var t={},r=parseInt(this.rotationPeriod)||0;e&&(r&&(t={auto:!0,pause:1e3*r,autoHover:!1}),this.slider=e.bxSlider(n({pager:!1,nextSelector:"#slider-next",prevSelector:"#slider-prev",nextText:"",prevText:"",infiniteLoop:!0,useCSS:!1},t)),$("body").on("click",".bx-pager a",function(e){e.stopPropagation(),e.preventDefault()}),$("body").on("click",".bx-prev, .bx-next",function(e){e.preventDefault(),e.stopPropagation(),r&&(this.slider.stopAuto(),this.slider.startAuto())}.bind(this)),this.el=e[0],ko.utils.registerEventHandler(window,"resize",this.onElementResize),this._subscription=s.subscribe("event-group:activated",i.onElementResize),i.onElementResize())}.bind(this),this.applySlider=function(e,i){var t=e.length&&e[0]?e[0]:null;t&&(this.index++,this.banners&&this.banners().length&&this.index===this.banners().length&&this.triggerSlider($(t).parent()))},this.dispose=function(){this.slider&&this.banners().length&&($("body").off("click",".bx-pager a"),$("body").off("click",".bx-prev, .bx-next"),this.slider.destroySlider&&this.slider.destroySlider(),this.banners.destroyAll()),this._subscription&&this._subscription.dispose(),this.timer&&clearTimeout(this.timer)}.bind(this)}}),window.cogwheels.addGear({name:"banners",version:"0.0.1"});
require.register("breadcrumbs/index",function(e,r,a){r.init=function(){ko.components.register("breadcrumbs",{viewModel:e("./view-model"),template:e("./template")})}}),require.register("breadcrumbs/template",function(e,r,a){a.exports='<nav class="breadcrumbs" data-bind="visible: show, css: { \'full-page\': fullPage }" data-t-position="breadcrumb"><ul class="breadcrumbs-list"><li class="breadcrumbs-item"><a class="breadcrumbs-link" href="/" data-bind="text:headerQuickLinkHome"></a></li><!-- ko foreach: breadcrumbs --><li class="breadcrumbs-item" data-bind="visible: title"><span class="gt">&gt;</span><!-- ko if: href --> <a class="breadcrumbs-link" data-bind="html: title, href: href"></a><!-- /ko --><!-- ko ifnot: href --> <span data-bind="html: title"></span><!-- /ko --></li><!-- /ko --></ul></nav>'}),require.register("breadcrumbs/view-model",function(e,r,a){var i=e("locale");a.exports=function(e){var r=this;r.locale=i,r.breadcrumbs=e.breadcrumbs,r.fullPage=e.fullPage||!1,r.show=ko.pureComputed(function(){return ko.unwrap(this.breadcrumbs).length>=1},r),r.headerQuickLinkHome=i.t("header.quicklink.home")}}),window.cogwheels.addGear({name:"breadcrumbs",version:"0.0.1"});
require.register("couponGroupComponent/index",function(o,e,a){e.init=function(){ko.components.register("coupon-group",{viewModel:o("./view-model"),template:o("./template")})}}),require.register("couponGroupComponent/template",function(o,e,a){a.exports='<h2 class="market-header"><span data-bind="text: $component.locale.t(\'coupon.marketHeader\' + marketToShow())"></span><select data-bind="options: $root.filterMarketTypes, optionsText: \'value\', optionsValue: \'key\', value: marketToShow, event: { change: $root.trackFilterChange }"></select></h2><h3 class="sort-header"><!-- ko ifnot: narrow --><span class="matches" data-bind="text: $component.locale.t(\'coupon.marketHeader.matches\')"></span><!-- /ko --><!-- ko if: marketToShow() == \'WDW\' || marketToShow() == \'RUSH\' || marketToShow() == \'HT\' --> <span class="h-d-a"><span class="home" data-bind="text: $component.locale.t(\'coupon.selectionHeader.home\')"></span> <span class="draw" data-bind="text: $component.locale.t(\'coupon.selectionHeader.draw\')"></span> <span class="away" data-bind="text: $component.locale.t(\'coupon.selectionHeader.away\')"></span></span><!-- /ko --><!-- ko if: marketToShow() == \'DNB\' --> <span class="h-d-a"><span class="home" data-bind="text: $component.locale.t(\'coupon.selectionHeader.home\')"></span> <span class="away" data-bind="text: $component.locale.t(\'coupon.selectionHeader.away\')"></span></span><!-- /ko --><!-- ko if: marketToShow() == \'BTTS\' --> <span class="h-d-a"><span class="home" data-bind="text: $component.locale.t(\'coupon.selectionHeader.yes\')"></span> <span class="away" data-bind="text: $component.locale.t(\'coupon.selectionHeader.no\')"></span></span><!-- /ko --><!-- ko if: marketToShow() == \'OU2\' --> <span class="h-d-a"><span class="home" data-bind="text: $component.locale.t(\'coupon.selectionHeader.over\')"></span> <span class="away" data-bind="text: $component.locale.t(\'coupon.selectionHeader.under\')"></span></span><!-- /ko --></h3><!-- ko foreach: events --><coupon-group-item params="event: $data, narrow: $component.narrow, marketToShow: $component.marketToShow"></coupon-group-item><!-- /ko -->'}),require.register("couponGroupComponent/view-model",function(o,e,a){var n=o("locale"),t=function(o){this.events=o.events,this.marketToShow=o.marketToShow||"",this.narrow=o.narrow||!1,this.locale=n};a.exports=t}),window.cogwheels.addGear({name:"couponGroupComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("couponGroupItemComponent/index",function(e,o,t){o.init=function(){ko.components.register("coupon-group-item",{viewModel:e("./view-model"),template:e("./template")})}}),require.register("couponGroupItemComponent/template",function(e,o,t){t.exports='<a class="coupon-list" data-bind="href: event.href"><!-- ko ifnot: narrow --><span class="time" data-bind="html: moment(event.startTime()).format(\'D/M<br>HH:mm\')"></span> <span class="teams"><span class="name" data-bind="html: event.name"></span></span><!-- /ko --> <span class="selections"><!-- ko foreach: event.markets --><!--ko if: $component.shouldShowMarkets(couponMarketType) --><!-- ko foreach: selections --><span class="selection"><selection-button params="selection: $data"></selection-button></span><!-- /ko --><!-- /ko --><!-- /ko --></span></a>'}),require.register("couponGroupItemComponent/view-model",function(e,o,t){var n=function(e){this.event=e.event,this.marketToShow=e.marketToShow||"",this.narrow=e.narrow||!1};n.prototype={shouldShowMarkets:function(e){return e===this.marketToShow()},dispose:function(){}},t.exports=n}),window.cogwheels.addGear({name:"couponGroupItemComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("loadHandlerComponent/index",function(e,t,i){t.init=function(){ko.components.register("load-handler",{viewModel:e("./view-model"),template:e("./template")})}}),require.register("loadHandlerComponent/template",function(e,t,i){i.exports='<div class="load-handler"><!-- ko if: isPending --><spinner></spinner><!-- /ko --><!-- ko if: isRejected  --><div class="load-failed"><p>Load failed</p><div class="button" data-bind="click: retryHandler">Retry</div></div><!-- /ko --><!-- ko if: isAccepted --><!-- ko template: { nodes: $componentTemplateNodes, data: data } --><!-- /ko --><!-- /ko --></div>'}),require.register("loadHandlerComponent/view-model",function(e,t,i){var n=e("gear-disposable-mixin"),r=function(e){n.mixin(this),this.trigger=e.trigger,this.retryHandler=e.retryHandler,this.data=e.data,this.isPending=this.toDispose(ko.pureComputed(function(){var e=ko.unwrap(this.trigger);return null===e||"pending"===e},this)),this.isRejected=this.toDispose(ko.pureComputed(function(){var e=ko.unwrap(this.trigger);return e===!1||"rejected"===e},this)),this.isAccepted=this.toDispose(ko.pureComputed(function(){var e=ko.unwrap(this.trigger);return e&&"rejected"!==e&&"pending"!==e},this))};i.exports=r}),window.cogwheels.addGear({name:"loadHandlerComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("penaltyComponent/index",function(e,t,a){t.init=function(){ko.components.register("penalty",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("penaltyComponent/template",function(e,t,a){a.exports='<div class="penalty-view"><div class="penalty-container"><div class="penalty-team-name"><span data-bind="text: stats().homeTeamName"></span></div><div class="penalty-scorebox"><!-- ko foreach: stats().homeTeamPenaltyShootOut --><div class="scorebox"><div data-bind="css: $parent.getPenaltyType($data)"></div></div><!-- /ko --><div class="scorebox" data-bind="text: stats().homeTeamPenaltyScore"></div></div></div><div class="penalty-container"><div class="penalty-team-name"><span data-bind="text: stats().awayTeamName"></span></div><div class="penalty-scorebox"><!-- ko foreach: stats().awayTeamPenaltyShootOut --><div class="scorebox"><div data-bind="css: $parent.getPenaltyType($data)"></div></div><!-- /ko --><div class="scorebox" data-bind="text: stats().awayTeamPenaltyScore"></div></div></div></div>'}),require.register("penaltyComponent/view-model",function(e,t,a){function n(e){this.stats=e.stats}n.prototype={getPenaltyType:function(e){var t=e.type||"",a="";return"1"===t?a="penalty tick":"0"===t&&(a="penalty cross"),"incident-icon "+a}},a.exports=n}),window.cogwheels.addGear({name:"penaltyComponent",version:"0.0.1"});
require.register("selectionButtonComponent/index",function(e,t,i){t.init=function(){ko.components.register("selection-button",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("selectionButtonComponent/template",function(e,t,i){i.exports="<div><!-- ko foreach: { data: selection.prices, as: 'price' } --><!-- ko if: $index() === 0 --><div class=\"odds-button\" data-bind=\"click: $parent.addRemoveSelection, oddsPushIndication: $parent.getIndicationValue(price), enable: $parent.selection.bettable(), css: { 'live': ko.unwrap($parent.live), 'caption-above': $parent.captionAbove, 'selected': ($parent.isSelected() && price.active() && $parent.selection.bettable()), 'disabled': !$parent.selection.bettable() }\"><!-- ko if: $parent.leftCaption --><span class=\"leftCaption\" data-bind=\"text: $parent.leftCaption\"></span><!-- /ko --><!-- ko if: $parent.captionAbove && $parent.caption --> <span class=\"odds-text-small ell\" data-bind=\"text: $parent.caption + ' ' + $parent.selection.handicap()\"></span><!-- /ko --><!-- ko if: $parent.selection.bettable() --><!-- ko if: price.priceType !== 'STARTING_PRICE'  --> <span class=\"price\"><!-- ko if: $parent.forcePrice === 'decimalOdds' --><span data-bind=\"text: price.decimalOdds\"></span><!-- /ko --><!-- ko if: !$parent.forcePrice --> <span class=\"odds-convert\" data-bind=\"\n                                attr: {\n                                    'odds-t': price.priceType,\n                                    'odds-f': price.fractionalOdds,\n                                    'odds-d': price.decimalOdds\n                                },\n                                text: price.odds()\n                            \"></span><!-- /ko --></span><!-- /ko --><!-- ko if: price.priceType === 'STARTING_PRICE' --> <span class=\"price\">SP</span><!-- /ko --><!-- /ko --><!-- ko ifnot: $parent.selection.bettable() --><!-- ko if: $parent.selection.nonRunner --> Non runner<!-- /ko --><!-- ko ifnot: $parent.selection.nonRunner --> <span class=\"price\" data-bind=\"text: $parent.locale.t('selection.button.suspended')\"></span><!-- /ko --><!-- /ko --></div><!-- /ko --><!-- ko if: $index() === 1 && $parent.onRacingPage --><!-- ko if: $parent.selection.bettable() && price.priceType === 'STARTING_PRICE' --><div class=\"odds-button\" data-bind=\"click: $parent.addRemoveSelection, oddsPushIndication: $parent.getIndicationValue(price), enable: $parent.selection.bettable(), css: { 'live': $parent.live, 'caption-above': $parent.captionAbove, 'selected': ($parent.isSelected() && price.active()) }\"><span class=\"price\">SP</span></div><!-- /ko --><!-- /ko --><!-- /ko --></div>"}),require.register("selectionButtonComponent/view-model",function(e,t,i){var n=e("locale"),o=e("betslip"),c=e("message-bus"),s=function(e){this.disposables=[],this.selection=e.selection,this.caption=e.caption,this.live=e.live,this.captionAbove=e.captionAbove,this.leftCaption=e.leftCaption,this.isScorecast=e.isScorecast,this.goalScorerSelection=e.goalScorerSelection,this.correctScoreSelection=e.correctScoreSelection,this.event=e.event,this.locale=n,this.onRacingPage=!!e.onRacingPage&&e.onRacingPage,this.forcePrice=!!e.forcePrice&&e.forcePrice,this.disposables.push(this.forcePrice),this.isSelected=ko.observable(!1),o.getBetslip().betslipSelections.forEach(function(e){e.id===this.selection.id&&((this.selection.prices()||[]).forEach(function(t){e.prices.forEach(function(e){e.priceType===t.priceType&&t.active(e.active||!1)})}),this.isSelected(!0))}.bind(this)),this.disposables.push(o.getBetslip().subscribe("update",function(e){var t=e.betslipSelections.find(function(e){return e.id===this.selection.id}.bind(this));t?(this.isSelected(!0),this.selection.prices().forEach(function(e){t.price&&e.priceType!==t.price.priceType?e.active(!1):e.active(!0)})):(this.selection.prices().forEach(function(e){e.active(!1)}),this.isSelected(!1))}.bind(this))),this.addRemoveSelection=function(e,t){var i=ko.unwrap(this.selection),n={};this.closeBetReceipt(),i.bettable()&&(this.isSelected()&&e.active()?(o.getBetslip().removeSelection(i.id),e.active(!1),this.isSelected(!1),i.betId="SGL_"+i.id,c.publish("track:slip-remove",{selection:i,element:t?t.target:null})):this.isSelected()&&!e.active()?(i.prices().forEach(function(t){t.priceType!==e.priceType&&t.active(!1)}),e.active(!0),o.getBetslip().updateRawSelection(i)):(e.active(!0),o.getBetslip().addRawSelection(i),this.isSelected(!0),i.betId="SGL_"+i.id,n.target=t.target,n.selection=i,c.publish("track:slip-add",n)),o.getBetslip().pub("update")),t.preventDefault(),t.stopPropagation(),$(document.body).click()}.bind(this),this.closeBetReceipt=function(){var e=!!o.getBetslip().receipts.length,t=document.getElementById("receiptDoneButton");(e||t)&&t&&ko.contextFor(t).$root.removeAllClick()}};s.prototype={getIndicationValue:function(e){return this.selection.bettable()&&"STARTING_PRICE"!==e.priceType?ko.unwrap(e.decimalOdds):0},dispose:function(){this.disposables.forEach(function(e){e&&e.dispose&&e.dispose()})}},i.exports=s}),window.cogwheels.addGear({name:"selectionButtonComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("silkComponent/index",function(e,i,n){i.init=function(){ko.components.register("silk",{viewModel:e("./view-model"),template:e("./template")})}}),require.register("silkComponent/template",function(e,i,n){n.exports='<div><span class="index-next-race-participant-silk"><img data-bind="attr:{src: url}"></span></div>'}),require.register("silkComponent/view-model",function(e,i,n){function t(e){this.id=e.id||-1,this.name=e.name&&r.cleanPropertyName(e.name)||"",this.url=ko.observable(e.url||"/img/generic/icons/silk.png")}var r=e("domain-model/helper");n.exports=t}),window.cogwheels.addGear({name:"silkComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("spinnerComponent/index",function(i,s,e){s.init=function(){ko.components.register("spinner",{viewModel:i("./view-model"),template:i("./template")})}}),require.register("spinnerComponent/template",function(i,s,e){e.exports='<div class="spinner" data-bind="css: { light: light, dn: hidden }"><div class="bar-1"></div><div class="bar-2"></div><div class="bar-3"></div><div class="bar-4"></div><div class="bar-5"></div><div class="bar-6"></div><div class="bar-7"></div><div class="bar-8"></div><div class="bar-9"></div><div class="bar-10"></div><div class="bar-11"></div><div class="bar-12"></div><div class="bar-13"></div><div class="bar-14"></div><div class="bar-15"></div><div class="bar-16"></div></div>'}),require.register("spinnerComponent/view-model",function(i,s,e){e.exports=function(i){var s=this;s.light=!!i.light,s.hidden=ko.observable(!0),setTimeout(function(){s.hidden(!1)},300)}}),window.cogwheels.addGear({name:"spinnerComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("statsBarsComponent/index",function(t,s,a){s.init=function(){ko.components.register("stats-bars",{viewModel:t("./view-model"),template:t("./template"),synchronous:!0})}}),require.register("statsBarsComponent/template",function(t,s,a){a.exports='<!-- ko if: sport() === \'Football\' --><div class="statistic-view"><div class="double-stats-holder"><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().attackTeamA"></div><div class="title" data-bind="text: $root.locale.t(\'scoreboard.attacks\')"></div><div data-bind="text: stats().attackTeamB"></div></div><div class="progressbar-container"><div data-bind="style: { width: attackWidth }"></div></div></div><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().danAttackTeamA"></div><div class="title" data-bind="text: $root.locale.t(\'scoreboard.dangerous-attacks\')"></div><div data-bind="text: stats().danAttackTeamB"></div></div><div class="progressbar-container"><div data-bind="style: { width: danAttackWidth }"></div></div></div></div><div class="double-stats-holder"><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().onTargetTeamA"></div><div class="title" data-bind="text: $root.locale.t(\'scoreboard.shots-on-target\')"></div><div data-bind="text: stats().onTargetTeamB"></div></div><div class="progressbar-container"><div data-bind="style: { width: onTargetWidth }"></div></div></div><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().offTargetTeamA"></div><div class="title" data-bind="text: $root.locale.t(\'scoreboard.shots-off-target\')"></div><div data-bind="text: stats().offTargetTeamB"></div></div><div class="progressbar-container"><div data-bind="style: { width: offTargetWidth }"></div></div></div></div></div><!-- /ko --><!-- ko if: sport() === \'Basketball\' --><div class="statistic-view"><div class="double-stats-holder"><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().homeTeamThreePointers"></div><div class="title" data-bind="text: stats().threePointersTitle"></div><div data-bind="text: stats().awayTeamThreePointers"></div></div><div class="progressbar-container"><div id="stats-three-pointers" data-bind="style: { width: threePointersWidth }"></div></div></div><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().homeTeamTwoPointers"></div><div class="title" data-bind="text: stats().twoPointersTitle"></div><div data-bind="text: stats().awayTeamTwoPointers"></div></div><div class="progressbar-container"><div id="stats-two-pointers" data-bind="style: { width: twoPointersWidth }"></div></div></div></div><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().homeTeamFreeThrows"></div><div class="title" data-bind="text: stats().freeThrowsTitle"></div><div data-bind="text: stats().awayTeamFreeThrows"></div></div><div class="progressbar-container"><div id="stats-free-throws" data-bind="style: { width: freeThrowsWidth }"></div></div></div></div><!-- /ko --><!-- ko if: sport() === \'Rugby Union\' --><div class="statistic-view"><div class="double-stats-holder"><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().triesHT"></div><div class="title" data-bind="text: $root.locale.t(\'scoreboard.rugby.tries\')">Tries</div><div data-bind="text: stats().triesAT"></div></div><div class="progressbar-container"><div data-bind="style: { width: triesWidth }"></div></div></div><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().conversionsHT"></div><div class="title" data-bind="text: $root.locale.t(\'scoreboard.rugby.conversions\')">Conversions</div><div data-bind="text: stats().conversionsAT"></div></div><div class="progressbar-container"><div data-bind="style: { width: conversionsWidth }"></div></div></div><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().pensHT"></div><div class="title" data-bind="text: $root.locale.t(\'scoreboard.rugby.penalties\')">Penalties</div><div data-bind="text: stats().pensAT"></div></div><div class="progressbar-container"><div data-bind="style: { width: pensWidth }"></div></div></div><div class="stats-holder"><div class="progress-bar-text"><div data-bind="text: stats().dropsHT"></div><div class="title" data-bind="text: $root.locale.t(\'scoreboard.rugby.drop-goals\')">Drop Goals</div><div data-bind="text: stats().dropsAT"></div></div><div class="progressbar-container"><div data-bind="style: { width: dropsWidth }"></div></div></div></div></div><!-- /ko -->'}),require.register("statsBarsComponent/view-model",function(t,s,a){function e(t){var s=this;s.stats=t.stats,s.sport=t.sport,"Football"===s.sport()&&(s.attackWidth=ko.computed(function(){if(s.stats()){var t=parseInt(s.stats().attackTeamA(),10),a=parseInt(s.stats().attackTeamB(),10);return Math.floor(t/(t+a)*100)+"%"}return 0}),s.danAttackWidth=ko.computed(function(){if(s.stats()){var t=parseInt(s.stats().danAttackTeamA(),10),a=parseInt(s.stats().danAttackTeamB(),10);return Math.floor(t/(t+a)*100)+"%"}return 0}),s.onTargetWidth=ko.computed(function(){if(s.stats()){var t=parseInt(s.stats().onTargetTeamA(),10),a=parseInt(s.stats().onTargetTeamB(),10);return Math.floor(t/(t+a)*100)+"%"}return 0}),s.offTargetWidth=ko.computed(function(){if(s.stats()){var t=parseInt(s.stats().offTargetTeamA(),10),a=parseInt(s.stats().offTargetTeamB(),10);return Math.floor(t/(t+a)*100)+"%"}return 0})),"Basketball"===s.sport()&&(s.threePointersWidth=ko.pureComputed(function(){if(s.stats()){var t=parseInt(s.stats().homeTeamThreePointers()),a=parseInt(s.stats().awayTeamThreePointers());return Math.floor(t/(t+a)*100)+"%"}return 0}),s.twoPointersWidth=ko.pureComputed(function(){if(s.stats()){var t=parseInt(s.stats().homeTeamTwoPointers()),a=parseInt(s.stats().awayTeamTwoPointers());return Math.floor(t/(t+a)*100)+"%"}return 0}),s.freeThrowsWidth=ko.pureComputed(function(){if(s.stats()){var t=parseInt(s.stats().homeTeamFreeThrows()),a=parseInt(s.stats().awayTeamFreeThrows());return Math.floor(t/(t+a)*100)+"%"}return 0})),"Rugby Union"===s.sport()&&(s.triesWidth=ko.pureComputed(function(){if(s.stats()){var t=parseInt(s.stats().triesHT()),a=parseInt(s.stats().triesAT());return Math.floor(t/(t+a)*100)+"%"}return 0}),s.conversionsWidth=ko.pureComputed(function(){if(s.stats()){var t=parseInt(s.stats().conversionsHT()),a=parseInt(s.stats().conversionsAT());return Math.floor(t/(t+a)*100)+"%"}return 0}),s.pensWidth=ko.pureComputed(function(){if(s.stats()){var t=parseInt(s.stats().pensHT()),a=parseInt(s.stats().pensAT());return Math.floor(t/(t+a)*100)+"%"}return 0}),s.dropsWidth=ko.pureComputed(function(){if(s.stats()){var t=parseInt(s.stats().dropsHT()),a=parseInt(s.stats().dropsAT());return Math.floor(t/(t+a)*100)+"%"}return 0}))}a.exports=e}),window.cogwheels.addGear({name:"statsBarsComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("streamingComponent/index",function(e,r,t){r.init=function(){ko.components.register("stream",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("streamingComponent/template",function(e,r,t){t.exports='<!-- ko if: isLoaded --><div class="streaming" data-bind="style: size"><!-- ko if: showError --><div class="streaming-error" data-bind="text: streamError"></div><!-- /ko --><!-- ko ifnot: showError --><div class="streaming-container" data-bind="style: size"><iframe class="streaming-iframe" data-bind="attr: { src: streamUrl }" allowfullscreen></iframe></div><!-- /ko --></div><!-- /ko -->'}),require.register("streamingComponent/view-model",function(e,r,t){function o(e){var r=this;a.mixin(r),r.height=ko.observable(e.height||"inherit"),r.width=ko.observable(e.width||"inherit"),r.type=e.type||"sport",r.element=e.element,r.eventId=ko.unwrap(e.eventId),r.streamUrl=ko.observable(""),r.streamError=ko.observable(),r.showError=ko.observable(!1),r.isLoaded=ko.observable(!1),r.getStreamingDetailsRequest=null,r.loadStream(),r.size=ko.pureComputed(function(){var e=!r.showError();return{width:e&&r.width()?r.width()+"px":"inherit",height:e&&r.height()?r.height()+"px":"inherit"}}),r.toDispose(s.subscribe("^authentication:logged-in$",r.loadStream.bind(r))),r.toDispose(s.subscribe("^authentication:logged-out$",r.loadStream.bind(r))),r.toDispose(s.subscribe("^event:slip-bet-placement-success$",r.loadStream.bind(r)))}var i=e("locale"),s=e("message-bus"),a=e("gear-disposable-mixin"),n=e("domain-model/helpers/tracking"),d=e("authentication/user");o.prototype={loadStream:function(){var e=this,r="/"+i.value();e.streamUrl()&&e.streamUrl().length>0&&d.authenticated()||(r+="sport"===this.type?"/streamsport/"+e.eventId+"?t="+Date.now():"/stream/"+e.eventId,$.ajax({url:r,dataType:"json",success:function(r){if(r=r||{},r.stream=r.stream||{},e.isLoaded(!0),r.stream.errorText)e.streamUrl(""),e.streamError(r.stream.errorText),e.showError(!0);else if(r.stream.errorCode)e.buildErrorCode(r.stream.errorCode);else if(r.stream.url.length<=0)e.buildErrorCode("novideo");else{var t="sport"===e.type?"&width="+e.width()+"&height="+e.height():"",o=r.stream.url;"IGMEDIA"===r.stream.type&&e.height(null),"IMG"===r.stream.type?o=o.replace("stream?format=json&","player?"):o+=t,e.streamUrl(o),e.showError(!1)}e.trackStreaming()},error:function(){e.isLoaded(!0)}}))},trackStreaming:function(){var e=this,r={};r.type=e.type,r.element=n.findPositionHirarchy(e.element),r.error=e.showError(),e.showError()&&(r.errorMessage=e.streamError()),s.publish("track:streaming",r)},buildErrorCode:function(e){var r=this;r.streamError(i.t("streaming.error."+e)),r.showError(!0)},dispose:function(){this.disposed=!0}},t.exports=o}),window.cogwheels.addGear({name:"streamingComponent",version:"0.2.0",author:{name:"Ladbrokes"}});
require.register("tabsComponent/index",function(e,t,a){t.init=function(){ko.components.register("tabs",{viewModel:e("./view-model"),template:e("./template")})}}),require.register("tabsComponent/template",function(e,t,a){a.exports='<nav class="tabs" data-bind="template: { afterRender: afterRender },\n                             visible: (enableAll && allListCount() > 0) || tabsVisible().length,\n                             attr: { active: hasSelectedTab }"><ul><!-- ko if: enableAll && allListCount() > 0 --><li class="tab" data-bind="css: { active: selectedTab() === \'all\' }, click: function (data, event) { onTabClick.call(null, \'all\', $element, event); }"><div class="separator"></div><div class="title-container" data-bind="text: locale.t(\'all\'), attr: { title: self.allTitle }"></div><!-- ko if: showListCountInTabTitle --><div class="count" data-bind="text: \'(\' + allListCount() + \')\'"></div><!-- /ko --><div class="separator"></div></li><!-- /ko --><!-- ko foreach: { data: tabsVisible, as: \'tab\'} --><li class="tab" data-bind="css: { active: tab === $parent.selectedTab() }, click: function (data, event) { $parent.onTabClick.call(null, tab, $element, event); }"><div class="text-container"><div class="separator"></div><span class="title-container" data-bind="text: title, attr: { title: title }"></span><!-- ko if: $parent.showListCountInTabTitle --><!-- ko if: tab.hasOwnProperty(\'titleCount\') --><!-- ko if: tab.titleCount() > 0 && !tab.isOneLevelClass--> <span class="count" data-bind="text: \'(\' + tab.titleCount() + \')\'"></span><!-- /ko --><!-- /ko --><!-- ko ifnot: tab.hasOwnProperty(\'titleCount\') --> <span class="count" data-bind="text: \'(\' + (ko.unwrap(tab[$parent.listPropertyName]).length || \'\') + \')\'"></span><!-- /ko --><!-- /ko --><div class="separator"></div></div></li><!-- /ko --><!-- ko if: tabsMore().length --><li class="tab tabs-dropdown dropdown" data-bind="click: showMore, css: { active: tabsMore().indexOf(selectedTab()) > -1 }"><div class="separator"></div><span class="icon-arrow" data-bind="css: arrowClass"></span><div class="title-container" data-bind="text: moreTabTitle, attr: { title: moreTabTitle }"></div><!-- ko if: $parent.showListCountInTabTitle --><div class="count" data-bind="text: \'(\' + (tab.hasOwnProperty(\'titleCount\') ? tab.titleCount() : ko.unwrap(tab[$parent.listPropertyName]).length || \'\') + \')\'"></div><!-- /ko --><div class="separator"></div><div class="more" data-bind="css: { dn: !isDropDownOpen() }"><!-- ko foreach: { data: tabsMore, as: \'tab\'} --><div class="tab" data-bind="css: { active: tab === $parent.selectedTab() }, click: function (data, event) { $parent.onTabClick.call(null, tab, $element, event); }"><span class="title" data-bind="text: title, attr: { title: title }"></span><!-- ko if: $parent.showListCountInTabTitle --><div class="count" data-bind="text: \'(\' + (tab.hasOwnProperty(\'titleCount\') ? tab.titleCount() : ko.unwrap(tab[$parent.listPropertyName]).length || \'\') + \')\'"></div><!-- /ko --></div><!-- /ko --></div></li><!-- /ko --></ul></nav><!-- ko foreach: { data: getSelectedTabs(), as: \'data\'} --><!-- ko template: { name: $parent.contentTemplate, data: data } --><!-- /ko --><!-- /ko -->'}),require.register("tabsComponent/view-model",function(e,t,a){var n=e("locale"),i=e("message-bus"),s=e("domain-model/helpers/tracking");a.exports=function(e){function t(){var e=l.limit(),t=e;return l.enableAll&&l.allListCount()&&(e--,t--),e<l.tabsThatCanBeDisplayed().length&&t--,Math.max(t,0)}function a(e){return!e.hasOwnProperty("display")||"function"!=typeof e.display||e.display()}function o(){var e,t,n=ko.unwrap(l.tabs);if(l.enableAll)l.selectedTab("all");else if(n.length)for(e=0,t=n.length;e<t;e++)if(a(n[e])){l.selectedTab(n[e]);break}}var l=this,r=!1;l.subscriptions=[],l.locale=n,l.tabs=ko.isObservable(e.tabs)?e.tabs:ko.observableArray(e.tabs),l.tabsVisible=ko.observableArray(),l.tabsMore=ko.observableArray(),l.enableAll=!!e.hasOwnProperty("enableAll")&&e.enableAll,l.allTab=ko.pureComputed(function(){var e=[];return ko.utils.arrayForEach(l.tabs(),function(t){var a=$.extend(!0,{},t);a.isAllTab=!0,e.push(a)}),e}),l.selectedTab=e.hasOwnProperty("selectedTab")?e.selectedTab:ko.observable(null),l.minTabWidth=e.minTabWidth||138,l.$el=null,l.limit=ko.observable(e.limit||10),l.contentClass=e.contentClass||"expanded",l.contentTemplate=e.contentTemplate,l.showListCountInTabTitle=!e.hasOwnProperty("showListCountInTabTitle")||e.showListCountInTabTitle,l.listPropertyName=e.listPropertyName||"list",l.isDropDownOpen=ko.observable(!1),l.selectFirstTab=!e.hasOwnProperty("selectFirstTab")||e.selectFirstTab,l.isTypePage=e.isTypePage||!1,l.haveRightColumn=e.haveRightColumn||!1,l.showMoreTabsOnResize=!e.hasOwnProperty("showMoreTabsOnResize")||e.showMoreTabsOnResize,l.tabs()[0]&&l.tabs()[0].isOneLevelClass&&(l.showListCountInTabTitle=!1),l.unbindBodyClick=function(){l.isDropDownOpen()&&$(document.body).off("click",l.closeMore)},l.getTabs=function(e){return"all"===e?ko.unwrap(this.allTab):e?[e]:[]},l.arrowClass=ko.pureComputed(function(){return l.isDropDownOpen()?"more-arrow-expanded":"more-arrow-collapsed"},l),l.hasSelectedTab=ko.pureComputed(function(){return!!l.selectedTab()},l),l.getSelectedTabs=ko.pureComputed(function(){return l.getTabs(this.selectedTab())},l),l.deactivateSelectedTab=function(){var e;for(e=0;e<l.getSelectedTabs().length;e++)"function"==typeof l.getSelectedTabs()[e].deactivate&&l.getSelectedTabs()[e].deactivate()},l.onTabClick=function(e,t,a){e!==l.selectedTab()?(l.selectedTab(e),l.isTypePage||i.publish("track:filter",{action:ko.unwrap(e.title)||e,element:t}),a&&s.trackLink(t,a,e.href)):e===l.selectedTab()&&l.isTypePage&&e.activate&&e.activate(!0)},l.onBeforeSelectedTabChange=function(){l.deactivateSelectedTab()},l.onAfterSelectedTabChange=function(e){l.getTabs(e).forEach(function(e){e.activate&&e.activate()})},l.subscriptions.push(l.selectedTab.subscribe(l.onBeforeSelectedTabChange,l,"beforeChange")),l.subscriptions.push(l.selectedTab.subscribe(l.onAfterSelectedTabChange,l)),l.allTitle=ko.pureComputed(function(){return l.locale.t("filter.all")},l),l.allListCount=ko.pureComputed(function(){var e=0,t=ko.unwrap(l.tabs);return ko.utils.arrayMap(t,function(t){var a=ko.unwrap(t[l.listPropertyName]);e+=!t.ignoreLimit&&t.eventLimit&&a.length>t.eventLimit?t.eventLimit:a.length}),e}),l.afterRender=function(e){l.$el=$(e[0]).parents(".tabs"),l.minTabWidth&&(l.onElementResize(),addResizeListener(document.body,l.onElementResize)),r=!0},l.onElementResize=function(){var t=document.body.clientWidth,a=l.haveRightColumn&&t>=1280?720:360,n=Math.floor((t-a)/l.minTabWidth);window.innerWidth>1355&&window.innerWidth<1370?l.minTabWidth=e.minTabWidth||144:l.minTabWidth=e.minTabWidth||138,n!==l.limit()&&l.showMoreTabsOnResize&&l.limit(n)},l.tabsVisible=ko.pureComputed(function(){var e,a=this.tabsThatCanBeDisplayed(),n=[],i=t();for(e=0;e<Math.min(a.length,i);e++)n.push(a[e]);return n},l),l.tabsMore=ko.pureComputed(function(){var e,a=this.tabsThatCanBeDisplayed(),n=[],i=t();for(e=i;e<a.length;e++)n.push(a[e]);return n},l),l.tabsThatCanBeDisplayed=ko.pureComputed(function(){var e,t=ko.unwrap(l.tabs),n=[];for(e=0;e<t.length;e++)a(t[e])&&n.push(t[e]);return n},l),l.showMore=function(e,t){l.isDropDownOpen()||($(document.body).click(),l.isDropDownOpen(!0),$(document.body).one("click",l.closeMore),t.stopPropagation())},l.closeMore=function(){l.unbindBodyClick(),l.isDropDownOpen(!1)},l.moreTabTitle=ko.pureComputed(function(){var e=n.t("generic.more.more");return this.tabsMore().indexOf(this.selectedTab())>-1&&(e+=" ("+ko.unwrap(this.selectedTab().title)+")"),e},l),!l.selectedTab()&&l.selectFirstTab?o():l.selectedTab()&&l.selectedTab().activate&&l.selectedTab().activate(),l.dispose=function(){l.subscriptions.forEach(function(e){e.dispose&&e.dispose()}),r&&removeResizeListener(document.body,l.onElementResize),l.unbindBodyClick(),l.deactivateSelectedTab(),l.getSelectedTabs.dispose(),l.allTitle.dispose(),l.allListCount.dispose(),l.tabsVisible.dispose(),l.tabsThatCanBeDisplayed.dispose(),l.tabsMore.dispose(),l.moreTabTitle.dispose()}}}),window.cogwheels.addGear({name:"tabsComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("timelineComponent/index",function(e,i,t){i.init=function(){ko.components.register("timeline",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("timelineComponent/template",function(e,i,t){t.exports='<div class="timeline"><div class="timeline-view"><ul id="timeline-legend"><!-- ko foreach: timeLineLegend --><li class="item" data-bind="text: $data"></li><!-- /ko --></ul><div id="timeline-wrapper"><canvas id="timeline"></canvas><canvas id="timeline-active"></canvas></div><div class="incident-wrapper"><!-- ko foreach: incidents --><div data-bind="css: incidentStyle, style: { left: position }, attr: {\'data-incidenttime\': incidentTime, \'data-clocktime\': clockTime}"></div><!-- /ko --></div></div></div>'}),require.register("timelineComponent/view-model",function(e,i,t){function n(e){r.mixin(this);var i=this;i.stats=e.stats,i.subscriptions=[],i.matchIsExtraTime=ko.pureComputed(function(){var e=["3","4","8","9"];return e.indexOf(i.stats().currentHalf())>-1}),i.timeLineLegend=i.toDispose(ko.computed(function(){var e=[0,15,30,45,60,75,90];return i.matchIsExtraTime()&&(e=[0,5,10,15,20,25,30]),e})),i.calculateTimeLineWidth=function(e){var i=358,t=i-i%90+1;return t>i&&(t=i-45+5),t},i.drawTimelegend=function(e){var t=e.querySelector("#timeline-legend"),n=i.calculateTimeLineWidth(e)+12;n>e.querySelector(".timeline").clientWidth&&(n=i.calculateTimeLineWidth(e)),t.style.width=n+"px"},i.drawTimeLine=function(e){var t,n=e.querySelector("#timeline"),r=i.calculateTimeLineWidth(e),a=e.querySelector("#timeline-wrapper").clientHeight;n.width=r,n.height=a;var o=n.getContext("2d");o.strokeStyle="#9e9e9e";var l=Math.round(n.width/90);for(t=.5;t<=n.width;t+=l)o.beginPath(),o.moveTo(t,a),o.lineTo(t,a-7),o.closePath(),o.stroke();var c=Math.round(n.width/6);for(t=.5;t<=n.width;t+=c)o.beginPath(),o.moveTo(t,a),o.lineTo(t,5),o.closePath(),o.stroke()},i.drawActiveTimeLine=function(e){var t=e.querySelector("#timeline-active"),n=i.stats().clockTime(),r=i.calculateTimeLineWidth(e),a=e.querySelector("#timeline-wrapper").clientHeight,o=n/90;i.matchIsExtraTime()&&(o=n/30),o=o>1?1:o,t.style.width=r+"px",t.width=r,t.height=a;var l=t.width*o,c=t.getContext("2d");c.rect(0,a-7,l,10),c.fillStyle="#00AEEF",c.fill(),c.strokeStyle="#00AEEF";for(var d=Math.round(t.width/6),s=.5;s<=l;s+=d)c.beginPath(),c.moveTo(s,a),c.lineTo(s,5),c.closePath(),c.stroke()},i.initTimeline=function(e){e.querySelector("#timeline-wrapper").style.width=i.calculateTimeLineWidth(e)+"px",i.drawTimeLine(e),i.drawActiveTimeLine(e),i.drawTimelegend(e)},i.subscriptions.push(i.toDispose(i.stats().clockTime.subscribe(function(e){var t=document.querySelector("#timeline-active"),n=document.querySelector("#timeline-wrapper").clientHeight,r=e/90;i.matchIsExtraTime()&&(r=e/30);var a=t.width*r,o=t.getContext("2d");o.clearRect(0,0,t.width,t.height),o.rect(0,n-7,a,10),o.fillStyle="#00AEEF",o.fill(),o.strokeStyle="#00AEEF";for(var l=Math.round(t.width/6),c=.5;c<=a;c+=l)o.beginPath(),o.moveTo(c,n),o.lineTo(c,5),o.closePath(),o.stroke()}))),i.incidents=e.stats().incidents,i.initTimeline(document.querySelector(".timeline-container"))}var r=e("gear-disposable-mixin");t.exports=n}),window.cogwheels.addGear({name:"timelineComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("azMenu/index",function(e,t,a){var i=e("layout-engine"),r=e("./template"),n=e("./view-model"),s=e("service").azService,o=e("domain-model/helpers/virtual-sports"),l=null;t.init=function(){l=new n},t.start=function(){i.render(r,l,"az-menu"),s.getAll(function(e,t){var a=t.filter(function(e){return!o.isVirtualClass(e.id)});a.sort(function(e,t){return e.text===t.text?0:e.text<t.text?-1:1}),l.allSports(a)})}}),require.register("azMenu/template",function(e,t,a){a.exports='<div class="left-sidebar az-menu" id="az-region" data-t-position="a-z-menu"><div class="container"><ul data-bind="foreach: allSports"><li><a data-bind="css: { active: $root.activeSport() === text }, href: href"><span data-bind="attr: { class: \'icon-\' + id }"></span> <span class="name" data-bind="text: text"></span></a></li></ul></div></div>'}),require.register("azMenu/view-model",function(e,t,a){var i=e("message-bus"),r=e("gear-disposable-mixin"),n=function(){var e=this;r.mixin(e),e.allSports=ko.observableArray(),e.azTabTitle=ko.observable(),e.activeSport=ko.observable(""),ko.utils.registerEventHandler("#az-menu","mousewheel DOMMouseScroll",function(e){var t=e.originalEvent,a=t.wheelDelta||-t.detail;this.scrollTop+=30*(a<0?1:-1),e.preventDefault()}),this.toDispose(i.subscribe("^activeSport$",function(t){e.activeSport(t.data)}))};a.exports=n}),window.cogwheels.addGear({name:"azMenu",version:"0.0.1"});
require.register("betslipBulletin/index",function(e,a,i){function s(){$.getJSON("/"+t.value()+"/tablet_promotions",function(e){b.crossSells(e.tabletPromotionCrossSell),b.banners(e.tabletPromotionBanners),b.betInstructions(e.betInstructions),b.glossary(e.glossary)})}var n=e("layout-engine"),o=e("./template"),t=e("locale"),l=e("./view-model"),r=e("message-bus"),b=new l;a.start=function(){t.value()?(s(),n.render(o,b,"betslip-bulletin-div")):r.subscribeOnce("^locale:changed$",function(){s(),n.render(o,b,"betslip-bulletin-div")})}}),require.register("betslipBulletin/template",function(e,a,i){i.exports='<div><!--ko if: gameEnabled() && isLoaded() --><div class="in-app-games-container" data-t-position="mini-games-module"><div data-bind="attr: { class: \'in-app in-app-overlay in-app-overlay-play-\' + locale.locale() }, visible: !isPlaying() ,click: removeOverlay"></div><div data-bind="attr: { class: \'in-app in-app-overlay in-app-overlay-login-\' + locale.locale() }, visible: !isLoggedIn() && isPlaying()"></div><!-- ko if: showGame() --><iframe class="in-app in-app-games" data-bind="attr: { src: miniGameUrl }"></iframe><!-- /ko --></div><!-- /ko --><!-- ko if: displayBetInstructions() && betInstructions --><configurable-list params="title: locale.t(\'configurable-list.title.bet-instructions\'), template: \'numbered-row\', content: betInstructions()"></configurable-list><!-- /ko --><!-- ko if: displayGlossary() && glossary --><configurable-list params="title: locale.t(\'configurable-list.title.glossary\'), template: \'titled-row\', content: glossary()"></configurable-list><!-- /ko --><!-- ko if: banners --><div class="betslip-promo"><!-- ko foreach: banners --><banner params="value: $data, isBanner: true"></banner><!-- /ko --></div><!-- /ko --><!-- ko if: crossSells --><div class="betslip-icons"><!-- ko foreach: crossSells --><banner params="value: $data"></banner><!-- /ko --></div><!-- /ko --></div>'}),require.register("betslipBulletin/view-model",function(e,a,i){var s=e("message-bus"),n=e("locale"),o=e("gear-disposable-mixin"),t=e("pages/cmsData"),l=function(){var e=this;o.mixin(e),e.locale=n,e.crossSells=ko.observableArray(),e.banners=ko.observableArray(),e.betInstructions=ko.observableArray(),e.glossary=ko.observableArray(),e.isLoggedIn=ko.observable(!1),e.miniGameUrl=ko.observable(),e.isPlaying=ko.observable(!1),e.gameEnabled=ko.observable(!1),e.isLoaded=ko.observable(!1),e.displayBetInstructions=ko.observable(!1),e.betInstructionsSub=s.subscribe("^how-to-bet:show$",function(a){a=a||{},e.displayBetInstructions(a.data||!1)}),t(["inapp_gaming"],function(a){var i=a&&a.inappGaming&&a.inappGaming[0];e.gameEnabled(i&&i.enabled||!1),e.miniGameUrl(i&&i.gameurl||""),e.isLoaded(!0)}),e.removeOverlay=function(a,i){e.isPlaying(!0),e.isLoggedIn()?e.trackEvent("Mini-Game Launch - Game",i.target):e.trackEvent("Mini-Game Login - Game",i.target)},e.displayGlossary=ko.observable(!1),e.glossarySub=s.subscribe("^glossary:show$",function(a){a=a||{},e.displayGlossary(a.data||!1)}),e.toDispose(s.subscribe("authentication:logged-in",function(){e.isLoggedIn(!0),e.isPlaying()&&e.trackEvent("Mini-Game Launch - Game",null)})),e.toDispose(s.subscribe("authentication:logged-out",function(){e.isLoggedIn(!1),e.isPlaying(!1)})),e.showGame=ko.pureComputed(function(){return e.isPlaying()&&e.isLoggedIn()})};l.prototype={dispose:function(){var e=this;e.betInstructionsSub.dispose(),e.glossarySub.dispose()},trackEvent:function(e,a){s.publish("track:inapp-gaming",{action:e,element:a||null})}},i.exports=l}),window.cogwheels.addGear({name:"betslipBulletin",version:"0.0.1"});
require.register("footer/index",function(t,e,i){var o=t("layout-engine"),a=t("./template"),r=t("./view-model"),l=t("pages/cmsData");e.init=function(t){l(["footer"],function(t){o.render(a,new r(t.footer||{}),"footer")})},e.start=function(){}}),require.register("footer/template",function(t,e,i){i.exports='<div id="footer-container" class="footer"><section class="footer-top"><button class="footer-backtotop" data-bind="click: gototop, html : locale.t(\'footer.backtotop\')"></button><ul class="footer-payments" data-bind="foreach: payment"><li data-bind="visible: icon && url"><a href="#" data-bind="click: function (){$parent.getSalesForceToken(url, loggedOutUrl, articleUrl, {toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: width, height: height})};"><img data-bind="attr: { src: icon }"></a></li></ul></section><section class="footer-bottom"><div class="footer-bottom-container"><div class="footer-bottom-left"><div class="footer-button-links" data-bind="foreach: priority"><a href="#" data-bind="text: text, click: function (){$parent.getSalesForceToken(url, loggedOutUrl, articleUrl, {toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'700\', height: \'500\'})};"></a></div><div class="footer-legal-disclaimer-logos" data-bind="foreach: legal"><a data-bind="attr: { class: \'legal-icons \' + icon, href: url }, popupLink: $root.popupSettings(url, width, height)"></a></div><div class="footer-licence" data-bind="html : locale.t(\'footer.licence\')"></div><div class="footer-copyright" data-bind="html : locale.t(\'footer.copyright\')"></div></div><div class="footer-bottom-right"><div class="footer-bottom-right-row-1"><div class="footer-links"><div class="footer-links-title" data-bind="html : locale.t(\'footer.about\')"></div><div class="footer-links-list" data-bind="foreach: about"><a href="#" data-bind="text: text, click: function (){$parent.getSalesForceToken(url, loggedOutUrl, articleUrl, {toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: width, height: height})};"></a> <span class="footer-links-list-separator" data-bind="visible: $index() != ($parent.about.length-1)">|</span></div></div><ul class="footer-socials" data-bind="foreach: social"><li><a href="#" data-bind="attr: { class: icon }, popupLink: { type: \'popup\', url: url }"></a></li></ul></div><div class="footer-bottom-right-row-2"><div class="footer-links" data-bind="visible: quick.length"><div class="footer-links-title" data-bind="html : locale.t(\'footer.quick\')"></div><div class="footer-links-list" data-bind="foreach: quick"><a href="#" target="_blank" data-bind="attr: { href: url }, text: text, popupLink: $root.popupSettings(url, width, height)"></a> <span class="footer-links-list-separator" data-bind="visible: $index() != ($parent.quick.length-1)">|</span></div></div><div class="footer-links"><div class="footer-links-title" data-bind="html : locale.t(\'footer.customer\')"></div><div class="footer-links-list"><!-- ko if: $root.liveChatIsEnabled --><span><a id="footer_liveagent_button_online_" href="#" data-bind="text: $root.locale.t(\'footer.chat\'), click: showLiveChat">Chat</a> <span class="footer-links-list-separator">|</span></span><!-- /ko --><!-- ko foreach: support --> <span><!-- ko if: isText --><span data-bind="text: text"></span>:&nbsp; <span data-bind="text: value"></span><!-- /ko --><!-- ko if: isLink --> <a href="#" target="_blank" data-bind="attr: { href: value }, text: text, popupLink: $root.popupSettings(value)"></a><!-- /ko --><!-- ko if: isEmail --> <a href="#" data-bind="attr: { href: \'mailto:\' + value }, text: text" target="_top"></a><!-- /ko --></span> <span class="footer-links-list-separator" data-bind="visible: $index() != ($parent.support().length-1)">|</span><!-- /ko --></div></div></div></div></div></section></div>'}),require.register("footer/view-model",function(t,e,i){function o(t){var e=function(t){return{text:t.text||"",url:t.url||"",width:t.width||"",height:t.height||"",articleUrl:t.articleUrl||"",loggedOutUrl:t.loggedOutUrl||""}},i=function(t){return{icon:t.icon||"",url:t.url||"",width:t.width||"",height:t.height||""}};this.locale=a,this.user=r,this.liveChatIsEnabled=ko.pureComputed(function(){return l.enabled()&&r.authenticated()}),this.getSalesForceToken=function(t,e,i,o){l.getSalesForceToken(t,e,i,o)},this.popupSettings=function(t,e,i){return{type:"popup",url:t,options:{toolbar:"no",scrollbars:"yes",resizable:"yes",width:e||"750",height:i||"650"}}},this.priority=(t.priority||[]).map(e),this.quick=(t.quick||[]).map(e),this.about=(t.about||[]).map(e),this.social=(t.social||[]).map(i),this.legal=(t.legal||[]).map(i),this.payment=(t.payment||[]).map(function(t){return{icon:t.icon||"",info:t.info||"",url:t.url||"",articleUrl:t.articleUrl||"",width:t.width||"",height:t.height||"",loggedOutUrl:t.loggedOutUrl||""}}),this._support=ko.observableArray((t.support||[]).map(function(t){var e=t.value||"",i=e.indexOf("@")!==-1,o=e.indexOf("http")!==-1;return{text:t.text||"",premier:t.premier||!1,value:e,isEmail:i,isLink:o,isText:!i&&!o}})),this.support=ko.pureComputed(function(){var t=r.highValueCustomer()||r.vipCustomer();return this._support().filter(function(e){return e.premier===t})},this),this.gototop=function(){$("html, body").animate({scrollTop:0},600)},this.showLiveChat=function(t,e){if(e.preventDefault(),e.stopPropagation(),e){var i={};i.target=e.target,s.publish("track:chat",i)}}}var a=t("locale"),r=t("authentication/user"),l=t("live-chat"),s=t("message-bus");i.exports=o}),window.cogwheels.addGear({name:"footer",version:"0.0.1"});
require.register("leftSidebar/index",function(e,i,t){var r=e("layout-engine"),a=e("./template"),n=e("./view-model"),s=e("locale"),o=e("message-bus"),l=null;i.init=function(){l=new n,o.subscribe("^leftsidebar:hideextramenu$",function(){l.showExtraMenu(!1)}),o.subscribe("^leftsidebar:showextramenu$",function(e){l.showExtraMenu(!0)})},i.start=function(){s.value()?r.render(a,l,"left-sidebar-region"):o.subscribeOnce("^locale:changed$",function(e){r.render(a,l,"left-sidebar-region")})}}),require.register("leftSidebar/template",function(e,i,t){t.exports='<div class="left-sidebar" data-bind="visible: showExtraMenu() === true" data-t-position="contextual-menu"><div id="left-sidebar-details-menu-region"></div></div>'}),require.register("leftSidebar/view-model",function(e,i,t){var r=e("locale"),a=e("message-bus"),n=e("gear-disposable-mixin"),s=function(){var e=this;n.mixin(e),e.locale=r,e.showExtraMenu=ko.observable(!1),e.activeSport=ko.observable(""),e.toDispose(a.subscribe("^activeSport$",function(i){e.activeSport(i.data)}))};t.exports=s}),window.cogwheels.addGear({name:"leftSidebar",version:"0.0.1"});
require.register("service-message/index",function(e,s,i){var n=e("layout-engine"),o=e("./template"),r=e("./view-model"),t=e("pages/cmsData");s.init=function(){t(["serviceMessage"],function(e){var s,i;null!==e&&null!==e.serviceMessage&&e.serviceMessage.length>0&&(s=e.serviceMessage[0].enabled||!1,i=e.serviceMessage[0].message||""),n.render(o,new r(s,i),"service-message")})},s.start=function(){}}),require.register("service-message/template",function(e,s,i){i.exports='<div><!-- ko if: serviceMessageEnabled --><div class="service-message" id="service-message-fixed" data-bind="css: { \'fixed\': footerIsFixed }"><span id="serviceMessageFixed" data-bind="html: serviceMessage">We are currently experiencing some issues with loading of match details pages. If you experience issues, please visit m.ladbrokes.com on your mobile.</span></div><!-- /ko --></div>'}),require.register("service-message/view-model",function(e,s,i){function n(e,s){var i=this;i.footerIsFixed=ko.observable(!0),i.serviceMessageEnabled=ko.observable(e),i.serviceMessage=s,t=function(){var e=document.querySelector(".right-sidebar").offsetWidth,s=window.innerWidth;null!==document.getElementById("service-message-fixed")&&(document.getElementById("service-message-fixed").style.width=s-e-20+"px")},window.onresize=function(e){t()},o=function(){var e=$("#footer").offset().top,s=$(window).scrollTop()+$(window).height(),n=e>s;n!==i.footerIsFixed()&&i.footerIsFixed(n)},window.onscroll=function(){$(window).on("scroll",o),$(window).on("resize",r),o()},window.onload=function(){document.body.innerHeight>window.innerHeight?$(".service-message").addClass("fixed"):$(".service-message").removeClass("fixed")},setTimeout(function(){t()},0)}var o,r,t;i.exports=n}),window.cogwheels.addGear({name:"service-message",version:"0.0.1"});
require.register("tracking/index",function(t,e,a){var i=t("./qubitOpentagUniversalVariable"),n=t("message-bus"),r=t("domain-model/helpers/tracking"),s=t("utils/debug"),c=s("tracking"),l=function(t,e){"use strict";if(i&&t)try{i.UniversalVariableUpdater.setLoggedInUser(t.imsCustomerId,t.username,t.firstname,t.lastname,t.balance(),t.currency(),t.language,t.isHVC,t.title,t.email,t.freebetBalance()),i.UniversalVariableUpdater.trackLoginSuccess(e)}catch(a){c(a)}},o=function(t){"use strict";if(i)try{i.UniversalVariableUpdater.trackStartLogin(t)}catch(e){c(e)}},u=function(t){"use strict";if(i)try{i.UniversalVariableUpdater.trackSubmitLogin(t)}catch(e){c(e)}},d=function(t,e){"use strict";if(i)try{i.UniversalVariableUpdater.trackLoginDelay("Failed",e),i.UniversalVariableUpdater.trackLoginError(t,e)}catch(a){c(a)}},b=function(){"use strict";if(i)try{i.UniversalVariableUpdater.trackRegistrationClick()}catch(t){c(t)}},k=function(){"use strict";if(i)try{i.UniversalVariableUpdater.trackLostLoginClick()}catch(t){c(t)}},f=function(t){"use strict";if(i)try{i.UniversalVariableUpdater.clearUser(),i.UniversalVariableUpdater.trackLogOut(t)}catch(e){c(e)}},p=function(t){"use strict";if(i)try{i.UniversalVariableUpdater.setPage("Sports",document.location.href,t)}catch(e){c(e)}},g=function(){"use strict";if(i)try{i.UniversalVariableUpdater.trackPushRendered()}catch(t){c(t)}},h=function(t,e){if(i)try{var a=moment(t.market.event.startTime()).format("YYYYMMDD_hhmm");i.UniversalVariableUpdater.addBasketProduct(t.betId,t.market.event.sport.nameRaw,t.id,t.market.event.inplayNow(),t.market.event.nameRaw,t.market.nameRaw,t.nameRaw,t.totalStake,t.numberOfLines,t.prices()[0].decimalOdds(),t.potentialReturns,t.market.id,t.market.event.id,a,t.eachWay,t.includeInMultiples,e)}catch(n){c(n)}},v=function(t){"use strict";if(i){var e=t.selection,a=t.target,n=r.findPositionClosest(a),s=r.findPositionHirarchy(a);h(e,n),i.UniversalVariableUpdater.trackBetslipAddSelection(s,e.betId)}},m=function(){"use strict";i&&i.UniversalVariableUpdater.basketUpdateComplete()},y=function(t,e){"use strict";i&&i.UniversalVariableUpdater.setIncludeInMultiples("SGL_"+t,e)},E=function(t,e){"use strict";if(i)try{i.UniversalVariableUpdater.trackBetslipRemoveSelection(e,t.betId),i.UniversalVariableUpdater.removeBasketProduct(t.betId)}catch(a){c(a)}},U=function(t){"use strict";if(i){var e=t.selection,a=r.findPositionClosest(t.element),n=r.findPositionHirarchy(t.element);h(e,a),i.UniversalVariableUpdater.trackBetslipUndoSelection(n,e?e.betId:null,t.totalStake)}},S=function(t){"use strict";if(i)try{i.UniversalVariableUpdater.clearSlip(),i.UniversalVariableUpdater.trackBetslipRemoveAllSelections(t)}catch(e){c(e)}},T=function(t){"use strict";if(i)try{i.UniversalVariableUpdater.trackBetslipSubmit(t)}catch(e){c(e)}},B=function(t){"use strict";if(i)try{i.UniversalVariableUpdater.trackBetslipAcceptChanges(t)}catch(e){c(e)}},P=function(t,e,a,n){"use strict";if(i)try{i.UniversalVariableUpdater.updateStakeBasketProductFromBetId(t,parseFloat(e),a,n)}catch(r){c(r)}},_=function(t){var e,a="";return t&&t.indexOf("_")>-1&&(e=t.split("_"),""===e[e.length-1]&&e.splice(e.length-1,1),e.forEach(function(t,i){a+=t,i<e.length-1&&(a+=",")})),a},V=function(t){"use strict";var e,a,n,r,s,l="",o="",u="",d="",b="",k="";if(i)try{if(t.bet&&t.bet.selections&&t.bet.selections&&t.bet.selections.length>1){for(s=0;s<t.bet.selections.length;s++)e=t.bet.selections[s],l+=e.id,u+=e.marketId,b+=e.eventId,s<t.bet.selections.length-1&&(l+=",",u+=",",b+=",");o=t.bet.name,d=null,k=null,a=t.odds}else t.bet&&t.bet.selections&&t.bet.selections[0]&&("TC"===t.bet.selections[0].legSort||"RF"===t.bet.selections[0].legSort||"SF"===t.bet.selections[0].legSort||"CF"===t.bet.selections[0].legSort||"CT"===t.bet.selections[0].legSort)?(l=_(t.bet.selections[0].outcomeId),o=t.bet.selections[0].name,o&&(o=o.replace(/<br>/g,"")),u=t.bet.selections[0].marketId,d=t.bet.selections[0].marketName,b=t.bet.selections[0].eventId,k=t.bet.selections[0].eventName,a=t.bet.selections[0].price.decimalOdds):t.bet&&t.bet.selections&&t.bet.selections[0]&&"SC"===t.bet.selections[0].legSort?(l=t.bet.selections[0].outcomeId+","+t.bet.selections[0].secondaryScorecastOutcomeId,o=t.bet.selections[0].name,o&&(o=o.replace(/<br>/g,"")),u=t.bet.selections[0].marketId,d=t.bet.selections[0].marketName,b=t.bet.selections[0].eventId,k=t.bet.selections[0].eventName,a=t.bet.selections[0].price.decimalOdds):(l=t.bet.selections[0].id,o=t.bet.selections[0].name,u=t.bet.selections[0].marketId,d=t.bet.selections[0].marketName,b=t.bet.selections[0].eventId,k=t.bet.selections[0].eventName,a=t.bet.selections[0].price.decimalOdds);l&&(n=t.bet.eachWaySelected?2*parseInt(t.bet.numberOfLines):parseInt(t.bet.actualNumberOfLines),r=moment(t.receipt.placedAt).format("YYYY/MM/DD_hh:mm:ss"),i.UniversalVariableUpdater.addTransactionProduct(t.bet.id,t.receipt.betReceiptId,l,o,u,d,b,k,a,parseFloat(t.bet.stakePerLine),n,t.receipt.potentialReturns,t.bet.eachWaySelected,r))}catch(f){c(f)}},I=function(t){"use strict";if(i)try{i.UniversalVariableUpdater.completeTransaction(t)}catch(e){c(e)}},N=function(t){"use strict";i&&i.UniversalVariableUpdater.addMultipleToBasket(t)},w=function(t,e,a){"use strict";i&&i.UniversalVariableUpdater.updateEachWayValue(t,e,a)},C=function(){"use strict";i&&i.UniversalVariableUpdater.trackError("Session Expired")},O=function(t,e,a){"use strict";i&&i.UniversalVariableUpdater.trackCashOut(t,e,a)},R=function(){"use strict";if(i)try{i.UniversalVariableUpdater.trackSubmitCashOut()}catch(t){c(t)}},L=function(t,e,a){"use strict";i&&i.UniversalVariableUpdater.trackCashOutDelay(t,e,a)},$=function(t,e){"use strict";i&&i.UniversalVariableUpdater.trackCashOutTooltip(t,e)},D=function(t){"use strict";i&&i.UniversalVariableUpdater.clearTransactions()},M=function(t,e){"use strict";i&&i.UniversalVariableUpdater.trackPlaceBetFailure("Notification",t,e)},F=function(t,e){"use strict";i&&i.UniversalVariableUpdater.trackPlaceBetFailure("Error",t,e)},H=function(){"use strict";i&&i.UniversalVariableUpdater.clearSlip()},A=function(){"use strict";i&&i.UniversalVariableUpdater.trackQueryParams()},q=function(t,e){"use strict";i&&i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent("Scoreboard",t,e,null,!0,null))},x=function(t,e,a){"use strict";i&&e&&i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent(t,e,a,null,!0,null))},J=function(t,e){"use strict";e||(e=null),i&&i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent("Filter",t,e,null,!0,null))},Q=function(t,e,a,n,r,s){i&&(i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent(t,e,a,null,!0,null)),i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createPromotion(n,r,s,a,!0)))},W=function(t,e,a){i&&i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent("Quick-Deposit",t,e,a,!0,null))},G=function(t,e,a){i&&i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createGame("X-Sell",t,e,a,!0))},Y=function(t){var e;i&&(e=r.findPositionHirarchy(t.target),i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent("Chat","Start",e,null,!0,null)))},X=function(t){var e;i&&(e=r.findPositionHirarchy(t.target),i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent("Chat","Error - Not Logged In",e,null,!0,null)))},K=function(t,e){"use strict";i&&t&&i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent("Racing Post",t,e,null,!0,null))},j=function(t){"use strict";var e;i&&(e=r.findPositionHirarchy(t.target),i.UniversalVariableUpdater.trackToggleExpandCollapse(t.expanded,t.action,e))},z=function(t){"use strict";if(i){var e=r.findPositionHirarchy(t.element);i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent("Button",t.action,e,null,!0,null))}},Z=function(t,e){i&&i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent("X-Sell",t,e,null,!0,null))},tt=function(t,e){i&&i.UniversalVariableUpdater.trackEvent(i.UniversalVariableUpdater.createEvent("Button","Refresh",t,e,!0,null))},et=function(t,e){"use strict";i&&i.UniversalVariableUpdater.trackOddsBoost(t,e)};e.init=function(){"use strict";i.init();var t=null,e=null;n.subscribe("^track:page$",function(t){setTimeout(function(){p(t.data)},300)}),n.subscribe("^track:query-params$",function(){A()}),n.subscribe("^track:push$",function(){g()}),n.subscribe("^track:start-login$",function(e){t=e.data.element?r.findPositionHirarchy(e.data.element):null,o(t)}),n.subscribe("^track:submit-login$",function(e){t=e.data.element?r.findPositionHirarchy(e.data.element):null,u(t)}),n.subscribe("^track:lost-login-clicked$",function(t){k()}),n.subscribe("^authentication:logged-in$",function(e){l(e.data,t)}),n.subscribe("^authentication:loginFail$",function(e){e.data&&e.data.errorCode&&d(e.data.errorCode+", "+e.data.errorMessageKey+": '"+e.data.ptErrorMessage+"'",t)}),n.subscribe("^authentication:logged-out$",function(e){f(t)}),n.subscribe("^track:register$",function(t){b()}),n.subscribe("^track:slip-add$",function(t){v(t.data)}),n.subscribe("^track:slip-remove$",function(t){E(t.data.selection,r.findPositionHirarchy(t.data.element))}),n.subscribe("^track:slip-undo$",function(t){U(t.data)}),n.subscribe("^track:slip-remove-all$",function(t){S(r.findPositionHirarchy(t.data.element))}),n.subscribe("^track:include-in-multiples-toggled$",function(t){y(t.data.selectionId,t.data.value)}),n.subscribe("^track:slip-submit$",function(t){T(t.data.position)}),n.subscribe("^track:slip-accept-changes$",function(t){B(r.findPositionHirarchy(t.data.element))}),n.subscribe("^track:add-transaction$",function(t){V(t.data)}),n.subscribe("^track:slip-bet-placement-success$",function(t){I("r-sidebar/betslip-module")}),n.subscribe("^track:slip-bet-placement-error$",function(t){c("track:slip-bet-placement-error")}),n.subscribe("^track:stake-changed$",function(t){P(t.data.betId,t.data.stake,t.data.potentialReturns,r.findPositionHirarchy(t.data.element))}),n.subscribe("^track:add-multiples-to-basket$",function(t){N(t.data)}),n.subscribe("^track:each-way-toggled$",function(t){w(t.data.id,t.data.eachWaySelected,t.data.potentialReturns)}),n.subscribe("^track:session-expired$",function(){C()}),n.subscribe("^track:cashout-available$",function(t){O("Available",t.data.value,e)}),n.subscribe("^track:cashout-start$",function(t){t.data.element&&(e=r.findPositionHirarchy(t.data.element)),O("Start",t.data.value,e)}),n.subscribe("^track:cashout-submit$",function(t){t.data.element&&(e=r.findPositionHirarchy(t.data.element)),R(e),O("Submit",t.data.value,e)}),n.subscribe("^track:cashout-suspended$",function(t){O("Suspended",null,e)}),n.subscribe("^track:cashout-notification$",function(t){var a="Notification";t.data&&t.data.message&&(a+=" - "+t.data.message),L(a,t.data.value,e)}),n.subscribe("^track:cashout-success",function(t){L("Success",t.data.value,e)}),n.subscribe("^track:cashout-error",function(t){var a="Error";t.data&&t.data.message&&(a+=" - "+t.data.message),L(a,t.data.value,e)}),n.subscribe("^track:cashout-tooltip$",function(t){var e=t.data.element?r.findPositionHirarchy(t.data.element):null,a=t.data.value.charAt(0).toUpperCase()+t.data.value.slice(1);$("View "+a,e)}),n.subscribe("^track:cashout-tooltip-suspended-event$",function(t){$("View Suspended Event",t.data?r.findPositionHirarchy(t.data):null)}),n.subscribe("^track:bet-build-complete$",function(t){m()}),n.subscribe("^track:reuse-selections$",function(t){c("track:reuse-selections: clearing transactions"),D(t.data)}),n.subscribe("^track:betslip-notification$",function(t){M(t.data.errorMessage,t.data.position)}),n.subscribe("^track:betslip-error$",function(t){var e=t.data.position?t.data.position:null;F(t.data.errorMessage,e)}),n.subscribe("^track:clear-slip",function(t){c("track:clear-slip: "+JSON.stringify(t)),H()}),n.subscribe("^track:link-action$",function(t){if(i){var e=t.data||{};i.UniversalVariableUpdater.trackLinkAction(e.category,e.action,e.label,e.value||null)}}),n.subscribe("^track:scoreboard",function(t){c("track:scoreboard: "+JSON.stringify(t)),t.data&&t.data.action&&q(t.data.action,t.data.position)}),n.subscribe("^track:streaming",function(t){c("track:streaming: "+JSON.stringify(t));var e=t.data||{},a="Streaming",i=e.element||null,n="Start";e.error&&(n="Error - "+e.errorMessage),"racing"===e.type&&(a="Racing Post Module",n="Video - "+n),x(a,n,i)}),n.subscribe("^track:filter$",function(t){if(c("track:filter: "+JSON.stringify(t)),i){var e=t.data||{};J(e.action,r.findPositionHirarchy(e.element))}}),n.subscribe("^track:quick-deposit$",function(t){if(i&&t.data){var e=t.data;W(e.action,e.label,e.value)}}),n.subscribe("^track:promotion",function(t){if(i){var e=t.data||{};Q(e.category,e.action,e.label,e.type,e.promotion,e.creative)}}),n.subscribe("^track:game",function(t){if(i){var e=t.data||{};G(e.action,e.label,e.creative)}}),n.subscribe("^track:chat",function(t){Y(t.data)}),n.subscribe("^track:chat-error",function(t){X(t.data)}),n.subscribe("^track:racepost",function(t){var e=t.data||{},a=e.action?e.action:null,i=e.element?r.findPositionHirarchy(e.element):null;K(a,i)}),n.subscribe("^track:collapse-expand$",function(t){j(t.data)}),n.subscribe("^track:odds-display-change$",function(){i.UniversalVariableUpdater.updateUsersOddsDisplay()}),n.subscribe("^track:acca$",function(t){t.data&&z(t.data)}),n.subscribe("^track:inapp-gaming$",function(t){if(i&&t.data){var e=t.data,a=e.element?r.findPositionHirarchy(e.element):null;Z(e.action,a)}}),n.subscribe("^track:refresh-balance$",function(t){if(i&&t.data){var e=t.data,a=e.element?r.findPositionHirarchy(e.element):null;tt(a,e.value)}}),n.subscribe("^track:oddsboost$",function(t){if(i&&t.data){var e=t.data||{};et(e.label,e.description)}})}}),require.register("tracking/qubitOpentagUniversalVariable",function(t,e,a){var i,n=t("web-storage-extender"),r=t("domain-model/helper"),s=t("utils/debug"),c=s("tracking"),l=s("tracking-push"),o=null,u=null,d=null,b=0,k=!1,f=!0;e.init=function(){"use strict";i=window.universal_variable={version:"1.2.0",events:[]}},e.UniversalVariableUpdater={setPage:function(t,e,a){var n=this.consumeParameterCookie();null===n&&(n=i.page&&i.page.query),i.page={},a=a||{},t&&(i.page.category=t),e?i.page.subcategory=e:i.page.subcategory=location.href,n&&(i.page.query=n),a.hasOwnProperty("inplay")&&(i.page.in_play=a.inplay),a.hasOwnProperty("streaming")&&(i.page.streaming=a.streaming),this.notifyTrackPage()},trackQueryParams:function(){var t=this.consumeParameterCookie();i.page||(i.page={}),i.page.category="Sports",i.page.subcategory=location.href,t&&("-"!==t&&(i.page.query=t),this.trackEvent(this.createEvent("HTML Content","Campaign Push",null,null,!1,null)),c(i.page))},consumeParameterCookie:function(){var t=r.getCookie("ladbrokes_params"),e=null;return t&&(e=decodeURIComponent(t),document.cookie="ladbrokes_params=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e},appendToPageUrl:function(t){i.page=i.page||{},i.page.subcategory=this.getLocationFragment()+t,this.notifyTrackPage()},setLoggedInUser:function(t,e,a,n,r,s,c,l,o,u,d){var b,k=this.getPersonalHomePageSetting(),f=this.getRememberUserNameSetting(),p=this.getUserOddsDisplay();i.user=i.user||{},b=i.user.user_id||!1,t&&(i.user.user_id=t),e&&(i.user.username=e),o&&(i.user.title=o),a&&(i.user.firstname=a),n&&(i.user.lastname=n),u&&(i.user.email=u),s&&this.setCurrency(s),r&&(i.user.balance=r),d&&(i.user.bonus_balance=d),p&&(i.user.odds_format=p),i.user.remember_username=f,k&&(i.user.startpage=k),l&&"true"===l&&(i.user.HVC=!0),c&&this.setLanguage(c),b||this.notifyTrackUser()},setLoggedOutUser:function(t){i.user={},t&&this.setLanguage(t),i.user.remember_username=this.getRememberUserNameSetting(),i.user.remember_password=this.getRememberPasswordSetting(),i.user.quickbet=this.getQuickbetSetting(),i.user.startpage=this.getPersonalHomePageSetting(),i.user.odds_format=this.getUserOddsDisplay()},clearUser:function(){var t=i.user&&i.user.language||null;this.setLoggedOutUser(t),this.notifyTrackUser()},getPersonalHomePageSetting:function(){var t;return t=n.retrieve("local","homepage:personalHomePage"),t||(t="Homepage (default)"),t},getQuickbetSetting:function(){var t;return localStorage&&(t=localStorage.getItem("quickbetSetting")),t||!1},updatePersonalHomepageSetting:function(){i.user=i.user||{},i.user.startpage=this.getPersonalHomePageSetting(),this.notifyTrackUser(),this.forwardStartPageDataToNative()},updateQuickbetSetting:function(){i.user=i.user||{},i.user.quickbet=this.getQuickbetSetting(),this.notifyTrackUser(),this.forwardQuickbetSettingDataToNative()},updateUsersOddsDisplay:function(){i.user=i.user||{},i.user.odds_format=this.getUserOddsDisplay(),this.notifyTrackUser()},getRememberUserNameSetting:function(){var t;return localStorage&&(t=n.retrieve("local","user:rememberUsername")||!1),t},getRememberPasswordSetting:function(){var t;return localStorage&&(t=n.retrieve("local","user:rememberPassword")||!1),t},getUserOddsDisplay:function(){return n.retrieve("local","authentication:user:oddsDisplay")||"fractional"},updateUserBalance:function(t){t&&(i.user=i.user||{},i.user.balance&&i.user.balance===t||(i.user.balance=t))},setLanguage:function(t){t&&(i.user=i.user||{},i.user.language!==t&&(i.user.language=t,this.forwardUserLanguageDataToNative()))},setCurrency:function(t){t&&(i.user=i.user||{},i.user.currency=t,i.basket&&(i.basket.currency=t,i.basket.line_items.forEach(function(e){e.currency=t})),i.transaction&&(i.transaction.currency=t,i.transaction.line_items.forEach(function(e){e.currency=t})))},addTransactionProduct:function(t,e,a,n,r,s,c,l,o,u,d,b,k,f){var p={},g=this.findBasketProductById(t);g&&(p.category=g.category,p.start_time=g.start_time,p.page=g.page,p.include_in_multi=g.include_in_multi,p.inplay=g.inplay,p.module=g.module),a&&(p.id=a),c&&(p.event_id=c),l&&(p.name=this.removeHtmlBoldTags(l),p.inplay&&(p.name+=" [in-play]")),r&&(p.market_id=r),s&&(p.market=s),n&&(p.selection=n),e&&(p.receipt_id=e),i.user&&(p.currency=i.user.currency),u&&(p.unit_price=u*d,p.unit_sale_price=p.unit_price),o&&(p.odds=o),p.eachWay=k||!1,p.quantity=1,d&&(p.number_of_lines=d),b&&(p.potential_return=b),f&&(p.time_placed=f),i.transaction||(i.transaction={}),i.transaction.line_items||(i.transaction.line_items=[]),i.transaction.line_items.push(p)},completeTransaction:function(t){i.transaction&&(i.user&&(i.transaction.currency=i.user.currency),i.transaction.order_id=this.getFirstReceiptNumberFromTransaction(),this.calculateTransactionTotals(),this.trackPlaceBetSuccess(t),this.notifyTrackBetSlip())},getFirstReceiptNumberFromTransaction:function(){var t;return i.transaction&&i.transaction.line_items&&i.transaction.line_items.length>0&&(t=i.transaction.line_items[0].receipt_id),t},calculateTransactionTotals:function(){i.transaction&&(i.transaction.total=0,i.transaction.line_items&&i.transaction.line_items.forEach(function(t){t.unit_price&&(i.transaction.total=Math.round(100*(i.transaction.total+t.unit_price*t.quantity))/100)}))},clearTransactions:function(){i.transaction&&delete i.transaction},addMultipleToBasket:function(t){var e,a,i,n,r,s=this,c="multiple";e=this.findBasketProductById(t.id),e?this.updateBasketProduct(e,t):(a=this.getCombinedMultiplesValues(t),a.selectionIds&&(t.multiple?(i=a.selectionIds.split(","),i.forEach(function(t,e){n=s.findBasketProductById("SGL_"+t),n&&n.category&&(0===e?c=n.category:c!==n.category&&(c="multiple"))}),r=a.module):t.legs&&t.legs.length>0&&("SF"===t.legs[0].legSort||"TC"===t.legs[0].legSort||"RF"===t.legs[0].legSort||"CF"===t.legs[0].legSort||"CT"===t.legs[0].legSort)?c="Horse Racing":"SC"===t.legs[0].legSort&&(c="Football")),this.addBasketProduct(t.id,c,a.selectionIds,a.inplay,t.name,null,null,t.totalStake,t.numberOfLines,t.returnsFactor(),t.potentialReturn,a.marketIds,a.eventIds,a.eventStartTimes,null,null,r))},getCombinedMultiplesValues:function(t){var e,a,i,n,r,s,c,l={selectionIds:"",marketIds:"",eventIds:"",eventStartTimes:"",inplay:!1};for(r=0;r<t.legs.length;r++)for(e=t.legs[r],s=0;s<e.parts.length;s++)for(a=e.parts[s],c=0;c<a.selections.length;c++)i=a.selections[c],n=this.findBasketProductById("SGL_"+i.id),n&&(l.category&&l.category!==n.category?l.category="multiple":l.category=n.category,n.start_time&&(l.eventStartTimes+=n.start_time),n.inplay&&(l.inplay=!0),n.module&&(l.module+=n.module)),l.selectionIds+=i.id,l.marketIds+=i.marketId,l.eventIds+=i.eventId,(r<t.legs.length-1||s<e.parts.length-1||c<a.selections.length-1)&&(l.selectionIds+=",",l.marketIds+=",",l.eventIds+=",",l.module+=",",n&&n.start_time&&(l.eventStartTimes+=","));return l},betsliUpdateComplete:function(){this.notifyTrackBetSlip()},addBasketProduct:function(t,e,a,n,r,s,c,l,o,u,d,b,k,f,p,g,h){this.clearTransactions();var v=this.findBasketProductById(t)||{};v.betId=t,e&&(v.category=e),a&&(v.id=a),b&&(v.market_id=b),k&&(v.event_id=k),v.inplay=n,r&&(v.name=this.removeHtmlBoldTags(r),n&&(v.name+=" [In-Play]")),c&&(v.selection=c),s&&(v.market=s),f&&(v.start_time=f),u&&(v.odds=u),d&&(v.potential_return=d),l&&(v.unit_price=l),v.quantity=1,o&&(v.number_of_lines=o||1),h&&(v.module=h),v.eachWay=p||!1,null!==g&&(v.include_in_multi=g||!0),i.page&&i.page.subcategory&&(v.page=i.page.subcategory),this.calculateBasketTotals(),i.basket=i.basket||{},i.basket.line_items=i.basket.line_items||[],i.basket.line_items.push(v),this.notifyNativeAddToSlip(v)},basketUpdateComplete:function(){this.notifyTrackBetSlip()},updateBasketProduct:function(t,e){var a=!1,i=e&&e.returnsFactor();return i&&i>0&&i!==t.odds&&(t.odds=i,t.potential_return=e.potentialReturns(),a=!0),a},removeBasketProduct:function(t){var e=this.findBasketProductById(t),a=-1;i.basket&&i.basket.line_items&&(a=i.basket.line_items.indexOf(e),a>-1&&(i.basket.line_items.splice(a,1),this.clearMultiplesFromBasket()))},setIncludeInMultiples:function(t,e){var a=this.findBasketProductById(t);a&&(a.include_in_multi=e,this.notifyTrackBetSlip()),this.clearMultiplesFromBasket()},clearMultiplesFromBasket:function(){var t;if(i.basket&&i.basket.line_items)for(t=i.basket.line_items.length-1;t>=0;t--)i.basket.line_items[t].betId.indexOf("SGL_")===-1&&i.basket.line_items.splice(t,1)},removeHtmlBoldTags:function(t){return t=t||"",t.replace(/&lt;b&gt;/g,"").replace(/&lt;\/b&gt;/g,"").replace("<b>","").replace("</b>","")},updateStakeBasketProductFromBetId:function(t,e,a,i){this.updateStakeBasketProduct(t,e,a,i)},getStakeFromInput:function(t){var e=parseFloat(t.value);return isNaN(e)&&(e=0),e},parseMoney:function(t){var e=/[^\d.,]/gi,a=t.replace(e,""),i=t;return a&&a.length>0&&(i=parseFloat(a)),isNaN(i)||(i=Math.round(100*i)/100),i},updateEachWayValue:function(t,e,a){var i=this.findBasketProductById(t);i&&(i.eachWay=e||!1,i.potential_return=a,e?i.quantity=Math.round(2*i.number_of_lines):i.quantity=Math.round(i.number_of_lines)),this.calculateBasketTotals(),this.notifyTrackBetSlip()},getSelectionIdFromBetId:function(t){var e,a=t.indexOf("_");return e=a>0?t.substring(a+1):t},updateStakeBasketProduct:function(t,e,a,i){var n=this.findBasketProductById(t),r=parseFloat(e);n&&!isNaN(r)&&n.unit_price!==r&&(n.unit_price=r,n.unit_sale_price=r,isNaN(a)?n.potential_return=this.parseMoney(a):n.potential_return=parseFloat(a),this.calculateBasketTotals(),this.notifyTrackBetSlip(),this.trackEvent(this.createEvent("Betslip","Enter Stake",i,e,!0,n)))},findBasketProductById:function(t){var e;if(i.basket)return e=i.basket.line_items,e&&e.filter(function(e){return e.betId===t})[0]},findTransactionProductById:function(t){var e;if(i.transaction)return e=i.transaction.line_items,e&&e.filter(function(e){return e.id===t})[0]},calculateBasketTotals:function(){i.basket&&(i.basket.subtotal=0,i.basket.total=0,i.basket.line_items.forEach(function(t){t.unit_price&&(i.basket.total=Math.round(100*(i.basket.total+t.unit_price*t.quantity))/100,i.basket.subtotal=i.basket.total)}))},clearBasket:function(){delete i.basket},clearSlip:function(){this.clearBasket(),this.clearTransactions()},startBetSubmitTimer:function(){o=Date.now()},notifyTrackBetSlip:function(){try{this.isTrackingEnabled()&&window.trackBetSlip&&window.trackBetSlip(),c("Betslip tracked"),i.basket&&c("basket: "+JSON.stringify(i.basket.line_items)),i.transaction&&c("transaction: "+JSON.stringify(i.transaction.line_items))}catch(t){c("ERROR: window.trackBetSlip() threw exception: "+t.getMessage),i.basket&&c("Basket: "+JSON.stringify(i.basket)),i.transaction&&c("Transaction: "+i.transaction)}},notifyTrackUser:function(){try{this.isTrackingEnabled()&&window.trackUser&&window.trackUser(),c("UV User tracked: "+JSON.stringify(i.user))}catch(t){c("ERROR: window.trackUser() threw exception: "+t.getMessage+", for user: "+JSON.stringify(i.user))}},notifyTrackPage:function(){try{this.isTrackingEnabled()&&window.trackPage&&window.trackPage(),c("Page tracked: "+JSON.stringify(i.page))}catch(t){c("ERROR: window.trackPage() threw exception: "+t.getMessage+", for page: "+JSON.stringify(i.page))}},trackError:function(t){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Error",t,null,null,!0))},trackPushRendered:function(){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Update","Content"))},trackStartLogin:function(t){this.isTrackingEnabled()&&(k||(this.trackEvent(this.createEvent("Login","Start",t,b,!0)),k=!0,setTimeout(function(){k=!1},3e4)))},trackLostLoginClick:function(t){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Lost Password","Click",t,null,!0))},trackSubmitLogin:function(t){this.isTrackingEnabled()&&(b++,this.trackEvent(this.createEvent("Login","Submit",t,b,!0)),u=Date.now())},trackLoginSuccess:function(t){this.isTrackingEnabled()&&(u&&(this.trackLoginDelay("Success",t),this.trackEvent(this.createEvent("Login","Success",t,b,!0))),b=0)},trackLoginError:function(t,e){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Login","Failed - "+t,e,b,!0))},trackLoginDelay:function(t,e){var a;this.isTrackingEnabled()&&(a=Date.now(),this.trackEvent(this.createEvent("Login","Delay - "+t,e,a-u,!0))),u=null},trackLogOut:function(t){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Logout","Success",t,null,!0))},trackCashOut:function(t,e,a){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Cashout",t,a,e,!0))},trackSubmitCashOut:function(){this.isTrackingEnabled()&&(d=Date.now())},trackCashOutDelay:function(t,e,a){this.isTrackingEnabled()&&(this.trackEvent(this.createEvent("Cashout",t,a,e,!0)),this.calculateCashOutDelay(t,a))},trackCashOutTooltip:function(t,e){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("My Bets",t,e,null,!0))},calculateCashOutDelay:function(t,e){var a;this.isTrackingEnabled()&&(a=Date.now(),this.trackEvent(this.createEvent("Cashout","Delay - "+t,e,a-d,!0))),d=null},trackStreamAction:function(t,e,a,i){this.isTrackingEnabled()&&this.trackEvent(this.createEvent(t,e,a,i,!0))},trackNewAcca:function(){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Acca","New Acca button","Select"))},trackAccaBar:function(){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Acca","Coupon Bar","Hide"))},trackMarketSwitcherTap:function(t){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Coupons","Market Switcher - Tap",t))},trackMarketSwitcherSelect:function(t){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Coupons","Market Switcher - Select",t))},trackBetslipInfoClickMultiples:function(t){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Info Button","Betslip Multiples",t))},trackBetslipAddSelection:function(t,e){var a;this.isTrackingEnabled()&&(a=this.findBasketProductById(e),this.trackEvent(this.createEvent("Betslip","Add",t,null,!0,a)))},trackBetslipRemoveSelection:function(t,e){var a;this.isTrackingEnabled()&&(a=this.findBasketProductById(e),this.trackEvent(this.createEvent("Betslip","Remove",t,null,!0,a)))},trackBetslipUndoSelection:function(t,e,a){var i;this.isTrackingEnabled()&&(i=this.findBasketProductById(e),this.trackEvent(this.createEvent("Betslip","Undo",t,a,!0,i)))},trackBetslipRemoveAllSelections:function(t){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Betslip","Remove All",t,null,!0))},trackBetslipSubmit:function(t){var e;this.isTrackingEnabled()&&(e=i.basket&&i.basket.total,this.trackEvent(this.createEvent("Betslip","Submit",t,parseFloat(e),!0)),this.startBetSubmitTimer())},trackBetslipAcceptChanges:function(t){var e;this.isTrackingEnabled()&&(e=i&&i.basket&&i.basket.total,this.trackEvent(this.createEvent("Betslip","Accept",t,parseFloat(e),!0)))},trackPlaceBetSuccess:function(t){var e,a,n;this.isTrackingEnabled()&&(o&&(a=Date.now(),e=this.hasInPlayEvents()?"In-Play Delay - Success":"Pre-Play Delay - Success",this.trackEvent(this.createEvent("Betslip",e,t,a-o,!0)),o=null),n=i&&i.transaction&&i.transaction.total,this.trackEvent(this.createEvent("Betslip","Receipt",t,parseFloat(n),!0)))},trackPlaceBetFailure:function(t,e,a){var n,r,s;this.isTrackingEnabled()&&(o&&(r=Date.now(),n=this.hasInPlayEvents()?"In-Play Delay - "+t:"Pre-Play Delay - "+t,this.trackEvent(this.createEvent("Betslip",n,a,r-o,!0)),o=null),s=i.basket&&i.basket.total,this.trackEvent(this.createEvent("Betslip",t+" - "+e,a,parseFloat(s),!0)))},trackRacingPostVerdictAction:function(t){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Info Button","Racing Post Verdict",t))},trackIntroductionUserInteraction:function(t,e){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Info Slide Show",t,e))},trackSurfaceBet:function(t,e,a){this.isTrackingEnabled()&&this.trackEvent(this.createEvent(t,e,a))},trackBetSlipReceiptDisplayed:function(t,e,a,i){this.isTrackingEnabled()&&this.trackEvent(this.createEvent(t,e,a,this.parseMoney(i),!0))},trackRegistrationClick:function(){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Register","Click",null,null,!0))},trackToggleExpandCollapse:function(t,e,a){this.isTrackingEnabled()&&this.trackEvent(this.createEvent(t,e,a,null,!0))},trackOddsBoost:function(t,e){this.isTrackingEnabled()&&this.trackEvent(this.createEvent("Betslip","Error",t,e,!0,null))},clearHandledEvents:function(){if(this.isTrackingEnabled()){var t=function(t){return!t.hasOwnProperty("has_fired")||!t.has_fired};i.events=i.events.filter(t)}},createEvent:function(t,e,a,i,n,r){var s={};return this.isTrackingEnabled()&&(t&&(s.category=t),e&&(s.action=e),a&&(s.label=a),i&&(s.value=i),n&&(s.ga=n),r&&(s.product=r)),s},createPromotion:function(t,e,a,i,n){var r={};return this.isTrackingEnabled()&&(t&&(r.type=t),r&&(r.promotion=e),a&&(r.creative=a),i&&(r.position=i),n&&(r.ga=n)),r},createGame:function(t,e,a,i,n){var r={};return this.isTrackingEnabled()&&(t&&(r.category=t),e&&(r.action=e),a&&(r.label=a),i&&(r.creative=i),n&&(r.ga=n)),r},trackEvent:function(t){if(this.isTrackingEnabled()){i.events=i.events||[],this.clearHandledEvents();try{i.events.push(t),t&&"Update"===t.category&&"Content"===t.action?l("UV Push Event tracked: "+JSON.stringify(t)):c("UV Event tracked: "+JSON.stringify(t))}catch(e){c("ERROR: failed to track UV Event: "+JSON.stringify(t)+", Error: "+e)}}},trackLinkAction:function(t,e,a,i){var n=this.createEvent(t,this.removeHtmlBoldTags(e),a,i||null,!0,null);this.trackEvent(n)},notifyNativeAddToSlip:function(t){if(this.isTrackingEnabled()&&document.Native){var e="addedToSlip=";t.category&&(e+="sportName="+t.category),t.name&&(e+="#eventName="+t.name),t.selectionName&&(e+="#selectionName="+t.selectionName),t.odds&&t.odds>0&&(e+="#odds="+t.odds),document.Native.call(e)}},forwardBetslipDataToNative:function(){this.isTrackingEnabled()&&document.Native&&i.transaction.line_items.forEach(function(t){document.Native.call("betslipConfirmed=sport="+t.category+"#event="+t.name+"#market="+t.marketName+"#selection="+t.selectionName+"#currency="+t.currency+"#stake="+t.stake)})},forwardStartPageDataToNative:function(){this.isTrackingEnabled()&&document.Native&&document.Native.call("userSettingStartPage="+i.user.startpage)},forwardUserLanguageDataToNative:function(){this.isTrackingEnabled()&&document.Native&&document.Native.call("userLanguage="+i.user.language);
},forwardQuickbetSettingDataToNative:function(){this.isTrackingEnabled()&&document.Native&&document.Native.call("quickbetSetting="+i.user.quickbet)},hasInPlayEvents:function(){var t=!1;return i.basket&&i.basket.line_items&&i.basket.line_items.forEach(function(e){e.inplay&&(t=!0)}),t},isTrackingEnabled:function(){return f}}}),window.cogwheels.addGear({name:"tracking",version:"0.0.2"});
require.register("visualisations/index",function(t,e,a){var s=t("layout-engine"),i=t("./template"),o=t("message-bus"),r=t("./view-model");e.start=function(){o.subscribe("^stats:show$",function(t){s.render(i,new r(t.data),"visualisation")}),o.subscribe("^stats:hide$",function(t){s.destroyRegion("visualisation")})}}),require.register("visualisations/template",function(t,e,a){a.exports='<div class="visualisation-container" id="visualization-tracking"><div id="visualization"><div class="field-bg"><section class="vui field" data-bind="template: { name: stats.activity, data: stats }"></section></div></div></div>'}),require.register("visualisations/view-model",function(t,e,a){function s(t){var e=this;e.stats=t,e.locale=i,e.gameStatus=ko.computed(function(){var t=e.stats.currentHalf,a=e.stats.clockTime,s=e.stats.currentSession,o=i.t("js.controller.minute");return"'"!==o&&(o=" "+o),"1"===t?i.t("js.controller.1st-half")+" "+a+o:"2"===t&&"StopGame"===s&&"45"===a?i.t("js.controller.half-time"):"2"===t?i.t("js.controller.2nd-half")+" "+a+o:"3"===t?i.t("js.controller.et-1")+" "+a+o:"4"===t?i.t("js.controller.et-2")+" "+a+o:"5"===t?i.t("js.controller.penalties"):""}),e.homeTeamDisplayScore=ko.computed(function(){var t=parseInt(e.stats.currentHalf,10);return 5===t?e.stats.homeTeamPenaltyScore:3===t||4===t?parseInt(e.stats.homeTeamET1Score,10)+parseInt(e.stats.homeTeamET2Score,10):e.stats.homeTeamScore},e),e.awayTeamDisplayScore=ko.computed(function(){var t=parseInt(e.stats.currentHalf,10);return 5===t?e.stats.awayTeamPenaltyScore:3===t||4===t?parseInt(e.stats.awayTeamET1Score,10)+parseInt(e.stats.awayTeamET2Score,10):e.stats.awayTeamScore},e),e.isFullTimeScoreVisible=ko.computed(function(){return 5===parseInt(e.stats.currentHalf,10)},e),e.fullTimeScoreText=ko.computed(function(){return i.t("scoreboard.full-time-score")+" "+e.stats.homeTeamScore+"-"+e.stats.awayTeamScore},e),e.removeVisualization=ko.computed(function(){if("vc_512"===e.stats.activity&&document.getElementById("visual")){var t=document.getElementById("visual");t.parentNode.removeChild(t);var a=document.querySelector(".indicator"),s=a.querySelector(".indicator-item"),i=document.querySelectorAll("section").length-1;a.style.width=(s.offsetWidth+1.5)*i+"px"}},e)}var i=t("locale");a.exports=s}),window.cogwheels.addGear({name:"visualisations",version:"0.0.1"});
require.register("aem-carousel/carousel-factory",function(e,o,a){var i=e("gear-disposable-mixin"),t=e("utils/extend"),n=e("utils/x"),r=e("message-bus"),s=e("web-storage/cookie"),c=e("utils/debug"),u=c("aem-carousel"),l={init:function(e,o){u("start carousel (%o)",o),i.mixin(this);var a="new",c=s.get("new_user_expiry");c&&new Date(parseInt(c))<new Date&&(a="existing");var l={userType:a,channel:"desktop",brand:"ladbrokes",server:o.domain},d=s.get("lbrims");d&&(l.imsLevel=d);var p=new LC.Carousel(e,l),f=n.debounce(function(e){p.update(m).then(function(o){m={},u("%cCarousel updated. (%o, %o)","color:#000066;font-weight:bold",e,o),r.publish("aem-carousel:update",o),p.redraw()})["catch"](function(e){m={}})},0),m={},h=function(e){t(m,e),f(m)};p.init(l).then(function(e){u("%cCarousel initialized. (%o)","color:#000066;font-weight:bold",l),r.publish("aem-carousel:init",e)})["catch"](function(e){}),this.updateLocale=function(e){h({locale:e})},this.updatePage=function(e){h({page:e})};var g=function(e){var o=ko.unwrap(e.data.vipLevel);o>-1&&s.set("lbrims",o),u("%cAEM carousel update user(imsLevel: %o)","color:#660000",o),h({imsLevel:o})};this.toDispose(r.subscribe("authentication:logged-in",g)),this.dispose=function(){p.destroy(),p=null}.bind(this)}};a.exports=function(){var e=Object.create(l);return e}}),require.register("aem-carousel/template",function(e,o,a){a.exports='<div class="aem-carousel"><div class="aem-banner-carousel" data-bind="aemCarousel"></div></div>'}),require.register("aem-carousel/index",function(e,o,a){function i(e){return function(o){h("loading script %o...",o);var a=document.createElement("script");return a.type="text/javascript",a.src=o,a.async=!0,new Q.Promise(function(o){a.onload=o,e.appendChild(a)})}}function t(e){return function(o){h("loading stylesheet %o...",o);var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=o,a.media="screen",e.appendChild(a)}}function n(){h("initialize satellite..."),u.publish("aem:initialize")}function r(e){return!!e}function s(e){return e.dispose}function c(e){e()}var u=e("message-bus"),l=e("locale"),d=e("./carousel-factory"),p=e("./view-model-factory"),f=e("./template"),m=e("utils/debug"),h=m("aem-carousel"),g=ko.observable(!1);o.init=function(e){function o(e){if(!g()){h("load AEM files...");var o=document.getElementsByTagName("head")[0];o&&(Q.all([e+"/etc/designs/lc/clientlib-all.js"].filter(r).map(i(o))).then(n),[e+"/etc/designs/lc/clientlib-all.css"].forEach(t(o)))}}var a={viewModel:p(o,e),template:f};u.subscribeOnce("aem:initialize",function(){g(!0)}),ko.components.register("aem-carousel",a),ko.bindingHandlers.aemCarousel={init:function(e,o,a,i){h("%cAEM carousel init","color:#660000");var t=[],n=d(),p=ko.computed(function(){h("%cAEM carousel(%o)","color:#660000",g()),g()&&n.init(e,i)}),f=ko.computed(function(){if(g()){var e=ko.unwrap(l.locale),o=ko.unwrap(i.page);e&&(h("%cAEM carousel update locale(%o)","color:#660000",e),n.updateLocale(e)),o&&(h("%cAEM carousel update page(%o)","color:#660000",o),n.updatePage(o))}});t.push(u.subscribe("aem-carousel:refresh",function(){n.refresh()})),t.push(n),t.push(p),t.push(f),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){var e=ko.unwrap(i.page);h("%cdispose AEM carousel for %s","color:#440000",e),t.map(s).filter(r).forEach(c)})}}}}),require.register("aem-carousel/view-model-factory",function(e,o,a){a.exports=function(e,o){function a(o){var a=this.domain=ko.unwrap(o.domain);this.page=ko.unwrap(o.page).toLowerCase(),e(a)}return a}}),window.cogwheels.addGear({name:"aem-carousel",version:"0.0.1"});
require.register("daterange-picker/daterangepicker",function(t,e,a){!function(t,e){if("function"==typeof define&&define.amd)return t.daterangepicker=e(moment,$);if("object"==typeof a&&a.exports){var i="undefined"!=typeof window?window.jQuery:void 0;i||(i=$,i.fn||(i.fn={})),a.exports=e(moment,i)}else t.daterangepicker=e(t.moment,t.jQuery)}(this,function(t,e){var a=function(a,i,s){if(this.parentEl="body",this.element=e(a),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),i=e.extend(this.element.data(),i),"string"==typeof i.template||i.template instanceof e||(i.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=e(i.parentEl&&e(i.parentEl).length?i.parentEl:this.parentEl),this.container=e(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel&&(this.locale.customRangeLabel=i.locale.customRangeLabel)),this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=t(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=t(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=t(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=t(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=t(i.startDate)),"object"==typeof i.endDate&&(this.endDate=t(i.endDate)),"object"==typeof i.minDate&&(this.minDate=t(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=t(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyClass&&(this.applyClass=i.applyClass),"string"==typeof i.cancelClass&&(this.cancelClass=i.cancelClass),"object"==typeof i.dateLimit&&(this.dateLimit=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var n=this.locale.firstDay;n>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),n--;var r,o,l;if("undefined"==typeof i.startDate&&"undefined"==typeof i.endDate&&e(this.element).is("input[type=text]")){var h=e(this.element).val(),d=h.split(this.locale.separator);r=o=null,2==d.length?(r=t(d[0],this.locale.format),o=t(d[1],this.locale.format)):this.singleDatePicker&&""!==h&&(r=t(h,this.locale.format),o=t(h,this.locale.format)),null!==r&&null!==o&&(this.setStartDate(r),this.setEndDate(o))}if("object"==typeof i.ranges){for(l in i.ranges){r="string"==typeof i.ranges[l][0]?t(i.ranges[l][0],this.locale.format):t(i.ranges[l][0]),o="string"==typeof i.ranges[l][1]?t(i.ranges[l][1],this.locale.format):t(i.ranges[l][1]),this.minDate&&r.isBefore(this.minDate)&&(r=this.minDate.clone());var c=this.maxDate;if(this.dateLimit&&c&&r.clone().add(this.dateLimit).isAfter(c)&&(c=r.clone().add(this.dateLimit)),c&&o.isAfter(c)&&(o=c.clone()),!(this.minDate&&o.isBefore(this.minDate,this.timepicker?"minute":"day")||c&&r.isAfter(c,this.timepicker?"minute":"day"))){var m=document.createElement("textarea");m.innerHTML=l;var p=m.value;this.ranges[p]=[r,o]}}var f="<ul>";for(l in this.ranges)f+='<li data-range-key="'+l+'">'+l+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof s&&(this.callback=s),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof i.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),("undefined"==typeof i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof i.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",e.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",e.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",e.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)).on("click.daterangepicker","li",e.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",e.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",e.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return a.prototype={constructor:a,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,a;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),a=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),a=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}this.leftCalendar.month.hour(t).minute(e).second(a),this.rightCalendar.month.hour(t).minute(e).second(a)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(a){var i="left"==a?this.leftCalendar:this.rightCalendar,s=i.month.month(),n=i.month.year(),r=i.month.hour(),o=i.month.minute(),l=i.month.second(),h=t([n,s]).daysInMonth(),d=t([n,s,1]),c=t([n,s,h]),m=t(d).subtract(1,"month").month(),p=t(d).subtract(1,"month").year(),f=t([p,m]).daysInMonth(),u=d.day(),i=[];i.firstDay=d,i.lastDay=c;for(var D=0;D<6;D++)i[D]=[];var g=f-u+this.locale.firstDay+1;g>f&&(g-=7),u==this.locale.firstDay&&(g=f-6);for(var k,v,y=t([p,m,g,12,o,l]),D=0,k=0,v=0;D<42;D++,k++,y=t(y).add(24,"hour"))D>0&&k%7===0&&(k=0,v++),i[v][k]=y.clone().hour(r).minute(o).second(l),y.hour(12),this.minDate&&i[v][k].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[v][k].isBefore(this.minDate)&&"left"==a&&(i[v][k]=this.minDate.clone()),this.maxDate&&i[v][k].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[v][k].isAfter(this.maxDate)&&"right"==a&&(i[v][k]=this.maxDate.clone());"left"==a?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var b="left"==a?this.minDate:this.startDate,C=this.maxDate,w=("left"==a?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),M='<table class="table-condensed">';M+="<thead>",M+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(M+="<th></th>"),M+=b&&!b.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=a?"<th></th>":'<th class="prev available"><i class="fa fa-'+w.left+" glyphicon glyphicon-"+w.left+'"></i></th>';var Y=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var P=i[1][1].month(),x=i[1][1].year(),I=C&&C.year()||x+5,L=b&&b.year()||x-50,S=x==L,A=x==I,_='<select class="monthselect">',B=0;B<12;B++)_+=(!S||B>=b.month())&&(!A||B<=C.month())?"<option value='"+B+"'"+(B===P?" selected='selected'":"")+">"+this.locale.monthNames[B]+"</option>":"<option value='"+B+"'"+(B===P?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[B]+"</option>";_+="</select>";for(var E='<select class="yearselect">',O=L;O<=I;O++)E+='<option value="'+O+'"'+(O===x?' selected="selected"':"")+">"+O+"</option>";E+="</select>",Y=_+E}if(M+='<th colspan="5" class="month">'+Y+"</th>",M+=C&&!C.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=a&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-'+w.right+" glyphicon glyphicon-"+w.right+'"></i></th>',M+="</tr>",M+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(M+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,function(t,e){M+="<th>"+e+"</th>"}),M+="</tr>",M+="</thead>",M+="<tbody>",null==this.endDate&&this.dateLimit){var W=this.startDate.clone().add(this.dateLimit).endOf("day");C&&!W.isBefore(C)||(C=W)}for(var v=0;v<6;v++){M+="<tr>",this.showWeekNumbers?M+='<td class="week">'+i[v][0].week()+"</td>":this.showISOWeekNumbers&&(M+='<td class="week">'+i[v][0].isoWeek()+"</td>");for(var k=0;k<7;k++){var V=[];i[v][k].isSame(new Date,"day")&&V.push("today"),i[v][k].isoWeekday()>5&&V.push("weekend"),i[v][k].month()!=i[1][1].month()&&V.push("off","next-month"),this.minDate&&i[v][k].isBefore(this.minDate,"day")&&V.push("off","disabled"),C&&i[v][k].isAfter(C,"day")&&V.push("off","disabled"),this.isInvalidDate(i[v][k])&&V.push("off","disabled"),i[v][k].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&V.push("active","start-date"),null!=this.endDate&&i[v][k].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&V.push("active","end-date"),null!=this.endDate&&i[v][k]>this.startDate&&i[v][k]<this.endDate&&V.push("in-range");var H=this.isCustomDate(i[v][k]);H!==!1&&("string"==typeof H?V.push(H):Array.prototype.push.apply(V,H));for(var N="",$=!1,D=0;D<V.length;D++)N+=V[D]+" ","disabled"==V[D]&&($=!0);$||(N+="available"),M+='<td class="'+N.replace(/^\s+|\s+$/g,"")+'" data-title="r'+v+"c"+k+'">'+i[v][k].date()+"</td>"}M+="</tr>"}M+="</tbody>",M+="</table>",this.container.find(".calendar."+a+" .calendar-table").html(M)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,a,i,s=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(s=this.startDate.clone().add(this.dateLimit)),"left"==t)a=this.startDate.clone(),i=this.minDate;else if("right"==t){a=this.endDate.clone(),i=this.startDate;var n=this.container.find(".calendar.right .calendar-time div");if(!this.endDate&&""!=n.html()&&(a.hour(n.find(".hourselect option:selected").val()||a.hour()),a.minute(n.find(".minuteselect option:selected").val()||a.minute()),a.second(n.find(".secondselect option:selected").val()||a.second()),!this.timePicker24Hour)){var r=n.find(".ampmselect option:selected").val();"PM"===r&&a.hour()<12&&a.hour(a.hour()+12),"AM"===r&&12===a.hour()&&a.hour(0)}a.isBefore(this.startDate)&&(a=this.startDate.clone()),s&&a.isAfter(s)&&(a=s.clone())}e='<select class="hourselect">';for(var o=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,h=o;h<=l;h++){var d=h;this.timePicker24Hour||(d=a.hour()>=12?12==h?12:h+12:12==h?0:h);var c=a.clone().hour(d),m=!1;i&&c.minute(59).isBefore(i)&&(m=!0),s&&c.minute(0).isAfter(s)&&(m=!0),e+=d!=a.hour()||m?m?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>":'<option value="'+h+'" selected="selected">'+h+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(var h=0;h<60;h+=this.timePickerIncrement){var p=h<10?"0"+h:h,c=a.clone().minute(h),m=!1;i&&c.second(59).isBefore(i)&&(m=!0),s&&c.second(0).isAfter(s)&&(m=!0),e+=a.minute()!=h||m?m?'<option value="'+h+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+h+'">'+p+"</option>":'<option value="'+h+'" selected="selected">'+p+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(var h=0;h<60;h++){var p=h<10?"0"+h:h,c=a.clone().second(h),m=!1;i&&c.isBefore(i)&&(m=!0),s&&c.isAfter(s)&&(m=!0),e+=a.second()!=h||m?m?'<option value="'+h+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+h+'">'+p+"</option>":'<option value="'+h+'" selected="selected">'+p+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",u="";i&&a.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"'),s&&a.clone().hour(0).minute(0).second(0).isAfter(s)&&(u=' disabled="disabled" class="disabled"'),e+=a.hour()>=12?'<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+u+">PM</option>":'<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+u+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,a={top:0,left:0},i=e(window).width();if(this.parentEl.is("body")||(a={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-a.top:this.element.offset().top+this.element.outerHeight()-a.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens)this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9});else if("center"==this.opens)this.container.css({top:t,left:this.element.offset().left-a.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9});else{var a=navigator.userAgent.indexOf("MSIE 10")!==-1?0:this.parentEl.offset().top;this.container.css({top:this.element.offset().top+this.element.outerHeight()-a,right:this.container.outerWidth()-260+"px"}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0})}},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy(function(t){this.outsideClick(t)},this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var a=e(t.target);"focusin"==t.type||a.closest(this.element).length||a.closest(this.container).length||a.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var a=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(a[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(a[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var a=this.ranges[e];this.startDate=a[0],this.endDate=a[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){var a=e(t.target).parents(".calendar");a.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){var a=e(t.target).parents(".calendar");a.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var a=e(t.target).attr("data-title"),i=a.substr(1,1),s=a.substr(3,1),n=e(t.target).parents(".calendar"),r=n.hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(r.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(r.format(this.locale.format));var o=this.leftCalendar,l=this.rightCalendar,h=this.startDate;this.endDate||this.container.find(".calendar td").each(function(t,a){if(!e(a).hasClass("week")){var i=e(a).attr("data-title"),s=i.substr(1,1),n=i.substr(3,1),d=e(a).parents(".calendar"),c=d.hasClass("left")?o.calendar[s][n]:l.calendar[s][n];c.isAfter(h)&&c.isBefore(r)||c.isSame(r,"day")?e(a).addClass("in-range"):e(a).removeClass("in-range")}})}},clickDate:function(t){if(e(t.target).hasClass("available")){var a=e(t.target).attr("data-title"),i=a.substr(1,1),s=a.substr(3,1),n=e(t.target).parents(".calendar"),r=n.hasClass("left")?this.leftCalendar.calendar[i][s]:this.rightCalendar.calendar[i][s];if(this.endDate||r.isBefore(this.startDate,"day")){if(this.timePicker){var o=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0)}var h=parseInt(this.container.find(".left .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;r=r.clone().hour(o).minute(h).second(d)}this.endDate=null,this.setStartDate(r.clone())}else if(!this.endDate&&r.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var o=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0)}var h=parseInt(this.container.find(".right .minuteselect").val(),10),d=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;r=r.clone().hour(o).minute(h).second(d)}this.setEndDate(r.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var a in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[a][0])&&this.endDate.isSame(this.ranges[a][1])){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[a][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[a][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}e++}t&&this.showCustomRangeLabel&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var a=e(t.target).closest(".calendar").hasClass("left"),i=a?"left":"right",s=this.container.find(".calendar."+i),n=parseInt(s.find(".monthselect").val(),10),r=s.find(".yearselect").val();a||(r<this.startDate.year()||r==this.startDate.year()&&n<this.startDate.month())&&(n=this.startDate.month(),r=this.startDate.year()),this.minDate&&(r<this.minDate.year()||r==this.minDate.year()&&n<this.minDate.month())&&(n=this.minDate.month(),r=this.minDate.year()),this.maxDate&&(r>this.maxDate.year()||r==this.maxDate.year()&&n>this.maxDate.month())&&(n=this.maxDate.month(),r=this.maxDate.year()),a?(this.leftCalendar.month.month(n).year(r),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(n).year(r),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var a=e(t.target).closest(".calendar"),i=a.hasClass("left"),s=parseInt(a.find(".hourselect").val(),10),n=parseInt(a.find(".minuteselect").val(),10),r=this.timePickerSeconds?parseInt(a.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){
var o=a.find(".ampmselect").val();"PM"===o&&s<12&&(s+=12),"AM"===o&&12===s&&(s=0)}if(i){var l=this.startDate.clone();l.hour(s),l.minute(n),l.second(r),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var h=this.endDate.clone();h.hour(s),h.minute(n),h.second(r),this.setEndDate(h)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(a){var i=e(a.target).closest(".calendar").hasClass("right"),s=t(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),n=t(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);s.isValid()&&n.isValid()&&(i&&n.isBefore(s)&&(s=n.clone()),this.setStartDate(s),this.setEndDate(n),i?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),e(t.target).addClass("active");var a=e(t.target).closest(".calendar").hasClass("right");a&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(e){if(!this.endDate){var a=this.container.find('input[name="daterangepicker_end"]').val(),i=t(a,this.locale.format);i.isValid()&&(this.setEndDate(i),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var e=this.element.val().split(this.locale.separator),a=null,i=null;2===e.length&&(a=t(e[0],this.locale.format),i=t(e[1],this.locale.format)),(this.singleDatePicker||null===a||null===i)&&(a=t(this.element.val(),this.locale.format),i=a),a.isValid()&&i.isValid()&&(this.setStartDate(a),this.setEndDate(i),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,i){return this.each(function(){var s=e(this);s.data("daterangepicker")&&s.data("daterangepicker").remove(),s.data("daterangepicker",new a(s,t,i))}),this},a})}),require.register("daterange-picker/template",function(t,e,a){a.exports='<div class="date-picker-wrapper"><div class="calendar date-picker-field" data-bind="click: $data.openCalendar"><span class="calendar-icon"></span> <input class="form-control" type="text"><!-- ko if: type === \'betHistory\' --> <span class="dropdown-arrow"></span><!-- /ko --><!-- ko if: type === \'results\' --> <span class="form-control-text" data-bind="\n                    css: { \'form-control-text-highlight\': isInputFiledActive },\n                    text: datePickerText"></span><!--  /ko --><div class="date-values"><span class="start-date-value"></span> <span class="date-separator" data-bind="visible: isDateSeparatorVisible"></span> <span class="end-date-value"></span></div></div></div>'}),require.register("daterange-picker/index",function(t,e,a){var i=t("./template"),s=t("./view-model"),n="daterange-picker",r={viewModel:s,template:i};e.init=function(){ko.components.register(n,r)}}),require.register("daterange-picker/view-model",function(t,e,a){function i(t){var e=this;e.type=t.type,e.isBetHistory="betHistory"===e.type,e.isResults="results"===e.type,e.startDate=moment().startOf("day"),e.endDate=moment().startOf("day"),e.isDateSeparatorVisible=ko.observable(!1),e.isShowButtonActive=ko.observable(!1),e.isInputFiledActive=ko.observable(!1),e.showButtonText=s.t("general.show"),e.datePickerText=s.t("datepicker.input.message"),e.dateFilterToday=s.t("bet.history.date.filter.today"),e.dateFilterLast7Days=s.t("bet.history.date.filter.week"),e.dateFilterLast30Days=s.t("bet.history.date.filter.month");var a=document.querySelector(".form-control-text"),i=document.querySelector(".start-date-value"),n=document.querySelector(".end-date-value"),r=document.querySelector(".date-separator");e.isBetHistory&&(i.textContent=e.startDate.format("DD MMM"),n.textContent=e.endDate.format("DD MMM"),i.classList.add("selected"),n.classList.add("selected"),e.isDateSeparatorVisible(!0),r.classList.add("range-selected"));var o='<div class="daterangepicker dropdown-menu"><div class="daterange-filter"><span class="daterange-filter__today">'+e.dateFilterToday+'</span><span class="daterange-filter__last7Days">'+e.dateFilterLast7Days+'</span><span class="daterange-filter__last30Days">'+e.dateFilterLast30Days+'</span></div><div class="calendar left"><div class="calendar-table"></div></div><div class="calendar right"><div class="calendar-table"></div></div></div>',l=moment().subtract(3,"months"),h=moment().subtract(29,"days"),d=s.value().toLowerCase().substr(0,2);"sv"===d?moment.locale("sv"):"de"===d?moment.locale("de"):moment.locale("en"),$(".form-control").daterangepicker({maxDate:moment().format("DD MMM"),minDate:e.isBetHistory?l:h,autoUpdateInput:!1,opens:e.isBetHistory?"left":"right",template:o,locale:{format:"DD MMM",monthNames:moment.months()}});var c=$(".form-control").data().daterangepicker;e.openCalendar=function(){c.show(),$(".selected")&&$(".selected").removeClass("selected"),a&&e.isInputFiledActive(!0)},$(".daterange-filter__today").on("click",function(){e.startDate=moment().startOf("day"),e.endDate=moment().endOf("day"),e.updateStartAndEndDates(e.startDate,e.endDate),$("td.start-date").addClass("singleDate")}),$(".daterange-filter__last7Days").on("click",function(){e.startDate=moment().subtract(6,"days"),e.endDate=moment().endOf("day"),e.updateStartAndEndDates(e.startDate,e.endDate),e.changeStartAndEndDateStyle()}),$(".daterange-filter__last30Days").on("click",function(){e.startDate=moment().subtract(29,"days"),e.endDate=c.maxDate,e.updateStartAndEndDates(e.startDate,e.endDate),e.changeStartAndEndDateStyle()}),e.changeStartAndEndDateStyle=function(){$("td.start-date").addClass("range-selected"),$("td.end-date").addClass("range-selected")},e.updateStartAndEndDates=function(t,a){e.updateInputField(t,a),e.updateCalendarView(t,a)},e.updateInputField=function(t,s){a&&a.classList.add("dn"),i.textContent=t.format("DD MMM"),n.textContent=s.format("DD MMM"),i.classList.add("selected"),n.classList.add("selected"),e.isDateSeparatorVisible(!0),r.classList.add("range-selected")},e.updateCalendarView=function(e,a){c.startDate=e.clone(),c.endDate=a.clone(),c.updateView(),t.callback(c.startDate,c.endDate)},$(".calendar").on("mousedown.daterangepicker","td.available",function(){$(".selected")&&$(".selected").removeClass("selected"),a&&a.classList.add("dn"),c.endDate&&!e.compareDates(c.endDate,c.startDate)?(i.textContent=c.startDate.format("DD MMM"),n.textContent=c.endDate.format("DD MMM"),i.classList.add("selected"),n.classList.add("selected"),e.endDate=c.endDate.clone(),r.classList.add("range-selected"),e.changeStartAndEndDateStyle()):(i.textContent=c.startDate.format("DD MMM"),n.textContent=c.startDate.format("DD MMM"),i.classList.add("selected"),e.startDate=c.startDate.clone(),e.isDateSeparatorVisible(!0),r.classList.remove("range-selected"),e.endDate=c.startDate.clone(),$(".calendar").on("mouseenter.daterangepicker","td.available",function(t){if(!c.endDate){var e=$(t.target).attr("data-title"),a=e.substr(1,1),i=e.substr(3,1),s=$(t.target).parents(".calendar"),r=s.hasClass("left")?c.leftCalendar.calendar[a][i]:c.rightCalendar.calendar[a][i];n.textContent=r.format("DD MMM")}}),$(".calendar").on("mouseleave.daterangepicker","td.available",function(){c.endDate||($(".calendar td").each(function(t,e){$(e).removeClass("in-range")}),n.textContent=c.startDate.format("DD MMM"))})),t.callback(e.startDate,e.endDate)}),$(".calendar").on("outsideClick.daterangepicker","",function(){e.outsideClicked()}),e.outsideClicked=function(){i.classList.add("selected"),n.classList.add("selected"),r.classList.add("range-selected"),c.startDate=e.startDate.clone(),c.endDate=e.endDate.clone()},e.compareDates=function(t,e){var a=moment(t,"DD MMM"),i=moment(e,"DD MMM");return moment(a).isSame(i)}}t("./daterangepicker");var s=t("locale");a.exports=i}),window.cogwheels.addGear({name:"daterange-picker",version:"0.0.1",prio:500});
require.register("hero-mvp/controller",function(e,n,t){var r=e("utils/debug"),o=r("hero-mvp/controller"),a={setup:function(e,n){o("%csetup(%o, %o)","font-weight:bold",e,n),this.settings(e||{}),this.banners(n||[]),this.onSetup(this.enabled)},reset:function(){o("%creset()","font-weight:bold"),this.setup()}};t.exports=function(e,n,t){o("%ccontroller(%o, %o)","font-weight:bold",e,n);var r=Object.create(a,{key:{configurable:!1,enumerable:!0,get:function(){return ko.unwrap(e)}},page:{configurable:!1,enumerable:!0,get:function(){return o("%cpage(%s)","font-weight:bold",n),n}},settings:{writable:!1,configurable:!1,enumerable:!0,value:ko.observable({})},banners:{writable:!1,configurable:!1,enumerable:!0,value:ko.observableArray()},enabled:{configurable:!1,enumerable:!1,get:function(){var e=ko.unwrap(this.settings)[this.key]||ko.unwrap(this.banners).length>0;return o("%cenabled(%s)","font-weight:bold",e),e}},onSetup:{configurable:!1,enumerable:!1,get:function(){return"function"==typeof t?t:function(){}}},aemEnabled:{configurable:!1,enumerable:!1,get:function(){var e=ko.unwrap(this.settings)[this.key];return o("%caem enabled(%s)","font-weight:bold",e),e}}});return r}}),require.register("hero-mvp/template-mvp",function(e,n,t){t.exports='<div data-t-position="promo-slider" data-bind="css: classNames"><banner-slider params="banners: banners, rotationPeriod: rotationPeriod(), pager: true, onClick: bannerOnClick"></banner-slider></div>'}),require.register("hero-mvp/index",function(e,n,t){var r=e("./view-model"),o=e("domain-model/models/heroMvpViewModel"),a=e("./template"),i=e("./template-mvp"),s=e("utils/debug"),l=s("hero-mvp");t.exports.init=function(){l("initialize..."),ko.components.isRegistered("empty")||ko.components.register("empty",{template:"<div></div>"}),ko.components.register("banner-carousel",{viewModel:r,template:a}),ko.components.register("legacy-banners",{viewModel:o,template:i})}}),require.register("hero-mvp/template",function(e,n,t){t.exports='<div data-bind="component: component"></div>'}),require.register("hero-mvp/view-model",function(e,n,t){var r=e("gear-disposable-mixin"),o=e("utils/debug"),a=o("hero-mvp/view-model"),i={init:function(e){a("%cBanners Carousel(%o)","color:#006600;font-weight:bold",e),this.component=this.toDispose(ko.computed(function(){var n=ko.unwrap(e.settings),t=ko.unwrap(e.banners),r=ko.unwrap(e.key),o=ko.unwrap(e.page);return n&&n[r]?(a("aem carousel"),{name:"aem-carousel",params:{domain:n.aemDomain||"",page:o}}):Array.isArray(t)&&t.length>0?(a("legacy carousel"),{name:"legacy-banners",params:{banners:t,delay:n.delay||0}}):(a("no carousel available"),{name:"empty"})},this))}};t.exports=function(e){var n=Object.create(i);return r.mixin(n),n.init(e.data),a("create view model (%o)",e),n}}),window.cogwheels.addGear({name:"hero-mvp",version:"0.0.1"});
require.register("promotions/index",function(t,o,i){var e=["promotion-list-item"];o.controllers=e.map(function(o){return t("./components/"+o+"/controller")})}),require.register("promotions/components/promotion-list-item/template",function(t,o,i){i.exports='<img src="" data-bind="attr: { src: img }"><div class="description-box" data-bind="style: { \'background-color\' : color}"><div class="promotion-content-grid"><h2 class="title" data-bind="text: title"></h2><hr><p class="description" data-bind="html: descriptionShort"></p></div><div class="buttons-promo"><a class="button dark" data-bind="href: url, text: $root.locale.t(tcButtonText)"></a><!-- ko if: openNewWindow --> <a class="button" data-bind="text: $root.locale.t(claimButtonText), popupLink: { url: claimUrl, type: \'popup\',\n                              options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'1024\', height: \'768\' }}"></a><!-- /ko --><!-- ko ifnot: openNewWindow --> <a class="button" data-bind="href: claimUrl, text: $root.locale.t(claimButtonText)"></a><!-- /ko --></div></div>'}),require.register("promotions/components/promotion-list-item/controller",function(t,o,i){var e="promotion-list-item",n={viewModel:t("./view-model"),template:t("./template")};o.init=function(){ko.components.register(e,n)}}),require.register("promotions/components/promotion-list-item/view-model",function(t,o,i){function e(t){var o=t.promotion;this.img=o.img,this.color=o.rgba,this.title=o.title,this.descriptionShort=o.descriptionShort,this.tcButtonText=o.tcButtonText,this.url=o.url,this.openNewWindow=o.openNewWindow,this.claimButtonText=o.claimButtonText,this.claimUrl=o.claimUrl}i.exports=e}),window.cogwheels.addGear({name:"promotions",version:"0.0.1"});
require.register("my-bet/index",function(t,e,s){e.betHistoryService=t("./my-bets-service")}),require.register("my-bet/my-bets-service",function(t,e,s){function i(t,e){var s=[];t.historyBets.forEach(function(t){s.push(new r(t))});var i=null;t.pageToken&&(i=t.pageToken);var a=t.containsCashOutBets;e.onSuccess(s,i,a)}function a(t,e){var s="/my-bets/"+t,i=u.value();return i&&(s="/"+i+s),s+="?full=true",null!==e&&(s+="&page="+encodeURIComponent(e)),s}var r=t("./entities/my-bet"),u=t("locale");e.getBets=function(t,e,s){var r=a(t,e);$.getJSON(r).done(function(t){"SUCCESS"===t.result.status?i(t,s):s.onError(t)})}}),require.register("my-bet/entities/my-bet",function(t,e,s){function i(t){this.id=t.betId,this.type=t.betType,this.stake=t.totalStake||"N/A",this.dateTime=this.parseDateTime(t.date,t.time),this.selections=t.legs,this.isSettled=t.settled,this.isCashedOut=t.cashedOut,this.cashOut=t.cashOut,this.legType=t.legTypeCode,this.betGroupId=t.betGroupId,this.betGroupType=t.betGroupType,this.betTypeCode=t.betTypeCode,this.betTypeName=t.legs?t.legs[0].typeName:"",this.numberOfLines=t.numberOfLines,this.boosted=t.boosted,this.status,this.getPotentialReturns=function(){return"bet.history.result.lost"===t.betStatus?"0.00":t.winnings||t.potentialReturn||t.refunds},this.getBetStatus(t)}var a=t("locale");i.prototype={isEw:function(){return"E"===this.legType},parseDateTime:function(t,e){var s=new Date,i=new Date(t),r=s.getDate()===i.getDate()&&s.getMonth()===i.getMonth()&&s.getFullYear()===i.getFullYear();return r&&a.value().indexOf("en")>-1?e:t.split(" ").slice(0,2).join(" ")},getBetStatus:function(t){var e=t.betStatus;switch(e){case"bet.history.result.settled":this.status="mybets.bet.status.won";break;case"bet.history.result.void":this.status="mybets.bet.status.void";break;case"bet.history.result.cashout":this.status="mybets.bet.status.cashedout";break;case"bet.history.result.lost":this.status="mybets.bet.status.lost";break;case"bet.history.result.unsettled":this.status="mybets.bet.status.open";break;default:this.status=e.replace("bet.history.result","mybets.bet.status")}}},s.exports=i}),window.cogwheels.addGear({name:"my-bet",version:"0.0.1"});
require.register("configurable-list/index",function(e,t,i){t.init=function(){ko.components.register("configurable-list",{viewModel:e("./view-model"),template:e("./template")})}}),require.register("configurable-list/template",function(e,t,i){i.exports='<!-- ko if: content.length > 0 --><div class="configurable-list-container"><div class="list-header" data-bind="click: toggle"><div class="icon-arrow" data-bind="css: { expand: !showContent() }"></div><div class="list-header-title" data-bind="text: title"></div></div><!-- ko if: showContent --><!-- ko foreach: content --><!-- ko template: { name: \'configurable-list/templates/\' + $parent.template } --><!-- /ko --><!-- /ko --><!-- /ko --></div><!-- /ko -->'}),require.register("configurable-list/view-model",function(e,t,i){var n=e("message-bus"),o=function(e){var t=this;t.title=e.title,t.template=e.template,t.content=ko.unwrap(e.content)||[],t.showContent=ko.observable(!0)};o.prototype={toggle:function(e,t){this.showContent(!this.showContent());var i={};i.expanded=this.showContent()?"Expand":"Collapse",i.action=e.title,i.target=t.target,n.publish("track:collapse-expand",i)}},i.exports=o}),require.register("configurable-list/templates/numbered-row",function(e,t,i){i.exports='<div class="numbered-row"><div class="numbered-row-content"><div class="numbered-row-content-number" data-bind="text: $index() + 1"></div><div class="numbered-row-content-description" data-bind="html: description"></div></div><div class="numbered-row-divider" data-bind="visible: $index() + 1 < $parent.content.length"></div></div>'}),require.register("configurable-list/templates/titled-row",function(e,t,i){i.exports='<div class="titled-row"><div class="titled-row-title" data-bind="html: title"></div><div class="titled-row-description" data-bind="html: description"></div></div>'}),window.cogwheels.addGear({name:"configurable-list",version:"0.0.1"});
require.register("eventGroupComponent/index",function(e,t,a){t.init=function(){ko.components.register("event-group",{viewModel:e("./view-model"),template:e("./template")})}}),require.register("eventGroupComponent/race-event",function(e,t,a){a.exports='<div class="event" data-bind="with: event"><header class="event-header" data-bind="attr: { class: \'event-header \' + sport.nameRaw }"><a data-bind="href: href"><!-- ko if: $root.titleMap && $root.titleMap[id] --><span class="id" data-bind="text: $root.titleMap[id]"></span><!-- /ko --><!-- ko ifnot: $root.titleMap && $root.titleMap[id] --> <span class="class" data-bind="text: $parent.className"></span> <span class="name" data-bind="html: name"></span><!-- /ko --><!-- ko if: $parent.isFestival --> <span data-bind="text: festivalDataMap[id]"></span><!-- /ko --><div class="more" data-bind="text: marketCount() + \' \' + $parent.locale.t(\'generic.more.more\')"></div></a></header><div class="market-container"><!-- ko if: mainMarket && mainMarket.selections().length --><!-- ko foreach: { data: $parent.getSortedSelections(mainMarket.selections()), as: \'selection\' } --><div class="selection"><img data-bind="attr: { src: $parents[1].silkUrl(selection) }" class="race-event-silk"><div class="selection-name" data-bind="text: selection.getTitle"></div><selection-button params="selection: selection, event: $parents[2], captionAbove: true, live: $root.inplayNow"></selection-button></div><!-- /ko --><!-- /ko --></div></div>'}),require.register("eventGroupComponent/view-model",function(e,t,a){var n=e("domain-model/helper"),s=e("locale"),i=e("message-bus"),o=e("pages/cmsData"),r=function(e){this.event=e.event,this.silkUrls=ko.unwrap(e.silkUrls||{}),this.isFestival=e.isFestival,this.tournament=e.tournament,this.titleMap=e.titleMap,this.festivalDataMap=e.festivalDataMap,this.locale=s,this.dateTime=ko.pureComputed(r.prototype.dateTimeCalc,this),this.className=r.prototype.getClassName(this.event.sportsBookClass,this.event.sportsBookType),this.teamBanners=ko.observableArray([]),this.getSpecialBannersList(),i.publish("event-group:activated")};r.prototype={dateTimeCalc:function(){if(this.event.inplayNow()&&this.event.inplay()){var e=parseInt(this.event.inplay().timeElapsedString),t=this.event.sport.nameRaw,a=!!t&&"football"===t.toLowerCase();if((a||e)&&!isNaN(e))return e+" "+s.t("generic.minutesShort")}return new moment(this.event.startTime()).format("D MMM HH:mm")},silkUrl:function(e){var t="/img/generic/icons/silk.png",a="",s=this.silkUrls;return e&&s&&s[n.cleanPropertyName(e.name)]&&(a=s[n.cleanPropertyName(e.name)]),t=a?a:t},getSortedSelections:function(e){return e.sort(n.byOddsSortFunction(!0))},getClassName:function(e,t){var a=n.getTranslations(e.nameTranslations,[e.nameRaw]),s=n.getTranslations(t.nameTranslations,[t.nameRaw]);return s&&s!==a&&!e.accomodated?a+" - "+s:s},getSpecialBannersList:function(){var e=this;o(["tournament.teamBanners"]).done(function(t){t["tournament.teamBanners"]&&e.teamBanners(t["tournament.teamBanners"])})},bannerClass:function(e){for(var t=0;t<this.teamBanners().length;t++)if(e.id===this.teamBanners()[t].eventId)return"event-header euros "+this.teamBanners()[t].bannerIcon+"-banner";return e.href.indexOf("/euro-2016/")>0||e.href.indexOf("/fotbolls-em-2016/")>0?"event-header euros euros-outrights":"event-header "+e.sport.className},dispose:function(){this.dateTime.dispose()}},a.exports=r}),require.register("eventGroupComponent/sport-event",function(e,t,a){a.exports='<div class="event" data-bind="with: event"><header class="event-header" data-bind="attr: { class: $parent.bannerClass($data)}"><a data-bind="href: href"><div class="class"><span data-bind="html: $parent.className"></span></div><div class="name"><span data-bind="html: name"></span></div><div class="datetime"><span data-bind="html: $parent.dateTime"></span></div><div class="more" data-bind="text: marketCount() + \' \' + $parent.locale.t(\'generic.more.more\')"></div></a></header><!-- ko foreach: { data: marketsOrMainMarket, as: \'market\' } --><!-- ko if: $index() < $parents[3].numberOfMarkets --><div class="market-container"><header class="market-name" data-bind="text: market.name"></header><!-- ko if: $parents[3].numberOfSelections > 3 --><!-- ko foreach: { data: market.selections, as: \'selection\' } --><!-- ko if: $index() < $parents[4].numberOfSelections --><div class="selection"><!-- ko if: $parents.length > 6 && $parents[6].selectionClass --><div data-bind="attr: { class: $parents[6].selectionClass($data)}"></div><!-- /ko --><div class="selection-name" data-bind="text: selection.getTitle"></div><selection-button params="selection: selection, event: $parents[2], captionAbove: true, live: $root.inplayNow"></selection-button></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko if: $parents[3].numberOfSelections < 4 --><!-- ko foreach: { data: market.selections, as: \'selection\' } --><!-- ko if: $index() < $parents[4].numberOfSelections --><div class="selection"><!-- ko if: $parents.length > 6 && $parents[6].selectionClass --><div data-bind="attr: { class: $parents[6].selectionClass($data)}"></div><!-- /ko --><div class="selection-name" data-bind="text: selection.getTitle"></div><selection-button params="selection: selection, event: $parents[2], captionAbove: true, live: $root.inplayNow"></selection-button></div><!-- /ko --><!-- /ko --><!-- /ko --></div><!-- /ko --><!-- /ko --></div>'}),require.register("eventGroupComponent/template",function(e,t,a){a.exports="<!-- ko if: ko.unwrap(event).sport && ko.unwrap(event).sport.nameRaw === 'Horse Racing' --><!-- ko template: { name: 'eventGroupComponent/race-event' } --><!-- /ko --><!-- /ko --><!-- ko ifnot: ko.unwrap(event).sport && ko.unwrap(event).sport.nameRaw === 'Horse Racing' --><!-- ko template: { name: 'eventGroupComponent/sport-event' } --><!-- /ko --><!-- /ko -->"}),window.cogwheels.addGear({name:"eventGroupComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("eventGroupSimpleComponent/date-group",function(e,t,o){var n=e("message-bus"),s=e("gear-disposable-mixin"),i=function(e){s.mixin(this),this.header=e.header,this.allEvents=e.eventList,this.eventList=ko.observableArray(e.eventList),this.expanded=ko.observable(e.expanded),this.showMoreDateGroup=ko.observable(!1),this.limitToEnableShowMore=5,this.lazyRenderButtonForDateGroup=e.lazyRenderButtonForDateGroup&&e.eventList.length>this.limitToEnableShowMore,this.eventListContainer,this.extraElementsInsideContainer=2,this.toggleShowMoreDateGroup=this.toggleShowMoreDateGroup.bind(this),this.boundToggleExpanded=this.toggleExpanded.bind(this),this.renderMoreItems=this.renderMoreItems.bind(this),this.limitItems=this.limitItems.bind(this),this.toDispose(ko.computed(function(){this.lazyRenderButtonForDateGroup&&(this.showMoreDateGroup()?this.renderMoreItems():this.limitItems())},this).extend({throttle:1}))};i.prototype={updateList:function(e){this.eventList.shallowUpdateArray(e,"id")},toggleShowMoreDateGroup:function(e,t){this.showMoreDateGroup(!this.showMoreDateGroup()),this.eventListContainer=t.delegateTarget.parentNode.parentElement.parentElement},limitItems:function(){var e=this.eventListContainer,t=this.extraElementsInsideContainer;e&&e.childElementCount-t!==this.limitToEnableShowMore?this.eventList(this.eventList.slice(0,this.limitToEnableShowMore)):e||this.eventList(this.eventList.slice(0,this.limitToEnableShowMore))},renderMoreItems:function(){if(this.showMoreDateGroup()){var e=ko.unwrap(this.allEvents),t=this.eventList?this.eventList():this.allEvents,o=1;t&&t.length<e.length&&(e=e.slice(0,t.length+o)),this.eventListContainer.childElementCount-this.extraElementsInsideContainer<this.allEvents.length&&this.eventList(e)}},toggleExpanded:function(e,t){var o={};this.expanded(!this.expanded()),o.target=t.target,o.expanded=this.expanded()?"Expand Date":"Collapse Date",o.target&&(o.action=o.target.innerText,o.action&&o.action.indexOf("\n")>-1&&(o.action=o.action.substring(0,o.action.indexOf("\n")))),n.publish("track:collapse-expand",o)}},o.exports=i}),require.register("eventGroupSimpleComponent/template",function(e,t,o){o.exports='<!-- ko if: eventListItems().length > 0 || eventDateList().length > 0 || showIfEmpty --><!-- ko if: showHeader --><h2 class="expand-list" data-bind="click: toggleExpanded, css: { expanded: expanded }"><div class="icon-arrow small-expand"></div><div class="title" data-bind="text: title()"></div><!-- ko if: expanded --><!-- ko foreach: { data: topMarketNames, as: \'marketName\' } --><button class="button" data-bind="text: $parent.locale.t(marketName), click: $parent.onSetTopMarketKeyClick, css: { active: marketName === $parent.topMarketKey() }"></button><!-- /ko --><!-- /ko --></h2><!-- /ko --><!-- ko if: expanded --><div class="event-group"><!-- ko if: showDateHeaders --><!-- ko if: eventDateList().length === 0 --><div class="no-events" data-bind="text: locale.t(\'content.sport.no_events_available\')"></div><!-- /ko --><!-- ko foreach: eventDateList --><div><h2 class="expand-list event-list-date-header" data-bind="click: boundToggleExpanded, css: { expanded: expanded }"><div class="icon-arrow small-expand"></div><div class="title" data-bind="text: header"></div></h2><!-- ko if: expanded --><!-- ko foreach: { data: eventList, afterRender: renderMoreItems } --><event-list params="\n                                    event: $data.event,\n                                    eventListItem: $data,\n                                    topMarketKey: $parents[1].topMarketKey,\n                                    showDate: $parents[1].showDateHeaders,\n                                    narrow: !$parents[1].showSelections"></event-list><!-- /ko --><!-- ko if: lazyRenderButtonForDateGroup --><div class="show-more"><div class="show-more-link"><div data-bind="click: toggleShowMoreDateGroup"><!-- ko ifnot: showMoreDateGroup --><span data-bind="text: $root.locale.t(\'js.score.button.more\')"></span><div class="arrow arrow-more"></div><!-- /ko --><!-- ko if: showMoreDateGroup --><span data-bind="text: $root.locale.t(\'js.score.button.less\')"></span><div class="arrow arrow-less"></div><!-- /ko --></div></div></div><!-- /ko --><!-- /ko --></div><!-- /ko --><!-- /ko --><!-- ko ifnot: showDateHeaders --><!-- ko if: eventListItems().length === 0 --><div class="no-events" data-bind="text: locale.t(\'content.sport.no_events_available\')"></div><!-- /ko --><!-- ko foreach: { data: eventListItems, afterRender: renderMoreItems } --><event-list params="\n                        event: $data.event,\n                        eventListItem: $data,\n                        topMarketKey: $parent.topMarketKey,\n                        showDate: $parent.showDateHeaders,\n                        narrow: !$parent.showSelections"></event-list><!-- /ko --><!-- /ko --></div><!-- /ko --><!-- ko if: showMoreButton && numberOfMoreEvents() && expanded() --><div class="show-more"><div class="show-more-link"><div data-bind="click: toggleShowMore"><!-- ko ifnot: showMore --><span data-bind="text: $root.locale.t(\'js.score.button.more\')"></span><div class="arrow arrow-more"></div><!-- /ko --><!-- ko if: showMore --><span data-bind="text: $root.locale.t(\'js.score.button.less\')"></span><div class="arrow arrow-less"></div><!-- /ko --></div></div></div><!-- /ko --><!-- /ko -->'}),require.register("eventGroupSimpleComponent/index",function(e,t,o){t.init=function(){ko.components.register("event-group-simple",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("eventGroupSimpleComponent/view-model",function(e,t,o){var n=e("locale"),s=e("./date-group"),i=e("message-bus"),r=function(e){this.eventGroup=e.eventGroup,this.showHeader=!e.hasOwnProperty("showHeader")||ko.unwrap(e.showHeader),this.showNumberOfEvents=e.showNumberOfEvents||0,this.showEventCounter=e.showEventCounter||!1,this.showDateHeaders=e.showDateHeaders||!1,this.showSelections=!e.hasOwnProperty("showSelections")||ko.unwrap(e.showSelections),this.showMoreButton=!!e.hasOwnProperty("showMoreButton")&&ko.unwrap(e.showMoreButton),this.lazyRenderButtonForDateGroup=!!e.hasOwnProperty("lazyRenderButtonForDateGroup")&&ko.unwrap(e.lazyRenderButtonForDateGroup),this.locale=n,this.showIfEmpty=e.showIfEmpty||!1,this.ignoreLimit=e.ignoreLimit||!1,this.lazyShowMore=e.lazyShowMore||!1,this.expanded=ko.observable(e.hasOwnProperty("startExpanded")?ko.unwrap(e.startExpanded):ko.unwrap(this.eventGroup).showExpanded),this.showMore=ko.observable(!1),this.topMarketKey=ko.observable("football.market.filter.main"),this.eventDateList=ko.observableArray([]),this.eventListItems=ko.observableArray([]),this.dateEvents={},this.eventGroupElement,this.onSetTopMarketKeyClick=function(e,t){var o=t?t.target.innerText:null;this.topMarketKey()!==e&&i.publish("track:filter",{action:o,element:t?t.target:null}),this.topMarketKey(e),t.stopPropagation()}.bind(this),this.topMarketNames=ko.pureComputed(r.prototype.topMarketNames,this),this.limit=ko.pureComputed(r.prototype.limit,this),this.title=ko.pureComputed(r.prototype.title,this),this.eventListItemsUpdater=ko.computed(r.prototype.eventListItemsUpdater,this).extend({throttle:1}),this.moreHref=ko.pureComputed(r.prototype.moreHref,this),this.numberOfMoreEvents=ko.pureComputed(r.prototype.numberOfMoreEvents,this),this.moreTitle=ko.pureComputed(r.prototype.moreTitle,this),this.renderMoreItems=this.renderMoreItems.bind(this),this.toggleShowMore=this.toggleShowMore.bind(this),this.toggleExpanded=this.toggleExpanded.bind(this)};r.prototype={getDateHeaderTitle:function(e){var t="",o=new moment(ko.unwrap(e));return o.format("YYYY-MM-DD")===(new moment).format("YYYY-MM-DD")&&(t=n.t("general.today")+" - "),t+o.format("Do MMM")},toggleExpanded:function(e,t){var o={};this.expanded(!this.expanded()),o.target=t.target,o.expanded=this.expanded()?"Expand":"Collapse",o.target&&(o.action=o.target.innerText,o.action&&o.action.indexOf("\n")>-1&&(o.action=o.action.substring(0,o.action.indexOf("\n")))),i.publish("track:collapse-expand",o)},isNewDate:function(e,t){if(0===t)return!0;var o=moment(e[t].event.startTime()).format("YYYY-MM-DD"),n=moment(e[t-1].event.startTime()).format("YYYY-MM-DD");return o!==n},topMarketNames:function(){var e=ko.unwrap(this.eventGroup);return null!==e.topMarketNames?e.topMarketNames:[]},limit:function(){var e=ko.unwrap(this.eventGroup),t=ko.unwrap(e.list).length;return!this.ignoreLimit&&e.hasOwnProperty("maximumNumberOfEventsToShow")&&e.maximumNumberOfEventsToShow&&(t=Math.min(e.maximumNumberOfEventsToShow,t)),!this.ignoreLimit&&this.showNumberOfEvents?Math.min(this.showNumberOfEvents,t):t},title:function(){var e=ko.unwrap(this.eventGroup),t=ko.unwrap(e.list),o=e.title;return this.showEventCounter&&t&&(o=o+" ("+t.length+")"),o},renderMoreItems:function(){if(this.lazyShowMore&&this.showMore()){var e=1,t=ko.unwrap(this.eventGroup),o=ko.unwrap(t.list),n=this.eventListItems().length||o.length,s=this.eventGroupElement&&this.eventGroupElement.childElementCount;n<o.length&&(o=o.slice(0,n+e)),s!==o.length&&this.eventListItems(o)}},eventListItemsUpdater:function(){function e(){""!==d&&(i.dateEvents[d]?i.dateEvents[d].updateList(a):i.dateEvents[d]=new s({header:d,eventList:a,expanded:l,lazyRenderButtonForDateGroup:n}),l=h<=15||n,r.push(i.dateEvents[d]),a=[])}var t=ko.unwrap(this.eventGroup),o=ko.unwrap(t.list),n=this.lazyRenderButtonForDateGroup,i=this;if(this.limit()&&!this.showMore())this.eventListItems(o.slice(0,this.limit()));else{if(this.lazyShowMore)return void this.renderMoreItems();this.eventListItems(o)}if(i.showDateHeaders){var r=[],a=[],h=0,d="",p=0,l=!0;o.sort(function(e,t){var o;return"undefined"==typeof e.index()&&"undefined"==typeof t.index()?o=parseInt(moment(e.event.startTime()).format("x"))-parseInt(moment(t.event.startTime()).format("x")):parseInt(e.index())-parseInt(t.index())}),o.forEach(function(t,n){h=n,i.isNewDate(o,n)&&(p&&e(),p++,d=i.getDateHeaderTitle(t.event.startTime)),a.push(t)}),e(),this.eventDateList(r)}},moreHref:function(){var e=ko.unwrap(this.eventGroup),t=ko.unwrap(e.list);return t.length>0&&ko.unwrap(t[0].event)?"/betting/"+ko.unwrap(t[0].event).sport.id:""},numberOfMoreEvents:function(){var e=ko.unwrap(this.eventGroup),t=ko.unwrap(e.list);return Math.max(0,t.length-this.limit())},moreTitle:function(){return this.numberOfMoreEvents()>0?this.numberOfMoreEvents()+" "+n.t("generic.more.more"):""},toggleShowMore:function(e,t){this.showMore(!this.showMore()),this.eventGroupElement=t.delegateTarget.parentNode.parentNode.previousElementSibling},dispose:function(){this.topMarketNames.dispose(),this.limit.dispose(),this.title.dispose(),this.eventListItemsUpdater.dispose(),this.moreHref.dispose(),this.numberOfMoreEvents.dispose(),this.moreTitle.dispose()}},o.exports=r}),window.cogwheels.addGear({name:"eventGroupSimpleComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("festivalSingleComponent/index",function(e,t,s){t.init=function(){ko.components.register("festival-single",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("festivalSingleComponent/template",function(e,t,s){s.exports='<div><div class="index-next-races-wrapper"><div class="event"><header class="event-header Horse"><a data-bind="href: festivalCmsUrl"><span class="class" data-bind="text: festivalCmsTitle">Some Meeting</span> <span class="name" data-bind="text: festivalCmsName">Some Race</span> <span class="more" data-bind="translateHtml: \'generic.more.more\'">More</span></a></header><load-handler params="trigger: initialized, data: $data"><div class="index-next-race" data-t-position="event-module"><div><!-- ko template:{ name: \'festivalSingleComponent/templates/\'+ type() } --><!-- /ko --></div></div></load-handler></div><!-- ko if: showMoreButton() && !resulted() --><div class="show-more-festival"><div class="show-more-link"><div data-bind="click: toggleShowMore"><!-- ko ifnot: showMore --><span data-bind="translateHtml: \'js.score.button.more\'"></span><div class="arrow arrow-more"></div><!-- /ko --><!-- ko if: showMore --><span data-bind="translateHtml: \'js.score.button.less\'"></span><div class="arrow arrow-less"></div><!-- /ko --></div></div></div><!-- /ko --></div></div>'}),require.register("festivalSingleComponent/view-model",function(e,t,s){function i(e){var t=this;this.id=ko.unwrap(e.id),this.type=ko.observable("active"),this.initialized=ko.observable(null),this.showMore=ko.observable(!1),this.festivalCmsName=ko.observable("16:40 Grand National"),this.festivalCmsTitle=ko.observable("aintree"),this.festivalCmsUrl=ko.observable(""),this.festivalCmsSelectionLimit=ko.observable(5),this.resultsFromCMS=ko.observable(!1),this.resultsFromAPI=ko.observable(!1),this.raceResults=ko.observableArray(),this.showMoreButton=ko.pureComputed(function(){var e=!1;return t.initialized(),t.event&&t.event.mainMarket&&t.event.mainMarket.selections().length>t.festivalCmsSelectionLimit()&&(e=!0),e}),this.getSelections=ko.pureComputed(function(){var e=[];if(t.event&&t.event.mainMarket){var s=t.event.mainMarket.selections();e=t.showMore()?s:s.slice(0,t.festivalCmsSelectionLimit())}return e}),this.getResults=ko.pureComputed(function(){return t.raceResults&&t.raceResults().forEach(function(e){var t=p(e.nameTranslations);e.name=t.value||"",e.prices=e.prices.map(function(e){return new n(e)})}),t.raceResults}),this.loadCmsData(),this.raceSub=a.subscribe("races",ko.unwrap(e.id),this.updateFromRace.bind(this))}var a=e("repository"),r=e("domain-model/models/event"),n=e("domain-model/models/price"),o=e("pages/cmsData"),l=e("domain-model/helper"),d=e("locale"),c=e("message-bus"),p=e("translated-property"),u=e("domain-model/helpers/websocket-error-helper");i.prototype.dispose=function(){this.showMoreButton&&this.showMoreButton.dispose(),this.getSelections&&this.getSelections.dispose(),this.getResults&&this.getResults.dispose(),this.raceSub&&this.raceSub.dispose(),this.eventSub&&this.eventSub.dispose()},i.prototype.resulted=function(){return this.resultsFromCMS()||this.resultsFromAPI()},i.prototype.placeTranslationKey=function(e){var t="";switch(e){case 1:t="racing.results.horse.first";break;case 2:t="racing.results.horse.second";break;case 3:t="racing.results.horse.third";break;default:var s=d.t("racing.results.horse.x_th");t=s.replace("{}",e)}return t},i.prototype.toggleShowMore=function(e,t){this.showMore(!this.showMore());var s={};s.expanded=this.showMore()?"Expand":"Collapse",s.action=t.target.textContent,s.target=t.target,c.publish("track:collapse-expand",s)},i.prototype.getSilk=function(e){var t="/img/generic/icons/silk.png",s=l.cleanPropertyName(e);return this.runners&&this.runners.hasOwnProperty(s)&&this.runners[s]&&(t=this.runners[s]),t},i.prototype.loadCmsData=function(){var e=this;return o(["festival_single.index_module"]).done(function(t){try{if(t&&t["festivalSingle.indexModule"]){var s=t["festivalSingle.indexModule"];e.festivalCmsName(s.festivalCmsName),e.festivalCmsTitle(s.festivalCmsTitle),e.festivalCmsUrl(s.festivalCmsUrl),e.festivalCmsSelectionLimit(s.festivalCmsSelectionLimit)}}catch(i){}})},i.prototype.updateFromRace=function(e,t,s){e?e&&!u.objectNotFoundError(e)&&(this.eventSub=a.subscribe("events",this.id,this.updateFromEvent.bind(this))):(this.update(e,t,s,!1),this.eventSub&&this.eventSub.dispose())},i.prototype.updateFromEvent=function(e,t,s){e?e&&!u.objectNotFoundError(e):(t.markets&&t.markets.length>0&&(t.mainMarket=t.markets[0]),this.update(e,t,s,!0))},i.prototype.update=function(e,t,s,i){if(t){if(this.resultsFromAPI(t.resultsFromAPI||!1),this.resultsFromCMS(t.resultsFromCMS||!1),this.raceResults(t.raceResults||[]),this.event)this.event.update(i?t:t.race);else if(this.event=new r(i?t:t.race),t.raceExtra&&t.raceExtra.racePost){var a=t.raceExtra.racePost.runners;this.runners={};for(var n in a)a.hasOwnProperty(n)&&a[n]&&(this.runners[l.cleanPropertyName(n)]=a[n].absoluteSilkUrl)}this.resulted()?this.type("resulted"):this.type("active"),this.initialized(!0)}},s.exports=i}),require.register("festivalSingleComponent/templates/active",function(e,t,s){s.exports='<div class="index-next-race-participants"><!-- ko foreach: getSelections() --><div class="index-next-race-participant"><div class="index-festival-runner" data-bind="text: number != 0 ? number : \'\'"></div><silk params="id: number, name: name, url:$parent.getSilk(name)"></silk><div class="index-next-race-participant-name" data-bind="text: name"></div><!-- ko foreach: firstPrice --><selection-button params="price: $data,\n            caption: $data.name,\n            selection: $parent,\n            event: $parents[1], captionAbove: false, live: false"></selection-button><!-- /ko --></div><!-- /ko --></div>'}),require.register("festivalSingleComponent/templates/resulted",function(e,t,s){s.exports='<div class="index-next-race-participants"><!-- ko foreach: getResults() --><div class="index-next-race-participant" data-bind="css:{\'festival-result-off\': $index() % 2 == 1}"><span class="result"><span data-bind="translateText: $parent.placeTranslationKey(resultPlace)"></span></span><silk params="id: number, name: name, url:$parent.getSilk(name)"></silk><span class="index-next-race-participant-name" data-bind="text: name"></span><!-- ko if: prices.length > 0 && prices[prices.length-1] --> <span class="odds" data-bind="text: prices[prices.length-1].odds()"></span><!-- /ko --></div><!-- /ko --></div>'}),window.cogwheels.addGear({name:"festivalSingleComponent",version:"0.0.1"});
require.register("authentication/index",function(e,t,s){var i,o,a,n=e("./user"),r=e("message-bus"),l=e("utils/request"),u=e("web-storage-extender"),c=e("./ptauthentication"),d=e("locale"),h=e("utils/debug"),p=h("authentication"),g=(new Date).getTime(),m=function(e){var t=e.href;if(t){var s=l.post(t).set("X-Requested-With","XMLHttpRequest").set("Accept","application/json");e.data&&s.type(e.type||"json").send(e.data),s.end(function(t,s){if(t)throw t;200===s.status&&e.success?e.success(s):200!==s.status&&e.error&&e.error(s),e.response&&e.response(s)})}};t.user=n;var f=function(e){var t="/"+d.locale()+"/tokenlogin";e.errorCode?p("PT get temporary token failed, error:"+e.errorCode+", reason: "+e.errorText):(p("PT successfully got temporary token"),p("Sessiontoken : "+e.sessionToken.sessionToken),p("User : "+e.username),m({href:t,data:{username:e.username,sessiontoken:e.sessionToken.sessionToken},success:function(e){var t=e.body?e.body.errorCode:null;if(t)p("error submitting login"),r.publish("authentication:loginFail",{errorCode:t,errorMessageKey:e.body.errorMessageKey});else if(e.body){var s=e.body.user;u.store("local","user:loggedInTime",moment()),o(s)}}}))},b=function(e){if(e.errorCode)p("PT checking logged in status failed, error:"+e.errorCode);else if("1"===e.cookieExists)if(n.username!==e.username){n.authenticated()&&(n.dispose(),u.remove("local","user:loggedInTime"),r.publish("authentication:logged-out")),p("PT Logged in cookie exists, checking what app server knows about user");var t="/"+d.locale()+"/user/updateUser",s=function(t){t.userName!==e.username?(p("App server did not have correct user"),c.handlePTGetToken(f)):(p("App server did have correct "),o(t))};$.getJSON(t).success(s).fail(s)}else p("PT Logged in cookie exists and user is logged in..");else!n.authenticated()&&n.hasLoggedout||(n.hasLoggedout=!0,i())};t.init=function(){var e=this;r.subscribe("^authentication:login$",function(t){e.login(t.data)}),r.subscribe("^authentication:logout$",function(){e.logout()}),r.subscribe("^authentication:update$",function(t){var s=t?t.data:null;e.checkUserStatus(s)}),r.subscribe("^authentication:checkloginstate",function(){c.handlePTCookieLogin(b)}),r.subscribe("^router:navigate$",function(){c.handlePTCookieLogin(b)}),r.subscribe("^modal:close$",function(){c.handlePTCookieLogin(b)}),r.subscribe("^user:update$",function(e){if(e.data&&e.data.delay){var t=(new Date).getTime();if(t>g){var s=1e3*e.data.delay;g=t+s,this.updatingUser=setTimeout(n.updateUser.bind(n),s)}}else n.updateUser()})},t.start=function(){var e=this;d.locale()?e.checkUserStatus():r.subscribeOnce("^locale:changed$",function(t){e.checkUserStatus()})},t.checkUserStatus=function(e){if(n.authenticated()){var t="/"+d.locale()+"/user";"alreadyUpdated"!==e&&(t+="/updateUser"),$.getJSON(t).success(function(e){e&&e.userName===n.username&&o(e)})}},t.login=function(e){var t="/"+d.locale()+"/tokenlogin",s=encodeURIComponent(e.username.value),i=encodeURIComponent(e.password.value);c.handlePTLogin(s,i,function(e){if(e.errorCode)p("PT Login failed, error: "+e.errorCode+" playerMessage: "+e.playerMessage),e.actions&&e.actions.PlayerActionShowMessage&&e.actions.PlayerActionShowMessage.length>0&&p("PlayerActionShowMessage: ",e.actions.PlayerActionShowMessage[0].message),c.handlePTErrorResponse(e);else if(e.sessionValidationData){var s=e.sessionValidationData;if(s.SessionValidationByPasswordChangeData){p("PT login failed due to temp password - redirect temp password modal window");var i=u.retrieve("local","ptauthentication:lobbyurl")+"/"+d.locale().split("-")[0]+"/changepassword";r.publish("modal:open",i)}}else p("PT Login successful!"),p("Sessiontoken : "+e.sessionToken.sessionToken),m({href:t,data:{username:e.username,sessiontoken:e.sessionToken.sessionToken},success:function(e){var t=e.body.errorCode;if(t)p("error submitting login"),r.publish("authentication:loginFail",{errorCode:t,errorMessageKey:e.body.errorMessageKey});else{var s=e.body.user;u.store("local","user:loggedInTime",moment()),s&&o(s),e.body.redirectTarget&&(window.location.href=e.body.redirectTarget)}}})})},o=function(e){n.dispose(),e&&(n.setUser(e),r.publish("authentication:logged-in",n),n.enforceSetDepositLimit&&r.publish("modal:deposit-limit",{action:"open"}),u.remove("cookie","popupMyaccount"))},i=function(){var e="/"+d.locale()+"/logout";c.handlePTLogout(function(t){p(t.errorCode?"PT Logout failed, error:"+t.errorCode+"playerMessage:"+t.playerMessage:"PT Logout successful!"),m({href:e,success:function(){n.dispose(),u.remove("local","user:loggedInTime"),r.publish("authentication:logged-out")},error:function(e){p("error submitting logout",e)}})})},a=function(e){var t;e&&e.header&&e.header.ptlogin&&e.header.ptlogin.passcript&&e.header.ptlogin.passcript.url&&(t=document.createElement("script"),t.type="text/javascript",t.src=e.header.ptlogin.passcript.url,t.onload=function(){r.publish("authentication:scriptloaded")},document.getElementsByTagName("head")[0].appendChild(t))},t.logout=i,t.loginSuccess=o,t.loadScript=a}),require.register("authentication/ptauthentication",function(e,t,s){var i=e("message-bus"),o=e("web-storage-extender"),a=e("locale"),n=function(e){return window.iapiSetCallout?void e():void setTimeout(function(){n(e)},500)},r=function(e){n(function(){var t=e.playerMessage;e.actions&&e.actions.PlayerActionShowMessage&&e.actions.PlayerActionShowMessage.length>0&&(localStorage.setItem("ptErrorMessage",e.actions.PlayerActionShowMessage[0].message),t=e.actions.PlayerActionShowMessage[0].message),i.publish("authentication:loginFail",{errorCode:e.errorCode,errorMessageKey:"pterror",ptErrorMessage:t})})},l=function(e,t,s){n(function(){var n,r=1,l=o.retrieve("local","ptauthentication:systemid"),u="sportsbook",c="web",d=window.iapiConf.serviceType;return window.iapiSetCallout(iapiCALLOUT_LOGINANDGETTEMPTOKEN,s),window.iapiSetClientType(u),window.iapiSetClientPlatform(c),a.locale()?(n=a.locale().split("-")[0],void window.iapiLoginAndGetTempToken(e,t,r,n,l,d)):void i.subscribeOnce("^locale:changed$",function(s){var i=a.locale().split("-")[0];window.iapiLoginAndGetTempToken(e,t,r,i,l,d)})})},u=function(e){var t=1,s=o.retrieve("local","ptauthentication:systemid"),i=window.iapiConf.serviceType;n(function(){window.iapiSetCallout(iapiCALLOUT_TEMPORARYTOKEN,e),window.iapiRequestTemporaryToken(t,s,i)})},c=function(e){var t=1;n(function(){window.iapiSetCallout(iapiCALLOUT_GETLOGGEDINPLAYER,e),window.iapiGetLoggedInPlayer(t)})},d=function(e){var t=0,s=1,i=0;n(function(){window.iapiSetCallout(iapiCALLOUT_LOGOUT,e),window.iapiLogout(t,s,"hierarchical",i)})};t.handlePTErrorResponse=r,t.handlePTLogin=l,t.handlePTGetToken=u,t.handlePTCookieLogin=c,t.handlePTLogout=d}),require.register("authentication/user",function(e,t,s){function i(){var e=this,t=o.retrieve("local","authentication:user:oddsDisplay");this.firstname="",this.lastname="",this.username="",this.title="",this.email="",this.customerId="",this.imsCustomerId="",this.language="",this.isHvc=!1,this.enforceSetDepositLimit=!1,this.authenticated=ko.observable(!1),this.balance=ko.observable(0),this.creditBalance=ko.observable(0),this.currency=ko.observable(""),this.oddsDisplay=ko.observable(t||"fractional"),this.freebetBalance=ko.observable(),this.highValueCustomer=ko.observable(!1),this.vipCustomer=ko.observable(!1),this.vipLevel=ko.observable(-1),this.freebetTokens=ko.observableArray([]),this.boostKeys=ko.observableArray([]),this.preferredPaymentMethod=ko.observable(null),n.subscribeOnce("^locale:changed$",function(s){var i=s.data||"en-gb";"sv-se"!==i&&"de-de"!==i||t||e.oddsDisplay("decimal"),e.oddsDisplay.subscribe(function(e){o.store("local","authentication:user:oddsDisplay",e),n.publish("track:odds-display-change")},this)})}var o=e("web-storage-extender"),a=e("locale"),n=e("message-bus");i.prototype={updateUser:function(){var e=this,t="/"+a.value()+"/user/updateUser";e.authenticated()&&$.getJSON(t,function(t){t&&(e.setUser(t),n.publish("user:updateComplete"))})},setUserBalance:function(e){ko.isObservable(this.balance)&&!isNaN(e)&&this.balance(e)},setUser:function(e){this.firstname=e.firstName,this.lastname=e.lastName,this.username=e.userName,this.customerId=e.customerId,this.imsCustomerId=e.imsCustomerId,this.title=e.title,this.email=e.emailAddress,this.language=e.language,this.isHvc=e.highValueCustomer,this.highValueCustomer(e.highValueCustomer),this.authenticated(!0),this.vipCustomer(e.vipCustomer),this.vipLevel(e.vipLevel),this.balance(e.balance),this.creditBalance(e.creditBalance),this.currency(e.currency),this.freebetBalance(e.freebetBalance),this.freebetTokens(e.freebetTokens),this.boostKeys(e.boostKeys),this.countryCode=e.countryCode,this.enforceSetDepositLimit=e.enforceSetDepositLimit,this.preferredPaymentMethod(e.preferredPaymentMethod||null)},dispose:function(){this.title=null,this.firstname=null,this.lastname=null,this.username=null,this.email=null,this.customerId=null,this.imsCustomerId=null,this.isHvc=!1,this.countryCode=null,this.freebetBalance(""),this.freebetTokens([]),this.boostKeys([]),this.authenticated(!1),this.highValueCustomer(!1),this.vipCustomer(!1),this.vipLevel(-1),this.balance(0),this.creditBalance(0),this.currency(""),this.language=null,this.enforceSetDepositLimit=!1,this.preferredPaymentMethod(null),this.oddsDisplay.dispose&&this.oddsDisplay.dispose()}},s.exports=new i}),window.cogwheels.addGear({name:"authentication",version:"0.0.1"});
require.register("debug/debug",function(e,r,s){function n(){return u.colors[f++%u.colors.length]}function o(e){function r(){}function s(){var e=s,r=+new Date,o=r-(l||r);e.diff=o,e.prev=l,e.curr=r,l=r,null==e.useColors&&(e.useColors=u.useColors()),null==e.color&&e.useColors&&(e.color=n());var t=Array.prototype.slice.call(arguments);t[0]=u.coerce(t[0]),"string"!=typeof t[0]&&(t=["%o"].concat(t));var c=0;t[0]=t[0].replace(/%([a-z%])/g,function(r,s){if("%%"===r)return r;c++;var n=u.formatters[s];if("function"==typeof n){var o=t[c];r=n.call(e,o),t.splice(c,1),c--}return r}),"function"==typeof u.formatArgs&&(t=u.formatArgs.apply(e,t));var a=s.log||u.log||console.log.bind(console);a.apply(e,t)}r.enabled=!1,s.enabled=!0;var o=u.enabled(e)?s:r;return o.namespace=e,o}function t(e){u.save(e);for(var r=(e||"").split(/[\s,]+/),s=r.length,n=0;n<s;n++)r[n]&&(e=r[n].replace(/\*/g,".*?"),"-"===e[0]?u.skips.push(new RegExp("^"+e.substr(1)+"$")):u.names.push(new RegExp("^"+e+"$")))}function c(){u.enable("")}function a(e){var r,s;for(r=0,s=u.skips.length;r<s;r++)if(u.skips[r].test(e))return!1;for(r=0,s=u.names.length;r<s;r++)if(u.names[r].test(e))return!0;return!1}function i(e){return e instanceof Error?e.stack||e.message:e}var u=s.exports=o;u.coerce=i,u.disable=c,u.enable=t,u.enabled=a,u.humanize=e("./ms"),u.names=[],u.skips=[],u.formatters={};var l,f=0}),require.register("debug/index",function(e,r,s){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+i.humanize(this.diff),!r)return e;var s="color: "+this.color;e=[e[0],s,"color: inherit"].concat(Array.prototype.slice.call(e,1));var n=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))}),e.splice(o,0,s),e}function t(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(r){}}function a(){var e;try{e=localStorage.debug}catch(r){}return e}var i=s.exports=e("./debug");i.log=t,i.formatArgs=o,i.save=c,i.load=a,i.useColors=n,i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(e){return JSON.stringify(e)},i.enable(a())}),require.register("debug/ms",function(e,r,s){function n(e){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var s=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return s*f;case"days":case"day":case"d":return s*l;case"hours":case"hour":case"hrs":case"hr":case"h":return s*u;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=i?Math.round(e/i)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function t(e){return c(e,l,"day")||c(e,u,"hour")||c(e,i,"minute")||c(e,a,"second")||e+" ms"}function c(e,r,s){if(!(e<r))return e<1.5*r?Math.floor(e/r)+" "+s:Math.ceil(e/r)+" "+s+"s"}var a=1e3,i=60*a,u=60*i,l=24*u,f=365.25*l;s.exports=function(e,r){return r=r||{},"string"==typeof e?n(e):r["long"]?t(e):o(e)}}),window.cogwheels.addGear({name:"debug",version:"0.1.1"});
require.register("cashout-app/index",function(t,s,e){function i(s){s.forEach(function(s){var e=t("./components/"+s+"/controller");e.init()})}var o=t("./view-model"),a=t("./template"),u=["suspended-tooltip"];s.init=function(){i(u),ko.components.register("cashout",{viewModel:{viewModel:o},template:a,synchronous:!0})}}),require.register("cashout-app/template",function(t,s,e){e.exports='<!-- ko if: (!isCashOutAvailable() && !$parent.bet.isSettled && !$parent.bet.isCashedOut) --><suspended-tooltip params="status: status, unavailableCode: unavailableCode"></suspended-tooltip><!-- /ko --><div class="cashout" data-bind="visible: isCashOutAvailable"><!--ko ifnot: showSuccessMessage --><div class="cashout-holder"><!-- ko ifnot: showCashOutFlow --><!-- ko ifnot: $parent.accaSuspensionLabel--><div class="button" data-bind="attr: { \'suspended\': isCashOutSuspended }, click: cashoutButtonClicked"><div data-bind="text: $root.locale.t(\'cashout.popup.text.general\')"></div><!-- ko if: isCashOutSuspended --><span>:</span><!-- /ko --><div class="cashout-holder-value" data-bind="text: cashoutButtonValue"></div></div><!-- ko if: isCashOutSuspended --><suspended-tooltip params="status: status, suspendedEvents: suspendedEvents"></suspended-tooltip><!-- /ko --><!-- /ko --><!-- ko if: isCashOutSuspended && $parent.accaSuspensionLabel--><div class="acca-edit-grey cashout"><div class="button" data-bind="text: $root.locale.t(\'cashout.popup.text.general\')"></div><div class="suspended"><span data-bind="text: $root.locale.t(\'acca.cashout.button.suspended\')"></span> <span class="slip-info editmyacca-hover-tooltip" data-bind="hoverTooltip: { text: $root.locale.t(\'cashout.popup.suspended\')}"></span></div></div><!-- /ko --><!-- /ko --><!-- ko if: showCashOutFlow --><div class="cashout-flow"><span class="cashout-flow-notifications black" data-bind="text: generalNotificationText"></span><!-- ko if: coPriceChange() || errorOccured() --> <span class="cashout-flow-notifications" data-bind="text: notificationText, css: notificationColor"></span><!-- /ko --><div class="cashout-flow-holder"><div class="button button-grey" data-bind="click: toggleCashOutFlow, text: $root.locale.t(\'cashout.desktop.decline\')"></div><div class="button" data-bind="click: executeCashOut, text: $root.locale.t(\'cashout.desktop.accept\')"></div></div></div><!-- /ko --></div><!-- /ko --><!-- ko if: showSuccessMessage --><div class="cashout-success"><div class="cashout-success-text"><div><span data-bind="text: $root.locale.t(\'cashout.popup.success.text\')"></span><!-- ko ifnot: showDelayMsg --> <span data-bind="currencyFormat: finalValue"></span><!-- /ko --></div><div class="top-message-icon"></div></div></div><!-- ko if: showDelayMsg --><div class="cashout-waiting" data-bind="html: $root.locale.t(\'cashout.popup.success.waiting\')"></div><!-- /ko --><!-- /ko --></div>'}),require.register("cashout-app/view-model",function(t,s,e){function i(t){this.cashoutObservable=t.data;var s=ko.unwrap(this.cashoutObservable);o.mixin(this),this.id=ko.observable(s.id),this.status=ko.observable(s.status),this.value=ko.observable(s.value),this.selectedValue=ko.observable(),this.finalValue=ko.observable(),this.coPriceChange=ko.observable(!1),this.showCashOutFlow=ko.observable(!1),this.showSuccessMessage=ko.observable(!1),this.showDelayMsg=ko.observable(!1),this.notificationColor=ko.observable(),this.notificationText=ko.observable(),this.generalNotificationText=ko.observable(),this.errorOccured=ko.observable(!1),this.suspendedEvents=ko.observableArray(s.suspendedEvents),this.unavailableCode=ko.observable(s.unavailableCode),h.publish("cashout:update/"+this.id(),{status:this.status(),value:this.value()}),this.cashOutSub=c.subscribe("cashout:"+this.id(),this.onUpdate.bind(this)),this.toDispose(ko.computed(function(){var t=ko.unwrap(this.cashoutObservable);this.id(t.id),this.status(t.status),this.value(t.value),this.cashOutSub&&this.cashOutSub.dispose(),this.cashOutSub=c.subscribe("cashout:"+this.id(),this.onUpdate.bind(this)),this.cashedOutSub&&this.cashedOutSub.dispose(),this.cashedOutSub=c.subscribe("cashedout:"+this.id(),this.onCashedOut.bind(this)),this.errorOccured(!1),this.showCashOutFlow(!1),this.coPriceChange(!1),this.showSuccessMessage(!1)},this)),this.toDispose({dispose:function(){this.cashOutSub&&this.cashOutSub.dispose(),this.cashedOutSub&&this.cashedOutSub.dispose()}.bind(this)}),this.toDispose(ko.computed(function(){this.coPriceChange()?this.notificationColor("blue"):this.errorOccured()?this.notificationColor("red"):this.generalNotification()},this)),this.isCashOutAvailable=this.toDispose(ko.computed(function(){return"UNAVAILABLE"!==this.status()},this)),this.isCashOutSuspended=this.toDispose(ko.computed(function(){return this.isCashOutAvailable()&&"SUSPENDED"===this.status()},this)),this.cashoutButtonValue=this.toDispose(ko.computed(function(){return this.isCashOutSuspended()?a.t("cashout.popup.text.susp"):n.currencyFormat(this.value(),u)},this)),this.toggleCashOutFlow=function(){if(!this.isCashOutSuspended()){var t=!this.showCashOutFlow();this.showCashOutFlow(t),this.selectedValue(this.value()),this.resetNotifications(),this.showCashOutFlow()||h.publish("showEditButton")}},this.cashoutButtonClicked=function(t,s){h.publish("track:cashout-start",{value:ko.unwrap(this.value),element:s?s.target:null}),h.publish("hideEditButton"),this.toggleCashOutFlow()},this.displaySuccessMessage=function(){this.showSuccessMessage(!this.showSuccessMessage())},this.executeCashOut=function(t,s){h.publish("cashout:inprogress"),c.performCashOut(this),this.resetNotifications(),h.publish("track:cashout-submit",{value:ko.unwrap(this.selectedValue),element:s?s.target:null})},this.toDispose(h.subscribe("cashout:reset",function(){this.showCashOutFlow(!1),this.resetNotifications()}.bind(this)))}var o=t("gear-disposable-mixin"),a=t("locale"),u=t("authentication/user"),n=t("domain-model/helper"),h=t("message-bus"),c=t("cashout");i.prototype={generalNotification:function(){var t=a.t("cashout.desktop.text.description")+" "+n.currencyFormat(this.selectedValue(),u)+"?";this.generalNotificationText(t),this.selectedValue()?h.publish("track:cashout-available",{value:ko.unwrap(this.selectedValue)}):this.isCashOutSuspended&&h.publish("track:cashout-suspended")},priceChangeNotification:function(t,s){this.selectedValue(s);var e=n.currencyFormat(s,u),i=a.t("cashout.desktop.error.CASHOUT_VALUE_CHANGE")+" "+n.currencyFormat(t,u);i+=" "+a.t("cashout.desktop.error.TO")+" "+e,this.notificationText(i),this.coPriceChange(!0),this.generalNotificationText(a.t("cashout.desktop.text.description")+" "+e+"?"),h.publish("track:cashout-notification",{value:ko.unwrap(s),message:i})},errorNotification:function(t){var s=a.t("cashout.popup.text.description.error."+t);this.notificationText(s),h.publish("track:cashout-error",{value:ko.unwrap(this.value),message:s})},onSuccess:function(){h.publish("cashout:done"),this.displaySuccessMessage(),this.toggleCashOutFlow(),this.dispose(),setTimeout(u.updateUser.bind(u),6e4),h.publish("track:cashout-success",{value:ko.unwrap(this.value)}),this.cashOutSub&&this.cashOutSub.dispose()},onCashedOut:function(t){t.isWaiting&&this.showDelayMsg(t.isWaiting||!1)},onUpdate:function(t){var s=this.status(),e=this.value();this.value(t.value),this.status(t.status),this.suspendedEvents(t.suspendedEvents),this.unavailableCode(t.unavailableCode),"SUSPENDED"===this.status()&&(this.showCashOutFlow(!1),this.status()!==s&&h.publish("track:cashout-suspended")),s===this.status()&&e===this.value()||h.publish("cashout:update/"+t.id,t)},onPriceChange:function(t){this.priceChangeNotification(this.selectedValue(),t.amount),this.value(t.amount)},onError:function(t){h.publish("cashout:done"),this.errorOccured(!0),this.errorNotification(t)},resetNotifications:function(){this.coPriceChange(!1),this.errorOccured(!1)}},e.exports=i}),require.register("cashout-app/components/suspended-tooltip/template",function(t,s,e){e.exports='<div class="disabled-cashout-button" data-bind="click: showTooltip, clickBubble: false"><div class="disabled-cashout-button-text" data-bind="text: buttonText"></div><div class="disabled-cashout-button-icon"></div><tooltip params="title: title, data: $data, left: \'-262px\', top: \'30px\'" class="cashout-tooltip-tag" data-t-position="tooltip-event"><span data-bind="text: message"></span><div class="cashout-tooltip-links" data-bind="foreach: suspendedEvents"><div data-bind="html: name, click: $parent.navigateToEventDetails"></div></div></tooltip></div>'}),require.register("cashout-app/components/suspended-tooltip/controller",function(t,s,e){var i="suspended-tooltip",o=t("./view-model"),a=t("./template"),u={viewModel:o,template:a};s.init=function(){ko.components.register(i,u)}}),require.register("cashout-app/components/suspended-tooltip/view-model",function(t,s,e){function i(t){this.showTooltip=ko.observable(!1),this.status=ko.utils.unwrapObservable(t.status),this.unavailableCode=t.unavailableCode,this.suspendedEvents=t.suspendedEvents,this.message=ko.pureComputed(function(){var t="";return"unavailable"===this.status.toLowerCase()&&(t=a.t("cashout.popup.text.header.error."+this.unavailableCode())),"suspended"===this.status.toLowerCase()&&(t=a.t("cashout.tooltip.text.suspended")),t},this),this.title=ko.pureComputed(function(){return a.t("cashout.tooltip.title."+this.status.toLowerCase())},this),this.buttonText=ko.pureComputed(function(){return a.t("cashout.tooltip.button."+this.status.toLowerCase())},this),this.navigateToEventDetails=function(t,s){u.publish("track:cashout-tooltip-suspended-event",s?s.target:null);var e=t.url;e.lastIndexOf("/")!==e.length-1&&(e+="/"),o.navigate(e)},this.showTooltip=function(t,s){var e=$(s.target).parents("suspended-tooltip").find("tooltip"),i=!e.is(":visible");0===e.has(s.target).length&&($("suspended-tooltip > div > tooltip").hide(),i?(e.show(),u.publish("track:cashout-tooltip",{value:this.status.toLowerCase(),element:s?s.target:null})):e.hide())}}var o=t("router"),a=t("locale"),u=t("message-bus");e.exports=i}),window.cogwheels.addGear({name:"cashout-app",version:"0.0.1"});
require.register("my-accas/index",function(a,e,i){var t=a("./service");e.service=t}),require.register("my-accas/service",function(a,e,i){function t(a){var e=new n;return a?(r.publish("myaccas:loading"),$.getJSON("/"+u.value()+"/accumulators").done(function(a){if("SUCCESS"===a.result.status)e.update(a);else{var i=a.result.errorCode;"TCH_OTW_ERR_106"===i&&(r.publish("authentication:logout"),r.publish("track:session-expired")),e.update({})}r.publish("myaccas:done")}).fail(function(){e.update({}),r.publish("myaccas:done")}),e):e}function c(a,e,i){var t;t=e?"/"+u.value()+"/edit-acca/"+a+"/"+e.join(","):"/"+u.value()+"/edit-acca/"+a,r.publish("myaccas:loading"),$.getJSON(t).done(function(a){r.publish("myaccas:done"),i(a)}).fail(function(){r.publish("myaccas:done"),i("UKNOWN_ERR")})}function s(a,e,i,t){r.publish("myaccas:loading"),$.getJSON("/"+u.value()+"/place-edited-acca/"+a+"/"+i+"/"+e).done(function(a){r.publish("myaccas:done"),t(a)}).fail(function(){r.publish("myaccas:done"),t("UKNOWN_ERR")})}var u=a("locale"),n=a("./entities/my-accas"),r=a("message-bus");e.getAccas=t,e.editAcca=c,e.placeBetEditAcca=s}),require.register("my-accas/entities/acca",function(a,e,i){function t(a){s.mixin(this),this.update(a)}var c=a("domain-model/helper"),s=a("utils/subscribable");t.prototype={update:function(a,e){var i=c.updateWithData(this,a);i&&this.publish("update",this)},"delete":function(){this.status="DELETED",this.publish("update",this)}},i.exports=t}),require.register("my-accas/entities/my-accas",function(a,e,i){function t(a){this.accas=[],this.update(a||{}),c.mixin(this)}var c=a("utils/subscribable"),s=a("./acca");t.prototype={update:function(a){this.clear();var e=this.updateMyAccas(a);e&&this.publish("update",this)},updateMyAccas:function(a){if(!a)return!1;var e=this,i=!1;return(a.accumulators||[]).forEach(function(a){i=!0,e.accas.push(new s(a))}),i},clear:function(){this.accas=[]}},i.exports=t}),window.cogwheels.addGear({name:"my-accas",version:"0.0.1"});
require.register("service/az-service",function(e,t,n){function r(e){var t="",n=e.split("/");return n.length>=2&&(t=n[n.length-2]),t}function i(){$.getJSON("/"+l.value()+"/az_list",o).done(function(){g.resolve()}).fail(function(e,t,n){g.reject(e,t,n)})}function o(e){e.allSportsGroup.list.forEach(function(e){if(a(e),!this.fakeVirtualSportCreated&&f.isVirtualClass(e.id)){var t=s();c(t),this.fakeVirtualSportCreated=!0}c(e)})}function a(e){e.id=e.icon,delete e.icon}function s(){return{event:!1,href:"/en-gb/betting/virtuals-sport/",id:y.VIRTUALS,meta:"",name:"virtuals",sortOrder:0,text:"Virtuals"}}function c(e){p.save("sport-by-id",e.id,e,function(){}),p.save("sport-by-name",e.name,e,function(){}),p.save("sport-by-url-part",decodeURIComponent(r(e.href)),e,function(){})}var l=e("locale"),u=e("repository/storage/storage-manager"),d=e("message-bus"),f=e("domain-model/helpers/virtual-sports"),y=e("domain-model/helpers/sport-types"),p=new u({}),g=$.Deferred();this.fakeVirtualSportCreated=!1,p.addStorage("sport-by-id",{}),p.addStorage("sport-by-name",{}),p.addStorage("sport-by-url-part",{}),t.init=function(){l.value()?i():d.subscribeOnce("^locale:changed$",function(e){i()})},t.getAll=function(e){g.done(function(){p.getAll("sport-by-id",e)})},t.getById=function(e,t){g.done(function(){p.getById("sport-by-id",e,t)})},t.getByName=function(e,t){g.done(function(){p.getById("sport-by-name",e,t)})},t.getByUrlPart=function(e,t){g.done(function(){p.getById("sport-by-url-part",decodeURIComponent(e),t)})}}),require.register("service/class-service",function(e,t,n){function r(e){var t="",n=e.split("/");return n.length>=2&&(t=n[n.length-2]),t}function i(e,t){e.sportAndClassIds&&(c=e.sportAndClassIds);var n=e.sport&&e.sport.id||"",i=e.linkGroupsForClasses[0].typeName;e.linkGroupsForClasses.forEach(function(e){e.urlPart=r(e.href),e.list.map(function(e){e.urlPart=r(e.href)}),f.save("class-by-id",e.id,e,function(){}),f.save("class-by-name",e.title,e,function(){}),f.save("class-by-url-part",n+"-"+decodeURIComponent(e.urlPart),e,function(){}),i&&(f.save("type-class-by-id",e.id+"-"+decodeURIComponent(e.urlPart),e,function(){}),f.save("type-class-by-url-part",n+"-"+decodeURIComponent(i)+"-"+decodeURIComponent(e.urlPart),e,function(){}))}),t(null,e)}function o(e,t){return $.getJSON("/"+l.value()+"/sport_competition/"+e).done(function(e){i(e,t)}).fail(function(){t(500)})}function a(e,t){l.value()?o(e,t):d.subscribeOnce("^locale:changed$",function(n){o(e,t)})}function s(e){var t=!1;return c?c.forEach(function(n){n.categoryid===e&&(t=!0)}):t=!0,t}var c,l=e("locale"),u=e("repository/storage/storage-manager"),d=e("message-bus"),f=new u({});f.addStorage("class-by-id",{}),f.addStorage("class-by-name",{}),f.addStorage("class-by-url-part",{}),f.addStorage("type-class-by-id",{}),f.addStorage("type-class-by-url-part",{}),t.getById=function(e,t,n,r){var i="class-by-id",o=t;r&&s(e)&&(i="type-class-by-id",o=t+"-"+r),f.getById(i,t,function(t,r){t?a(e,function(e,t){e?n(e):f.getById(i,o,n)}):n(t,r)},r)},t.getByName=function(e,t,n){f.getById("class-by-name",t,function(r,i){r?a(e,function(e,r){e?n(e):f.getById("class-by-name",t,n)}):n(r,i)})},t.getByUrlPart=function(e,t,n,r){var i="class-by-url-part";r&&s(e)?(i="type-class-by-url-part",t=e+"-"+t+"-"+r):t=e+"-"+t,f.getById(i,t,function(r,o){r?a(e,function(e,r){e?n(e):f.getById(i,t,n)}):n(r,o)})}}),require.register("service/index",function(e,t,n){var r=e("./az-service");t.azService=r,t.azService.init(),t.sportService=r,t.classService=e("./class-service"),t.typeService=e("./type-service")}),require.register("service/type-service",function(e,t,n){var r=e("./class-service");t.getById=function(e,t,n,i){var o,a,s=0;r.getById(e,t,function(e,t){for(e&&i(e),s=0,o=t.list.length;s<o;s++)if(a=t.list[s],a.id===n)return void i(null,a);i(404)})},t.getByName=function(e,t,n,i){var o,a,s=0;r.getById(e,t,function(e,t){for(e&&i(e),s=0,o=t.list.length;s<o;s++)if(a=t.list[s],a.title===n)return void i(null,a);i(404)})},t.getByUrlPart=function(e,t,n,i){var o,a,s=0;r.getById(e,t,function(e,t){for(e&&i(e),s=0,o=t.list.length;s<o;s++)if(a=t.list[s],a.urlPart===n)return void i(null,a);i(404)},n)}}),window.cogwheels.addGear({name:"service",version:"0.0.1"});
require.register("nextRacesComponent/index",function(e,a,t){a.init=function(){ko.components.register("next-races",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("nextRacesComponent/template",function(e,a,t){t.exports="<div><!-- ko template:{ name: 'nextRacesComponent/templates/' + type} --><!-- /ko --></div>"}),require.register("nextRacesComponent/view-model",function(e,a,t){function n(e){var a=this,t=e.sportName;if(s.apply(this),this.locale=o,this.type=e.type||"horizontal",this.id=ko.unwrap(e.id),this.isHorseRacing=this.id===l.HORSE_RACING,this.horseRacingLandingPageUrl=ko.observable("/racing/horse-racing/"),this.id&&this.subscribe(),"horizontal"===this.type)this.nextRaceParticipantsFilter=function(e){var a=ko.unwrap(e),t=a.filter(function(e){return"ACTIVE"===e.status&&e.prices().length>0}.bind(this)).sort(r.byOddsSortFunction(!0)).slice(0,3);return t},this.getNextThreeRacesUrl=function(){return"/"+o.value()+"/racing/"+t+"/build_your_own_racecard/"},this.buildNextRaces=function(e,t){t.preventDefault(),t.stopPropagation(),c.store("local","racecard",(a.events()||[]).map(function(e){return{id:e.id,name:ko.unwrap(e.sportsBookClass&&e.sportsBookClass.name?e.sportsBookClass.name:""),nameDetails:ko.unwrap(e.name),type:"racingEventDetails"}})),d.trackLink(t.currentTarget,t,this.getNextThreeRacesUrl()),i.navigate(this.getNextThreeRacesUrl())};else{var n=function(e){if(e&&e.events)for(var t=e.events(),n=0;n<t.length;n++){a.horseRacingLandingPageUrl(t[n].sport.href);break}};p.getById(l.HORSE_RACING,function(e,t){t&&a.horseRacingLandingPageUrl(t.href)}),this.updateRacingUrl=ko.pureComputed(function(){var e=this.events();n(e)},this)}this.getTranslatedTypeName=function(e){var a=e.nameTranslations;return a.translations?a.translations[o.defaultLocale()]||a.value:a.value}}var s=e("domain-model/models/nextRaceViewModel"),r=e("domain-model/helper"),i=e("ladbrokes-router"),o=e("locale"),d=e("domain-model/helpers/tracking"),c=e("web-storage-extender"),l=e("domain-model/helpers/sport-types"),p=e("service").sportService;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,t.exports=n}),require.register("nextRacesComponent/templates/horizontal",function(e,a,t){t.exports='<div class="module not-last" data-t-position="next-races-module"><h1 class="expand-list expanded" data-bind="toggle"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="html: $root.locale.t(\'sport.tabs.nextRaces\')"></span><div data-bind="click: $root.disableExpandedList, visible: events().length > 0"><a class="button action" href="#" data-t-name="Racecard Builder" data-bind="attr: { href: getNextThreeRacesUrl(), \'data-t-value\': events().length}, \n                                              click: buildNextRaces, \n                                              text: locale.t(\'racecard.builder.buildnextraces\', \n                                              events().length)"></a></div></h1><load-handler params="trigger: initialized, data: $data"><div class="next-races" data-bind="foreach: events"><!-- ko foreach: nextRaceMarket --><div class="next-race"><header class="next-race-header"><a class="next-race-header-link" data-bind="href: $parent.href"><span class="next-race-header-time" data-bind="text: $parent.name"></span> <span class="next-race-header-title" data-bind="text: $parents[1].getTranslatedTypeName($parent.sportsBookType)"></span></a><!-- ko if: event.hasStream --><div class="next-race-header-streaming" data-bind="\n                    hoverTooltip: {\n                    text: $root.streamingTooltipRacing,\n                    skin: \'black\'\n                    }\n                    "><span class="icon-stream"></span></div><!-- /ko --><a class="next-race-header-more" data-bind="text: $parents[1].locale.t(\'generic.more.more\'), href: $parent.href"></a></header><div class="next-race-participants" data-bind="foreach: $parents[1].nextRaceParticipantsFilter($data.selections)"><div class="next-race-participant"><span class="next-race-participant-silk"><!-- ko if: $component.data.isHorseRacing --><img data-bind="attr: { src: $parents[2].silkUrl($parents[1].id, $data) }"><!-- /ko --><!-- ko ifnot: $component.data.isHorseRacing --> <span class="number"><span data-bind="attr: { class: \'trap trap-\' + number }"><span data-bind="text: number != 0 ? number : \'\'"></span></span></span><!-- /ko --></span> <span class="next-race-participant-name" data-bind="text: name"></span><!-- ko foreach: firstPrice --><selection-button params="price: $data,\n                        caption: $data.name,\n                        selection: $parent,\n                        event: $parents[1], captionAbove: false, live: false"></selection-button><!-- /ko --><!-- live: $root.inplayNow is replaced  --></div></div></div><!-- /ko --></div></load-handler></div>'}),require.register("nextRacesComponent/templates/menu",function(e,a,t){t.exports='<div><!-- ko if: events().length > 0 --><header class="next-races-header expanded" data-bind="toggle"><span class="icon-arrow white-arrow"></span> <span class="title" data-bind="text: locale.t(\'racing.nextraces\', events().length)"></span></header><div class="next-races-group" data-bind="foreach: events"><!-- ko if: $data.markets().length && $data.markets()[0].selections().length > 0 --><!-- ko with: $data.markets()[0] --><a class="next-races-link" data-bind="href: $parent.href"><span class="time" data-bind="text: $parent.name"></span> <span class="name" data-bind="text: $parents[1].getTranslatedTypeName($parent.sportsBookType)"></span> <span class="icon-stream" data-bind="visible: $parent.hasStream"></span> <span class="icon-arrow white-arrow"></span></a><!-- /ko --><!-- /ko --></div><!-- /ko --></div>'}),require.register("nextRacesComponent/templates/vertical",function(e,a,t){t.exports='<div class="index-next-races-wrapper"><div class="event"><header class="event-header Horse"><a data-bind="href: horseRacingLandingPageUrl()"><span class="class" data-bind="text: locale.t(\'generic.racing.meetings\')"></span> <span class="name" data-bind="text: locale.t(\'sidebar.quick.links.horse.racing\')"></span> <span class="more" data-bind="text: locale.t(\'generic.more.more\')"></span></a></header><load-handler params="trigger: initialized, data: $data"><div class="index-next-races" data-bind="foreach: events"><div class="index-next-race" data-t-position="event-module"><header class="index-next-race-header"><a class="next-race-header-link" data-bind="href: href"><span class="index-next-race-header-time" data-bind="text: name"></span> <span class="index-next-race-header-title" data-bind="text: $parent.getTranslatedTypeName(sportsBookType)"></span></a><!-- ko if: hasStream --><div class="index-next-race-header-streaming" data-bind="\n                        hoverTooltip: {\n                        text: $root.streamingTooltipRacing,\n                        skin: \'black\'\n                        }\n                        "><span class="icon-stream"></span></div><!-- /ko --><a class="index-next-race-header-more" data-bind="text: $root.locale.t(\'generic.more.more\'), href: href"></a></header><div class="index-next-race-participants" data-bind="foreach: nextRaceMarket"><!-- ko foreach: $parents[1].filteredSelections[\'21\']($data.selections()) --><div class="index-next-race-participant"><span class="index-next-race-participant-silk"><!-- ko if: $component.data.isHorseRacing --><img data-bind="attr: { src: $parents[2].silkUrl($parents[1].id, $data) }"><!-- /ko --></span> <span class="index-next-race-participant-name" data-bind="text: name"></span><!-- ko foreach: firstPrice --><selection-button params="price: $data\n                            caption: $data.name,\n                            selection: $parent\n                            event: $parents[1], captionAbove: false, live: false"></selection-button><!-- /ko --></div><!-- /ko --></div></div></div></load-handler></div></div>'}),window.cogwheels.addGear({name:"nextRacesComponent",version:"0.0.1"});
require.register("acca/acca-helper",function(t,e,i){function a(t,e,i){var a;return a=t>e?"H"===i?d:c:"L"===i?r:o}function s(t,e,i){var a="";return"H"===i?t>e?a=r:""===t&&""===e||(a=o):"D"===i?t===e?a=r:""===t&&""===e||(a=o):"A"===i&&(t<e?a=r:""===t&&""===e||(a=o)),a}function n(t,e,i){var a;return a="H"===i?e>0&&t>0?d:o:0===t||0===e?r:c}var o="losing",c="lost",r="winning",d="won";e.calculateOverUnderBet=a,e.calculateWinDrawWinBet=s,e.calculateBothTeamToScoreBet=n}),require.register("acca/event",function(t,e,i){i.exports='<div class="acca-event-market-container"><div class="acca-event-market tutorial-remove"><div class="acca-event-market-team"><div class="acca-event-market-team-info"><div class="acca-event-market-team-info-name" data-bind="text: homeTeamName"></div><!-- ko if: showIconAndScore --><div class="acca-event-market-team-info-score" data-bind="text: homeTeamScore, attr: { inplay: inPlay }"></div><!-- /ko --></div><div class="acca-event-market-team-info"><div class="acca-event-market-team-info-name" data-bind="text: awayTeamName"></div><!-- ko if: showIconAndScore --><div class="acca-event-market-team-info-score" data-bind="text: awayTeamScore, attr: { inplay: inPlay }"></div><!-- /ko --></div></div><div class="acca-event-status"><!-- ko if: showIconAndScore --><div data-bind="css: betStatusIcon"></div><!-- /ko --><!-- ko if: !showIconAndScore() && inPlay() --><span class="acca-live-text">LIVE</span><!-- /ko --><div class="acca-event-status-text" data-bind="attr: { type: status }, html: betStatusText"></div></div><!-- ko if: $parents[1].editModeEnabled()  && !$parents[1].isAccaLost() --><div class="acca-event-edit-remove-holder" data-bind="css: slideInHeaderAnimations"><!-- ko if: currentBetEditable() && !isSettled() --><div class="acca-event-edit-remove" data-bind="click: function(bet, ev) { $parents[1].addForEdit($parents[1].id, betInfo.selectionKey, ev); toggleExpansion()}, css: animations($parentContext.$index())"><div class="acca-event-edit-remove-sign"></div></div><!-- ko if: $parentContext.$index() == 1 --><tutorial params="type: \'removalButton\', isSuspended: $parents[1].isEditAccaSuspended, slideAnimation: slideAnimation"></tutorial><!-- /ko --><!-- /ko --><!-- ko if: !isSettled() && status() !== \'void\' --><div class="acca-event-edit-remove-no-animation" data-bind="visible: !currentBetEditable(), css: animations($parentContext.$index())"><div class="acca-event-edit-remove-grey"></div></div><!-- /ko --><!-- ko if: isSettled() || status() === \'void\' --><div class="acca-event-edit-last" data-bind="css: animations($parentContext.$index())"></div><!-- /ko --></div><!-- /ko --></div><div class="acca-event-selections" data-bind="visible: isSelectionsVisible"><div class="acca-event-selections-container"><!-- ko foreach: selections --><div class="acca-event-selections-container-selection"><selection-button params="selection: $data, captionAbove: false, leftCaption: $data.sort, event: $parent.event, live: $parent.inPlay"></selection-button></div><!-- /ko --></div><!-- ko ifnot: isSettled --><div class="acca-event-selections-more" data-bind="click: navigateToEventDetails"><span class="acca-event-selections-more-text" data-bind="text: numberOfMarketsMore"></span> <span class="icon-arrow more-arrow"></span></div><!-- /ko --></div></div>'}),require.register("acca/accaAnimations",function(t,e,i){var a={animateHeaderHolder:function(t){var e=document.querySelector(".acca-container-header"),i=document.querySelector(".acca-container");e.style.visibility="hidden",i.classList.add("slideOutHeader"),setTimeout(function(){t({animationDone:!0})},200)},resetHeaderAnimation:function(){document.querySelector(".acca-container-header").removeAttribute("style"),document.querySelector(".acca-container").classList.remove("slideOutHeader")},handlePotentialBounce:function(){var t=document.querySelector(".acca-bottom"),e=document.querySelector(".acca-bottom-potential-value");t.classList.remove("slideInPotential"),t.classList.remove("bouncePotential"),e&&e.classList.remove("pulsePotential"),setTimeout(function(){t.classList.add("bouncePotential"),e&&e.classList.add("pulsePotential")},200)}};i.exports=a}),require.register("acca/template",function(t,e,i){i.exports='<div class="acca-container"><!-- ko if: editModeEnabled --><div class="acca-status" data-bind="visible: accaSuspensionLabel() && accaIsActive()"><div data-bind="text: $root.locale.t(\'acca.edit.status.suspended\')"></div></div><div class="acca-status" data-bind="visible: isAccaLost, attr: { type: accaStatus }"><div class="status-icon"><div class="status-icon-show"></div></div><div data-bind="text: $root.locale.t(\'acca.status.text.inactive\')"></div></div><div class="acca-status" data-bind="visible: accaPriceChangeLabel"><div data-bind="text: $root.locale.t(\'acca.edit.potenial.decreased\')"></div></div><div class="acca-status" data-bind="visible: accaPriceChangeCO"><div data-bind="text: $root.locale.t(\'tibco.error.TCH_OBW_ERR_10703\')"></div></div><div class="acca-status timeout" data-bind="visible: accaTimeOutLabel"><div data-bind="text: $root.locale.t(\'acca.edit.time.out\')"></div></div><div class="acca-status" data-bind="visible: editError, text: editErrorMessage"></div><!-- /ko --><div data-bind="visible: !editModeEnabled()"><div class="acca-container-header"><div class="acca-info"><div class="acca-info-container"><!--ko if: isGamesVisible --><div class="acca-info-wrap"><div class="acca-info-title" data-bind="text: gamesTitle"></div><div class="acca-info-value" data-bind="text: games"></div></div><!-- /ko --><!-- ko if: stake --><div class="acca-info-wrap"><div class="acca-info-title" data-bind="text: stakeTitle"></div><div class="acca-info-value" data-bind="currencyFormat: stake"></div></div><!-- /ko --><div class="acca-info-wrap"><div class="acca-info-title" data-bind="text: potentialTitle"></div><div class="acca-info-value" type="potential" data-bind="currencyFormat: accaPotentialReturn"></div></div></div></div><div class="acca-status" data-bind="attr: { type: accaStatus }"><div class="status-icon"><div class="status-icon-show"></div></div><div data-bind="text: accaStatusText"></div></div><!--ko if: showDelayMsg --><div class="acca-waiting" data-bind="text: $root.locale.t(\'cashout.acca.waiting\')"></div><!-- /ko --><!--ko if: $parent.editSuccessMessage() && accaIsActive()--><div class="acca-status success"><div class="acca-status-icon-success"><div class="acca-status-icon-success-show"></div></div><div data-bind="text: $root.locale.t(\'acca.edit.success\')"></div></div><!-- /ko --><!--ko if: isCashOutVisible --><div class="acca-edit tutorial-edit-button"><!-- ko if: showEditAccaButton() --><div class="acca-edit-myacca button" data-bind="visible: !isEditAccaSuspended(), click: changeEditMode"><div data-bind="text: $root.locale.t(\'acca.text.general\')"></div><!-- ko if: $parent.showNewBadge --><div class="acca-edit-myacca-new-badge" data-bind="text: $root.locale.t(\'acca.edit.new.badge\')"></div><!-- /ko --></div><!-- ko ifnot: isEditAccaSuspended --><tutorial params="type: \'initialButton\', isSuspended: isEditAccaSuspended" data-bind="visible: editMyAccaAvailable"></tutorial><!-- /ko --><div class="acca-edit-grey" data-bind="visible: isEditAccaSuspended()"><div class="button" data-bind="text: $root.locale.t(\'acca.text.general\')"></div><div class="suspended"><span data-bind="text: $root.locale.t(\'acca.cashout.button.suspended\')"></span> <span class="slip-info editmyacca-hover-tooltip" data-bind="hoverTooltip: { text: $root.locale.t(\'edit.acca.suspended\')}"></span></div></div><!-- /ko --><cashout class="acca-edit-cashout" params="data: cashOut"></cashout></div><!-- /ko --></div></div><!-- ko foreach: bets --><div class="acca-events-wrapper" data-bind="css: slideAnimation"><div class="acca-event-container"><div class="acca-event-header"><div class="acca-event-header-title" data-bind="text: placedSelectionLabel"></div><div class="acca-event-header-status" data-bind="attr: { status: status }, text: statusText, css: {\'extra-width\': $parent.isGerman}"></div><!-- ko if: $parent.editModeEnabled --><div class="acca-event-header-edit" data-bind="visible: !$parent.isAccaLost()"></div><!-- /ko --></div><!-- ko template: { name: \'/acca/event\', data: $data} --><!-- /ko --></div><div class="acca-edit-undo"><div class="acca-edit-undo-label" data-bind="text: $root.locale.t(\'acca.edit.removed\')"></div><div class="acca-edit-undo-selection" data-bind="text: placeUndoLabel"></div><div class="acca-edit-undo-action" data-bind="click: function(bet, ev) { $parent.removeForEdit($parent.id(), betInfo.selectionKey, ev); toggleExpansion()}, text: $root.locale.t(\'acca.edit.undo\')"></div></div><!-- ko if: toggleEdit() && !$parent.accaSuspensionLabel() --><tutorial params="type: \'undoButton\', isConfirmTutorialEnabled: $parent.isConfirmTutorialEnabled, isSuspended: $parent.isEditAccaSuspended, slideAnimation: slideAnimation"></tutorial><!-- /ko --></div><!-- /ko --><!-- ko if: editModeEnabled --><div class="acca-bottom tutorial-confirm" data-bind="css: {\'slideInPotential\': editModeEnabled}"><!-- ko if: showNewPotentialReturns --><div class="acca-bottom-potential"><div class="acca-bottom-potential-text" data-bind="text: $root.locale.t(\'acca.edit.potential\')"></div><!-- ko ifnot: accaSuspensionLabel --><div class="acca-bottom-potential-value" data-bind="currencyFormat:accaEditPotential"></div><!-- /ko --><!-- ko if: accaSuspensionLabel --><div class="acca-bottom-potential-value" data-bind="text: $root.locale.t(\'selection.button.suspended\')"></div><!-- /ko --></div><!-- /ko --><div class="acca-bottom-action"><!-- ko ifnot: accaTimeOutLabel --><div class="acca-bottom-action-button" data-bind="click: resetEditMode, text: $root.locale.t(\'edit.acca.cancel\')"></div><!-- ko if: confirmButtonEnabled --><div class="acca-bottom-action-button confirm-active" data-bind="click: placeBetEditAcca.bind($parent), text: $root.locale.t(\'edit.acca.confirm\')"></div><!-- ko if: isConfirmTutorialEnabled() && !accaSuspensionLabel() --><tutorial params="type: \'confirmButton\', isSuspended: isEditAccaSuspended"></tutorial><!-- /ko --><!-- /ko --><!-- ko ifnot: confirmButtonEnabled --><div class="acca-bottom-action-button confirm-disabled"><span data-bind="text: $root.locale.t(\'edit.acca.confirm\')"></span><!-- ko if: accaSuspensionLabel --> <span class="edit-sus" data-bind="text: $root.locale.t(\'selection.button.suspended\')"></span><!-- /ko--></div><!-- /ko --><!--/ko --><!-- ko if: accaTimeOutLabel --><div class="acca-bottom-action-button edit-timeout" data-bind="click: resetEditMode.bind($data), text: $root.locale.t(\'betreceipt.acca.button\'), repaintDom: {selector:\'acca-container\', browser: \'Safari\'}"></div><!-- /ko --></div></div><!-- /ko --></div>'}),require.register("acca/history-bet-vm",function(t,e,i){function a(t,e){t=t||{},n.mixin(this),o.mixin(this),this.isMarketsVisible=e||function(){return!1},this.toggleEdit=ko.observable(!1),this.currentBetEditable=ko.observable(!0),this.enableAnimation=ko.observable(!0),this.slideAnimation=ko.observable(""),this.slideInHeaderAnimations=ko.observable("slideInRightContent"),this.participants=t.participants||[],this.parts=t.parts||[],this.betInfo=this.parts[0]||{},this.initEvent(t),this.status=this.toDispose(ko.computed(function(){return this.calculateBetStatus()},this)),this.statusText=ko.pureComputed(function(){return s.t("acca.status."+this.status())},this),this.toggleExpansion=function(){this.toggleEdit(!this.toggleEdit())},this.toDispose(this.toggleEdit.subscribe(function(t){t?this.slideAnimation("slideLeft"):this.slideAnimation("slideRight")}.bind(this))),this.toDispose(this.enableAnimation.subscribe(function(t){t?this.slideInHeaderAnimations("slideInRightContent"):this.slideInHeaderAnimations("animationFixedWidth")}.bind(this))),this.animations=function(t){var e="animationXfixed";return this.enableAnimation()&&(e="slideInRight delay-"+t),e},this.placedSelectionLabel=this.getPlacedSelectionLabel(),this.placeUndoLabel=this.getUndoSelectionLabelWinDrawWin(),this.isSettled()||this.toDispose(d.subscribe("events",this.eventId,function(t,e){t||this.update(e)}.bind(this)))}var s=t("locale"),n=t("gear-disposable-mixin"),o=t("utils/subscribable"),c=t("./acca-helper"),r=t("domain-model/models/selection"),d=t("repository"),l=t("translated-property"),h=t("router"),u="losing",b="lost",v="pending",p="winning",m="won",f="void";a.prototype={initEvent:function(t){var e=this.betInfo||{},i=this.participants[0]||{},a=this.participants[1]||{};this.eventId=e.eventKey||"",this.homeTeamName=ko.observable(i.name||""),this.awayTeamName=ko.observable(a.name||""),this.startTime=ko.observable(e.startTime),this.inPlay=ko.observable(!1),this.awayTeamScore=ko.observable(a.score||""),this.homeTeamScore=ko.observable(i.score||""),this.elapsedTime=ko.observable(""),this.href=ko.observable(),this.result=ko.observable(e.result),this.isSettled=ko.observable(null!==this.result()),this.numberOfMarkets=ko.observable(0),this.selections=this.toDispose(ko.observableArray()),this.showIconAndScore=ko.pureComputed(function(){return this.inPlay()===!0&&this.showScore()||this.isSettled()===!0},this),this.showScore=ko.pureComputed(function(){return this.awayTeamScore()&&this.homeTeamScore()},this),this.betStatusIcon=ko.pureComputed(function(){return"acca-event-status-icon-"+this.status().toLowerCase()},this),this.isSelectionsVisible=ko.pureComputed(function(){return this.numberOfMarkets()>0&&this.selections().length>0&&this.isMarketsVisible()},this),this.betStatusText=this.toDispose(ko.computed(function(){var t="";if(this.inPlay()===!1&&this.isSettled()===!1){var e=moment(this.startTime()),i=moment().add(3,"days");e.locale(s.value()),t=e.isSame(moment(),"day")?s.t("general.today")+"<br>":e.isBefore(i)?e.format("ddd")+"<br>":e.format("DD/MM")+"<br>",t+=e.format("HH:mm")}else this.isSettled()===!0?t=this.result()&&"void"===this.result().toLowerCase()?"VOID":"FT":this.elapsedTime()&&(t=this.elapsedTime()+" "+s.t("generic.minutesShort"));return t},this)),this.numberOfMarketsMore=this.toDispose(ko.computed(function(){var t=this.numberOfMarkets()-1,e=s.t("generic.more.more");return t>0&&(e=t+" "+e),e},this)),this.navigateToEventDetails=function(){var t=this.href();t.lastIndexOf("/")!==t.length-1&&(t+="/"),h.navigate(t)}.bind(this)},getPlacedSelectionLabel:function(){var t;switch(this.betInfo.accaMarketAbbreviation){case"WDW":t=this.getSelectionLabelWinDrawWin();break;case"BTTS":t=this.getSelectionLabelBothTeamsToScore();break;case"RUSH":t=this.getSelectionLabelRush()}return t},getSelectionLabelWinDrawWin:function(){var t=this.betInfo.selectionSort,e=this.betInfo.selectionName.toUpperCase();return"D"===t?e:e+" "+s.t("acca.selection.label.towin")},getSelectionLabelBothTeamsToScore:function(){return this.betInfo.marketName.toUpperCase()+" "+this.betInfo.selectionName.toUpperCase()},getSelectionLabelRush:function(){var t=s.t("acca.selection.label.resultrush"),e=t+" "+this.betInfo.selectionName.toUpperCase();return e},getUndoSelectionLabelWinDrawWin:function(){var t=this.betInfo.selectionSort,e=this.betInfo.selectionName,i=this.homeTeamName()+" "+s.t("generic.versus")+" "+this.awayTeamName();return"D"===t?i+" ("+s.t("coupon.selectionHeader.draw")+")":e+" "+s.t("acca.selection.label.towin")},calculateBetStatus:function(){var t,e=this.betInfo;if(this.inPlay()||this.isSettled())if(this.isSettled()&&this.result())t=this.getResultedStatus(this.result()),this.currentBetEditable(!1);else{var i=parseInt(this.homeTeamScore(),10),a=parseInt(this.awayTeamScore(),10),s=a+i;if(this.showScore())switch(e.accaMarketAbbreviation){case"BTTS":t=c.calculateBothTeamToScoreBet(i,a,e.selectionSort);break;case"OU1":t=c.calculateOverUnderBet(s,1,e.selectionSort);break;case"OU2":t=c.calculateOverUnderBet(s,2,e.selectionSort);break;case"OU3":t=c.calculateOverUnderBet(s,3,e.selectionSort);break;case"RUSH":t="",a>0&&i>0?t=c.calculateWinDrawWinBet(i,a,e.selectionSort):""===i&&""===a||(t=u);break;case"WDW":t=c.calculateWinDrawWinBet(i,a,e.selectionSort);break;default:t=v}else t="inprogress"}else t=v;return this.isSettled()&&t===p?t=m:this.isSettled()&&t===u&&(t=b),t.toLowerCase()},getResultedStatus:function(t){var e,i=t.toLowerCase();switch(i){case"win":return e=m;case"lose":return e=b;case"void":return e=f}},update:function(t){t=t||{},this.event=t,this.inPlay(t.eventIsInPlayNow||!1),this.isSettled(t.settled||t.resulted||!1),this.startTime(t.startTime||""),this.href(t.url||""),this.result()||this.result(this.findResult(t));var e=t.participants||[];e.length>0&&(this.homeTeamName(e[0].name),this.awayTeamName(e[1].name)),this.numberOfMarkets(t.marketCount||0),this.event.nameTranslations=l(this.event.nameTranslations);var i=t.mainMarket||{};i.event=t,i.nameTranslations=l(i.nameTranslations);var a=this.isSettled()?[]:i.selections;if(this.selections.updateArrayWithOrder(a,function(t){return new r(t,i)},"id"),this.isSettled()){var s=t.stats||{};this.homeTeamScore(s.scoreA||""),this.awayTeamScore(s.scoreB||"")}this.publish("update",this),this.updateScores(t)},updateScores:function(t){t=t||{};var e=t.inplay||null;e&&(this.homeTeamScore(e.score[0]||""),this.awayTeamScore(e.score[1]||""),this.elapsedTime(e.timeElapsedString||""))},getBetSelection:function(){var t=this.betInfo.selectionKey;return ko.utils.arrayFirst(this.selections(),function(e){return t===e.id})},findResult:function(t){var e=t.markets.find(function(t){return this.betInfo.marketKey===t.id},this);if(this.isSettled()&&e){var i=e.selections.find(function(t){return this.betInfo.selectionKey===t.id},this);return void 0===i?"Lose":i.result}return!1}},i.exports=a}),require.register("acca/index",function(t,e,i){e.init=function(){ko.components.register("acca",{viewModel:t("./view-model"),template:t("./template"),synchronous:!0})}}),require.register("acca/view-model",function(t,e,i){function a(t){t.data&&(n.mixin(this),this.isLoggedIn=l.user.authenticated,this.isMarketsVisible=t.isMarketsVisible,this.gamesTitle=s.t("acca.title.games")||"games:",this.stakeTitle=s.t("acca.title.stake")||"stake:",this.potentialTitle=ko.observable(s.t("acca.title.potential")),this.id=ko.observable(""),this.games=ko.observable("0"),this.stake=ko.observable(""),this.potentialReturn=ko.observable(""),this.winnings=ko.observable(""),this.accaStatus=ko.observable(""),this.cashoutStatus=ko.observable("UNAVAILABLE"),this.isCashedOut=ko.observable(!1),this.cashOut=ko.observable(!1),this.showDelayMsg=ko.observable(!1),this.bets=ko.observableArray(),this.refunds=ko.observable(""),this.isEmaEnabledCms=t.isEmaEnabledCms||ko.observable(!1),this.editMyAccaAvailable=ko.observable(!1),this.hideMyAccaButton=ko.observable(!1),this.editModeEnabled=ko.observable(!1),this.selectionsEditGroup=ko.observableArray([]),this.accaEditPotential=ko.observable("-"),this.accaSuspensionLabel=ko.observable(!1),this.accaPriceChangeLabel=ko.observable(!1),this.accaTimeOutLabel=ko.observable(!1),this.accaPriceChangeCO=ko.observable(!1),this.isAccaLost=ko.observable(!1),this.isEditAccaSuspended=ko.observable(!1),this.editErrorMessage=ko.observable(""),this.editError=ko.observable(!1),this.selectionsOddsString=ko.observable(""),this.isConfirmTutorialEnabled=ko.observable(!1),this.isGerman="de-de"===s.value(),this.addForEdit=this.addForEdit.bind(this),this.getNewPotentialReturnsResponse=this.getNewPotentialReturnsResponse.bind(this),this.handleBetPlacementResponse=this.handleBetPlacementResponse.bind(this),this.removeForEdit=this.removeForEdit.bind(this),this.updateDifference=this.updateDifference.bind(this),this.placeBetEditAcca=this.placeBetEditAcca.bind(this),this.changeEditMode=this.changeEditMode.bind(this),this.accaIsActive=ko.computed(function(){return"active"===this.accaStatus()},this),this.toDispose(d.subscribe("hideEditButton",function(){this.hideMyAccaButton(!0)}.bind(this))),this.toDispose(d.subscribe("showEditButton",function(){this.hideMyAccaButton(!1)}.bind(this))),this.toDispose(this.editModeEnabled.subscribe(function(t){t?this.handleEditMode(!0):this.handleEditMode(!1)}.bind(this))),this.toDispose(this.isEditAccaSuspended.subscribe(function(t){this.accaSuspensionLabel(t),this.toggleAllBets(!t)}.bind(this))),this.toDispose(this.accaStatus.subscribe(function(t){d.publish("accaStatusChange",{id:this.id(),status:t.toUpperCase()})}.bind(this))),this.accaPotentialReturn=ko.pureComputed(function(){return this.winnings()||this.refunds()||this.potentialReturn()},this),this.showNewPotentialReturns=ko.computed(function(){return this.selectionsEditGroup().length>0&&"-"!==this.accaEditPotential()||(this.accaEditPotential("-"),!1)},this),this.showEditAccaButton=ko.pureComputed(function(){return this.editMyAccaAvailable()&&!this.hideMyAccaButton()&&this.activeBets()>1},this),this.confirmButtonEnabled=ko.pureComputed(function(){return this.editModeEnabled()&&""!==this.selectionsOddsString()&&!this.isEditAccaSuspended()},this),this.accaStatusText=ko.computed(function(){var t=s.t("acca.status.text.active");switch(this.accaStatus()){case"active":this.potentialTitle(s.t("acca.title.potential"));break;case"cashedout":t=s.t("cashout.acca.text"),this.potentialTitle(s.t("acca.title.returns"));break;case"won":t=s.t("acca.status.text.won"),this.potentialTitle(s.t("acca.title.returns"));break;case"void":t=s.t("acca.status.text.void"),this.potentialTitle(s.t("acca.title.refunds"));break;case"inactive":t=s.t("acca.status.text.inactive"),this.potentialReturn("-")}return t},this),this.isCashOutVisible=ko.pureComputed(function(){return!this.isCashedOut()&&"active"===this.accaStatus()&&"UNAVAILABLE"!==this.cashoutStatus()},this),this.update(t.data()),this.toDispose(d.subscribe("^cashout:update/"+this.id()+"$",function(t){var e=t&&t.data||{};this.cashoutStatus(e.status),"SUSPENDED"===e.status?(this.isEditAccaSuspended(!0),this.editMyAccaAvailable(!0)):"ACTIVE"===e.status?(this.isEditAccaSuspended(!1),this.editMyAccaAvailable(!0)):"UNAVAILABLE"===e.status&&(this.isEditAccaSuspended(!1),this.editMyAccaAvailable(!1))}.bind(this))),t.cashoutSubscription.restart(),this.toDispose(t.data.subscribe(this.update.bind(this))))}var s=t("locale"),n=t("gear-disposable-mixin"),o=t("./history-bet-vm"),c=t("cashout"),r=t("domain-model/helper"),d=t("message-bus"),l=t("authentication"),h=t("authentication/user"),u=t("./accaAnimations"),b=[];a.prototype={update:function(t){t=t||{},this.tempSubs&&this.tempSubs.dispose(),this.isSettled=t.isSettled||!1,this.id(t.id||""),this.games(t.legs&&t.legs.length||""),this.stake(t.stake&&r.toFixed(t.stake,2)||""),this.initialStake=this.stake(),this.potentialReturn(t.potentialReturn&&r.toFixed(t.potentialReturn,2)||"-"),this.winnings(t.winnings||""),this.accaStatus((t.accaStatus||this.accaStatus()).toLowerCase()),this.showDelayMsg(!1),this.selectionPriceString=t.selectionPriceString,this.refunds(t.refunds||""),this.isGamesVisible=ko.pureComputed(function(){var t=this.gamesTitle.length+this.stakeTitle.length+this.potentialTitle().length+String(this.games()).length+r.currencyFormat(String(this.stake()),h).length+r.currencyFormat(String(this.potentialReturn()),h).length;return t<41},this);var e=this.getCashedOutAcca(this.id());e?(this.updateCashOut(e),this.isCashedOut(!0)):(this.isCashedOut(t.isCashedOut||!1),t.cashOut&&(this.cashOut(t.cashOut),this.cashoutStatus(t.cashOut?t.cashOut.status:"UNAVAILABLE"))),this.tempSubs={},n.mixin(this.tempSubs),this.bets(ko.utils.arrayMap(t.legs||[],function(t){var e=new o(t,this.isMarketsVisible);return this.tempSubs.toDispose(e),this.tempSubs.toDispose(e.subscribe("update",this.updateStatus.bind(this))),e}.bind(this))),this.updateStatus(),this.cashoutSub&&this.cashoutSub.dispose(),this.cashoutSub=c.subscribe("cashedout:"+this.id(),this.updateCashOut.bind(this))},updateStatus:function(){if("active"===this.accaStatus()){var t="won";this.bets().every(function(e){var i=e.status().toLowerCase();return"lost"===i?(t="inactive",this.isAccaLost(!0),this.toggleAllBets(!1),!1):(("won"!==t||"won"!==i&&"void"!==i)&&(t="active"),!0)}.bind(this)),this.accaStatus(t),this.setEditActive()}},updateCashOut:function(t){t=t||{};var e=this.id(),i=t.isWaiting||!1;this.checkCashedOutAcca(e)||(b.push({id:e,cashOut:t}),i&&this.showDelayMsg(!0)),this.accaStatus("cashedout"),this.winnings(t.amount||"-")},activeBets:function(){return this.bets().filter(function(t){return!t.isSettled()&&"void"!==t.status()}).length},checkCashedOutAcca:function(t){var e=!1;return b.forEach(function(i){i.id===t&&(e=!0)}),e},getCashedOutAcca:function(t){var e;return b.forEach(function(i){if(i.id===t)return void(e=i.cashOut)}),e},setEditActive:function(){var t=function(){var t=0;return this.bets().forEach(function(e){"won"!==e.status()&&"void"!==e.status()||t++}),this.bets().length-t>1}.bind(this);"active"===this.accaStatus()&&t()&&this.isEmaEnabledCms()?this.editMyAccaAvailable(!0):this.editMyAccaAvailable(!1)},changeEditMode:function(t,e){if(t.animationDone)this.editModeEnabled(!this.editModeEnabled()),u.resetHeaderAnimation();else{var i=e?e.target:null;this.trackAcca("Edit My ACCA",i),u.animateHeaderHolder(this.changeEditMode)}},disableMarketsInEditMode:function(){for(var t=document.querySelectorAll(".acca-event-selections"),e=0;e<t.length;e++)t[e].classList.add("dn")},enableMarketsInEditMode:function(){for(var t=document.querySelectorAll(".acca-event-selections"),e=0;e<t.length;e++)t[e].classList.remove("dn")},resetEditMode:function(t,e){var i=e?e.target:null;this.trackAcca("Cancel",i),this.selectionsEditGroup([]),this.selectionsOddsString(""),this.editModeEnabled(!1),this.resetAllBetsForEditing(),this.stake(this.initialStake),this.accaEditPotential("-"),this.accaTimeOutLabel(!1),this.accaPriceChangeLabel(!1),this.accaPriceChangeCO(!1),this.editError(!1)},findEditModeDifference:function(t,e,i){for(var a=[],s=[],n=0;n<t.length;n++)a[t[n]]=!0;for(var o=0;o<e.length;o++)a[e[o].betInfo.selectionKey]?delete a[e[o].betInfo.selectionKey]:e[o].isSettled()||"Void"===e[o].result()||(a[e[o].betInfo.selectionKey]=!0);for(var c in a)a.hasOwnProperty(c)&&s.push(c);i(s)},placeBetEditAcca:function(e,i){if(""!==this.selectionsOddsString()){var a=i?i.target:null;t("my-accas").service.placeBetEditAcca(e.id(),this.selectionsOddsString(),this.stake(),this.handleBetPlacementResponse),this.trackAcca("Confirm",a)}},handleBetPlacementResponse:function(t){if(this.clearErrors(),t.slipStatus&&"ACCEPTED"===t.slipStatus)d.publish("my-accas-tab:show");else if(t.errorCode&&t.errorCode.length>0){if("CASHOUT_VALUE_CHANGED"===t.slipStatus)"TCH_OBW_ERR_535"===t.errorCode?this.accaPriceChangeLabel(!0):this.accaPriceChangeCO(!0),this.accaEditPotential(t.potentialReturns||"-"),this.selectionsOddsString(t.selectionPriceString||""),this.stake(t.newStake||"");else if("SUSPENDED"===t.slipStatus)this.isEditAccaSuspended(!0);else if("EDIT_PENDING"===t.slipStatus)this.accaTimeOutLabel(!0),this.resetAllBetsForEditing(),this.toggleAllBets(!1),this.accaEditPotential("-");else{var e=this.getErrorMessage(t.errorCode);this.editError(!0),this.editErrorMessage(s.t(e.messageTranslationKey))}this.trackSlipError(t.errorCode,"r-sidebar/mybets-module")}},addForEdit:function(t,e,i){var a=i?i.target:null;this.selectionsEditGroup.indexOf(e)<0&&this.selectionsEditGroup.push(e),this.selectionsOddsString(""),this.findEditModeDifference(this.selectionsEditGroup(),this.bets(),this.updateDifference),this.trackSlipRemove(e,a)},updateDifference:function(t){if(1===t.length){var e=ko.utils.arrayFirst(this.bets(),function(e){return e.betInfo.selectionKey===t[0]});e.currentBetEditable(!1)}this.updatePotential()},updatePotential:function(){t("my-accas").service.editAcca(this.id(),this.selectionsEditGroup(),this.getNewPotentialReturnsResponse)},getNewPotentialReturnsResponse:function(t){if(this.clearErrors(),t.errorCode&&t.errorCode.length>0){if("TCH_OBW_ERR_540"===t.errorCode||"TCH_OBW_ERR_10702"===t.errorCode)return this.resetAllBetsForEditing(),void this.isEditAccaSuspended(!0);if("TCH_OBW_ERR_535"!==t.errorCode&&"TCH_OBW_ERR_10703"!==t.errorCode){var e=this.getErrorMessage(t.errorCode);return this.editError(!0),this.editErrorMessage(s.t(e.messageTranslationKey)),this.resetAllBetsForEditing(),void this.trackSlipError(t.errorCode,"r-sidebar/mybets-module")}"TCH_OBW_ERR_535"===t.errorCode?this.accaPriceChangeLabel(!0):this.accaPriceChangeCO(!0)}this.selectionsEditGroup&&0===this.selectionsEditGroup().length?this.accaEditPotential("-"):(this.accaEditPotential(t.potentialReturns||"-"),this.selectionsOddsString(t.selectionPriceString||""),t.newStake&&this.stake(t.newStake),u.handlePotentialBounce())},removeForEdit:function(t,e,i){var a=i?i.target:null,s=this.selectionsEditGroup.indexOf(e);this.selectionsEditGroup.splice(s,1);var n=this.bets().length-this.selectionsEditGroup().length;n>0&&this.bets().forEach(function(t){t.isSettled()||"void"===t.status()||t.currentBetEditable(!0)}),this.selectionsOddsString(""),this.updatePotential(),this.trackSlipUndo(e,a)},resetAllBetsForEditing:function(){this.bets().forEach(function(t){t.isSettled()||"void"===t.status()||(t.currentBetEditable(!0),t.toggleEdit(!1),t.slideAnimation(""))}),this.showNewPotentialReturns()},toggleAllBets:function(t){this.activeBets()>1&&this.bets().forEach(function(e){e.currentBetEditable(t)})},handleEditMode:function(t){t?(d.publish("hideToggleMarkets"),this.disableMarketsInEditMode()):(d.publish("showToggleMarkets"),this.enableMarketsInEditMode())},trackAcca:function(t,e){d.publish("track:acca",{action:t,element:e})},trackSlipRemove:function(t,e){var i=ko.utils.arrayFirst(this.bets(),function(e){return e.betInfo.selectionKey===t}),a=i.getBetSelection();a&&(a.betId="SGL_"+a.id),d.publish("track:slip-remove",{selection:a,element:e})},trackSlipUndo:function(t,e){var i=ko.utils.arrayFirst(this.bets(),function(e){return e.betInfo.selectionKey===t}),a=i.getBetSelection();a&&(a.betId="SGL_"+a.id),d.publish("track:slip-undo",{selection:a,totalStake:this.stake(),element:e})},trackSlipError:function(t,e){d.publish("track:betslip-error",{errorMessage:t,position:e})},getErrorMessage:function(t){var e={};return t?e.messageTranslationKey="tibco.error."+t:e.messageTranslationKey="generic.error",e},clearErrors:function(){this.accaTimeOutLabel(!1),this.accaPriceChangeLabel(!1),this.accaPriceChangeCO(!1),this.isEditAccaSuspended(!1),this.accaSuspensionLabel(!1),this.editError(!1)},dispose:function(){this.tempSubs&&this.tempSubs.dispose()}},i.exports=a}),window.cogwheels.addGear({name:"acca",version:"0.0.1"});
require.register("betslip/index",function(e,t,s){var i=e("./service"),a=e("message-bus");t.getBetslip=function(){return i.betSlip()},t.service=i,t.start=function(e){a.subscribeOnce("^locale:changed$",function(e){i.init()})}}),require.register("betslip/service",function(e,t,s){function i(){S.store("local","betslip",B.getSaveableSlip())}function a(){clearTimeout(d),d=setTimeout(function(){i()},500)}function r(){clearTimeout(b),b=setTimeout(function(){f()},300)}function n(){B.clearReceipts(),B.pub("update"),k.publish("overask-pending:over"),a()}function o(){var e=S.retrieve("local","overask-offer"),t=S.retrieve("local","overask-pending");e&&e.expiryDateTime>Date.now()&&k.publish("overask-offer:retrieved",e),t&&t.status&&N(t.overaskBetKeys,t)}function c(){B.removeAll();var e=S.retrieve("local","betslip")||{};return B.update(e),B.publish("betErrors",B.getBetErrors()),B.subscribe("store",a),B.subscribe("build",r),k.subscribe("authentication:logged-out",n),k.subscribe("authentication:logged-in",o),B}function p(){var e=S.retrieve("local","betslip")||{};B.update({bets:e.bets,betslipSelections:e.betslipSelections})}function l(e){e.boostTokens=[]}function u(e){e.parts.forEach(function(e){e.selections.forEach(l)})}function h(){R=!0,S.store("local","overask-pending",{}),w.dispose()}var d,b,f,g=e("locale"),m=e("./entities/betslip"),v=e("./entities/selection"),S=e("web-storage-extender"),y=e("utils/request"),k=e("message-bus"),P=e("custom-promise"),T=e("domain-model/helper"),E=e("oddsboost"),I=e("utils/debug"),W=I("betslip/service"),B=new m;t.addDataFromMemory=p,t.init=function(){c(),B.buildBets=function(e){this.buildBets(e)}.bind(this)},t.betSlip=function(){return B},t.removeAllButReceipts=function(){return B.removeAllButReceipts()};var w,R=!1,A=function(e,t,s){var i,a=[],r=t.body;if(e||200!==t.status)B.isPlacingBet=!1,s.doError&&s.doError(r);else{switch(r.slipStatus){case"ACCEPTED":B.receipts=[],a=r.betReceipts||[],B.isTote?(B.receipts.push({bet:B.bets[0],receipt:a[0],isTote:!0}),k.publish("track:add-transaction",i)):a.forEach(function(e){B.bets.forEach(function(t){e.betId===t.id&&(i={bet:t,receipt:e},B.receipts.push(i),k.publish("track:add-transaction",i))})}),B.removeAllButReceipts(),k.publish("authentication:update","alreadyUpdated"),k.publish("track:slip-bet-placement-success",a),k.publish("event:slip-bet-placement-success",a);break;case"PENDING":return void(s.doPending&&s.doPending(t));case"OVERASK_PENDING":R=!1,w=k.subscribe("overask-offer:canceled",h),s.doOveraskPending&&s.doOveraskPending(t.body);break;case"SLIP_BUILD_ERROR":B.errors=r.betErrors,B.pub("store"),B.updateErrorsAndWarnings(),B.pub("update"),k.publish("track:slip-bet-placement-error",a);break;default:B.errors=r.betErrors||[],0===B.errors.length&&("CANCELLED"===r.slipStatus?B.errors.push({type:"Cancelled",message:g.t("betslip.alert.error.slip-placebet-error")}):B.errors.push({type:"Unexpected",message:g.t("betting.PlaceBetHandler.error")})),B.pub("store"),B.updateErrorsAndWarnings(),B.pub("update")}B.isPlacingBet=!1,s.doSuccess&&s.doSuccess(r)}};t.placePending=function(e,t){var s="/"+g.value()+"/slip/pending";B.isPlacingBet=!0,y.post(s).send(e).set("X-Requested-With","XMLHttpRequest").end(function(e,s){A(e,s,t)})};var N=function(e,t){W("bet offers for %s",e);var s="/overask/getbetoffers/"+e;B.overaskIsPending=!0,R||(k.publish("placing-overaskBet",!0),y.get(s).set("Cache-Control","no-cache").set("Pragma","no-cache").end(function(s,i){x(s,i,e,t)}))};t.callOverask=N;var x=function(e,t,s,i){if(B.overaskIsPending=!1,t&&200===t.status&&null!==t.text){var a=JSON.parse(t.text);switch(a.storedPending=i,W("overask: %o",a),"PENDING"!==a.status&&(k.publish("overask-pending:over"),S.store("local","overask-pending",{}),w.dispose()),a.status){case"PENDING":k.publish("overask-pending:progress"),setTimeout(function(){N(s,i)},5e3);break;case"ACCEPTED":B.receipts=B.overaskReceipts;for(var r=0;r<a.overAskBets.length;r++)"REJECTED"===a.overAskBets[r].status&&(B.receipts[r].receipt.rejected=!0);B.removeAllButReceipts(),k.publish("authentication:update","alreadyUpdated"),k.publish("track:slip-bet-placement-success",B.receipts),k.publish("event:slip-bet-placement-success",B.receipts),B.receipts.forEach(function(e){k.publish("track:add-transaction",e)});break;case"REJECTED":k.publish("overask-offer:rejected");break;case"TIMED_OUT":k.publish("overask-offer:timed-out");break;case"NEW_OFFER":k.publish("overask-offer:new",a);break;default:k.publish("overask-offer:unknown-error",a)}}else k.publish("overask-offer:unknown-error",a)};t.placeBet=function(){var e=new P(["success","error","pending","overaskPending"]);if(B.isTote)return L(e);var t="/"+g.value()+"/slip/place",s=[],i=E.state();return B.bets.forEach(function(e){if(e.single)B.betslipSelections.forEach(function(t){e.id==="SGL_"+t.id&&(e.stakePerLine=t.stakePerLine,e.eachWayAvailable&&t.eachWaySelected?(e.eachWaySelected=!0,e.placeAsEachWay=!0,e.totalStake=(2*parseInt(e.numberOfLines)*parseFloat(e.stakePerLine)).toString()):(e.placeAsEachWay=!1,e.totalStake=(parseInt(e.numberOfLines)*parseFloat(e.stakePerLine)).toString()),e.legs[0].parts[0].selections[0].price=t.price)});else{var t=parseInt(e.numberOfLines)*parseFloat(e.stakePerLine);e.placeAsEachWay=e.eachWayAvailable&&e.eachWaySelected,e.placeAsEachWay&&(t*=2),e.totalStake=t.toString()}e.id===B.freebetApplicableBetId&&(e.freebetToken=B.selectedFreebet,e.freebetAmount=B.freebetAmount),i||(e.selections.forEach(l),e.legs.forEach(u),e.boostedReturns=[]),s.push(T.getSubsetOfObject(e,e.ignoreProps||[]))}),W("bets:",s),B.isPlacingBet=!0,y.post(t).send(s).set("X-Requested-With","XMLHttpRequest").end(function(t,s){A(t,s,e)}),e};var O,L=function(e){var t="/"+g.value()+"/slip/poolplace",s={},i=B.betslipSelections[0],a=B.bets[0];return a.stakePerLine=i.stakePerLine,a.toteLines=i.toteLines,a.totalStake=(parseInt(a.toteLines)*parseFloat(a.stakePerLine)).toString(),s.poolType="EW"===i.legSort?"UWIN":i.legSort,s.poolKey=i.marketId,s.stakePerLine=a.stakePerLine,s.toteLines=a.toteLines,s.totalStake=a.totalStake,s.maxStake=a.maxStake,s.minStake=a.minStake,"EW"===i.legSort&&(s.poolKeyEachWay=i.toteEwPoolId),s.poolItems=i.id.split("_").splice(1).map(function(e,t){return"UEXA"!==i.legSort&&"UTRI"!==i.legSort||1!==i.toteLines?{selectionKey:e}:{selectionKey:e,position:t+1}}),B.isPlacingBet=!0,y.post(t).send(s).set("X-Requested-With","XMLHttpRequest").end(function(t,s){A(t,s,e)}),e};f=function(e){if(B.isPlacingBet)return!1;if(B.isTote){var t=B.betslipSelections[0],s=[{id:t.id,legType:t.legSort,stakePerLine:t.stakePerLine,isTote:!0,toteLines:t.toteLines,minStake:2,maxStake:1e6,betCategory:"SINGLE",pending:!1,totalStake:0,active:!1,multiple:!1,single:!0,actualNumberOfLines:1,legs:[{parts:[{selections:[]}]}]}];return s[0].legs[0].parts[0].selections=B.betslipSelections.slice(),B.updateBets(s),B.pub("store"),B.pub("update"),!0}if(B.betslipSelections.length){var a="/"+g.value()+"/slip/build";O&&(O.abort(),O=null),k.publish("betslip:build:start"),B.isBuiltingBet=!0,O=y.post(a).send(B.getSaveableArr(B.betslipSelections,"IgnoreJsonProps")).set("X-Requested-With","XMLHttpRequest").end(function(t,s){var i=[];B.isBuiltingBet=!1,t||200!==s.status?k.publish("betslip:build:done",{status:"fail",response:s}):(s.body.betErrors.forEach(function(e){e&&e.message&&i.push(e)}),e?i.forEach(function(e){B.errors.push(e)}):B.errors=i,B.updateErrorsAndWarnings(),s.body.bets.forEach(function(e){var t=B.bets.find(function(t){return t.id===e.id});t&&(e.stakePerLine=t.stakePerLine)}),B.updateBets(s.body.bets),B.bets.forEach(function(e){B.betslipSelections.forEach(function(t){e.id==="SGL_"+t.id&&(t.prices.forEach(function(t){t.active&&(t.decimalOdds=e.legs[0].parts[0].selections[0].price.decimalOdds,t.numerator=e.legs[0].parts[0].selections[0].price.numerator,t.denominator=e.legs[0].parts[0].selections[0].price.denominator)}),t.minStake=e.minStake,t.maxStake=e.maxStake,t.returnsFactor=e.returnsFactor,t.eachWayNumerator=e.legs[0].parts[0].selections[0].eachWayNumerator,t.eachWayDenominator=e.legs[0].parts[0].selections[0].eachWayDenominator,t.birIndex=e.legs[0].parts[0].selections[0].birIndex,t.numberOfLines=e.numberOfLines,t.boostTokens=[],e.selections.filter(function(e){return e.id===t.id}).forEach(function(e){e.boostTokens.forEach(function(e){t.boostTokens.push(JSON.parse(JSON.stringify(e)))})}),W("betslip update selection: %o from %o",t,e),t.bus.publish("update",t))})}),E.publish("oddsboost:token",s.body.displayBoostButton&&s.body.boostToken),s.body.boostToken&&sessionStorage.setItem("boostedMaxStake",s.body.boostToken.maxStake),B.pub("store"),B.pub("update"),k.publish("betslip:build:done",{status:"success",response:s}),k.publish("track:bet-build-complete"))})}else B.removeAll(),E.publish("oddsboost:enable",!1),i()},t.buildBets=f;var C=function(e,t){y.get("/"+g.value()+"/slip/get_selection/"+e).set("Cache-Control","no-cache").set("Pragma","no-cache").set("X-Requested-With","XMLHttpRequest").end(function(e){if(200===e.status&&null!==e.text){var s=JSON.parse(e.text);t(new v(s))}}.bind(this))};t.getSelectionById=C;var F=function(e){var t=B.betslipSelections.some(function(t){return t.id===e.toString()});t?W("Betslip: skipping add selection, it is already present on the betslip."):C(e,function(e){B.addSelection(e)})};t.addSelectionById=F,window.externalAddToBetslip=function(e){F(e)},window.externalRemoveFromBetslip=function(e){B.removeSelection(e)}}),require.register("betslip/entities/bet",function(e,t,s){function i(e){var t=this;o.mixin(t),this.subscriptions=[],this.bus=r.mixin({}),this.applyOverask=ko.observable(!1),this.update(e),this.toDispose(n.subscribe("overask:enabled",function(s){p("overask: %o",s.data),s.data.applyOverask&&!s.data.allowComplexMultiple&&e.numberOfLines<=1&&t.applyOverask(!0)}))}var a=e("domain-model/helper"),r=e("utils/subscribable"),n=e("message-bus"),o=e("gear-disposable-mixin"),c=e("utils/debug"),p=c("betslip/bet");i.prototype.addToStake=function(e){var t=parseFloat(this.stakePerLine);this.hasSPSelections=!1,e=e||0,isNaN(t)&&(t=0),this.applyOverask()||(t=Math.min(t+e,this.maxStake)),p("overask stake: %o (of %o)",t,this.maxStake),this.stakePerLine=t},i.prototype.updatePotentialReturns=function(){var e=parseFloat(this.stakePerLine||0),t=parseFloat(this.returnsFactor||0),s=parseFloat(this.ewReturnsFactor||0),i=this.eachWaySelected||!1,r=0,n=this.potentialReturns||"N/A";return this.hasSPSelections||!t||i&&0===s&&0!==e?r="N/A":(r=i?s*e:t*e,r=a.toRoundedFixed(r,2)),isNaN(parseFloat(r))&&(r="N/A"),this.potentialReturns=r,n!==this.potentialReturns},i.prototype.update=function(e){var t=a.updateWithData(this,e);t&&(this.addToStake(),this.updatePotentialReturns(),this.bus.publish("update",this))},i.prototype.ignoreProps=["bus","subscriptions","disposables"],i.prototype.IgnoreJsonProps=["bus","subscriptions","disposables"],s.exports=i}),require.register("betslip/entities/betslip",function(e,t,s){var i=e("gear-disposable-mixin"),a=e("utils/subscribable"),r=e("./bet"),n=e("./selection"),o=e("message-bus"),c=e("domain-model/helper"),p=e("repository"),l=e("locale"),u=e("translated-property"),h=e("domain-model/helpers/sport-types"),d=e("pages/cmsData"),b=e("utils/debug"),f=b("betslip/slip"),g=function(e){var t=this;i.mixin(t),this.maxSelections=20,this.bets=[],this.errors=[],this.receipts=[],this.betslipSelections=[],this.isPlacingBet=!1,this.overaskIsPending=!1,this.isBuildingBet=!1,this.eventSubscriptions={},this.initial=!0,this.update(e||{}),this.initial=!1,this._subscriptions=[],this.isTote=!0,this.toteLines=1,this.isOverAskOffer=!1,this.cmsOverask=null,d(["overask"],function(e){e.overask&&(f("overask: %o",e),t.cmsOverask=e.overask)}),i.mixin(this),a.mixin(this)};g.prototype.convertToBetslipSelection=function(e,t){var s;e.nameRaw&&(s=e.nameRaw.toLowerCase(),e.unnamedFavourite=s.indexOf("unnamed")>=0&&s.indexOf("favourite")>=0);var i=function(e){e=e||[];for(var t=0;t<e.length;t++)if(ko.unwrap(e[t].active))return e[t];return null};t&&(e.prices=e.prices.map(function(e){var s=(t||[]).prices.find(function(t){return t.priceType===e.priceType});return s?e.active=s.active:e.active=!1,e}));var a=i(ko.unwrap(e.prices))||{},r=ko.unwrap(e.market)||{},n=ko.unwrap(r.event)||{};f("convert selection: %o {event: %o, market: %o}",e,n,r);var o,c={};if(c.id=e.id,c.name=e.name,c.nameTranslations=e.nameTranslations&&e.nameTranslations.original&&e.nameTranslations.original(),c.secondaryScorecastOutcomeId=e.secondaryScorecastOutcomeId||"",c.legSort=e.legSort||(c.secondaryScorecastOutcomeId?e.id&&e.id.substring(0,2):""),"SC"===c.legSort?o=l.t("bet.bettype.SC"):"LC"===c.legSort&&(o=l.t("bet.bettype.LC")),e.scorecastScorer&&null!==e.scorecastScorer){var p=e.nameTranslations&&e.nameTranslations.get()||e.name;c.name=o+"<br>"+e.scorecastScorer+"<br>"+p,c.nameTranslations={unpiped:c.name}}"undefined"!=typeof e.handicap&&(c.handicap=ko.unwrap(e.handicap)),c.rawHandicap=ko.unwrap(r.handicapRawOpenbet||""),c.bettable=ko.unwrap(e.bettable)!==!1,c.asianHandicapMarket="ASIAN_HANDICAP"===r.marketSort,c.marketName=ko.unwrap(r.name),c.marketNameTranslations=r.nameTranslations&&r.nameTranslations.original&&r.nameTranslations.original(),c.marketSort=r.marketSort,c.marketMinorCode=r.marketMinorCode,c.marketId=r.id,c.handicapMarket=r.handicapMarket,c.sport=n.sport||{},c.sportId=c.sport.id&&c.sport.id.toString()||"";var u=ko.unwrap(n.name)||r.eventName;return c.sportId===h.HORSE_RACING||c.sportId===h.GREYHOUNDS?c.eventName=u+" "+(n.sportsBookType&&n.sportsBookType.name?n.sportsBookType.name:""):c.eventName=u,c.eventId=n.id||r.eventId,c.birIndex=ko.unwrap(r.birIndex||""),c.maxAcc=e.maxAcc||r.maxAcc||0,c.sportsBookClass=n.sportsBookClass||{},c.startTime=ko.unwrap(n.startTime),c.status=e.status||"ACTIVE",c.outcomeId=e.outcomeId||"",c.includeInMultiples=!e.hasOwnProperty("includeInMultiples")||e.includeInMultiples,c.scorecastScorer=e.scorecastScorer||"",c.options={},c.price={priceType:ko.unwrap(a.priceType),legType:"Win",name:ko.unwrap(a.name)||"",decimalOdds:ko.unwrap(a.decimalOdds)||"",numerator:ko.unwrap(a.numerator)||"",denominator:ko.unwrap(a.denominator)||""},c.prices=ko.unwrap(e.prices).map(function(e){return{priceType:ko.unwrap(e.priceType),legType:"Win",name:ko.unwrap(e.name)||"",decimalOdds:ko.unwrap(e.decimalOdds)||"",numerator:ko.unwrap(e.numerator)||"",denominator:ko.unwrap(e.denominator)||"",active:ko.unwrap(e.active)||!1}}),c.eachWayPlaces=ko.unwrap(r.eachWayPlaces)||0,c.eachWayAvailable=ko.unwrap(r.eachWayAvailable)&&!e.unnamedFavourite||"",c.eachWayNumerator=ko.unwrap(r.eachWayNumerator)||0,c.eachWayDenominator=ko.unwrap(r.eachWayDenominator)||0,c.forecastTricastSelection=e.forecastTricastSelection||!1,c.toteSelection=e.toteSelection||!1,c.toteLines=e.toteLines||1,c.isToteMultileg=e.isToteMultileg,c.toteEwPoolId=r.toteEwMarketId||0,c.toteEventId=e.toteEventId||0,e.toteSelection&&(c.minStake=e.isToteMultileg&&"USC6"!==e.legSort||"USW"===e.legSort?1:2,c.maxStake=1e5),c.includeInMultiples=!c.secondaryScorecastOutcomeId&&c.includeInMultiples,c.classId=c.sportsBookClass.id||"",f("convert to selection %o (%o, %o)",c,e,t),c},g.prototype.getNewSelection=function(e){var t,s,i,a=this;return!!e.id&&(t=new n(e),t.subscriptions.push(t.bus.subscribe("update",this.recalculate.bind(this))),t.eventId&&(i=t.eventId,s=this.eventSubscriptions[i],s?s.selections[t.id]=t:(s={},s.selections={},s.selections[t.id]=t,s.subscription=p.subscribe("events",i,function(e,t,i){if(!e){var r=!1;t.markets.forEach(function(e){e.event=t,e.selections.forEach(function(t){t.market=e,s.selections[t.id]&&s.selections[t.id].externalUpdate(a.convertToBetslipSelection(t,s.selections[t.id]))&&(r=!0)})}),r&&a.publish("betErrors",a.getBetErrors())}}),a.eventSubscriptions[i]=s)),t)},g.prototype.getNewBet=function(e){var t=new r(e);return t.subscriptions.push(t.bus.subscribe("update",this.recalculate.bind(this))),t},g.prototype.checkForOverask=function(e){var t=this,s=!1,i=e.some(function(e){return e.inPlaySelection||e.tropical});!this.cmsOverask.allowInplayOffers&&i||(s=!0),f("allow overask: %o",s),o.publish("overask:enabled",{applyOverask:s,allowComplexMultiple:t.cmsOverask.allowComplexMultiple})},g.prototype.update=function(e,t){this.errors=e.errors||[],this.receipts=e.receipts||[],(e.betslipSelections||[]).forEach(function(e){e.toteSelection&&(this.isTote=!0,this.toteLines=e.toteLines),this.addSelection(e,!0)}.bind(this)),(e.bets||[]).forEach(function(e){this.addBet(e)}.bind(this)),this.updateStartingPrice(),this.singleBetCount=this.betslipSelections.length,this.updateErrors(e.errors||[]),this.updatePotentialReturns(),this.cmsOverask&&this.cmsOverask.enable&&!this.isTote&&this.checkForOverask(this.bets),this.pub("update")},g.prototype.updateStartingPrice=function(){var e=!1;this.betslipSelections.forEach(function(t){var s=t.hasStartingPrice&&t.hasStartingPrice(),i=t.includeInMultiples;s&&i&&(e=!0)}),this.bets.forEach(function(t){t.multiple&&t.hasSPSelections!==e&&(t.hasSPSelections=e,t.updatePotentialReturns(),t.bus.publish("update:sp",t))})},g.prototype.pub=function(e){!this.initial&&this.publish(e,this)},g.prototype.updateErrors=function(e){this.errors=e||[],!this.initial&&e.length>0&&this.pub("error"),this.updateErrorsAndWarnings()},g.prototype.getBetById=function(e){for(var t=this.bets.length;t--;)if(this.bets[t].betId===e)return this.bets[t]},g.prototype.updateBets=function(e){if(!e)return!1;var t=this,s=!1,i=t.bets.slice(0);return e.forEach(function(e){for(var a=i.length;a--;)if(i[a].id===e.id)return i[a].update(e),void i.splice(a,1);s=!0,t.bets.push(t.getNewBet(e))}),i.forEach(function(e){s=!0,t.bets.splice(t.bets.indexOf(e),1)}),t.cmsOverask&&t.cmsOverask.enable&&t.checkForOverask(t.bets),s},g.prototype.addSelection=function(e,t){var s=this;if(this.isTote&&this.betslipSelections.length>0)return this.pub("tote-already-in-slip"),!1;if(e.toteSelection&&this.betslipSelections.length>0)return this.pub("tote-slip-not-empty"),!1;this.isTote=e.toteSelection;var i=String(e.id),a=this.betslipSelections.some(function(e){return String(e.id)===i}),r={},n=!1;!this.isPlacingBet&&this.betslipSelections.length>=this.maxSelections&&(n=!0),this.toDispose(o.subscribe("placing-overaskBet",function(e){s.isOverAskOffer=e.data,s.isPlacingBet=!1}));var c=function(){var t=l.t("overask.popup.cancel.title"),s=l.t("overask.popup.new.selection.body"),i=l.t("overask.popup.add.new.selection"),a=l.t("overask.popup.cancel.no-wait"),r=e.id;o.publish("modal:overask-popup",{action:"open",title:t,message:s,addToBetslip:i,waitButton:a,selectionId:r})};return s.isOverAskOffer?c():!n&&!a&&!this.isPlacingBet||this.overaskIsPending?(o.publish("selection-added"),r=this.getNewSelection(e),this.betslipSelections.push(r),t=t||!1,t||(this.pub("store"),this.pub("update"),this.pub("build"),this.publish("betErrors",this.getBetErrors()))):n&&this.pub("slip-full"),o.publish("betslipexpander:showbetsliptab"),r},g.prototype.addRawSelection=function(e,t){this.addSelection(this.convertToBetslipSelection(e),t)},g.prototype.addBet=function(e){var t=this.getNewBet(e);return this.bets.push(t),t},g.prototype.hasPriceTypeChanged=function(e,t){var s=e.getSelectedPrice(t.prices).priceType;return e.price.priceType!==s},g.prototype.updateBetsOnSelectionChange=function(){var e=function(e,t){var s;return(e||[]).forEach(function(e){s&&e.priceType!==t||(s=e)}),s};this.bets.forEach(function(t){this.betslipSelections.forEach(function(s){t.legs[0].parts[0].selections.forEach(function(t){t.id===s.id&&(t.price=e(t.prices,s.price.priceType))})}.bind(this))}.bind(this))},g.prototype.updateSelection=function(e){var t=String(e.id),s=this.betslipSelections.find(function(e){return String(e.id)===t}),i=!1;s&&(i=this.hasPriceTypeChanged(s,e),s.update(e),s.updatePrices(e.price.priceType),i&&this.updateBetsOnSelectionChange(),this.pub("store"),this.pub("update"))},g.prototype.updateRawSelection=function(e){this.updateSelection(this.convertToBetslipSelection(e))},g.prototype.removeSelection=function(e){var t;if(!this.isPlacingBet&&!this.isBuiltingBet){for(t=this.betslipSelections.length;t--;){var s=this.betslipSelections[t];s.id===e&&(this.eventSubscriptions[s.eventId]&&(delete this.eventSubscriptions[s.eventId].selections[s.id],0===Object.keys(this.eventSubscriptions[s.eventId].selections).length&&(this.eventSubscriptions[s.eventId].subscription.dispose(),delete this.eventSubscriptions[s.eventId])),s.dispose(),this.betslipSelections.splice(t,1))}this.isTote=!1,this.pub("build")}this.publish("betErrors",this.getBetErrors())},g.prototype.addForecastTricast=function(e,t,s,i,a){for(var r={},n=a,c="",p="",l={id:e,name:t},h=0;h<i.length;h++)n+="_"+i[h].selectionId,c+=("TC"===a||"SF"===a?h+1+". ":"")+i[h].selectionName+" <br>",p+=i[h].selectionId+"_";r.id=n,r.name=c,r.outcomeId=p,r.nameTranslations=u({unpiped:c}),r.market={name:s,nameTranslations:u({unpiped:s}),event:l},r.legSort=a,r.forecastTricastSelection=!0,r.toteSelection=!1,r.includeInMultiples=!1,r.prices=[{priceType:"STARTING_PRICE",active:!0}],r.maxAcc=1,this.addSelection(this.convertToBetslipSelection(r))&&(this.pub("build"),o.publish("betslipexpander:showbetsliptab"))},g.prototype.addTote=function(e,t,s,i,a,r,n,c){for(var p={},l=a,h="",d=i.length>1,b=d?null:{id:1,name:i[0].name},f=0;f<i.length;f++){h+=d?"Leg "+i[f].leg+": "+i[f].name+"<ol>":"";for(var g=0;g<i[f].selections.length;g++){var m=i[f].selections[g];l+="_"+m.id,d?h+="<li>"+(m.number>0?m.number+". ":"")+m.name+"</li>":("UTRI"!==a&&"UEXA"!==a||"any"===m.column.toString().toLowerCase()?m.name=m.number+". "+m.name:h+=g+1+". ",h+=m.name+"<br>")}h+=d?"</ol>":""}return p.id=l,p.name=h,p.nameTranslations=u({unpiped:h}),p.market={name:s,nameTranslations:u({unpiped:s}),id:e,toteEwMarketId:t,event:b},p.legSort=a,p.forecastTricastSelection=!1,p.toteSelection=!0,p.includeInMultiples=!1,p.prices=[{priceType:"STARTING_PRICE",active:!0}],p.maxAcc=1,p.toteLines=r||1,p.isToteMultileg=d,p.toteEventId=c||1,!!this.addSelection(this.convertToBetslipSelection(p))&&(this.betslipSelections[0].stakePerLine=n||0,this.pub("build"),this.betslipSelections[0].bus.publish("update",this.betslipSelections[0]),o.publish("betslipexpander:showbetsliptab"),!0)},g.prototype.removeBet=function(e){this.removeSelection(e.id)},g.prototype.removeAll=function(){this.receipts.length=0,this.removeAllButReceipts(),this.pub("store")},g.prototype.clearReceipts=function(){this.receipts.length=0},g.prototype.removeAllButReceipts=function(){var e=this;this.errors.length=0,this.bets.length=0,this.betslipSelections.forEach(function(e){e.dispose&&e.dispose()}),this.betslipSelections.length=0,Object.keys(this.eventSubscriptions).forEach(function(t){e.eventSubscriptions[t].subscription.dispose()}),this.eventSubscriptions={},this.isTote=!1,this.pub("update")},g.prototype.getSaveableArr=function(e,t){return t=t||"ignoreProps",e.length>0?e.map(function(s){return c.getSubsetOfObject(s,e[0][t]||[])}):[]},g.prototype.getSaveableSlip=function(){return{bets:this.getSaveableArr(this.bets,"ignoreProps"),errors:this.errors,betslipSelections:this.getSaveableArr(this.betslipSelections,"ignoreProps")}},g.prototype.updatePotentialReturns=function(){for(var e,t,s=0,i=this.betslipSelections.length,a=this.potentialReturns,r=!1,n=!1;i--;)e=this.betslipSelections[i],e.includeInMultiples&&e&&e.price&&e.price.priceType&&"STARTING_PRICE"===e.price.priceType?r=!0:isNaN(e.potentialReturns)?e.stakePerLine>0&&(n=!0):s+=parseFloat(e.potentialReturns);for(i=this.bets.length;i--;)t=this.bets[i],t.single||(isNaN(t.potentialReturns)?t.stakePerLine>0&&(n=!0):s+=parseFloat(t.potentialReturns));return r||n&&(0===s||!r)?this.potentialReturns="N/A":this.potentialReturns=c.toRoundedFixed(s,2),a!==this.potentialReturns},g.prototype.getBetslipSelectionById=function(e){for(var t=this.betslipSelections.length;t--;)if(this.betslipSelections[t].id===e)return this.betslipSelections[t];return null},g.prototype.updateErrorsAndWarnings=function(){for(var e=this.betslipSelections.length;e--;)this.betslipSelections[e].betError="";var t=!1;this.errors=this.errors||[],this.errors.forEach(function(e){var s;if(e.global||null===e.betId&&null===e.selectionId){switch(e.type){case"SessionExpired":o.publish("authentication:logout"),o.publish("track:session-expired");break;case"BetplacementError":e.message=e.message||l.t("betslip.alert.error.slip-placebet-error")}o.publish("track:betslip-error",{errorMessage:e.message,position:"r-sidebar/betslip-module"})}else{if(s=this.getBetslipSelectionById(e.betId||e.selectionId),!s)return!1;switch(t=!0,e.type){case"HandicapChange":e.message&&s.addUpdateBetWarnings("handicap",e.message);break;case"PriceChange":s.updatePriceWarnings(e.newPrice,e.oldPrice);break;case"EachWayFractionChanged":e.message&&s.eachWayDenominator>0&&s.addUpdateBetWarnings("eachwayTerms",e.message);break;case"EachWayAvailableChanged":e.message&&s.addUpdateBetWarnings("eachwayAvailable",e.message);break;case"EachWayPlacesChanged":e.message&&s.addUpdateBetWarnings("eachwayPlaces",e.message);break;case"MarketIndexChanged":e.message&&s.addUpdateBetWarnings("birindex",e.message);break;case"Suspended":s.suspend(e.message);break;case"BoostPriceMismatch":s.addUpdateBetWarnings(e.type,e.message);break;default:e.message&&s.addUpdateBetWarnings(e.type,e.message)}s.bus.publish("update",s)}}.bind(this)),t&&this.publish("betErrors",this.getBetErrors())},g.prototype.clearBetWarnings=function(){for(var e,t=this.betslipSelections.length;t--;)e=this.betslipSelections[t],e.betWarnings&&e.betWarnings.length>0&&(e.betWarnings.length=0,e.bus.publish("update",e))},g.prototype.getBetslipStatus=function(){for(var e,t=this.betslipSelections.length,s=0;t--;){if(e=this.betslipSelections[t],e.suspended){s=3;break}2!==s&&e.priceIncrease?s=1:e.betWarnings&&e.betWarnings.length>0&&(s=2)}switch(s){case 3:return"SUSPENDED";case 2:return"WARNING";case 1:return"PRICEINCREASE";default:return""}},g.prototype.getNumberChangedSelections=function(){var e=0;return this.betslipSelections.forEach(function(t){t.betWarnings&&t.betWarnings.length>0&&!t.suspended&&e++}),e},g.prototype.recalculate=function(){this.pub("store"),this.updateStartingPrice(),this.updatePotentialReturns(),this.pub("update")},g.prototype.getBetErrors=function(){return{status:this.getBetslipStatus(),number:this.getNumberChangedSelections()}},g.prototype.clearStakes=function(){this.betslipSelections.forEach(function(e){0!==e.stakePerLine&&(e.stakePerLine=0,e.bus.publish("update",e),e.bus.publish("stake:clear"))}),this.bets.forEach(function(e){0!==e.stakePerLine&&(e.stakePerLine=0,e.bus.publish("update",e),e.bus.publish("stake:clear"))})},s.exports=g}),require.register("betslip/entities/selection",function(e,t,s){function i(e){var t=this;o.mixin(t),this.subscriptions=[],this.betWarnings=[],this.bus=n.mixin({}),this.potentialReturns="N/A",this.applyOverask=ko.observable(!1),this.update(e),this.toDispose(l.subscribe("overask:enabled",function(e){h("overask: %o",e.data),t.applyOverask(e.data.applyOverask)}))}function a(e,t){return e/t+1}var r=e("domain-model/helper"),n=e("utils/subscribable"),o=e("gear-disposable-mixin"),c=e("locale"),p=e("authentication/user"),l=e("message-bus"),u=e("utils/debug"),h=u("betslip/selection");i.prototype.dispose=function(){this.subscriptions.forEach(function(e){e&&e.dispose&&e.dispose()}),this.subscriptions=[]},i.prototype.update=function(e){var t=r.updateWithData(this,e);t&&(this.bettable||(this.bettable=this.active),this.updateSuspended(this.bettable),this.addToStake(),this.updatePrice(),this.updatePotentialReturns(),this.updateInclueInMultiples(),this.bus.publish("update",this))},i.prototype.updateInclueInMultiples=function(){1===this.maxAcc&&(this.includeInMultiples=!1)},i.prototype.updateSuspended=function(e,t){this.bettable=e,this.suspended=!e,this.suspended?this.betError=t||c.t("tibco.error.TCH_OBW_ERR_540"):this.betError=""},i.prototype.suspend=function(e){this.updateSuspended(!1,e)},i.prototype.addToStake=function(e){var t=parseFloat(this.stakePerLine);this.hasSPSelections=!1,e=e||0,isNaN(t)&&(t=0),this.applyOverask()||(t=Math.min(t+e,this.maxStake)),h("overask stake: %o (of %o)",t,this.maxStake),this.stakePerLine=t},i.prototype.updatePriceWarnings=function(e,t){var s=0,i=0,a="ASIAN_HANDICAP"===this.marketSort;a||"fractional"!==p.oddsDisplay()?(i=r.toFixed(t.decimalOdds,2),s=r.toFixed(e.decimalOdds,2)):(i=t.numerator+"/"+t.denominator,s=e.numerator+"/"+e.denominator),this.addUpdateBetWarnings("price",c.t("betslip.alert.price-has-changed",i,s));for(var n=this.prices.length;n--;){var o=this.prices[n];o.priceType===e.priceType&&this.prices.splice(n,1,e)}1===this.betWarnings.length&&parseFloat(e.decimalOdds)>parseFloat(t.decimalOdds)&&(this.priceIncrease=!0),this.price=e,this.price.active=!0},i.prototype.externalUpdate=function(e){var t,s=!1,i=[];this.startTime!==e.startTime&&(this.startTime=e.startTime,s=!0),e.prices=e.prices||[],e.prices.forEach(function(e){"STARTING_PRICE"===e.priceType||e.priceType!==this.price.priceType||e.numerator===this.price.numerator&&e.denominator===this.price.denominator||(this.updatePriceWarnings(e,this.price),s=!0),i.push(e.priceType)}.bind(this)),s||(e.prices.length!==this.prices.length?s=!0:(this.prices.forEach(function(e){i.splice(i.indexOf(e.priceType),1)}),i.length||(s=!0))),this.prices=e.prices,1===this.prices.length&&s&&(t=this.prices[0].priceType),this.updatePrice(t),e.birIndex!==this.birIndex&&(null!==this.birIndex&&"undefined"!=typeof this.birIndex&&this.addUpdateBetWarnings("birindex",c.t("betslip.alert.marketindex-has-changed",this.birIndex,e.birIndex)),this.birIndex=e.birIndex,s=!0),e.handicap=e.handicap||"",this.handicap=this.handicap||"",this.rawHandicap=e.rawHandicap;var r=parseFloat(e.handicap),n=parseFloat(this.handicap),o=!isNaN(r)&&!isNaN(n)&&r!==n;return o=o?o:e.handicap.split(",").length!==this.handicap.split(",").length,o&&(this.addUpdateBetWarnings("handicap",c.t("betslip.alert.handicap-has-changed",this.handicap,e.handicap)),this.handicap=e.handicap,s=!0),e.eachWayAvailable?e.eachWayAvailable&&(this.removeBetWarning("eachwayAvailable"),this.eachWayAvailable=!0,s=!0):(this.addUpdateBetWarnings("eachwayAvailable",c.t("betslip.alert.eachway-removed")),this.removeBetWarning("eachwayTerms"),this.removeBetWarning("eachwayPlaces"),this.eachWayAvailable=!1,this.eachWaySelected=!1,s=!0),e.eachWayDenominator&&e.eachWayNumerator&&(e.eachWayDenominator===this.eachWayDenominator&&e.eachWayNumerator===this.eachWayNumerator||(this.addUpdateBetWarnings("eachwayTerms",c.t("betslip.alert.eachway-terms-has-changed",this.eachWayNumerator+"/"+this.eachWayDenominator,e.eachWayNumerator+"/"+e.eachWayDenominator)),this.eachWayDenominator=e.eachWayDenominator,this.eachWayNumerator=e.eachWayNumerator,s=!0)),e.eachWayPlaces&&e.eachWayPlaces!==this.eachWayPlaces&&(this.addUpdateBetWarnings("eachwayPlaces",c.t("betslip.alert.eachway-places-has-changed",this.eachWayPlaces,e.eachWayPlaces)),this.eachWayPlaces=e.eachWayPlaces,s=!0),this.returnsFactor=a(e.price.numerator,e.price.denominator),e.bettable!==this.bettable&&(this.updateSuspended(e.bettable),s=!0),s&&(this.updatePotentialReturns(),this.bus.publish("update",this)),s},i.prototype.updatePotentialReturns=function(){if(!this.price)return this.potentialReturns="N/A",!1;this.ewReturnsFactor=this.eachWayNumerator/this.eachWayDenominator*(this.price.numerator/this.price.denominator)+1;var e=parseFloat(this.stakePerLine||0),t=parseFloat(this.returnsFactor||0),s=parseFloat(this.ewReturnsFactor||0),i=this.eachWaySelected||!1,a=0,n=this.potentialReturns;return a="STARTING_PRICE"===this.price.priceType?"N/A":!t||i&&0===s&&0!==e?parseFloat(a)?a:"0.00":i?r.getEachWayPotentialReturn(this.eachWayNumerator,this.eachWayDenominator,this.price,e):r.getPotentialReturn(this.price,e),this.potentialReturns=a,n!==this.potentialReturns},i.prototype.updatePrices=function(e){(this.prices||[]).forEach(function(t){t.active=t.priceType===e}),(e&&"STARTING_PRICE"===e||this.price&&this.price.priceType!==e)&&(this.betWarnings=this.betWarnings.filter(function(e){return"price"!==e.type})),this.updatePrice(),this.updatePotentialReturns(),
this.bus.publish("update",this)},i.prototype.getSelectedPrice=function(e){var t;return(e||[]).forEach(function(e){t&&!e.active||(t=e)}),t},i.prototype.updatePrice=function(){var e=this.getSelectedPrice(this.prices||[]);e.active=!0,this.price=e},i.prototype.hasStartingPrice=function(){return!this.forecastTricastSelection&&this.price&&"STARTING_PRICE"===this.price.priceType},i.prototype.removeBetWarning=function(e){for(var t=this.betWarnings.length;t--;)this.betWarnings[t].type===e&&this.betWarnings.splice(t,1)},i.prototype.addUpdateBetWarnings=function(e,t){var s=e.indexOf("eachway")===-1;this.removeBetWarning(e),this.priceIncrease&&delete this.priceIncrease,(s||this.eachWaySelected)&&this.betWarnings.push({type:e,message:t}),this.betWarnings.sort(function(e,t){return e.type<t.type?-1:e.type>t.type?1:0})},i.prototype.ignoreProps=["bus","price","potentialReturns","subscriptions","disposables"],i.prototype.IgnoreJsonProps=["bus","subscriptions","disposables"],s.exports=i}),window.cogwheels.addGear({name:"betslip",version:"0.0.1"});
require.register("inplayMenu/index",function(e,t,a){t.init=function(){ko.components.register("inplay-menu",{viewModel:e("./view-model"),template:e("./template"),synchronous:!0})}}),require.register("inplayMenu/template",function(e,t,a){a.exports='<div id="inplay-sidebar" data-bind="attr:{\'data-t-position\': getSidebarGAPosition }" class="wrapper sidebar expanded"><header class="main-sidebar-header"><div class="stream-toggle-container"><div class="stream-toggle"><div class="toggle-all" data-bind="\n                css: { \'filter-button\': true, active: filterSidebar() === \'all\'},\n                click: filterAll,\n                text: \'ALL\'"></div><div class="toggle-stream" data-bind="\n                css: { \'filter-button\': true, active: filterSidebar() === \'video\'},\n                click: filterVideo,\n                hoverTooltip: { text: locale.t(\'streams.context.tooltip\'), skin: \'black\'}"><span class="icon-stream"></span></div></div></div><div class="sidebar-toggle-button" data-bind="click: function(data, event){ toggleLeftSidebar(false, data, event) }"><span class="icon-arrow"></span> <span class="icon-arrow"></span></div></header><!-- ko if: inplay.isFetched() ? inplay.hasContent() : true --><header class="inplay" data-bind="toggleWithUpdate: inplay.expanded"><span class="icon-arrow white-arrow"></span> <span class="title" data-bind="text: locale.t(\'eventgroup.content.inplay\')"></span></header><div class="inplay-wrapper"><!-- ko foreach: inplay.filteredList --><h2 class="sport" data-bind="toggle, css: { expanded: $root.firstLoadEventSportName() === nameRaw }, click: $parent.toggleLeftSidebarByIcon()"><span class="icon-arrow small-expand"></span> <span class="title" data-bind="text: name + \' (\' + menuEvents().length + \')\'"></span> <span data-bind="css: (menuEvents().length && menuEvents()[0].sportName) ? \'sidebar-sports-icon icon-\' + parseInt(menuEvents()[0].sportId) : \'\'"></span></h2><ul class="events" data-bind="foreach: menuEvents(), css: { dn: $root.firstLoadEventSportName() !== nameRaw }"><li><a class="event-link" data-bind="href: href, css: { active: id === $root.currentEventId() }"><!-- ko if: homeTeamName && awayTeamName  --><span class="teams"><span class="name" data-bind="textAndTooltip: homeTeamName"></span> <span class="name" data-bind="textAndTooltip: awayTeamName"></span></span><!-- /ko --><!-- ko ifnot: homeTeamName && awayTeamName  --> <span class="teams"><span class="name" data-bind="html: name"></span></span><!-- /ko --> <span class="stream-icon-sidebar" data-bind="if: hasStream"><span class="icon-stream"></span></span><!-- ko if: homeTeamName && awayTeamName  --> <span class="scores"><!-- ko if: showScoreTitle --><span class="score-title" data-bind="text: $component.locale.t(\'eventGroup.cricket.second\')"></span><!-- /ko --><!-- ko if: showScoreTemplate --> <span class="score" data-bind="text: homeTeamScore"></span> <span class="score" data-bind="text: awayTeamScore"></span><!-- /ko --></span><!-- /ko --></a></li></ul><!-- /ko --></div><!-- /ko --><!-- ko if: upcoming.isFetched() ? upcoming.hasContent() : true --><header class="upcoming" data-bind="toggleWithUpdate: upcoming.expanded"><span class="icon-arrow white-arrow"></span> <span class="title" data-bind="text: locale.t(\'sports.sports_level.featured.upcoming_sports\')"></span></header><div class="upcoming-wrapper"><!-- ko foreach: upcoming.filteredList --><h2 class="sport" data-bind="toggle"><span class="icon-arrow small-expand"></span> <span class="title" data-bind="textAndTooltip: name + \' (\' + menuEvents().length + \')\'"></span> <span data-bind="css: (menuEvents().length && menuEvents()[0].sportName) ? \'sidebar-sports-icon icon-\' + parseInt(menuEvents()[0].sportId) : \'\'"></span></h2><ul class="events dn" data-bind="foreach: menuEvents()"><li><a data-bind="href: href, css: { active: id === $root.currentEventId() }" class="event-link"><!-- ko if: homeTeamName && awayTeamName  --><span class="teams"><span class="name" data-bind="textAndTooltip: homeTeamName"></span> <span class="name" data-bind="textAndTooltip: awayTeamName"></span></span><!-- /ko --><!-- ko ifnot: homeTeamName && awayTeamName  --> <span class="teams"><span class="name" data-bind="html: name"></span></span><!-- /ko --> <span class="stream-icon-sidebar" data-bind="if: hasStream"><span class="icon-stream"></span></span> <span class="start-time" data-bind="with: startTimeFormated"><!-- ko if: date --><span class="date" data-bind="text: date"></span><!-- /ko --><!-- ko if: time --> <span class="time" data-bind="text: time"></span><!-- /ko --></span></a></li></ul><!-- /ko --></div><!-- /ko --></div>'}),require.register("inplayMenu/menu-event",function(e,t,a){function s(e){this.ipLocation=i.getCookie("user_location"),this.populate(e)}var i=e("domain-model/helper");s.prototype={hasScore:function(){return this.homeTeamScore()||this.awayTeamScore()},updateShowScoreTitle:function(){var e=this.sportName&&this.sportName.toLowerCase();"cricket"===e&&this.hasScore()&&this.displayTwoCricketInnings()&&this.showScoreTitle(!0)},showScoreTemplate:function(){return this.hasScore()&&this.homeTeamName&&this.awayTeamName},populate:function(e){this.id=e.id,this.showScoreTitle=ko.observable(!1),this.name=e.name,this.sportName=e.sportName,this.sportId=e.sportId,this.homeTeamName=e.homeTeamName,this.awayTeamName=e.awayTeamName,this.homeTeamScore=ko.observable(e.homeTeamScore),this.awayTeamScore=ko.observable(e.awayTeamScore),this.href=e.url?e.url.replace(/\/[a-z]*-[a-z]*/,""):"",this.displayTwoCricketInnings=ko.observable(e.displayTwoCricketInnings),this.startTime=ko.observable(e.startTime),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStream=ko.observable(this.streamAvailableInCountries.indexOf(this.ipLocation)>-1),this.showScoreTemplate=ko.computed(this.showScoreTemplate.bind(this)),this.updateShowScoreTitle(),this.startTimeFormated=ko.computed(function(e){var t,a,s=moment(this.startTime()).startOf("day").isSame(moment().startOf("day")),i=moment(this.startTime()).startOf("isoWeek").isSame(moment().startOf("isoWeek"));return s?t=moment(this.startTime()).format("HH:mm"):i?(t=moment.weekdaysShort(parseInt(moment(this.startTime()).format("e"))),a=moment(this.startTime()).format("HH:mm")):(t=moment(this.startTime()).format("DD/MM"),a=moment(this.startTime()).format("HH:mm")),{date:t,time:a}},this)},update:function(e){this.homeTeamScore(e.homeTeamScore),this.awayTeamScore(e.awayTeamScore),this.startTime(e.startTime),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStream(this.streamAvailableInCountries.indexOf(this.ipLocation)>-1),this.displayTwoCricketInnings(e.displayTwoCricketInnings),this.updateShowScoreTitle()},dispose:function(){this.showScoreTemplate.dispose(),this.startTimeFormated.dispose()}},a.exports=s}),require.register("inplayMenu/menu-item",function(e,t,a){function s(e){this.deferred=$.Deferred(),this.menuEvents=ko.observableArray(),this.menuEvents.extend({rateLimit:1}),this.populate(e)}var i=e("./menu-event"),n=e("lazy-populate");s.prototype={isLoaded:function(){return this.deferred.promise()},dispose:function(){this.menuEvents.dispose(),this.menuEvents.removeAll(),this.lazyPopulateArray&&this.lazyPopulateArray.dispose()},getListItem:function(e){return e.sportName=this.nameRaw,e.sportId=this.id,new i(e)},update:function(e){this.count(e.count),this.menuEvents.updateArrayWithOrder(e.menuEvents||[],this.getListItem.bind(this),"id")},populate:function(e){return this.menuEvents.dispose(),this.lazyPopulateArray&&this.lazyPopulateArray.dispose(),this.id=e.id,this.name=e.name,this.nameRaw=e.nameRaw,this.showExpanded=ko.observable(!1),this.count=ko.observable(e.count),this.hasStreams=ko.computed(function(){return this.menuEvents().some(function(e){return e.hasStream()})},this),this.lazyPopulateArray=n(this.menuEvents,e.menuEvents||[],3,120,this.getListItem.bind(this),function(){this.deferred.resolve()}.bind(this)),this.isLoaded()}},a.exports=s}),require.register("inplayMenu/menu-list",function(e,t,a){function s(e){this.deferred=$.Deferred(),this.list=ko.observableArray(),this.list.extend({rateLimit:1})}var i=e("./menu-item"),n=e("lazy-populate");s.prototype={isLoaded:function(){return this.deferred.promise()},cleanUp:function(){this.list.removeAll()},dispose:function(){this.list.dispose(),this.list.removeAll(),this.lazyPopulateArray&&this.lazyPopulateArray.dispose()},getListItem:function(e){return new i(e)},update:function(e){this.list.updateArrayWithOrder(e||[],this.getListItem.bind(this),"id")},populate:function(e){return this.list.dispose(),this.lazyPopulateArray&&this.lazyPopulateArray.dispose(),this.lazyPopulateArray=n(this.list,e,5,120,this.getListItem.bind(this),function(){this.deferred.resolve()}.bind(this)),this.isLoaded()}},a.exports=s}),require.register("inplayMenu/view-model",function(e,t,a){function s(e){l.mixin(this);var t,a,s,d=this,p=!1,c=!1,m=function(e,t,a,s){return a=a||function(){},s=s||function(){},function(i,n){i||(n.menuItems=n.menuItems||[],t()?e.update(n.menuItems):e.populate(n.menuItems).done(a).fail(s))}},u=function(e){return ko.utils.arrayFilter(e,function(e){return e.hasStreams()})};this.locale=n,this.currentEventId=e.currentEventId,this.firstLoadEventInPlay=e.firstLoadEventInPlay,this.filterSidebar=ko.observable("all"),this.firstLoadEventSportName=e.firstLoadEventSportName,this.isCollapsed=ko.observable(!1),this.getSidebarGAPosition=ko.pureComputed(function(){return d.isCollapsed()?"inplay-menu-collapsed":"inplay-menu"}),this.filterAll=function(e,t){t.stopPropagation(),"all"!==d.filterSidebar()&&o.publish("track:filter",{action:"all",element:t?t.target:null}),d.filterSidebar("all")},this.filterVideo=function(e,t){t.stopPropagation(),"video"!==d.filterSidebar()&&o.publish("track:filter",{action:"video",element:t?t.target:null}),d.filterSidebar("video")},this.toggleLeftSidebar=function(e,t,a){var s=document.querySelector(".sidebar-toggle-button"),i=document.getElementById("inplay-sidebar"),n=document.querySelector("header.inplay"),r={};r.target=a.target,r.target&&(r.action=r.target.offsetParent.className,r.action&&r.action.indexOf("\n")>-1&&(r.action=r.action.substring(0,r.action.indexOf("\n")))),d.isCollapsed()===!1?(s.classList.add("collapsed"),i.classList.add("collapsed"),i.classList.remove("expanded"),r.expanded="Collapse",d.isCollapsed(!0),n.classList.contains("expanded")||(n.classList.add("expanded"),n.nextElementSibling.classList.remove("dn")),e&&d.handleExpandLists(a.target)):(s.classList.remove("collapsed"),i.classList.remove("collapsed"),i.classList.add("expanded"),r.expanded="Expand",d.isCollapsed(!1),e&&d.handleExpandLists(a.target)),o.publish("track:collapse-expand",r)},this.toggleLeftSidebarByIcon=function(){var e=function(e,t){this.toggleLeftSidebar(!0,e,t)};return d.isCollapsed()?e.bind(d):""},this.handleExpandLists=function(e){for(var t=document.querySelector(".inplay-wrapper"),a=t.querySelectorAll(".sport"),s=0;s<a.length;s++){var i=a[s];e!==i&&e.parentNode!==i&&i.classList.contains("expanded")&&(i.classList.remove("expanded"),i.nextElementSibling.classList.add("dn"))}},t=function(e){var t,a=[],s=d.filterSidebar();return e=e||[],"all"===s?{menuItems:e}:(t=u(e),a=t.map(function(e){return{menuEvents:ko.observableArray(e.menuEvents().filter(function(e){return e.hasStream()})),name:e.name,nameRaw:e.nameRaw,showExpanded:ko.observable(e.showExpanded)}}),{menuItems:a})},a=function(){var e=t(this.content().list()).menuItems;return e},s=function(){return this.filteredList().length>0},this.inplay={content:ko.observable(new i),isFetched:ko.observable(!1),expanded:ko.observable(),websocketSub:null},this.inplay.filteredList=ko.computed(a.bind(this.inplay)),this.inplay.hasContent=ko.computed(s.bind(this.inplay)),this.upcoming={content:ko.observable(new i),isFetched:ko.observable(!1),expanded:ko.observable(),websocketSub:null},this.upcoming.filteredList=ko.computed(a.bind(this.upcoming)),this.upcoming.hasContent=ko.computed(s.bind(this.upcoming)),this.toDispose(this.firstLoadEventInPlay.subscribe(function(e){d.inplay.expanded(e),d.upcoming.expanded(!e)})),this.toDispose(d.inplay.expanded.subscribe(function(e){e?d.inplay.websocketSub=r.subscribe("menu","Inplay-LIVE",m(d.inplay.content(),function(){return p},function(){p=!0,d.inplay.isFetched(!0),o.publish("leftInplayLive:loaded")},function(){})):d.inplay.websocketSub&&d.inplay.websocketSub.dispose&&d.inplay.websocketSub.dispose()})),this.toDispose(d.upcoming.expanded.subscribe(function(e){e?d.upcoming.websocketSub=r.subscribe("menu","Inplay-UPCOMING",m(d.upcoming.content(),function(){return c},function(){c=!0,d.inplay.isFetched(!0),o.publish("leftInplayUpcoming:loaded")},function(){})):d.upcoming.websocketSub&&d.upcoming.websocketSub.dispose&&d.upcoming.websocketSub.dispose()})),this.dispose=function(){d.inplay.hasContent.dispose(),d.upcoming.hasContent.dispose(),d.inplay.filteredList.dispose(),d.upcoming.filteredList.dispose(),d.inplay.websocketSub&&d.inplay.websocketSub.dispose&&d.inplay.websocketSub.dispose(),d.upcoming.websocketSub&&d.upcoming.websocketSub.dispose&&d.upcoming.websocketSub.dispose(),d.inplay.content().dispose(),d.inplay.content(null),d.upcoming.content().dispose(),d.upcoming.content(null),d.getSidebarGAPosition.dispose()}}var i=e("./menu-list"),n=e("locale"),o=e("message-bus"),r=e("repository"),l=e("gear-disposable-mixin");a.exports=s}),window.cogwheels.addGear({name:"inplayMenu",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("private-markets/index",function(e,t,a){var r=["private-markets-promotions","private-markets-startpage"];t.controllers=r.map(function(t){return e("./components/"+t+"/controller")})}),require.register("private-markets/components/private-markets-promotions/template",function(e,t,a){a.exports='<img class="promotions-private-markets-bg" src="/img/promotions-private-markets-bg.png"><div class="promotions-private-markets-header"><div data-bind="text: translate(\'private.markets.header\')"></div></div><div class="promotions-private-markets-content"><!-- ko foreach: { data: privateMarkets, as: \'market\' } --><div class="promotions-private-markets list"><div class="promotions-private-markets list-text" data-bind="text: market.selection.name"></div><selection-button params="\n                caption: \'\',\n                selection: market.selection,\n                captionAbove: false, live: false"></selection-button></div><!-- /ko --></div>'}),require.register("private-markets/components/private-markets-promotions/controller",function(e,t,a){var r="private-markets-promotions",i={viewModel:e("./view-model"),template:e("./template")};t.init=function(){ko.components.register(r,i)}}),require.register("private-markets/components/private-markets-startpage/template",function(e,t,a){a.exports='<div class="startpage-private-markets-header-background"><div class="startpage-private-markets-header-text" data-bind="text: translate(\'private.markets.header\')"></div><div class="startpage-private-markets-header-more"><a class="startpage-private-markets-header-link" data-bind="text: translate(\'private.markets.more\'), attr: { href: promotionPageUrl }"></a></div></div><div class="startpage-private-markets-content"><!-- ko foreach: { data: privateMarkets, as: \'market\' } --><div class="startpage-private-markets list"><div class="startpage-private-markets list-text" data-bind="text: market.selection.name"></div><selection-button params="\n            caption: \'\',\n            selection: market.selection,\n            captionAbove: false, live: false"></selection-button></div><!-- /ko --></div>'}),require.register("private-markets/components/private-markets-promotions/view-model",function(e,t,a){function r(e){this.translate=i.t,this.privateMarkets=s.mapPrivateMarkets(e.privateMarkets())}var i=e("locale"),s=e("../utils");a.exports=r}),require.register("private-markets/components/private-markets-startpage/controller",function(e,t,a){var r="private-markets-startpage",i={viewModel:e("./view-model"),template:e("./template")};t.init=function(){ko.components.register(r,i)}}),require.register("private-markets/components/private-markets-startpage/view-model",function(e,t,a){function r(e){this.translate=i.t,this.promotionPageUrl="/"+i.locale()+"/promotions/",this.privateMarkets=s.mapPrivateMarkets(e.privateMarkets())}var i=e("locale"),s=e("../utils");a.exports=r}),require.register("private-markets/components/utils/index",function(e,t,a){var r=e("domain-model/models/selection");t.mapPrivateMarkets=function(e){return e.map(function(e){return{marketName:e.marketName,selection:new r(e.selection,{eventName:e.eventName,name:e.marketName,nameTranslations:{original:function(){return{unpiped:e.marketName}}}})}})}}),window.cogwheels.addGear({name:"private-markets",version:"0.0.1"});
require.register("my-bets-tabs/index",function(t,e,s){function a(e){c.forEach(function(s){var a=t("./components/"+s+"/controller");a.init(e)})}var i=t("layout-engine"),o=t("./template"),n=t("./view-model"),c=["my-accas-tab","bet-detail"];e.init=function(t){a(t),i.render(o,new n,"my-bets")}}),require.register("my-bets-tabs/myBetsTemplate",function(t,e,s){s.exports='<div id="my-bets-container"><div class="loading-content" data-bind="visible: isLoading"><spinner params="light: true"></spinner><!-- ko if: showSpinnerText --><span data-bind="html: $root.locale.t(\'cashout.spinner.text\')"></span><!-- /ko --></div><div id="page-container"><!-- ko if: hasFetchedBets --><!-- ko foreach: bets --><bet-detail params="bet: $data"></bet-detail><!-- /ko --><!-- ko ifnot: hasBets  --><div class="mb-empty-container"><!-- ko ifnot: hasErrorOccurred --><!-- ko if: selectedFilter(\'open\') === true --><span class="mb-empty" data-bind="text: $root.locale.t(\'mybets.empty.open\')"></span><!-- /ko --><!-- ko if: selectedFilter(\'settled\') === true --> <span class="mb-empty" data-bind="text: $root.locale.t(\'mybets.empty.settled\')"></span><!-- /ko --><div class="mb-show-more"><div class="mb-show-more-info" data-bind="html: $root.locale.t(\'mybets.info.loggedin.open\')"></div></div><!-- /ko --><!-- ko if: hasErrorOccurred --><span class="mb-empty" data-bind="text: $root.locale.t(\'mybets.empty.error\')"></span><div class="sec-button mb-show-more-bet-history mb-small-button" data-bind="click: fetchBetHistory, clickBubble: false"><span class="mb-empty" data-bind="text: $root.locale.t(\'mybets.empty.error.tryagain\')"></span></div><!-- /ko --></div><!-- /ko --><!-- /ko --><div class="mb-show-more"><div class="mb-show-more-border" data-bind="visible: hasPageToken"></div><div class="mb-show-more-main" data-bind="visible: hasPageToken, click: fetchBetHistory"><span class="mb-show-more-main-text" data-bind="text: $root.locale.t(\'js.score.button.more\')"></span></div><div class="mb-show-more-message"><span data-bind="html: $root.locale.t(\'mybets.info.text\')"></span> <a data-bind="text: $root.locale.t(\'mybets.info.betHistory\'),\n                              popupLink: {\n                                url: $parent.accountHistory,\n                                type: \'popup\',\n                                options: {\n                                    toolbar: \'no\',\n                                    scrollbars: \'yes\',\n                                    resizable: \'yes\',\n                                    width: \'900\',\n                                    height: \'600\'\n                                }\n                              }"></a></div><!-- ko if: showCashOutLegalText --><div class="cashout-terms"><span data-bind="text: $root.locale.t(\'cashout.legal.text\')"></span> <a class="cashout-terms-link" data-bind="text: $root.locale.t(\'cashout.legal.text.link\'),\n                              popupLink: {\n                                url: cashOutLegalLink,\n                                type: \'popup\',\n                                options: {\n                                    toolbar: \'no\',\n                                    scrollbars: \'yes\',\n                                    resizable: \'yes\',\n                                    width: \'900\',\n                                    height: \'600\'\n                                }\n                              }"></a></div><!-- /ko --></div></div></div>'}),require.register("my-bets-tabs/myBetsVM",function(t,e,s){function a(t){i.mixin(this),this.title=c.t("mybets.title"),this.bets=ko.observableArray([]),this.hasBets=this.toDispose(ko.computed(function(){return this.bets().length>0},this)),this.selectedFilter=ko.observable(t.filter),this.hasFetchedBets=ko.observable(!1),this.hasErrorOccurred=ko.observable(!1),this.pageToken=ko.observable(null),this.hasPageToken=ko.observable(!1),this.isLoading=ko.observable(!1),this.showSpinnerText=ko.observable(!1),this.updateTaskActive=!1,this.toDispose(ko.computed(function(){this.hasPageToken(null!==this.pageToken())},this)),this.showCashOutLegalText=ko.observable(!1),this.cashOutLegalLink=t.cashOutLegalLink,this.toDispose(d.subscribe("loadingOverlay:show",function(){this.isLoading(!0),this.showSpinnerText(!0)}.bind(this))),this.toDispose(d.subscribe("loadingOverlay:hide",function(){this.isLoading(!1),this.showSpinnerText(!1)}.bind(this))),l.authenticated()&&this.fetchBetHistory()}var i=t("gear-disposable-mixin"),o=t("my-bet").betHistoryService,n=t("cashout"),c=t("locale"),d=t("message-bus"),l=t("authentication/user");a.prototype={fetchBetHistory:function(){this.isLoading(!0),o.getBets(this.selectedFilter(),this.pageToken(),this)},onSuccess:function(t,e,s){this.bets().length>0?this.bets(this.bets().concat(t)):this.bets(t),this.pageToken(e),this.hasErrorOccurred(!1),this.hasFetchedBets(!0),this.isLoading(!1),this.showCashOutLegalText(s),"open"!==this.selectedFilter()||this.updateTaskActive||(this.toDispose(n.startUpdate()),this.updateTaskActive=!0)},onError:function(t){if(t){var e=t.result.errorCode;"TCH_OTW_ERR_106"===e&&(d.publish("authentication:logout"),d.publish("track:session-expired"))}this.hasFetchedBets(!0),this.hasErrorOccurred(!0),this.isLoading(!1)}},s.exports=a}),require.register("my-bets-tabs/template",function(t,e,s){s.exports='<div id="my-bets-tabs" data-bind="if: show"><nav class="tabs"><ul><li class="tab" data-bind="css: { active: selectedTabIndex() === 0 }, click: showOpenBet"><div class="separator"></div><div class="title-container" data-bind="text: locale.t(\'mybets.tabs.open\'), attr: { title: locale.t(\'mybets.tabs.open\') }"></div><div class="separator"></div></li><li class="tab" data-bind="css: { active: selectedTabIndex() === 1 }, click: showMyAccas"><div class="separator"></div><div class="title-container" data-bind="text: locale.t(\'acca.title.page\'), attr: { title: locale.t(\'acca.title.page\') }"></div><div class="separator"></div></li><li class="tab" data-bind="css: { active: selectedTabIndex() === 2 }, click: showSettledBets"><div class="separator"></div><div class="title-container" data-bind="text: locale.t(\'mybets.tabs.settled\'), attr: { title: locale.t(\'mybets.tabs.settled\') }"></div><div class="separator"></div></li></ul></nav><div class="tabs-content"><!-- ko if: showOpenBetTab --><div><!-- ko if: isLoggedIn --><!-- ko template: { name: \'/my-bets-tabs/myBetsTemplate\', foreach: openBets } --><!-- /ko --><!-- /ko --><!-- ko ifnot: isLoggedIn --><div class="mb-show-more"><div class="mb-show-more-info" data-bind="html: $root.locale.t(\'mybets.info.loggedout.open\')"></div></div><!-- /ko --></div><!-- /ko --><!-- ko if: showMyAccasTab --><my-accas-tab params="cashOutLegalLink: cashOutLegalLink, accountHistory: accountHistory, editMyAccaLegalLink: editMyAccaLegalLink"></my-accas-tab><!-- /ko --><!-- ko if: showSettledBetTab --><div><!-- ko if: isLoggedIn --><!-- ko template: { name: \'/my-bets-tabs/myBetsTemplate\', foreach: settledBets } --><!-- /ko --><!-- /ko --><!-- ko ifnot: isLoggedIn --><div class="mb-show-more"><div class="mb-show-more-info" data-bind="html: $root.locale.t(\'mybets.info.loggedout.settled\')"></div></div><!-- /ko --></div><!-- /ko --></div></div>'}),require.register("my-bets-tabs/view-model",function(t,e,s){var a=t("message-bus"),i=t("authentication"),o=t("locale"),n=t("./myBetsVM"),c=t("betslip-front/setBetslipHeight"),d=t("pages/cmsData"),l=t("gear-disposable-mixin"),r=document.getElementById("my-bets");s.exports=function(){var t=this;l.mixin(t),this.disposeAllBets=function(){t.openBets()&&t.openBets().dispose(),t.settledBets()&&t.settledBets().dispose(),t.openBets(null),t.settledBets(null)},this.locale=o,this.show=ko.observable(!1),this.selectedTabIndex=ko.observable(0),this.isLoggedIn=i.user.authenticated,this.openBets=ko.observable(),this.settledBets=ko.observable(),this.trackTabChange=function(t,e){"use strict";a.publish("track:filter",{action:t,element:e?e.target:null})},this.showOpenBet=function(e,s){0!==t.selectedTabIndex()&&t.trackTabChange("open-bet",s),t.selectedTabIndex(0),c(),t.loadBets()},this.showMyAccas=function(e,s){1!==t.selectedTabIndex()&&t.trackTabChange("my-accas",s),t.selectedTabIndex(1),t.disposeAllBets(),c()},this.showSettledBets=function(e,s){2!==t.selectedTabIndex()&&t.trackTabChange("settled-bets",s),t.selectedTabIndex(2),c(),t.loadBets()},this.showOpenBetTab=ko.pureComputed(function(){return 0===this.selectedTabIndex()},this),this.showMyAccasTab=ko.pureComputed(function(){return 1===this.selectedTabIndex()},this),this.showSettledBetTab=ko.pureComputed(function(){return 2===this.selectedTabIndex()},this),this.selectedTabIndex.subscribe(this.disposeAllBets,this,"beforeChange"),this.loadBets=function(){this.disposeAllBets();var e={};e.cashOutLegalLink=t.cashOutLegalLink,0===t.selectedTabIndex()?(e.filter="open",t.openBets(new n(e))):2===t.selectedTabIndex()&&(e.filter="settled",t.settledBets(new n(e)))},d(["header.loggedin","links.legal_information.terms_conditions","links.legal_information.terms_conditions_EMA"],function(e){var s=e&&e["header.loggedin"];s.filter(function(e){"myaccount"===e.key&&(t.accountHistory=e.url||"")}),t.cashOutLegalLink=e&&e["links.legalInformation.termsConditions"]||"",t.editMyAccaLegalLink=e&&e["links.legalInformation.termsConditions_EMA"]||""}),this.toDispose(a.subscribe("^my-bets-tabs:show$",function(){r&&r.classList.remove("dn"),t.show(!0),t.loadBets()})),this.toDispose(a.subscribe("^my-bets-tabs:hide$",function(){r&&r.classList.add("dn"),t.show(!1),t.disposeAllBets()})),this.toDispose(a.subscribe("authentication:logged-in",function(){t.show()&&t.loadBets()})),this.toDispose(a.subscribe("authentication:logged-out",function(){t.openBets(null),t.settledBets(null)})),this.toDispose(a.subscribe("^my-accas-tab:show$",function(){t.selectedTabIndex(null),t.selectedTabIndex(1),c()}.bind(t)))}}),require.register("my-bets-tabs/components/bet-detail/template",function(t,e,s){s.exports='<div class="bet-detail"><div class="mb-wrapper"><div class="mb-header" data-bind="click: toggleExpansion, attr: { \'data-ta\' : \'my-bets-header-container_\' + bet.id } "><div class="mb-header-arrow-container"><div class="mb-arrow" data-bind="attr: { expanded: isExpanded }"></div></div><div class="mb-header-bet-time" data-bind="text: betPlacedTime"></div><div class="mb-header-bet-type"><span class="mb-header-bet-type-info" data-bind="text: $parent.type"></span><!-- ko if: isTotepool() && !isMultiEventTotepool()--> <span class="market-name" data-bind="text: getBetTypeInfo()"></span><!-- /ko --><!-- ko if: $parent.isEw() --> <span class="mb-header-bet-type-info">(<span data-bind="text: $root.locale.t(\'bet.legtype.E\')"></span>)</span><!-- /ko --></div><div class="mb-header-bet-status" data-bind="text: betStatusText, css: { \'mb-text-green\' : isGreen($parent.status) }"></div></div><!-- ko if: bet.boosted --><div class="odds-boost-mb-container"><div class="odds-boost-mb-container-content-container"><div class="odds-boost-mb-container-content-container-icon"></div><span class="odds-boost-mb-container-content-container-text" data-bind="html: $root.locale.t(\'odds.boost.boosted\')"></span></div></div><!-- /ko --><!-- ko foreach: $parent.selections --><div class="mb-content" data-bind="visible: $parent.isExpanded, attr: { \'data-ta\' : \'my-bets-content-container_\' + $parent.bet.id }, css: { \'edited-selection\' : parts[0].editedSelection } "><!-- ko ifnot: $parent.isTotepool() --><div class="mb-content-holder" data-bind="click: $parent.toggleExpansion.bind($parent), css: {\'single-line\' : parts.length <= 1}"><div data-bind="css: {\'mb-content-holder-wrapper\' : parts.length <= 1}"><!-- ko foreach: parts --><div class="mb-content-short-desc" data-bind="css: { \'edited-selection\' : $parent.parts[0].editedSelection }"><span data-bind="visible: $parent.parts.length > 1, html: ($index() + 1) + \'&nbsp;\'"></span> <span data-bind="html: selectionName"></span></div><!-- /ko --></div><!-- ko if: parts[0].handicapValue || parts[0].marketIndex --><div class="mb-content-short-desc"><!-- ko if: parts[0].handicapValue --><span class="mb-content-holder-handicap" data-bind="text: \'&nbsp\' + parts[0].handicapValue, css: { \'edited-selection\' : parts[0].editedSelection }"></span><!-- /ko --><!-- ko if: parts[0].marketIndex --> <span class="mb-content-holder-market-index" data-bind="text: \'&nbsp\' + \'(\' + parts[0].marketIndex + \')\', css: { \'edited-selection\' : parts[0].editedSelection }"></span><!-- /ko --></div><!-- /ko --><!-- ko if: legSort === \'SC\' || legSort === \'LC\' --><div class="mb-content-market" data-bind="text: \'(\' + $root.locale.t(\'bettype.SC\') + \')\', css: { \'edited-selection\' : parts[0].editedSelection }"></div><!-- /ko --><!-- ko if: legSort !== \'SC\' && legSort !== \'LC\' --><div class="mb-content-market" data-bind="text: \'(\' + parts[0].marketName + \')\', css: { \'edited-selection\' : parts[0].editedSelection }"></div><!-- /ko --><!-- ko if: $parent.bet.betGroupType === \'EDT\' --><!-- ko if: parts[0].editedSelection && $parents[2].selectedFilter() === \'open\'--><span class="edited-selection-text" data-bind="text: $root.locale.t(\'acca.edited.bet.removed.text\')"></span><!-- /ko --><!-- /ko --><!-- ko if: $parent.bet.betGroupType !== \'EDT\' || $parents[2].selectedFilter() === \'settled\'--> <span class="mb-content-odds" data-bind="\n                                attr: {\n                                    \'odds-t\': \'LIVE_PRICE\',\n                                    \'odds-f\': parts[0].fracPrice,\n                                    \'odds-d\': parts[0].decimalPrice\n                                },\n                                text: $parent.oddsCalc(parts[0].fracPrice, parts[0].decimalPrice, legSort, parts[0].marketSort)\n                            "></span><!-- /ko --></div><div class="mb-content-holder"><div class="mb-content-desc" data-bind="html: parts[0].eventName"></div></div><!-- /ko --><!-- ko if: $parent.isTotepool() --><div class="mb-content-holder" data-bind="click: $parent.toggleExpansion.bind($parent)"><!-- ko if: $parent.isMultiLegTotepool() --><div class="mb-content-holder-tote"><div class="mb-content-tote"><span data-bind="text: $root.locale.t(\'bet.history.leg\') +\' \' + ($index() + 1 ) + \' : \'"></span> <span data-bind="text: startTime"></span><!-- ko if: $parent.isMultiEventTotepool() --> <span data-bind="text: typeName"></span><!--  /ko --></div><div class="mb-content-tote" data-bind="foreach: {data: parts, as: \'part\'}"><div class="mb-content-tote-part"><!-- ko ifnot: part.selectionName === \'Unnamed Favourite\' --><span data-bind="text: part.runnerNumber + \'. \'"></span><!-- /ko --> <span data-bind="text: part.selectionName"></span></div></div></div><!--  /ko --><!-- ko if: $parent.isSingleTotepool() --><div data-bind="foreach: {data: parts, as: \'part\'}"><div class="mb-content-tote-single"><!-- ko ifnot: $parents[1].isWinPlaceTotepool() --><span data-bind="visible: $parents[1].numberOfLines === 1, html: ($index() + 1) + \'&nbsp;\'"></span><!-- /ko --> <span data-bind="text: part.selectionName"></span></div></div><!-- ko ifnot: $parent.isWinPlaceTotepool() --><div class="mb-content-market" data-bind="text: \'(\' + $root.locale.t(\'mybets.totepool.straight\') + \' \' +  $parents[1].type + \')\',\n                                                          visible: $parent.numberOfLines === 1"></div><div class="mb-content-market" data-bind="text: \'(\' + $root.locale.t(\'mybets.totepool.combined\') + \' \' +  $parents[1].type + \')\',\n                                                          visible: $parent.numberOfLines !== 1"></div><!-- /ko --><!-- /ko --></div><span class="mb-content-tote-type" data-bind="text: startTime + \' \' + typeName, visible: $parent.isSingleTotepool()"></span><!-- /ko --></div><!-- /ko --><div class="mb-info" data-bind="click: toggleExpansion, attr: { \'data-ta\' : \'my-bets-info-container_\' + bet.id }"><div class="mb-info-stake"><div class="mb-info-stake-text"><span data-bind="text: $root.locale.t(\'mybets.bet.stake\')"></span></div><span class="mb-info-stake-value" data-bind="currencyFormat: $parent.stake"></span></div><div class="mb-info-potential"><div class="mb-info-potential-text"><!-- ko if: $parent.isAccumulator --><!-- ko if: $parent.isSettled() --><span data-bind="text: $root.locale.t(\'mybets.bet.returns\')"></span><!-- /ko --><!-- ko ifnot: $parent.isSettled() --> <span data-bind="text: $root.locale.t(\'mybets.bet.potential\')"></span><!-- /ko --><!-- /ko --><!-- ko ifnot: $parent.isAccumulator --><!-- ko if: $parent.status === \'mybets.bet.status.void\' --> <span data-bind="text: $root.locale.t(\'bethistory.details.refunds\')"></span><!-- /ko --><!-- ko ifnot: $parent.status === \'mybets.bet.status.void\' --> <span data-bind="text: $root.locale.t(\'mybets.bet.returns\')"></span><!-- /ko --><!-- /ko --></div><span class="mb-info-potential-value" data-bind="currencyFormat: betValue"></span></div></div><!--ko if: cashOut --><cashout params="data: cashOut"></cashout><!-- /ko --></div></div>'}),require.register("my-bets-tabs/components/bet-detail/controller",function(t,e,s){var a="bet-detail",i=t("./view-model"),o=t("./template"),n={viewModel:{viewModel:i},template:o};e.init=function(){ko.components.register(a,n)}}),require.register("my-bets-tabs/components/my-accas-tab/template",function(t,e,s){s.exports='<div class="my-accas" data-bind="attr: { \'show-accas\': isMyAccasVisible, loading: isLoading }"><!-- ko if: isLoading --><div class="loading-content"><spinner params="light: true"></spinner><span data-bind="html: loadingMessage"></span></div><!-- /ko --><!-- ko if: isEnabled --><!-- ko if: isMyAccasVisible --><div class="my-accas-container"><header class="my-accas-header"><!-- ko if: isAccaDropdownVisible --><span class="my-accas-header-dropdown" data-bind="attr: { expanded: isDropdownVisible }, click: toggleDropdown"><div class="my-accas-header-dropdown-title" data-bind="text: pageTitle"></div><div class="icon-arrow my-accas-header-dropdown-arrow"></div></span><div class="my-accas-header-toggle-markets" data-bind="click: toggleMarkets"><span class="my-accas-header-toggle-markets-text" data-bind="text: toggleMarketsText"></span></div><!-- /ko  --><!-- ko ifnot: isAccaDropdownVisible --><div class="my-accas-header-dropdown"><span class="my-accas-header-dropdown-title-edit" data-bind="text: locale.t(\'acca.edit.title\')"></span> <a class="my-accas-header-dropdown-info" data-bind="popupLink: {\n                                    url: editMyAccaInfo,\n                                    type: \'popup\',\n                                    options: {\n                                        toolbar: \'no\',\n                                        scrollbars: \'yes\',\n                                        resizable: \'yes\',\n                                        width: \'900\',\n                                        height: \'600\'\n                                    }\n                                  }"></a></div><!-- /ko  --></header><div class="my-accas-dropdown" data-bind="visible: isDropdownVisible"><span class="my-accas-dropdown-header"><!-- ko foreach: accasDropdownHeader --><span class="my-accas-dropdown-header-title" data-bind="attr: { type: type }"><div class="my-accas-dropdown-header-title-text" data-bind="text: header, attr: { title: header }"></div></span><!-- /ko --></span><!-- ko foreach: accasDropdown --> <span class="my-accas-dropdown-option" data-bind="click: changeAcca"><span class="my-accas-dropdown-option-title" data-bind="text: name"></span> <span class="my-accas-dropdown-option-title" type="return" data-bind="currencyFormat: potentialReturn"></span> <span class="my-accas-dropdown-option-date" data-bind="text: timePlaced"></span></span><!-- /ko --> <span class="my-accas-dropdown-option"><a class="my-accas-dropdown-option-new-acca" data-bind="attr: { href: createNewAccaUrl }, click: trackNewAcca"><div class="my-accas-dropdown-option-new-acca-button"><div class="my-accas-dropdown-option-new-acca-button-cross"></div></div><span class="my-accas-dropdown-option-new-acca-title" data-bind="text: locale.t(\'acca.info.newaccatext\')"></span></a></span></div><!-- ko if: selectedAcca --><acca params="data: selectedAcca, isMarketsVisible: isMarketsVisible, isEmaEnabledCms: isEmaEnabledCms, cashoutSubscription: cashOutUpdateSub"></acca><!-- /ko --></div><!-- /ko --><!-- ko ifnot: isMyAccasVisible --><div class="my-accas-description-container"><div class="my-accas-description"><div class="my-accas-description-inner" data-bind="text: locale.t(\'acca.info.noaccamessage\')"></div></div><div class="my-accas-new-acca"><div class="my-accas-new-acca-inner"><a class="my-accas-new-acca-button-container" data-bind="attr: { href: createNewAccaUrl}, click: trackNewAcca"><div class="my-accas-new-acca-button"><div class="my-accas-new-acca-button-cross"></div></div></a><div class="my-accas-new-acca-text" data-bind="text: locale.t(\'acca.info.newaccatext\')"></div></div></div></div><!-- /ko --><!-- /ko --><!-- ko ifnot: isEnabled --><div class="my-accas-description-container"><div class="my-accas-description"><div class="my-accas-description-inner" data-bind="text: disabledMessage"></div></div></div><!-- /ko --><!-- ko if: isLoggedIn --><div class="my-accas-footer"><div class="my-accas-footer-account"><span data-bind="html: locale.t(\'mybets.info.text\')"></span> <a class="my-accas-footer-account-link" data-bind="text: locale.t(\'mybets.info.betHistory\'),\n                                  popupLink: {\n                                    url: accountHistory,\n                                    type: \'popup\',\n                                    options: {\n                                        toolbar: \'no\',\n                                        scrollbars: \'yes\',\n                                        resizable: \'yes\',\n                                        width: \'900\',\n                                        height: \'600\'\n                                    }\n                                  }"></a></div><!-- ko if: showCashOutLegalText --><div class="cashout-terms"><!-- ko if: isAccaDropdownVisible--><span data-bind="text: locale.t(\'cashout.legal.text\')"></span> <a class="cashout-terms-link" data-bind="text: locale.t(\'cashout.legal.text.link\'),\n                              popupLink: {\n                                url: cashOutLegalLink,\n                                type: \'popup\',\n                                options: {\n                                    toolbar: \'no\',\n                                    scrollbars: \'yes\',\n                                    resizable: \'yes\',\n                                    width: \'900\',\n                                    height: \'600\'\n                                }\n                              }"></a><!-- /ko --><!-- ko ifnot: isAccaDropdownVisible --> <span data-bind="text: locale.t(\'acca.edit.legal.text\')"></span> <a href="#" class="cashout-terms-link" data-bind="text: locale.t(\'cashout.legal.text.link\'),\n                                                click: function (){ getSalesForceToken() };"></a><!-- /ko --></div><!-- /ko --></div><!-- /ko --></div>'}),require.register("my-bets-tabs/components/bet-detail/view-model",function(t,e,s){function a(t){var e=t.bet;o.mixin(this),this.bet=e,this.selections=e.selections,this.betTypeName=e.betTypeName,this.betTypeCode=e.betTypeCode,this.cashOut=e.cashOut||!1,this.isExpanded=ko.observable(!0),this.betValue=ko.observable(d.roundOrFallback(e.getPotentialReturns(),"N/A")),this.numberOfLines=e.numberOfLines,this.betPlacedTime=i(this.bet),this.betStatusText=ko.observable(),this.toDispose(ko.computed(function(){this.betStatusText(n.t(this.bet.status))},this)),this.toDispose(l.subscribe("cashedout:"+e.id,this.cashOutComplete.bind(this))),this.toggleExpansion=function(t,e){var s={};this.isExpanded(!this.isExpanded()),s.target=e.target,s.expanded=this.isExpanded()?"Expand":"Collapse",s.action="My Bets: "+t.bet.dateTime,r.publish("track:collapse-expand",s)},this.isGreen=function(t){switch(t){case"mybets.bet.status.open":case"mybets.bet.status.won":case"mybets.bet.status.cashedout":return!0;default:return!1}},this.oddsCalc=function(t,e,s,a){var i,o="1/1"!==t?t:n.t("selection.button.evens"),l=b.indexOf(s)>-1;return i=e&&!isNaN(e)?d.toFixed(parseFloat(e),2):e?e:"","decimal"===c.oddsDisplay()||l||"XW"===a?i:o},this.getBetTypeInfo=function(){var t;return this.isSingleTotepool()?t=n.t("bet.history.Totepool"):this.isMultiLegTotepool()&&!this.isMultiEventTotepool()&&(t="("+this.betTypeName+")"),t},this.isTotepool=function(){return this.isSingleTotepool()||this.isMultiLegTotepool()},this.isSingleTotepool=function(){return p.indexOf(this.betTypeCode)>-1},this.isMultiLegTotepool=function(){return h.indexOf(this.betTypeCode)>-1||this.isMultiEventTotepool()},this.isMultiEventTotepool=function(){return u.indexOf(this.betTypeCode)>-1},this.isWinPlaceTotepool=function(){return m.indexOf(this.betTypeCode)>-1}}function i(t){var e=t.dateTime;return e.length>6&&!e.match(/[a-z]/i)?e.substr(0,5):e}var o=t("gear-disposable-mixin"),n=t("locale"),c=t("authentication/user"),d=t("domain-model/helper"),l=t("cashout"),r=t("message-bus"),b=["AH","A2","hl"],p=["UTRI","UWIN","UPLC","UEXA","USW"],h=["UPLP","UQDP"],u=["USC6","UJKP"],m=["UWIN","UPLC"];a.prototype={cashOutComplete:function(t){this.betStatusText(n.t("mybets.bet.status.cashedout")),this.betValue(d.roundOrFallback(t.amount,"-"))}},s.exports=a}),require.register("my-bets-tabs/components/my-accas-tab/controller",function(t,e,s){e.init=function(){ko.components.register("my-accas-tab",{viewModel:t("./view-model"),template:t("./template"),synchronous:!0})}}),require.register("my-bets-tabs/components/my-accas-tab/view-model",function(t,e,s){function a(t){c.mixin(this),this.isLoggedIn=d.user.authenticated,this.toDispose(this.isLoggedIn.subscribe(function(t){return t?this.getMyAccas():this.update()}.bind(this))),this.accountHistory=t.accountHistory,this.cashOutLegalLink=t.cashOutLegalLink,this.editMyAccaLegalLink=t.editMyAccaLegalLink,this.locale=n,this.setAccasDropDownHeader(),this.isEnabled=ko.observable(!0),this.isLoading=ko.observable(!1),this.disabledMessage=ko.observable(""),this.createNewAccaUrl=ko.observable(""),this.isDropdownVisible=ko.observable(!1),this.isMarketsVisible=ko.observable(!0),this.editMyAccaInfo=ko.observable(!0),this.showNewBadge=ko.observable(""),this.isEmaEnabledCms=ko.observable(!1),this.selectedAcca=ko.observable(!1),this.loadingMessage=ko.observable(),this.showCashOutLegalText=ko.observable(!1),this.editMyAccaArticleUrl=ko.observable(""),this.loggedOutUrl=ko.observable(""),this.accas=ko.observableArray([]),this.accasDropdown=ko.observableArray([]),this.isAccaDropdownVisible=ko.observable(!0),this.trackNewAcca=this.trackNewAcca.bind(this),this.toggleDropdown=this.toggleDropdown.bind(this),this.toggleMarkets=this.toggleMarkets.bind(this),this.toDispose(r.subscribe("hideToggleMarkets",function(){this.isAccaDropdownVisible(!1)}.bind(this))),this.toDispose(r.subscribe("showToggleMarkets",function(){this.isAccaDropdownVisible(!0)}.bind(this))),this.isMyAccasVisible=ko.pureComputed(function(){return this.accas().length>0},this),this.pageTitle=ko.pureComputed(function(){return this.accas().length>0&&this.selectedAcca()?"ACCA ("+this.selectedAcca().legs.length+")":n.t("acca.title.page")},this),this.editSuccessMessage=this.toDispose(ko.computed(function(){var t=this.accas()[0];return t&&this.selectedAcca()===t&&"ACTIVE"===t.accaStatus&&"EDT"===t.betGroupType},this)),this.toggleMarketsText=ko.pureComputed(function(){return this.isMarketsVisible()?n.t("acca.subheader.price.hide"):n.t("acca.subheader.price.show")},this),this.toDispose(r.subscribe("myaccas:loading",function(t){this.loadingMessage(n.t("generic.loadingPage")),this.isLoading(!0)}.bind(this))),this.toDispose(r.subscribe("myaccas:done",function(t){this.isLoading(!1),l()}.bind(this))),this.toDispose(r.subscribe("loadingOverlay:show",function(){this.isLoading(!0),this.loadingMessage(n.t("cashout.spinner.text"))}.bind(this))),this.toDispose(r.subscribe("loadingOverlay:hide",function(){this.isLoading(!1)}.bind(this))),this.model=this.getMyAccas(),this.toDispose(r.subscribe("accaStatusChange",function(t){var e=t.data,s=!1;this.accas().forEach(function(t){t.id===e.id&&t.accaStatus!==e.status&&(t.accaStatus=e.status,s=!0)}.bind(this)),s&&(this.accas.notifySubscribers(),this.accasDropdown(this.updateAccasDropdown(this.accas())))}.bind(this))),this.update(this.model),this.getMyAccasSettings(),this.getEditMyAccasSettings(),this.getSalesForceToken=function(){var t={toolbar:"no",scrollbars:"yes",resizable:"yes",width:"900",height:"600"};p.getSalesForceToken(this.editMyAccaLegalLink,this.loggedOutUrl(),this.editMyAccaArticleUrl(),t)}}var i=t("pages/cmsData"),o=t("my-accas").service,n=t("locale"),c=t("gear-disposable-mixin"),d=t("authentication"),l=t("betslip-front/setBetslipHeight"),r=t("message-bus"),b=t("cashout"),p=t("live-chat");a.prototype={update:function(t){t=t||{},t.accas&&t.accas.length>0&&(this.cashOutUpdateSub?this.cashOutUpdateSub.restart():(this.cashOutUpdateSub=b.startUpdate(),this.toDispose(this.cashOutUpdateSub))),this.accasDropdown(this.updateAccasDropdown(t.accas||[])),this.accas(t.accas||[]),this.accas().length>0&&this.selectedAcca(this.accas()[0])},updateAccasDropdown:function(t){for(var e,s=[],a=0;a<t.length;a++){var i={};i.id=t[a].id,i.name=t[a].legs?"ACCA ("+t[a].legs.length+")":"ACCA",i.potentialReturn=ko.observable(this.getPotentialReturn(t[a])),i.timePlaced=this.dateTimeCalc(t[a].timePlaced)||"",i.changeAcca=this.changeAcca.bind(this,a),this.showCashOutLegalText()||(e=t[a].cashOut||{},this.showCashOutLegalText("UNAVAILABLE"!==e.status)),s.push(i)}return s},changeAcca:function(t){this.selectedAcca(null),this.selectedAcca(this.accas()[t]),this.toggleDropdown(),l()},getPotentialReturn:function(t){var e=t.potentialReturn||"-",s=t.accaStatus||"";switch(s.toLowerCase()){case"cashedout":e=n.t("cashout.popup.success.text").toUpperCase();break;case"won":e=n.t("acca.status.won").toUpperCase();break;case"inactive":e=n.t("acca.status.lost").toUpperCase()}return e},trackNewAcca:function(){},toggleDropdown:function(){this.isDropdownVisible(!this.isDropdownVisible())},toggleMarkets:function(){this.isMarketsVisible(!this.isMarketsVisible()),l(),this.isMarketsVisible()&&this.isDropdownVisible(!1)},getMyAccas:function(){return this.model=o.getAccas(this.isLoggedIn()),this.toDispose(this.model.subscribe("update",this.update.bind(this))),this.model},getMyAccasSettings:function(){var t={},e=this;i(["accumulator_tracking"]).done(function(s){s.accumulatorTracking&&(t=s.accumulatorTracking,e.disabledMessage(t.disabledMessage),e.createNewAccaUrl("/"+n.value()+t.createNewAccaUrl))})},getEditMyAccasSettings:function(){var t={},e=this;i(["edit_my_acca"]).done(function(s){s.editMyAcca&&(t=s.editMyAcca.featureEnable,e.editMyAccaInfo(t.editMyAccaInfo),e.showNewBadge(t.showNewBadge),e.isEmaEnabledCms(t.isEmaEnabledCms),e.editMyAccaArticleUrl(t.articleUrl),e.loggedOutUrl(t.loggedOutUrl))})},dateTimeCalc:function(t){var e=moment(t);return e.locale(n.value()),e.format("HH:mm ddd D MMM")},setAccasDropDownHeader:function(){this.accasDropdownHeader=[{type:"bettype",header:n.t("acca.dropdown.title.bettype")},{type:"return",header:n.t("acca.dropdown.title.potentialreturn")},{type:"date",header:n.t("acca.dropdown.title.placementdate")}]}},s.exports=a}),window.cogwheels.addGear({name:"my-bets-tabs",version:"0.0.1"});
require.register("eventListComponent/index",function(t,a,e){a.init=function(){ko.components.register("event-list",{viewModel:t("./view-model"),template:t("./template"),synchronous:!0})}}),require.register("eventListComponent/template",function(t,a,e){e.exports='<!-- ko with: event --><div class="event-list" data-bind="css: { \'event-list-narrow\': $parent.narrow, \'live\': inplayNow(), \'pre\': !inplayNow(), \'top-spacing\': inplayNow() && $parent.topSpacing(sport.nameRaw) }, attr: { id: \'eventListItem_\' + $parent.eventId }"><a data-bind="href: href" class="dn"></a><!-- ko ifnot: $parent.showDate  --><!-- ko if: !$parent.narrow && !inplayNow() --> <span class="time list-view" data-bind="html: dateTime(), visible: dateTime(), click: $parent.navigateToEventDetails"></span><!-- /ko --><!-- /ko --><!-- ko if: $parent.showDate  --><!-- ko if: !$parent.narrow && !inplayNow() --> <span class="time list-view" data-bind="html: moment(startTime()).format(\'HH:mm\'), visible: dateTime(), click: $parent.navigateToEventDetails"></span><!-- /ko --><!-- /ko --><!-- ko template: { name: $parent.eventTemplate } --><!-- /ko --> <span class="live-text" data-bind="visible: $parent.showLiveText()">LIVE</span><!-- ko if: !$parent.narrow && inplayNow() && $parent.isFootball() && !$parent.showLiveText() --> <span class="time list-view" data-bind="html: dateTime, click: $parent.navigateToEventDetails"></span><!-- /ko --><!-- ko if: $parent.selectedMarket().handicapMarket --><div class="odds" data-bind="text: $parent.selectedMarket().handicapRawOpenbet()"></div><!-- /ko --><!-- ko if: !$parent.narrow  && sport.nameRaw !== \'Horse Racing\' && sport.nameRaw !== \'Greyhounds\' --><div class="selections"><!-- ko with: $parent.selectedMarket --><!-- ko foreach: { data: selections, as: \'selection\' } --><div class="selection"><span class="name" data-bind="textAndTooltip: $parents[2].selectionName(selection)"></span><selection-button params="selection: selection, event: $parents[1], live: $parents[1].inplayNow"></selection-button></div><!-- /ko --><!-- /ko --></div><!-- /ko --><div class="more" data-bind="click: $parent.navigateToEventDetails"><!-- ko if: $parent.narrow && dateTime() && sport.nameRaw === \'Football\' --><span class="time" data-bind="html: dateTime()"></span><!-- /ko --><div class="more-market-link"><span class="text" data-bind="text: marketCount"></span> <span class="icon-arrow more-arrow"></span></div></div></div><!-- /ko -->'}),require.register("eventListComponent/view-model",function(t,a,e){var s=t("locale"),n=t("router"),i=t("domain-model/models/market"),o=["Tennis","Cricket","Volleyball","Beach Volleyball","GAA","Darts","Badminton"],r=t("domain-model/helpers/tracking"),p=t("domain-model/helpers/sport-types"),d={albania:"albania",austria:"austria",belgium:"belgium",croatia:"croatia","czech-republic":"czech-republic",england:"england",france:"france",germany:"germany",hungary:"hungary",iceland:"iceland",italy:"italy","northern-ireland":"northern-ireland",poland:"poland",portugal:"portugal","republic-of-ireland":"ireland",romania:"romania",russia:"russia",slovakia:"slovakia",spain:"spain",sweden:"sweden",switzerland:"switzerland",turkey:"turkey",ukraine:"ukraine",wales:"wales"},l=function(t){this.eventListItem=t.eventListItem||{},this.event=this.eventListItem.event,this.topMarketKey=t.topMarketKey,this.isFestival=t.isFestival,this.tournament=t.tournament,this.titleMap=t.titleMap,this.festivalDataMap=t.festivalDataMap,this.locale=s,this.narrow=t.narrow||!1,this.showDate=!t.hasOwnProperty("showDate")||t.showDate,this.eventId=ko.unwrap(this.event).id,this.domSmall=ko.observable(!0),this.setsText=this.getSetsText(),this.pointsText=this.event.sport.id===p.DARTS?s.t("sport.dart.legs"):s.t("sport.points"),this.selectedMarket=ko.pureComputed(l.prototype.selectedMarket,this),this.showLiveText=ko.pureComputed(this.showLiveText,this),this.navigateToEventDetails=function(t,a){var e=ko.unwrap(this.event).href;r.trackLink(t,a,e),n.navigate("/"+s.value()+e)}.bind(this),this.nameIfNoParticipants=function(){return ko.unwrap(this.event.name)}.bind(this),this.isFootball=function(){return this.event.sport&&"Football"===this.event.sport.nameRaw}.bind(this),this.eventTemplate=ko.pureComputed(this.getEventTemplate,this),this.boundEventUpdate=this.onWidthUpdate.bind(this),setTimeout(this.boundEventUpdate,250),$(window).on("resize",this.boundEventUpdate)};l.prototype={onWidthUpdate:function(){var t=document.getElementById("eventListItem_"+this.eventId);if(t){var a=650,e=t.offsetWidth;this.domSmall(e>a)}},selectionName:function(t){var a=this.selectedMarket().nameRaw||this.selectedMarket().nameTranslations.unpiped;return"string"==typeof a&&(a=a.toLowerCase()),"Football"!==ko.unwrap(this.event).sport.nameRaw||a!=="Win-Draw-Win".toLowerCase()&&a!=="Win-Draw-Win (ET)".toLowerCase()&&a!=="Match Betting".toLowerCase()&&a!=="Match Result".toLowerCase()?t.name:t.sort},topSpacing:function(t){return o.indexOf(t)>-1&&!!this.displayDartSets()},showStatsTemplate:function(){var t=this.event.participants&&this.event.inplayNow&&this.event.inplay()&&this.event.inplay().score&&this.event.inplay().score.length>=2&&(""!==this.event.inplay().score[0]||""!==this.event.inplay().score[1])&&this.event.stats();return t},showFlagByTeamName:function(){return!!("210007622"===this.event.sportsBookClass.id&&this.event.participants.length>0&&d[this.getUnpipedTeamName(0)])},getUnpipedTeamName:function(t){var a=this.event.participants[t],e=a?a.nameTranslations:null,s=e?e.unpiped:a.nameRaw;return s.toLowerCase().replace(/ /g,"-")},getEventTemplate:function(){var t=this.event.sport.nameRaw,a=this.event.inplayNow(),e=ko.unwrap(this.narrow),s=ko.unwrap(this.event.participants),n=ko.unwrap(this.domSmall),i="eventListComponent/event-templates/",r="horizontalEvent";return(!a||e||!s||!n||o.indexOf(t)>-1)&&(r="verticalEvent"),i+r},getStatsTemplate:function(t){var a="eventListComponent/stats-templates/",e="generic";return"Tennis"===t||"Cricket"===t?e=t.toLowerCase():("Volleyball"===t||"Badminton"===t||"Beach Volleyball"===t||"GAA"===t||this.displayDartSets())&&(e="commonWithSets"),a+e},selectedMarket:function(){var t=ko.unwrap(ko.unwrap(this.eventListItem).topMarkets),a=ko.unwrap(this.topMarketKey);return a&&t&&t.hasOwnProperty(a)?t[a]:a&&a.indexOf("market.filter.main")===-1?new i({}):ko.unwrap(this.event).mainMarket},displayDartSets:function(){return this.event.sport.id===p.DARTS&&""!==this.event.stats().setScoreA()&&""!==this.event.stats().setScoreB()},getSetsText:function(){var t="";return t=this.event.sport.id===p.DARTS?s.t("sport.dart.sets"):this.event.sport.id===p.HURLING||this.event.sport.id===p.GAELIC_FOOTBALL?s.t("sport.gaa.sets"):s.t("sport.sets")},showLiveText:function(){return this.event.inplayNow()&&this.event.inplay()&&this.event.inplay().score&&this.event.inplay().score.indexOf("")!==-1&&""===this.event.dateTime().trim()},dispose:function(){this.selectedMarket.dispose(),this.showLiveText.dispose(),$(window).off("resize",this.boundEventUpdate)}},e.exports=l}),require.register("eventListComponent/event-templates/horizontalEvent",function(t,a,e){e.exports='<div class="event-list-details"><!-- ko if: $parent.selectedMarket().handicapMarket --><div class="odds"></div><!-- /ko --><div class="teams-inline" data-bind="click: $parent.navigateToEventDetails"><!-- ko if: participants --><!-- ko if: inplayNow() --><!-- ko if: $parent.showStatsTemplate() --><div class="team"><div class="name" data-bind="textAndTooltip: participants[0].name"></div><!-- ko if: $parent.showFlagByTeamName() --><div class="tournament-flags tournament-flags--space-left" data-bind="css: $parent.getUnpipedTeamName(0)"></div><!-- /ko --></div><!-- ko template: { name: $parent.getStatsTemplate(sport.nameRaw) } --><!-- /ko --><div class="team"><!-- ko if: $parent.showFlagByTeamName() --><div class="tournament-flags tournament-flags--space-right" data-bind="css: $parent.getUnpipedTeamName(1)"></div><!-- /ko --><div class="name" data-bind="textAndTooltip: participants[1].name"></div></div><!-- /ko --><!-- ko ifnot: $parent.showStatsTemplate() --><!-- ko ifnot: $parent.showFlagByTeamName() --><div class="name" data-bind="html: name"></div><!-- /ko --><!-- ko if: $parent.showFlagByTeamName() --><div class="team"><div class="name" data-bind="textAndTooltip: participants[0].name"></div><!-- ko if: $parent.showFlagByTeamName() --><div class="tournament-flags tournament-flags--space-left" data-bind="css: $parent.getUnpipedTeamName(0)"></div><!-- /ko --></div><div class="vs">v</div><div class="team"><!-- ko if: $parent.showFlagByTeamName() --><div class="tournament-flags tournament-flags--space-right" data-bind="css: $parent.getUnpipedTeamName(1)"></div><!-- /ko --><div class="name" data-bind="textAndTooltip: participants[1].name"></div></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko ifnot: inplayNow() --><!-- ko ifnot: $parent.showFlagByTeamName() --><div class="name" data-bind="html: name"></div><!-- /ko --><!-- ko if: $parent.showFlagByTeamName() --><div class="team"><div class="name" data-bind="textAndTooltip: participants[0].name"></div><!-- ko if: $parent.showFlagByTeamName() --><div class="tournament-flags tournament-flags--space-left" data-bind="css: $parent.getUnpipedTeamName(0)"></div><!-- /ko --></div><div class="vs">v</div><div class="team"><!-- ko if: $parent.showFlagByTeamName() --><div class="tournament-flags tournament-flags--space-right" data-bind="css: $parent.getUnpipedTeamName(1)"></div><!-- /ko --><div class="name" data-bind="textAndTooltip: participants[1].name"></div></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko ifnot: participants --><div class="name" data-bind="html: $component.nameIfNoParticipants()"></div><!-- /ko --><div class="streaming" data-bind="click: $parent.navigateToEventDetails"><!-- ko if: hasStream --><div class="stream" data-bind="\n                        hoverTooltip: {\n                            text: sport.nameRaw === \'Horse Racing\' || sport.nameRaw === \'Greyhounds\' ? $root.streamingTooltipRacing : $root.streamingTooltip,\n                            skin: inplayNow() ? \'white\' : \'black\'\n                        }\n                    "><span class="icon-stream"></span></div><!-- /ko --></div></div></div>'}),require.register("eventListComponent/event-templates/verticalEvent",function(t,a,e){e.exports='<div class="event-list-details"><div class="teams" data-bind="click: $parent.navigateToEventDetails"><!-- ko if: participants --><!-- ko if: inplayNow() --><!-- ko if: $parent.showStatsTemplate() --><div class="team"><!-- ko if: $parent.showFlagByTeamName() --><div class="tournament-flags tournament-flags--space-right" data-bind="css: $parent.getUnpipedTeamName(0)"></div><!-- /ko --><div class="name" data-bind="textAndTooltip: participants[0].name"></div></div><div class="team"><!-- ko if: $parent.showFlagByTeamName() --><div class="tournament-flags tournament-flags--space-right" data-bind="css: $parent.getUnpipedTeamName(1)"></div><!-- /ko --><div class="name" data-bind="textAndTooltip: participants[1].name"></div></div><!-- /ko --><!-- ko ifnot: $parent.showStatsTemplate() --><!-- ko ifnot: $parent.showFlagByTeamName() --><div class="name" data-bind="html: name"></div><!-- /ko --><!-- ko if: $parent.showFlagByTeamName() --><div class="event-list-details-flags"><div class="name" data-bind="text: participants[0].name"></div><div class="tournament-flags" data-bind="css: $parent.getUnpipedTeamName(0)"></div><div class="name">v</div><div class="tournament-flags" data-bind="css: $parent.getUnpipedTeamName(1)"></div><div class="name" data-bind="text: participants[1].name"></div></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko ifnot: inplayNow() --><!-- ko if: $parent.showFlagByTeamName() --><div class="event-list-details-flags"><div class="name" data-bind="text: participants[0].name"></div><div class="tournament-flags" data-bind="css: $parent.getUnpipedTeamName(0)"></div><div class="name">v</div><div class="tournament-flags" data-bind="css: $parent.getUnpipedTeamName(1)"></div><div class="name" data-bind="text: participants[1].name"></div></div><!-- /ko --><!-- ko ifnot: $parent.showFlagByTeamName() --><div class="name" data-bind="html: name"></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko ifnot: participants --><div class="name" data-bind="html: $component.nameIfNoParticipants()"></div><!-- /ko --></div><!-- ko if: hasStream --><div class="streaming" data-bind="click: $parent.navigateToEventDetails"><div class="stream" data-bind="\n                    hoverTooltip: {\n                        text: sport.nameRaw === \'Horse Racing\' || sport.nameRaw === \'Greyhounds\' ? $root.streamingTooltipRacing : $root.streamingTooltip,\n                        skin: inplayNow() ? \'white\' : \'black\'\n                    }\n                "><span class="icon-stream"></span></div></div><!-- /ko --><!-- ko if: $parent.showStatsTemplate() --><!-- ko template: { name: $parent.getStatsTemplate(sport.nameRaw) } --><!-- /ko --><!-- /ko --></div>'}),require.register("eventListComponent/stats-templates/commonWithSets",function(t,a,e){e.exports='<div class="teams-score common-score"><div class="server" data-bind="css: stats().server()"></div><div class="sets-games"><span data-bind="text: $parent.setsText"></span> <span class="team"><span class="score" data-bind="text: stats().setScoreA()"></span></span> <span class="team"><span class="score" data-bind="text: stats().setScoreB()"></span></span></div><div class="points"><span data-bind="text: $parent.pointsText"></span> <span class="team"><span class="score" data-bind="text: stats().ptsScoreA()"></span></span> <span class="team"><span class="score" data-bind="text: stats().ptsScoreB()"></span></span></div></div>'}),require.register("eventListComponent/stats-templates/cricket",function(t,a,e){e.exports='<div class="teams-score cricket-score"><!-- if: stats --><div class="first"><!-- ko if: displayTwoCricketInnings --><span data-bind="text: $parent.locale.t(\'eventGroup.cricket.first\')"></span><!-- /ko --><!-- ko ifnot: displayTwoCricketInnings --> <span class="cricket-fill"></span><!-- /ko --> <span class="team"><span class="score" data-bind="text: stats().innings1ScoreA()"></span></span> <span class="team"><span class="score" data-bind="text: stats().innings1ScoreB()"></span></span></div><!-- ko if: displayTwoCricketInnings --><div class="second"><span data-bind="text: $parent.locale.t(\'eventGroup.cricket.second\')"></span> <span class="team"><span class="score" data-bind="text: stats().innings2ScoreA()"></span></span> <span class="team"><span class="score" data-bind="text: stats().innings2ScoreB()"></span></span></div><!-- /ko --><!-- /ko --></div>'}),require.register("eventListComponent/stats-templates/generic",function(t,a,e){e.exports='<div class="teams-score"><span class="team"><span class="score" data-bind="text: inplay().score[0]"></span></span> <span class="team"><span class="score" data-bind="text: inplay().score[1]"></span></span></div>'}),require.register("eventListComponent/stats-templates/tennis",function(t,a,e){e.exports='<div class="teams-score"><div class="tennis-score"><div class="server" data-bind="css: stats().server()"></div><div class="sets"><span data-bind="text: $parent.locale.t(\'scoreboard.tennis.set.abbreviated\')"></span> <span class="team"><span class="score" data-bind="text: stats().setScoreA()"></span></span> <span class="team"><span class="score" data-bind="text: stats().setScoreB()"></span></span></div><div class="games"><span data-bind="text: $parent.locale.t(\'scoreboard.tennis.game.abbreviated\')"></span> <span class="team"><span class="score" data-bind="text: stats().gameScoreA()"></span></span> <span class="team"><span class="score" data-bind="text: stats().gameScoreB()"></span></span></div><div class="points"><span data-bind="text: $parent.locale.t(\'scoreboard.tennis.points.abbreviated\')"></span> <span class="team"><span class="score" data-bind="text: stats().ptsScoreA()"></span></span> <span class="team"><span class="score" data-bind="text: stats().ptsScoreB()"></span></span></div></div></div>'}),window.cogwheels.addGear({name:"eventListComponent",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("header/index",function(e,t,a){var o=e("layout-engine"),i=e("./template"),n=e("message-bus"),s=e("./view-model"),r=e("web-storage-extender"),l=e("pages/cmsData"),d=e("locale"),c=e("live-chat"),p=e("authentication"),u=["contact-us","tooltip-section","tooltip-section-link","tooltip-section-live-chat"];t.controllers=u.map(function(t){return e("./components/"+t+"/controller")}),t.init=function(e){$(document).on("submit","#loginSubmit",function(e){e.preventDefault(),e.stopPropagation();var t=this,a=this.querySelector("#username"),o=this.querySelector("#password"),i=r.retrieve("local","user:rememberUsername"),s=!0;a.parentNode.classList.remove("error"),o.parentNode.classList.remove("error"),0===a.value.length&&0===o.value.length?(s=!1,a.parentNode.classList.add("error"),o.parentNode.classList.add("error"),n.publish("authentication:loginFail",{errorCode:null,errorMessageKey:d.t("login.error.usernameandpassword.empty")})):(0===a.value.length?(s=!1,a.parentNode.classList.add("error"),n.publish("authentication:loginFail",{errorCode:null,errorMessageKey:d.t("login.error.username.empty")})):a.value.length<2&&(s=!1,a.parentNode.classList.add("error"),n.publish("authentication:loginFail",{errorCode:null,errorMessageKey:d.t("login.error.username.short")})),0===o.value.length&&(s=!1,o.parentNode.classList.add("error"),n.publish("authentication:loginFail",{errorCode:null,errorMessageKey:d.t("login.error.password.empty")}))),i?r.store("local","user:rememberedUsername",this.querySelector("#username").value):r.remove("local","user:rememberedUsername"),s&&(r.hasSupport("local")?n.publish("authentication:login",t):n.publish("authentication:loginFail",{errorCode:null,errorMessageKey:d.t("login.error.privateBrowsing")})),n.publish("track:submit-login",{element:e?e.target:null})}),$(document).on("click","#logoutSubmit",function(e){e.preventDefault(),e.stopPropagation(),n.publish("authentication:logout",{element:e?e.target:null})}),l(["header","salesForceChat","inapp_gaming"],function(e){e=e||{},p.loadScript(e),o.render(i,new s(e),"header")}),l(["salesForceChat"],function(e){e=e||{},c.loadScript(e)})}}),require.register("header/logged-in",function(e,t,a){a.exports='<div class="user-account" data-t-position="logged-in"><div class="top"><div class="user" data-bind="click: toggleUserMenu"><div class="icon-account"></div><div class="name" data-bind="css: { hidden: hideUserName }"><span data-bind="text: user.firstname"></span>&nbsp;<span data-bind="text: user.lastname"></span></div><div class="arrow"></div></div><div class="balance"><div class="balance-text" data-bind="attr:{\'data-show\':showBalanceValue}"><div class="icon-balance"></div><div data-bind="currencyFormat: user.balance"></div></div><div class="hide-text show-on-hover" data-bind="click:showBalanceShowTextButton, attr:{\'data-show\':showBalanceHideText}"><span data-bind="text: headerHideBalanceText"></span></div><div class="show-text" data-bind="click:showBalanceValueButton, attr:{\'data-show\':showBalanceShowText}"><span data-bind="text: headerShowBalanceText"></span></div></div><div class="balance refresh" data-bind="visible: showUpdateButton, click:updateBalance"><div class="icon-refresh"></div></div><!-- ko if: quickDepositEnabled && user.preferredPaymentMethod() !== null --><div class="button deposit trigger-balance" data-bind="click: openQuickDeposit"><div class="icon-deposit"></div><div data-bind="text: locale.t(\'generic.more.deposit\')"></div></div><!-- /ko --><!-- ko if: !quickDepositEnabled || user.preferredPaymentMethod() === null --><a class="button deposit trigger-balance" data-bind="popupLink:\n        {\n            url: loggedInItems().deposit[0].url,\n            type: \'popup\',\n            options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'1024\', height: \'768\' }\n        }"><div class="icon-deposit"></div><div data-bind="text: locale.t(\'generic.more.deposit\')"></div></a><!-- /ko --></div><div class="bottom dn"><!-- ko if: loggedInItems().myaccount[0].enabled --><a class="account-button" data-bind="\n            text: locale.t(\'generic.more.account\'),\n            popupLink: {\n                url: loggedInItems().myaccount[0].url,\n                type: \'popup\',\n                options: {\n                    toolbar: \'no\',\n                    scrollbars: \'yes\',\n                    resizable: \'yes\',\n                    width: \'900\',\n                    height: \'600\'\n                }\n            }"></a><!-- /ko --><!-- ko if: loggedInItems().alerts[0].enabled --> <a class="account-button" data-bind="\n            text: locale.t(\'header.alerts\'),\n            popupLink: { url: loggedInItems().alerts[0].url, type: \'popup\',\n                options: {\n                    toolbar: \'no\',\n                    scrollbars: \'yes\',\n                    resizable: \'yes\',\n                    width: \'700\',\n                    height: \'600\'\n                } }"></a><!-- /ko --><!-- ko if: loggedInItems().messages[0].enabled --> <a class="account-button" data-bind="\n            text: locale.t(\'header.messages\'),\n            popupLink: { url:loggedInItems().messages[0].url, type: \'popup\',\n                options: {\n                    toolbar: \'no\',\n                    scrollbars: \'yes\',\n                    resizable: \'yes\',\n                    width: \'700\',\n                    height: \'600\'\n                } }"></a><!-- /ko --><!-- ko if: isTheGridVisible() && loggedInItems().oddson[0].enabled --> <a class="account-button" data-bind="\n            text: locale.t(\'header.the-grid\'),\n            popupLink: { url: loggedInItems().oddson[0].url, type: \'popup\' }"></a><!-- /ko --><div class="account-button hide-username" data-bind="\n            text: toggleUsernameButtonTitle(),\n            click: toggleUsername"></div><div class="account-button" id="logoutSubmit" data-bind="\n            text: locale.t(\'generic.more.logout\')"></div></div></div>'}),require.register("header/view-model",function(e,t,a){function o(e){var t=this;u.mixin(t),v("CMS: %o",e);var a=l.t("header.balance.hide"),o=l.t("header.balance.show");t.locale=l,t.loggedInItems=ko.observableArray([]),i(e,this),t.personalHomePage=ko.observable(p.retrieve("local","homepage:personalHomePage")||""),t.rememberMe=ko.observable(p.retrieve("local","user:rememberUsername")||!1),t.rememberedUsername=ko.observable(p.retrieve("local","user:rememberedUsername")||""),t.loginError=ko.observable(""),t.azOpen=ko.observable(!1),t.showBalance=ko.observable(!0),t.hideUserName=ko.observable(!1),t.showBalanceValue=ko.observable(!0),t.showBalanceHideText=ko.observable(!0),t.showBalanceShowText=ko.observable(!1),t.showHorseRacingStartpageSetting=ko.observable("de-de"!==l.value()),t.isTheGridVisible=ko.observable("en-gb"===l.value()),t.headerHideBalanceText=ko.observable(a),t.headerShowBalanceText=ko.observable(o),t.headerContactUsText=ko.observable(l.t("header.contact.us")),t.headerHelpText=ko.observable(l.t("header.help")),t.headerSettingsText=ko.observable(l.t("header.settings")),t.headerLanguageText=ko.observable(l.t("header.language")),t.isUserNameInputFocused=ko.observable(!1),t.quickDepositEnabled=c.getDeepProperty(e,"header.quick-deposit.enabled")||!1,t.user=r,t.links={products:c.getDeepProperty(e,"header.products")||[],help:c.getDeepProperty(e,"header.help")||[],quicklinks:c.getDeepProperty(e,"header.quicklinks")||[],loggedout:{password:c.getDeepProperty(e,"header.loggedout.password"),joinNow:c.getDeepProperty(e,"header.loggedout.join"),lightboxRegistration:c.getDeepProperty(e,"header.loggedout.lightboxRegistration"),lightboxRegistrationEnabled:c.getDeepProperty(e,"header.loggedout.lightboxRegistrationEnabled")}};var n=e&&e.inappGaming&&e.inappGaming[0];t.showUpdateButton=n&&n.enabled||!1,t.activeRoute=ko.observable(/.*\/[a-z]{2}-(?:[a-z]{2}|[0-9]{3})(\/.*)/.exec(window.location.href)[1]),t.joinNowLink=t.toDispose(ko.computed(function(){return t.links.loggedout.joinNow+t.activeRoute()},t)),t.lightboxRegistrationLink=t.toDispose(ko.computed(function(){return t.links.loggedout.lightboxRegistration+t.activeRoute()},t)),t.lightboxRegistrationEnabled=c.getDeepProperty(e,"header.loggedout.lightboxRegistrationEnabled"),t.contact=c.getDeepProperty(e,"header.contact"),t.liveChat=s(c.getDeepProperty(e,"salesForceChat"),"chatSettings",0),t.getSalesForceToken=function(e,t,a,o){h.getSalesForceToken(e,t,a,o)},t.links.products.push({order:0,translationKey:"header.product.sports",url:"#"}),t.links.products.sort(function(e,t){return e.order-t.order}),t.links.help.sort(function(e,t){return e.order-t.order}),t.links.quicklinks.sort(function(e,t){return e.order-t.order}),t.oddsTypes=[{value:"decimal",title:"decimal"},{value:"fractional",title:"fractional"}],t.setPersonalHomepage=function(e,a){t.personalHomePage=a.target.value,p.store("local","homepage:personalHomePage",a.target.value)},t.rememberUsername=function(){return p.store("local","user:rememberUsername",t.rememberMe()),!0},t.toggleUsername=function(){this.hideUserName(!this.hideUserName())},t.trackStartLogin=function(e,t){d.publish("track:start-login",{element:t?t.target:null})},t.lostLogin=function(){d.publish("track:lost-login-clicked")},t.joinNow=function(){d.publish("track:register")},t.lightboxRegistration=function(){d.publish("modal:lightbox-registration",{action:"open",showCloseButton:!0,lightboxRegistration:t.links.loggedout.lightboxRegistration})},t.openQuickDeposit=function(){d.publish("modal:quick-deposit",{action:"open",showCloseButton:!0})},t.toggleUsernameButtonTitle=ko.pureComputed(function(){var e;return e=this.hideUserName()?l.t("header.username.show"):l.t("header.username.hide")},this),t.highlighter=function(e){var a="/"!==e&&t.activeRoute().indexOf(e)>-1,o=t.activeRoute().indexOf("-2016")>-1;return o?e.indexOf("-2016")>-1:a};var g=function(e,a){var o=document.getElementById("az-menu"),i={};i.target=a?a.target:null,o.classList.contains("open")?(t.azOpen(!1),i.expanded="Collapse",o.classList.remove("open"),document.removeEventListener("click",g)):this===t&&(t.azOpen(!0),i.expanded="Expand",o.classList.add("open"),o.style.height=window.innerHeight-document.getElementById("header").clientHeight+"px",setTimeout(function(){document.addEventListener("click",g)})),i.action="A-Z Sports",d.publish("track:collapse-expand",i)};t.toggleAZMenu=g.bind(t),t.showBalanceShowTextButton=function(){t.showBalanceValue(!1),t.showBalanceHideText(!1),t.showBalanceShowText(!0)},t.showBalanceValueButton=function(){t.showBalanceValue(!0),t.showBalanceHideText(!0),t.showBalanceShowText(!1)},t.updateBalance=function(e,a){d.publish("update:balance"),d.publish("track:refresh-balance",{element:a.target||null,value:t.user.balance()})},t.toggleUserMenu=function(e,t){var a=document.querySelector(".top .user"),o=document.querySelector(".bottom"),i={};i.target=t.target,o.classList.contains("dn")?(o.classList.remove("dn"),a.classList.add("active"),i.expanded="Expand Account"):(o.classList.add("dn"),a.classList.remove("active"),i.expanded="Collapse Account"),i.action="Account",d.publish("track:collapse-expand",i)},p.store("local","ptauthentication:systemid",c.getDeepProperty(e,"header.ptlogin.passcript.systemid")),p.store("local","ptauthentication:lobbyurl",c.getDeepProperty(e,"header.ptlogin.passcript.lobbyurl")),p.store("local","ptSalesForceAuthSystemId",c.getDeepProperty(e,"header.ptlogin.passcript.salesForce")),d.subscribe("^router:dispatch$",function(e){var a=/.*\/[a-z]{2}-(?:[a-z]{2}|[0-9]{3})(\/.*)/.exec(e.data.url);e.data.url&&a&&a[1]&&t.activeRoute(a[1]);var o=p.retrieve("cookie","popupMyaccount");o&&(d.publish("update:balance"),p.remove("cookie","popupMyaccount"))}),d.subscribe("^authentication:login$",function(){t.loginError("")}),d.subscribe("^authentication:loginFail$",function(e){"pterror"===e.data.errorMessageKey?t.loginError(e.data.ptErrorMessage):t.loginError(t.locale.t(e.data.errorMessageKey))}),d.subscribe("^authentication:logout$",function(){t.rememberedUsername(p.retrieve("local","user:rememberedUsername")||"")}),d.subscribe("^update:balance$",function(){r.updateUser()}),t.selectedLanguage=ko.pureComputed(function(){var e;switch(l.value()){case"en-ie":e="ir";break;case"de-de":e="de";break;case"sv-se":e="se";break;case"en-af":e="af";break;default:e="en"}var t={};return t[e]=!0,t})}function i(e,t){var a=c.getDeepProperty(e,"header.loggedin"),o={myaccount:a.filter(n("myaccount")),alerts:a.filter(n("alerts")),messages:a.filter(n("messages")),oddson:a.filter(n("oddson")),deposit:a.filter(n("deposit"))};t.loggedInItems(o)}function n(e){return function(t){return t.key===e}}function s(e,t,a){return null==a&&(a=t),Array.isArray(e)?e[a]:e&&(Array.isArray(e[t])&&e[t][a]||e[t])}var r=e("authentication/user"),l=e("locale"),d=e("message-bus"),c=e("domain-model/helper"),p=e("web-storage-extender"),u=e("gear-disposable-mixin"),h=e("live-chat"),g=e("utils/debug"),v=g("header/view-model");a.exports=o}),require.register("header/logged-out",function(e,t,a){a.exports='<form class="login" id="loginSubmit" data-t-position="logged-out"><div class="section"><input type="text" id="username" placeholder="Username" data-bind="value: rememberedUsername, click: trackStartLogin" tabindex="1"> <span class="remember-me i"><input type="checkbox" id="remember-me" data-bind="checked: rememberMe, click: rememberUsername"> <span data-bind="text: locale.t(\'header.links.rememberMe\')"></span></span></div><div class="section"><input type="password" id="password" placeholder="Password" tabindex="2" data-bind="click: trackStartLogin"> <span class="forgot-login"><span class="i" data-bind="text: $root.locale.t(\'header.links.password\'),\n                        popupLink: { url: links.loggedout.password,\n                        type: \'popup\',\n                        options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'1024\', height: \'768\' }\n                        },\n                        click: lostLogin"></span></span></div><!-- ko ifnot: lightboxRegistrationEnabled --><div class="section"><button class="button" data-bind="text: locale.t(\'login.button\')"></button> <button class="button clean" data-bind="text: $root.locale.t(\'header.links.join\'),\n                            popupLink: { url: joinNowLink,\n                            type: \'popup\',\n                            options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'1024\', height: \'768\' }\n                            },\n                            click: joinNow"></button></div><!-- /ko --><!-- ko if: lightboxRegistrationEnabled --><div class="section"><button class="button" data-bind="text: locale.t(\'login.button\')"></button> <button class="button clean" data-bind="text: $root.locale.t(\'header.links.join\'),\n                                click: lightboxRegistration"></button></div><!-- /ko --></form>'}),require.register("header/components/contact-us/controller",function(e,t,a){var o=e("./view-model"),i=e("./template");t.init=function(e){ko.components.register("contact-us",{viewModel:o,template:i})}}),require.register("header/template",function(e,t,a){a.exports='<div><nav class="top-menu" data-bind="toggleTopBar" data-t-position="top-menu"><ul class="times"><li><!-- ko if: user.authenticated --><span class="icon-hourglass"></span> <span data-bind="showLoggedInTime"></span><!-- /ko --></li></ul><div class="outer-items" data-t-position="products"><div class="inner-items"><!-- ko foreach: links.products --><a class="item" data-bind="attr: { href: url }, css: { \'active\': $index() === 0 }"><div data-bind="text: $root.locale.t(translationKey)"></div></a><!-- /ko --></div></div><div class="products" data-t-position="settings"><div class="settings" data-bind="tooltip"><div class="hover-tooltip icons" data-bind="hoverTooltip: { text: headerContactUsText }"><div class="icon-contact"></div></div></div><contact-us params="data: contact, chat: liveChat" class="tooltip-content cntct dn"></contact-us><div class="settings" data-bind="tooltip"><div class="hover-tooltip icons" data-bind="hoverTooltip: { text: headerHelpText}"><div class="icon-help"></div></div></div><div class="tooltip-content hlp dn"><div class="tooltip-header" data-bind="text: headerHelpText"></div><ul class="topmenu-links" data-bind="foreach: links.help"><li><!-- ko if: isSalesforceLink --><a href="#" data-bind="click: function (){$parent.getSalesForceToken(url, loggedOutUrl, articleUrl, {toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'1024\', height: \'768\'})};"><span class="link" data-bind="text: $root.locale.t(translationKey)"></span> <span class="icon-arrow more-arrow"></span></a><!-- /ko --><!-- ko ifnot: isSalesforceLink --><!-- ko ifnot: isPopupDisabled --> <a href data-bind="popupLink: { url: url,\n                        type: \'popup\',\n                        options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'1024\', height: \'768\' }\n                        }"><span class="link" data-bind="text: $root.locale.t(translationKey)">My Account</span> <span class="icon-arrow more-arrow"></span></a><!-- /ko --><!-- ko if: isPopupDisabled--> <a data-bind="href: url"><span class="link" data-bind="text: $root.locale.t(translationKey)"></span> <span class="icon-arrow more-arrow"></span></a><!-- /ko --><!-- /ko --></li></ul></div><div class="settings" data-bind="tooltip"><div class="hover-tooltip icons" data-bind="hoverTooltip: { text: headerSettingsText}"><div class="icon-settings"></div></div></div><div class="tooltip-content stngs dn"><div class="tooltip-header" data-bind="text: headerSettingsText"></div><h2 data-bind="text: locale.t(\'settings.oddstype.title\')"></h2><ul class="radio-buttons"><li><span class="title" data-bind="text: locale.t(\'settings.oddstype.fractional\')"></span> <input type="radio" name="setOddsTypeGroup" value="fractional" data-bind="checked: $root.user.oddsDisplay"></li><li><span class="title" data-bind="text: locale.t(\'settings.oddstype.decimal\')"></span> <input type="radio" name="setOddsTypeGroup" value="decimal" data-bind="checked: $root.user.oddsDisplay"></li></ul><!--<select data-bind="options: oddsTypes,--><!--optionsValue: \'value\',--><!--optionsText: \'title\',--><!--value: user.oddsDisplay,--><!--optionsCaption: \'Choose odds type\'">--><!--</select>--><h2 data-bind="text: locale.t(\'settings.startpage.title\')"></h2><ul class="radio-buttons"><li><span class="title" data-bind="text: locale.t(\'homepage.default\')"></span> <input type="radio" name="setPersonalHomePageGroup" value="home" data-bind="checked: personalHomePage, event: { change: setPersonalHomepage }"></li><li><span class="title" data-bind="text: locale.t(\'sidebar.quick.links.football\')"></span> <input type="radio" name="setPersonalHomePageGroup" value="football" data-bind="checked: personalHomePage, event: { change: setPersonalHomepage }"></li><!-- ko if: showHorseRacingStartpageSetting --><li><span class="title" data-bind="text: locale.t(\'sidebar.quick.links.horse.racing\')"></span> <input type="radio" name="setPersonalHomePageGroup" value="horse-racing" data-bind="checked: personalHomePage, event: { change: setPersonalHomepage }"></li><!-- /ko --></ul></div><div class="settings" data-bind="tooltip"><div class="hover-tooltip icons" data-bind="hoverTooltip: { text: headerLanguageText}"><div class="language" data-bind="css: selectedLanguage"></div></div></div><div class="tooltip-content lang dn"><div class="tooltip-header" data-bind="text: headerLanguageText"></div><ul class="topmenu-links"><li><a href="/en-gb/"><span class="language en"></span> English (UK)</a></li><li><a href="/en-ie/"><span class="language ir"></span> English (Ireland)</a></li><li><a href="/de-de/"><span class="language de"></span> Deutsch</a></li><li><a href="/sv-se/"><span class="language se"></span> Svenska</a></li><li><a href="/en-af/"><span class="language af"></span> English (Africa)</a></li></ul></div></div></nav><div class="content" data-t-position="content"><h1 class="logo"><a data-bind="href: \'/\'" data-t-name="Home">Ladbrokes</a></h1><!-- ko if: loginError --><div class="login-error"><p data-bind="text: loginError"></p></div><!-- /ko --><!-- ko if: user.authenticated --><!-- ko template: { name: \'/header/logged-in\' } --><!-- /ko --><!-- /ko --><!-- ko ifnot: user.authenticated --><!-- ko template: { name: \'/header/logged-out\' } --><!-- /ko --><!-- /ko --></div><nav class="main-menu" data-t-position="menu"><div class="outer-items"><div class="inner-items"><div class="item az-item" data-bind="click: toggleAZMenu, css: { \'active\': azOpen }"><div class="link az-button"><span class="hamburger-menu"></span> <span class="title" data-bind="text: $root.locale.t(\'sidebar.az-sports\')"></span></div></div><!-- ko foreach: links.quicklinks --><a class="item" data-bind="attr: { href: \'/\' + $root.locale.locale() + url }, css: { \'active\': $parent.highlighter(url) }"><div class="link" data-bind="text: $root.locale.t(translationKey)"></div></a><!-- /ko --></div></div><div class="item rest"></div><li class="item betslip"><betslip-expander></betslip-expander></li></nav></div>'}),require.register("header/components/contact-us/view-model",function(e,t,a){function o(e){return e&&e.title&&("url"!==e.type||e.description&&e.url)}function i(e){return function(t){return"url"===t.type?{name:"tooltip-section-link",params:t}:"live-chat"===t.type?{name:"tooltip-section-live-chat",params:t}:{name:"tooltip-section",params:{title:t.title,data:e[t.type]}}}}function n(e){return{type:"live-chat",title:e&&e.title,description:e&&e.description,message:e&&e.message,buttonId:e.buttonId}}var s=e("gear-disposable-mixin"),r=e("authentication/user"),l=e("utils/debug"),d=l("header/contact-us"),c={init:function(e){this.sections=this.toDispose(ko.computed(function(){d("Live chat: %o",r.authenticated()&&e.chat&&e.chat.chatEnabled);var t=(r.authenticated()&&e.chat&&e.chat.chatEnabled?[n(e.chat)]:[]).concat(e.data.links||[]).filter(o).map(i(e.data));return d("links: %o",t),t},this))}};a.exports=function(e){var t=Object.create(c);return s.mixin(t),t.init(e),t}}),require.register("header/components/contact-us/template",function(e,t,a){a.exports='<div class="contact"><div class="tooltip-header" data-bind="translateText: \'header.contact.us\'"></div><!-- ko foreach: sections --><div data-bind="component: $data"></div><!-- /ko --></div>'}),require.register("header/components/tooltip-section/controller",function(e,t,a){var o=e("./view-model"),i=e("./template");t.init=function(e){ko.components.register("tooltip-section",{viewModel:o,template:i})}}),require.register("header/components/tooltip-section/template",function(e,t,a){a.exports='<div class="tooltip-section"><div class="tooltip-section-title" data-bind="text: title"></div><!-- ko foreach: data --><div class="tooltip-section-content"><span class="tooltip-section-content-label" data-bind="text: description"></span><!-- ko ifnot: type === \'email\' --> <span class="tooltip-section-content-value" data-bind="text: value"></span><!-- /ko --><!-- ko if: type === \'email\' --> <a class="tooltip-section-content-link" data-bind="href: href, text: value"></a><!-- /ko --></div><!-- /ko --></div>'}),require.register("header/components/tooltip-section/view-model",function(e,t,a){function o(e){var t=ko.unwrap(e.value);return{description:ko.unwrap(e.description),value:t,type:ko.unwrap(e.type),href:{removeLocale:!0,value:"mailto:"+t}}}var i={init:function(e){var t=ko.unwrap(e.title),a=ko.unwrap(e.data);this.title=t,this.data=[],Array.isArray(a)?this.data=a.map(o):a&&this.data.push(a)}};a.exports=function(e){var t=Object.create(i);return t.init(e),t}}),require.register("header/components/tooltip-section-link/template",function(e,t,a){a.exports='<div class="tooltip-section-link"><a class="tooltip-section" data-bind="attr: attr, click: onClick"><div class="tooltip-section-link-content"><div class="tooltip-section-link-content-title" data-bind="text: title"></div><div class="tooltip-section-link-content-description" data-bind="text: description"></div></div><div class="tooltip-section-link-chevron"><svg width="10px" height="16px" viewbox="0 0 10 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1055.000000, -542.000000)" fill="currentColor"><g transform="translate(830.000000, 518.000000)"><polygon transform="translate(229.761905, 32.000000) scale(-1, 1) translate(-229.761905, -32.000000) " points="225 32 233 24 234.52381 25.5238095 228.047619 32 234.52381 38.4761905 233 40"></polygon></g></g></g></svg></div></a></div>'}),require.register("header/components/tooltip-section-link/controller",function(e,t,a){var o=e("./view-model"),i=e("./template");t.init=function(e){ko.components.register("tooltip-section-link",{viewModel:o,template:i})}}),require.register("header/components/tooltip-section-live-chat/template",function(e,t,a){a.exports='<div class="tooltip-section-live-chat-link"><a class="tooltip-section" href="#showLiveChat" data-bind="attr: attr, click: onClick, liveChat"><div class="tooltip-section-live-chat-link-content"><div class="tooltip-section-live-chat-link-content-title" data-bind="text: title"></div><div class="tooltip-section-live-chat-link-content-description" data-bind="text: description"></div></div><div class="tooltip-section-live-chat-link-chevron"><svg width="10px" height="16px" viewbox="0 0 10 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1055.000000, -542.000000)" fill="currentColor"><g transform="translate(830.000000, 518.000000)"><polygon transform="translate(229.761905, 32.000000) scale(-1, 1) translate(-229.761905, -32.000000) " points="225 32 233 24 234.52381 25.5238095 228.047619 32 234.52381 38.4761905 233 40"></polygon></g></g></g></svg></div></a></div>'}),require.register("header/components/tooltip-section-link/view-model",function(e,t,a){var o=e("live-chat"),i={init:function(e){var t=ko.unwrap(e.title),a=ko.unwrap(e.description),i=ko.unwrap(e.url),n=ko.unwrap(e.target),s=ko.unwrap(e.isSalesforceLink),r=ko.unwrap(e.articleUrl),l=ko.unwrap(e.loggedOutUrl);if(this.title=t,this.description=a,this.attr={href:i,target:n},this.onClick=function(){return!0},s){this.attr={href:"#"};var d={toolbar:"no",scrollbars:"yes",resizable:"yes",width:"1024",height:"768"};this.onClick=function(){o.getSalesForceToken(i,l,r,d)}}}};a.exports=function(e){var t=Object.create(i);return t.init(e),t}}),require.register("header/components/tooltip-section-live-chat/controller",function(e,t,a){var o=e("./view-model"),i=e("./template");t.init=function(e){ko.components.register("tooltip-section-live-chat",{viewModel:o,template:i})}}),require.register("header/components/tooltip-section-live-chat/view-model",function(e,t,a){var o=e("authentication/user"),i=e("message-bus"),n=e("utils/debug"),s=n("header/tooltip/live-chat"),r={init:function(e){s("init: %o",e);var t=ko.unwrap(e.title),a=ko.unwrap(e.description),o=ko.unwrap(e.message),i=ko.unwrap(e.buttonId);this.title=t,this.description=a,this.message=o,this.attr={id:"header_liveagent_button_online_"+i}},onClick:function(e,t){s("on click"),t.preventDefault(),t.stopPropagation();var a={target:t.target},n=o.authenticated()?"track:chat":"track:chat-error";i.publish(n,a)}};a.exports=function(e){var t=Object.create(r);return t.init(e),t}}),window.cogwheels.addGear({name:"header",version:"0.0.1"});
require.register("betslip-front/bet-vm",function(e,t,s){function i(e){var t,s=this;d.mixin(s),this.subscriptions=[],s.model=e,s.id=e.id,s.hasSPSelections=ko.observable(!0),s.eachWayAvailable=ko.observable(e.eachWayAvailable),s.eachWaySelected=ko.observable(e.eachWaySelected||!1),s.multiple=e.multiple||!1,s.selections=ko.observableArray(e.selections||[]),s.placeAsEachWay=e.eachWaySelected||!1,s.potentialReturns=ko.observable(s.model.potentialReturns),s.returnsFactor=ko.observable(parseFloat(e.returnsFactor)),s.ewReturnsFactor=ko.observable(parseFloat(e.ewReturnsFactor)),s.stakePerLine=ko.observable(e.stakePerLine?a.toFixed(e.stakePerLine,2):""),s.minStake=ko.observable(e.minStake),s.maxStake=ko.observable(e.maxStake),s.previousStake=0,s.numberOfLines=e.numberOfLines,s.showReturnsFactor=!(e.numberOfLines>1),s.boostedAccaReturns=ko.observable();var i=ko.observable(!1);this.toDispose(n.subscribe("oddsboost:enable",i)),s.betslipHasErrors=ko.observable(!1),this.subscriptions.push(l.subscribe("betslip:errors",function(e){s.betslipHasErrors(e.data>0)},s)),s.boostedPotentialReturns=ko.computed(function(){return i()&&s.stakePerLine()&&s.boostedReturns&&s.boostedReturns[0]?(s.stakePerLine()*parseFloat(s.boostedReturns[0].decimal)).toFixed(2):s.potentialReturns()}),s.boostedMultiplesPotentialReturns=this.toDispose(ko.computed(function(){return i()&&s.stakePerLine()&&!s.eachWaySelected()&&s.boostedAccaReturns()?(s.stakePerLine()*parseFloat(s.boostedAccaReturns())).toFixed(2):s.potentialReturns()})),s.returnsFactorDisplay=ko.computed(function(){if(s.hasSPSelections())return"N/A";if("decimal"===o.oddsDisplay())return a.toFixed(s.returnsFactor(),2);if(s.multiple){var e=String(a.toFixed(parseFloat(s.returnsFactor()-1),2)),t=e.indexOf("00",e.length-"00".length)!==-1,i=e.indexOf("0",e.length-"0".length)!==-1;t?e=e.substring(0,e.length-3):i&&(e=e.substring(0,e.length-1))}return e+"/1"}),s.boostedReturnsDisplay=ko.pureComputed(function(){if(s.hasSPSelections())return"N/A";if(!s.boostedReturns||0===s.boostedReturns.length)return s.returnsFactorDisplay();if(s.boostedAccaReturns(s.boostedReturns[0].decimal),"decimal"===o.oddsDisplay())return a.toFixed(s.boostedAccaReturns(),2);if(s.multiple){var e=String(a.toFixed(parseFloat(s.boostedAccaReturns()-1),2)),t=e.indexOf("00",e.length-"00".length)!==-1,i=e.indexOf("0",e.length-"0".length)!==-1;t?e=e.substring(0,e.length-3):i&&(e=e.substring(0,e.length-1))}return e+"/1"}),s.marketInformationEvent=ko.pureComputed(function(){var e=r.t("betslip.multiples.shortdescription."+s.betType);return("DBL"===s.betType||"TBL"===s.betType||s.betType.indexOf("AC")>-1)&&(e=""),e}),s.minStakeErrorMessage=ko.pureComputed(function(){return r.t("betslip.alert.error.stake-to-low",a.currencyFormat(s.minStake(),o))}),s.maxStakeErrorMessage=ko.pureComputed(function(){return r.t("betslip.alert.error.stake-to-high",a.currencyFormat(s.maxStake(),o))}),s.hasFocus=ko.observable(!1),s.subscriptions.push(s.hasFocus.subscribe(function(e){e||(s.model.update({stakePerLine:parseFloat(s.stakePerLine())}),s.previousStake!==s.stakePerLine()&&(t={betId:s.id,stake:ko.unwrap(s.stakePerLine),potentialReturns:ko.unwrap(s.potentialReturns),element:document.getElementById("slip-odds-stake-"+s.id)},l.publish("track:stake-changed",t),s.previousStake=s.stakePerLine()))})),s.subscriptions.push(s.stakePerLine.subscribe(function(e){s.model.update({stakePerLine:parseFloat(e)})})),s.minStakeError=ko.computed(function(){var e=parseFloat(ko.unwrap(s.stakePerLine)),t=parseFloat(s.minStake()),i=e<t,a=ko.unwrap(s.minStakeErrorMessage);return i&&!s.single&&s.betslipHasErrors()&&l.publish("track:betslip-error",{errorMessage:a,position:"r-sidebar/betslip-module"}),i}),s.maxStakeError=ko.computed(function(){var e=parseFloat(ko.unwrap(s.stakePerLine)),t=parseFloat(s.maxStake()),i=localStorage.getItem("selectedFreebet"),a=e>t&&!s.model.applyOverask()&&"false"===i,o=ko.unwrap(s.maxStakeErrorMessage);return a&&!s.single&&s.betslipHasErrors()&&l.publish("track:betslip-error",{errorMessage:o,position:"r-sidebar/betslip-module"}),a}),s.addToStake=function(e){var t=Math.max(s.minStake,0),i=parseFloat(s.stakePerLine());isNaN(i)&&(i=0),i=Math.min(i+e,s.maxStake),i<t&&(i=""),s.stakePerLine(i)},s.subscriptions.push(s.eachWaySelected.subscribe(function(e){s.model.update({eachWaySelected:e}),l.publish("track:each-way-toggled",{id:s.id,eachWaySelected:e,potentialReturns:ko.unwrap(s.potentialReturns)})})),s.update(),e.bus&&s.subscriptions.push(e.bus.subscribe("update",s.update.bind(s))),e.bus&&s.subscriptions.push(e.bus.subscribe("stake:clear",function(){s.stakePerLine("")}))}var a=e("domain-model/helper"),o=e("authentication/user"),r=e("locale"),n=e("oddsboost"),l=e("message-bus"),d=e("gear-disposable-mixin");i.prototype.update=function(){var e=this,t=this.model;for(var s in t)t.hasOwnProperty(s)&&!ko.isObservable(e[s])&&(e[s]=t[s]);if(e.hasSPSelections(t.hasSPSelections),e.eachWayAvailable(t.eachWayAvailable),e.returnsFactor(parseFloat(t.returnsFactor)),e.ewReturnsFactor(parseFloat(t.ewReturnsFactor)),e.selections(t.selections||{}),e.eachWaySelected(t.eachWaySelected),e.multiple=t.multiple||!1,e.placeAsEachWay=t.eachWaySelected||!1,e.minStake(t.minStake),e.maxStake(t.maxStake),!e.hasFocus()&&!e.model.applyOverask()){var i=t.stakePerLine?a.toFixed(t.stakePerLine,2):"";i>t.maxStake?e.stakePerLine(t.maxStake):e.stakePerLine(i)}e.potentialReturns(t.potentialReturns),t.boostedReturns&&t.boostedReturns[0]&&e.boostedAccaReturns(t.boostedReturns[0].decimal),l.publish("track:add-multiples-to-basket",e)},i.prototype.ignoreProperties=[],i.prototype.dispose=function(){this.subscriptions.forEach(function(e){e&&e.dispose&&e.dispose()}),this.subscriptions=[],this.returnsFactorDisplay.dispose()},s.exports=i}),require.register("betslip-front/multiples",function(e,t,s){s.exports='<div class="slip-item multiple"><div class="selection-information market-information"><div class="market-information"><span class="market-information-selection" data-bind="html: $root.showMultipleType(betType) + \' (x\' + actualNumberOfLines + \')\'"></span> <span class="market-information-event" data-bind="text: marketInformationEvent"></span></div><!-- ko if: showReturnsFactor --><div class="odds-container"><oddsboost-odds-animator-multiples params="fromPrice: returnsFactorDisplay, toPrice: boostedReturnsDisplay, eachWaySelected: eachWaySelected, bus: bus"></oddsboost-odds-animator-multiples></div><!-- /ko --><div class="stake-box-container"><!-- ko template: { name: \'/betslip-front/stake\' } --><!-- /ko --></div></div><div class="stake-information"><!-- ko if: eachWayAvailable --><div class="each-way-container"><input data-bind="checked: eachWaySelected, attr: { id: \'betslip-eachway-multi-\' + $index() }" type="checkbox" class="checkbox arrow betslip-text"><label data-bind="text: $root.locale.t(\'racing.race.view.EW\'), attr: { for: \'betslip-eachway-multi-\' + $index() }"></label></div><!-- /ko --><div class="potential-container"><div data-bind="text: $root.locale.t(\'betslip.potential\')"></div><div class="amount" data-bind="currencyFormat: boostedMultiplesPotentialReturns"></div></div></div><div class="bet-error" data-bind="visible: minStakeError"><span data-bind="text: minStakeErrorMessage"></span></div><div class="bet-error" data-bind="visible: maxStakeError"><span data-bind="text: maxStakeErrorMessage"></span></div></div>'}),require.register("betslip-front/betslip-selection",function(e,t,s){function i(e,t,s){this.priceType=ko.unwrap(e.priceType),this.legType="Win",this.name=ko.unwrap(e.name)||"",this.decimalOdds=ko.observable(),this.numerator=ko.observable(),this.denominator=ko.observable(),this.active=ko.observable(),this.odds=ko.pureComputed(function(){return"ASIAN_HANDICAP"===t||"GOAL_LINE"===t||"decimal"===o.oddsDisplay()||"XW"===s?r.toFixed(parseFloat(this.decimalOdds()),2):this.numerator()+"/"+this.denominator()},this),this.odds.extend({rateLimit:10}),this.label="STARTING_PRICE"===this.priceType?"SP":this.odds,this.update(e)}function a(e,t){var s=this;d.mixin(s),m("selection: %o",e),e.includeInMultiples="undefined"==typeof e.includeInMultiples||e.includeInMultiples,this.model=e,this.id=e.id,this.eventId=e.eventId,this.marketId=e.marketId,e.sportsBookClass&&(this.typeId=e.sportsBookClass.id),this.multiple=!1,this.nameTranslations=b(e.nameTranslations),this.name=this.nameTranslations.get(),this.bettable=ko.observable(e.bettable||!0),this.marketName=e.marketName,this.marketNameTranslations=b(e.marketNameTranslations),this.eventName=e.eventName,this.sportName=e.sport&&e.sport.name,this.rawHandicap=e.rawHandicap,this.handicap=ko.observable(ko.unwrap(e.handicap)),this.marketMinorCode=ko.observable(ko.unwrap(e.marketMinorCode)),this.includeInMultiples=ko.observable(e.includeInMultiples||!1),this.boostedPrice=ko.observable(),this.updateBoosted(e.boostTokens),this.toDispose(s.includeInMultiples.subscribe(function(t){e.includeInMultiples=t,l.service.buildBets(!1),p.publish("track:include-in-multiples-toggled",{selectionId:e.id,value:t})})),this.betslipHasErrors=ko.observable(!1),this.toDispose(p.subscribe("betslip:errors",function(e){s.betslipHasErrors(e.data>0)},this)),this.maxAcc=e.maxAcc,this.mulipleBoxVisibility=ko.computed(function(){return t&&t()>1&&1!==this.maxAcc},this),this.toDispose(this.mulipleBoxVisibility),this.birIndex=ko.observable(e.birIndex||""),this.eachWayDenominator=ko.observable(e.eachWayDenominator),this.eachWayNumerator=ko.observable(e.eachWayNumerator),this.eachWayPlaces=ko.observable(e.eachWayPlaces||0),this.eachWayAvailable=ko.observable(e.eachWayAvailable),this.eachWaySelected=ko.observable(e.eachWaySelected||!1),this.suspended=ko.observable(!1),this.toDispose(this.eachWaySelected.subscribe(function(t){e.update({eachWaySelected:t}),p.publish("track:each-way-toggled",{id:"SGL_"+e.id,eachWaySelected:t,potentialReturns:e.potentialReturns})})),this.marketSort=e.marketSort,this.expanded=ko.observable(!1),this.prices=ko.observableArray((e.prices||[]).map(function(e){return new i({priceType:ko.unwrap(e.priceType),legType:"Win",name:ko.unwrap(e.name)||"",decimalOdds:ko.unwrap(e.decimalOdds)||"",numerator:ko.unwrap(e.numerator)||"",denominator:ko.unwrap(e.denominator)||"",active:e.active||!1},s.marketSort,s.marketMinorCode())})),this.price=ko.observable(k(s)),this.toDispose(s.price.subscribe(function(t){t=t||{},e.updatePrices(t.priceType,!1),l.getBetslip().updateBetsOnSelectionChange()})),this.numberOfLines=ko.observable(e.numberOfLines||1),this.sportsBookClass=e.sportsBookClass,this.date=ko.pureComputed(function(){var t=ko.unwrap(e.startTime);return m("date: %o",t),t?new moment(t).format("D/MM/YY HH:mm"):""}),this.classId=e.classId||"",this.sportId=e.sportId||"",this.minStake=ko.observable(e.minStake||0),this.maxStake=ko.observable(e.maxStake||0),this.stakePerLine=ko.observable("");var a=ko.observable(!1);this.toDispose(u.subscribe("oddsboost:enable",a)),this.potentialReturns=ko.observable(e.potentialReturns),this.boostedPotentialReturns=ko.pureComputed(function(){var t=ko.utils.unwrapObservable(this.boostedPrice),i=ko.utils.unwrapObservable(this.stakePerLine);return m("boosted price: %o",t),i?t&&a()?s.eachWaySelected()?r.getEachWayPotentialReturn(s.eachWayNumerator(),s.eachWayDenominator(),t,i):(m("boosted price potential returns: %o",i*parseFloat(t.decimal)),(i*parseFloat(t.decimal)).toFixed(2)):(m("normal price potential returns: %o",ko.utils.unwrapObservable(this.potentialReturns)),e.potentialReturns):0},this),this.hasFocus=ko.observable(!1),this.toDispose(this.hasFocus.subscribe(function(t){if(!t&&!s.model.applyOverask()){s.stakePerLine(parseFloat(s.stakePerLine())?r.toFixed(s.stakePerLine(),2):"");var i=s.stakePerLine();e.update({stakePerLine:parseFloat(i)}),ko.unwrap(s.stakePerLine)&&p.publish("track:stake-changed",{betId:"SGL_"+s.id,stake:ko.unwrap(s.stakePerLine),potentialReturns:ko.unwrap(s.potentialReturns),element:document.getElementById("slip-odds-stake-"+s.id)})}})),this.toDispose(s.stakePerLine.subscribe(function(t){e.update({stakePerLine:parseFloat(t)})})),this.selectionTitle=ko.pureComputed(function(){var e=this.nameTranslations.get(),t=this.handicap();return t?e+" "+r.handicapFormat(t,this.marketMinorCode()):("Win-Draw-Win"===this.marketName&&"Draw"!==this.name&&(e+=" Win"),e)},this),this.toteMarketName=ko.pureComputed(function(){return"UWIN"===this.legSort?"WIN":"UPLC"===this.legSort?"PLACE":"EW"===this.legSort?"EACHWAY":("UEXA"===this.legSort||"UTRI"===this.legSort||"USW"===this.legSort)&&this.toteLines>1?c.t("betslip.combination")+" "+this.marketNameTranslations.get():this.marketNameTranslations.get()},this),this.odds=ko.pureComputed(function(){return this.price().odds()},this),this.updatePotentialReturns=ko.computed(function(){var t=s.stakePerLine(),i=s.price?s.price():null,a=i&&i.odds?ko.utils.unwrapObservable(i.odds):null;m("update potential returns for %o (%o, %o)",i,a,t),t&&a&&(e.updatePotentialReturns(),s.potentialReturns(e.potentialReturns),m("new potential returns: %o",s.potentialReturns()))}),s.toDispose(this.updatePotentialReturns),this.getToteMinStakePerLine=function(e){var t=2;return"USC6"!==e&&(t="UJKP"===e?.5:.1),t},this.minStakeErrorMessage=ko.pureComputed(function(){var t=c.t("singleinfo.min-stake",r.currencyFormat(s.minStake(),o));if(s.toteSelection){var i="USW"===e.legSort||s.isToteMultileg&&"USC6"!==e.legSort?1:2,a=s.getToteMinStakePerLine(e.legSort);t=c.t("singleinfo.min-stake-totes",r.currencyFormat(i,o),r.currencyFormat(a,o))}return m("min stake message: %o",t),t}),this.toteSelection=e.toteSelection||!1,this.isToteMultileg=e.isToteMultileg||!1,this.toteLines=e.toteLines||0,this.toteEventId=e.toteEventId||0,this.minStakeError=ko.computed(function(){var t=parseFloat(s.stakePerLine()),i=parseFloat(s.minStake()),a=t<i,o=ko.unwrap(s.minStakeErrorMessage);if(s.toteSelection){var r=s.getToteMinStakePerLine(e.legSort);a=t<r||t*s.toteLines<i}return a&&s.betslipHasErrors()&&p.publish("track:betslip-error",{errorMessage:o,position:"r-sidebar/betslip-module"}),a}),s.toDispose(this.minStakeError),this.maxStakeErrorMessage=ko.pureComputed(function(){var e=c.t("singleinfo.max-stake",r.currencyFormat(s.maxStake(),o));return m("min stake message: %o",e),e}),this.maxStakeError=ko.computed(function(){var e=parseFloat(s.stakePerLine()),t=parseFloat(s.maxStake()),i=localStorage.getItem("selectedFreebet"),a=e>t&&!s.model.applyOverask()&&"false"===i,o=ko.unwrap(s.maxStakeErrorMessage);return m("overask intercept: %o (%o, %o)",a?o:"",e,t),a&&s.betslipHasErrors()&&p.publish("track:betslip-error",{errorMessage:o,position:"r-sidebar/betslip-module"}),a}),s.toDispose(this.maxStakeError),this.betError=ko.observable(e.betError||""),this.betWarnings=ko.observableArray(e.betWarnings||""),this.legSort=e.legSort||"",this.forecastTricastSelection=e.forecastTricastSelection||!1,this.update(e),e.bus&&(this.toDispose(e.bus.subscribe("^update$",this.update.bind(this))),this.toDispose(e.bus.subscribe("update:prices:boosted",this.updateBoosted.bind(this))),this.toDispose(e.bus.subscribe("stake:clear",function(){s.stakePerLine("")})))}var o=e("authentication/user"),r=e("domain-model/helper"),n=e("./setBetslipHeight"),l=e("betslip"),d=e("gear-disposable-mixin"),c=e("locale"),p=e("message-bus"),b=e("translated-property"),u=e("oddsboost"),h=e("utils/debug"),m=h("betslip/selection (SGL)");i.prototype.update=function(e){this.decimalOdds(ko.unwrap(e.decimalOdds)||""),this.numerator(ko.unwrap(e.numerator)||""),this.denominator(ko.unwrap(e.denominator)||""),this.active(e.active||!1)};var k=function(e){var t;return e.prices().forEach(function(e){e.active()&&(t=e)}),t};a.prototype.update=function(e){var t,s=this,a=localStorage.getItem("selectedFreebet");if(m("Betslip selection update: %o",e),s.prices.updateArrayWithOrder(ko.unwrap(e.prices)||[],function(e){return new i(e)},"priceType"),t=k(s),t&&t.priceType!==s.price().priceType&&s.price(t),this.minStake(e.minStake||0),this.maxStake(e.maxStake||0),this.updateBoosted(e.boostTokens),!this.hasFocus()&&!s.model.applyOverask()&&"false"===a){var o=e.stakePerLine?r.toFixed(e.stakePerLine,2):"";o>e.maxStake?this.stakePerLine(e.maxStake):this.stakePerLine(o)}this.potentialReturns(e.potentialReturns||"N/A"),this.suspended(e.suspended||!1),this.betError(e.betError),this.betWarnings(e.betWarnings),this.eachWayAvailable(e.eachWayAvailable),this.eachWayDenominator(e.eachWayDenominator),this.eachWayNumerator(e.eachWayNumerator),this.eachWayPlaces(e.eachWayPlaces||0),this.eachWaySelected(e.eachWaySelected||!1),this.birIndex(e.birIndex||""),this.handicap(e.handicap||""),this.numberOfLines(e.numberOfLines||1)},a.prototype.updateBoosted=function(e){e&&e.length>0&&e[0]!==this.boostedPrice()&&(m("Betslip selection update boost price: %o",e),this.boostedPrice(e[0]))},a.prototype.toggleExpand=function(){this.expanded(!this.expanded()),n()},s.exports=a}),require.register("betslip-front/single",function(e,t,s){s.exports='<div class="slip-item"><div class="suspended" data-bind="visible: suspended, css: { \'suspended-tote\': suspended() && $parent.isTote() }"><span class="message" data-bind="translateText: \'tibco.error.TCH_OBW_ERR_540\'"></span></div><div class="suspended-tote-extra" data-bind="visible: suspended() && $parent.isTote()"></div><div class="bet-error" data-bind="visible: minStakeError"><span data-bind="text: minStakeErrorMessage"></span></div><div class="bet-error maxStakeErrorMessage" data-bind="visible: maxStakeError"><span data-bind="text: maxStakeErrorMessage"></span></div><!-- ko ifnot: suspended--><!-- ko foreach: betWarnings --><div class="bet-info" data-bind="text: $data.message"></div><!-- /ko --><!-- /ko --><div class="selection-information"><div class="slip-remove" data-bind="click: $root.removeBet"></div><!-- ko if: $parent.isTote() --><div class="market-information"><div class="tote-market-information-market"><span data-bind="text: marketName"></span> <span data-bind="translateText: \'racing.horse.horseracing.totepool\'"></span></div><div class="tote-market-information-lines" data-bind="text: $parent.toteLines() + \' lines\', visible: $parent.toteLines() > 1"></div><!-- ko if: $parent.isToteMultileg() --><div class="tote-selections" data-bind="html: selectionTitle()"></div><!-- /ko --><!-- ko ifnot: $parent.isToteMultileg() --><div class="market-information-market" data-bind="text: toteMarketName()"></div><div class="market-information-selection"><span data-bind="html: selectionTitle()"></span></div><div class="market-information-event" data-bind="html: eventName"></div><!-- /ko --></div><!-- /ko --><!-- ko ifnot: $parent.isTote() --><div class="market-information" data-bind="click: toggleExpand"><div class="market-information-selection"><span data-bind="html: selectionTitle()"></span> <span data-bind="text: birIndex() ? \'(\' + birIndex() + \')\' : \'\'"></span></div><div class="market-information-market" data-bind="text: marketNameTranslations.get(), visible: marketName !== \'scorecast\'"></div><div class="market-information-event" data-bind="html: eventName"></div></div><div class="odds-container" data-bind="visible: !forecastTricastSelection "><oddsboost-odds-animator class="odds-container-animator" params="fromPrice: price, toPrice: boostedPrice, prices: prices, eachWay: eachWaySelected, suspended: suspended"></oddsboost-odds-animator></div><!-- /ko --><div class="stake-box-container"><!-- ko template: { name: \'/betslip-front/stake\' } --><!-- /ko --></div></div><div class="stake-information" data-bind="visible: !suspended()"><div class="include-in-multiples-container"><!-- ko if: mulipleBoxVisibility --><input type="checkbox" class="checkbox arrow betslip-text" data-bind="checked: includeInMultiples"><label data-bind="translateHtml: \'betslip.include.in.multiples\'"></label><!-- /ko --></div><!-- ko if: eachWayAvailable --><div class="each-way-container"><input data-bind="checked: eachWaySelected, attr: { id: \'betslip-eachway-single-\' + $index() }" type="checkbox" class="checkbox arrow betslip-text"><label data-bind="translateText: \'racing.race.view.EW\', attr: { for: \'betslip-eachway-single-\' + $index() }"></label></div><!-- /ko --><div class="odds-information"><div class="potential-container"><!-- ko ifnot: $parent.isTote --><span data-bind="translateText: \'betslip.potential\'"></span> <span class="amount" data-bind="currencyFormat: boostedPotentialReturns"></span><!-- /ko --><!-- ko if: $parent.isTote --><div><span data-bind="translateText: \'betslip.stake\'"></span> <span data-bind="currencyFormat: stakePerLine"></span> x <span data-bind="text: $parent.toteLines()"></span> <span data-bind="translateText: \'betslip.lines\'"></span></div><div class="amount"><span data-bind="translateText: \'betslip.total-stake\'"></span> <span data-bind="currencyFormat: $parent.totalStake()"></span></div><!-- /ko --></div></div></div><!-- ko if: expanded() && !$parent.isTote() --><div class="bet-expander"><div class="bet-expander-dates"><!-- ko if: date --><span data-bind="translateText: \'singleinfo.date\'"></span><span class="bet-expander-dates-date" data-bind="text: date"></span><!-- /ko --></div><div class="bet-expander-stakes"><div><span data-bind="text: minStakeErrorMessage"></span></div><div><span data-bind="text: maxStakeErrorMessage"></span></div></div></div><!-- /ko --></div>'}),require.register("betslip-front/betslip-vm",function(e,t,s){function i(e){return w[e]||w.ANY}function a(){function e(e){s.selectedFreebetAmount(e),e>0?localStorage.setItem("selectedFreebet",!0):localStorage.setItem("selectedFreebet",!1)}h.mixin(this);var t,s=this,a=v.createBus();this.toDispose(a.subscribe("betslip:height:update",this.updateSlipHeight.bind(this))),this.showRemoveAll=ko.pureComputed(function(){return!this.isEmpty()&&"betslip"===s.selectedTab()&&this.showRemoveAll()}),this.removeAllBetsClick=function(e,t){s.showRemoveAll()&&this.removeAllClick(e,t)},s.quickDepositEnabled=ko.observable(!1),m(["header"],function(e){e=e||{},s.quickDepositEnabled(b.getDeepProperty(e,"header.quick-deposit.enabled")||!1)}),this.show=ko.observable(!0),this.toDispose(p.subscribe("betslip:show",function(){s.show(!0)})),this.toDispose(p.subscribe("betslip:hide",function(){s.show(!1)})),y(this,a),this.toDispose(p.subscribe("reset-free-bets",function(){s.selectedFreebet("non")})),this.model=d.getBetslip(),this.toDispose(this.model.subscribe("update",this.update.bind(this))),this.isSuspended=ko.observable(!1),this.isPlacingBet=ko.observable(!1),this.setBetslipHeight=u,this.expanded=ko.observable(!0),this.numberOfChangedSelections=ko.observable(0),this.showAcceptButton=ko.pureComputed(function(){return this.numberOfChangedSelections()>0},this),this.toDispose(this.model.subscribe("betErrors",function(e){s.numberOfChangedSelections(e.number),s.isSuspended("SUSPENDED"===e.status),u()})),this.doAcceptChanges=function(e,t){a.publish("betslip:changes:accept",t),s.numberOfChangedSelections(0),s.model.clearBetWarnings(),d.service.buildBets(!1)},this.locale=o,this.betslipSelections=ko.observableArray([]),this.bets=ko.observableArray([]),this.errors=ko.observableArray([]),this.frontEndErrors=ko.observableArray([]),this.receipts=ko.observableArray([]),this.user=l,this.isLoading=ko.observable(!1),this.selectedFreebet=ko.observable("non"),this.freebetApplicableBetId=ko.observable(""),this.selectedFreebetAmount=ko.observable(),e(0),this.pendingBetBuildRequest=null,this.potentialReturns=ko.observable("N/A"),this.addLoadingClass=ko.observable(!1),this.bettingBlocked=ko.observable(!1),this.loadingMessage=ko.observable(""),this.isTote=ko.observable(!1),this.toteLines=ko.observable(1),this.isToteMultileg=ko.observable(!1),this.hasRejectedOffer=ko.observable(!1),this.toDispose(p.subscribe("betslip:build:start",function(e){s.loadingMessage(o.t("betslip.loading.buildbet")),s.isLoading(!0),v.removeFrontEndErrorsWithType(s,"insufficient-funds")})),this.toDispose(p.subscribe("scroll-shadow",function(e){"added"===e.data&&s.isLoading()?s.addLoadingClass(!0):s.addLoadingClass(!1)})),this.toDispose(p.subscribe("betslip:build:done",function(e){s.isLoading(!1),v.removeFrontEndErrorsWithType(s,"slip-full"),v.removeFrontEndErrorsWithType(s,"tote-slip-not-empty"),v.removeFrontEndErrorsWithType(s,"tote-already-in-slip")})),this.toDispose(this.model.subscribe("slip-full",function(e){s.frontEndErrors([{type:"slip-full",message:o.t("betslip.alert.error.slip-full")}]),s.updateSlipHeight()})),this.toDispose(this.model.subscribe("tote-slip-not-empty",function(e){s.frontEndErrors([{type:"tote-slip-not-empty",message:o.t("betslip.alert.error.tote-slip-not-empty")}]),s.updateSlipHeight()})),this.toDispose(this.model.subscribe("tote-already-in-slip",function(e){s.frontEndErrors([{type:"tote-already-in-slip",message:o.t("betslip.alert.error.tote-already-in-slip")}]),s.updateSlipHeight()})),this.receiptsIsEmpty=ko.computed(function(){var e=0===this.receipts().length||this.betslipSelections().length;return e},this),this.countdown=ko.observable(0),this.displayCountdown=ko.observable(!1),this.showRemoveAll=ko.pureComputed(function(){return!(s.isLoading()||s.displayCountdown()||s.isPlacingBet()||s.isEmpty()||s.showOveraskOffer())}),f(this,a),g(this,a),S(this,a),this.betslipHasAllEmptyStakes=function(){var e;for(e=0;e<s.betslipSelections().length;e++)if(s.betslipSelections()[e].stakePerLine())return!1;for(e=0;e<s.multiplesBets().length;e++)if(s.multiplesBets()[e].stakePerLine())return!1;return!0},this.placeBet=function(e,i){a.publish("beslip:bet:place",i),v.removeFrontEndErrorsWithType(s,"insufficient-funds");var r=parseFloat(e.totalStake());if(!l.authenticated())return this.errors([{message:o.t("betslip.alert.error.slip-alert-must-login"),selectionId:!1}]),this.updateSlipHeight(),void a.publish("beslip:bet:error:not-authenticated",i);if(this.betslipHasAllEmptyStakes())return this.frontEndErrors([{type:"no-stake",message:o.t("betslip.alert.error.slip-alert-no-stake")}]),this.updateSlipHeight(),void a.publish("beslip:bet:error:no-stake",i);if(this.isLoading(!0),s.quickDepositEnabled()&&parseFloat(this.totalStake())>l.balance()&&l.preferredPaymentMethod())this.frontEndErrors([{type:"insufficient-funds",message:o.t("quickbet.alert.error.message.funds")}]),p.subscribeOnce("^quick-deposit:done$",function(e){var t=e.data||{};t.place&&(v.removeFrontEndErrorsWithType(s,"insufficient-funds"),s.numberOfChangedSelections()<=0&&this.placeBet())}.bind(this)),p.publish("modal:quick-deposit",{action:"open",deficit:Math.round(100*(this.totalStake()-l.balance()))/100,showCloseButton:!0}),this.isLoading(!1);else{if(r>l.balance()+l.creditBalance())return E("place bet: %o > %o",r,l.balance()+l.creditBalance()),this.errors([{type:"insufficient-funds",global:!0,unique:!0,message:o.t("tibco.error.TCH_OBW_ERR_508")}]),this.updateSlipHeight(),a.publish("beslip:bet:error:stake-too-high",i),void this.isLoading(!1);window.onbeforeunload=function(e){e=e||window.event;var t=o.t("betslip.alert.navigation-confimation");return e&&(e.returnValue=t),t},s.loadingMessage(o.t("betslip.loading.placebet")),s.isPlacingBet(!0);var n=!1,c=this.model.subscribe("betErrors",function(e){e.status&&"PRICEINCREASE"!==e.status&&(s.displayCountdown(!1),s.isLoading(!0),s.countdown(0))}),b=function(){s.isPlacingBet(!1),s.isLoading(!1),c.dispose(),window.onbeforeunload=null},u=d.service.placeBet().success(function(e){b(),s.isBoosted(e.boosted),"SLIP_BUILD_ERROR"===e.slipStatus&&d.service.buildBets(!0)}).error(b).pending(function(e){if(!n){s.isLoading(!1);var i=e.body;s.displayCountdown(!0),s.countdown(parseInt(i.birDelay,10)),s.updateSlipHeight(),s.countdown()>0&&(t&&clearInterval(t),t=setInterval(function(){s.countdown()<=0?(clearInterval(t),s.displayCountdown(!1),s.loadingMessage(o.t("betslip.loading.placebet")),s.isPlacingBet(!0),s.isLoading(!0),d.service.placePending(i,u)):s.countdown(parseInt(s.countdown(),10)-1)},1e3))}}).overaskPending(g.pending(this,b))}},this.getName=function(e){var t=e.name,s=e.handicap;return e.handicapMarket&&s.length?e.name+" "+b.handicapFormat(s):("Match Result"===e.marketName&&"Draw"!==e.name&&(t+=" Win"),t)},this.isSelectedFreebetApplicable=ko.computed(function(){var t,a,o,r,n,l,d,c,p,b,u,h;if("non"===s.selectedFreebet())return e(0),s.freebetApplicableBetId(null),!0;if(l=document.querySelector('input[type="radio"][id="'+s.selectedFreebet()+'"]'),!l)return!1;d=l.getAttribute("data-level"),c=l.getAttribute("data-identifier"),p=parseFloat(l.getAttribute("data-amount")),b=document.querySelector(".freebet-error-selection"),u=document.querySelector(".freebet-error-invalid-stake"),e(p),b.classList.add("dn"),u.classList.add("dn");var m=!1;for(t=0;t<s.betslipSelections().length;t++)if(o=s.betslipSelections()[t],h=o.eachWayAvailable()&&o.eachWaySelected()?2:1,r=parseFloat(o.stakePerLine())*o.numberOfLines()*h,i(d)(c,o)&&(m=!0,r>=p))return s.freebetApplicableBetId("SGL_"+o.id),!0;for(t=0;t<s.multiplesBets().length;t++){o=s.multiplesBets()[t],h=o.eachWayAvailable()&&o.eachWaySelected()?2:1,r=parseFloat(o.stakePerLine())*o.numberOfLines*h;var k=o.selections();for(n=!0,a=0;a<k.length;a++)if(!i(d)(c,k[a])){n=!1;break}if(n&&(m=!0,r>=p))return s.freebetApplicableBetId(o.id),!0}return s.freebetApplicableBetId(""),s.selectedFreebet("non"),e(0),m?u.classList.remove("dn"):b.classList.remove("dn"),!1}),this.setFreeBetInformation=ko.computed(function(){s.model.freebetApplicableBetId=s.freebetApplicableBetId(),s.model.freebetAmount=s.selectedFreebetAmount(),s.model.selectedFreebet=s.selectedFreebet()}),this.singleBetCount=ko.observable(0),this.isEmpty=ko.observable(!0),this.multiplesBets=ko.pureComputed(function(){return s.bets().filter(function(e){return!e.single})}),this.blockedAndCountUpdater=ko.computed(function(){var e=s.betslipSelections().length,t=!e&&!s.multiplesBets().length;s.bettingBlocked(s.isPlacingBet()||s.isSuspended()||t),s.singleBetCount(e),s.isEmpty(t&&!s.errors.length)}),this.receiptPotentialReturns=ko.computed(function(){for(var e=0,t=0;t<this.receipts().length;t++){var s=this.receipts()[t].receipt;if(!s.potentialReturns||isNaN(s.potentialReturns)){e="N/A";break}e+=parseFloat(s.potentialReturns)}return"N/A"!==e?b.toRoundedFixed(e,2):"N/A"},this),this.receiptTotalStake=ko.computed(function(){for(var e=0,t=0;t<this.receipts().length;t++){var i=this.receipts()[t],a=i.receipt.totalStake?i.receipt.totalStake:i.bet.totalStake;e+=ko.unwrap(a)-(i.bet.freebetAmount||0),i.receipt.rejected&&s.hasRejectedOffer(!0)}return b.toRoundedFixed(e,2)},this),this.receiptTotalFreebetAmount=ko.computed(function(){for(var e=0,t=0;t<this.receipts().length;t++){var s=this.receipts()[t];e+=s.bet.freebetAmount||0}return b.toFixed(e,2)},this),this.totalStake=ko.computed(function(){var e=0;return ko.utils.arrayForEach(this.betslipSelections(),function(t){var s=t.eachWayAvailable()&&t.eachWaySelected()?2:1;e+=parseFloat(ko.unwrap(t.stakePerLine)||0)*ko.unwrap(t.numberOfLines)*s}),ko.utils.arrayForEach(this.bets(),function(t){if(!t.single){var s=t.eachWayAvailable()&&t.eachWaySelected()?2:1;e+=parseFloat(ko.unwrap(t.stakePerLine)||0)*t.numberOfLines*s}}),isNaN(e)?"0":(this.isTote()&&(e*=this.toteLines()),e=b.toRoundedFixed(e-s.selectedFreebetAmount(),2),e<0?0:e)},this),this.toDispose(this.totalStake.subscribe(function(e){e>0&&v.removeFrontEndErrorsWithType(s,"no-stake")}));var r=function(e){s.potentialReturns(s.model.potentialReturns),s.model.pub("store")};this.toDispose(p.subscribe("^stake:bets:changed$",r)),this.addHeroMVP=function(e){var t=s.betslipSelections().some(function(t){return t.id===e.toString()});t?E("do not add again the same selection"):s.getSelectionById(e,function(e){s.betslipSelections.push(e),c.store("local","betslip:selections",ko.toJS(s.betslipSelections())),d.service.buildBets(!1)})},this.showMultipleType=function(e){var t,s="";return e.indexOf("ACC")>-1?(t="ACC",s=o.t("bet.poolType.accumulator."+e)+"&nbsp;"):e.indexOf("AC")>-1?(t="ACC",s=o.t("bet.poolType.accumulator."+e)+"&nbsp;"):t=e,s+o.t("bet.poolType."+t)},this.betslipInfoTooltipText=function(e,t,s,i,a,r,n){var l="";if(e>0){var d;d=t&&t.indexOf("ACC")>-1?"accumulator":t&&t.indexOf("DBL")>-1?"double":t&&t.indexOf("TBL")>-1?"treble":o.t("bet.poolType."+t),
l=o.t("betslip.multiples.description-"+d.replace(" ","").toLowerCase())}else a&&(l+='<span class="b">Selection:</span>&nbsp;'+a+("Win-Draw-Win"===i&&"Draw"!==a?" Win":"")+"<br>"),s&&(l+='<span class="b">Event:</span>&nbsp;'+s+"<br>"),i&&(l+='<span class="b">Market:</span>&nbsp;'+i+"<br>"),r&&(l+='<span class="b">Odds:</span>&nbsp;'+r.numerator()+"/"+r.denominator()+"<br>"),n&&(l+='<span class="b">Date:</span>&nbsp;'+moment(n).format("DD/MM/YYYY"));return l},this.alertSummary=function(){return s.numberOfChangedSelections()>1?o.t("betslip.alert.summary.multiple",s.numberOfChangedSelections()):o.t("betslip.alert.summary.single")},this.noFreebets=function(){return o.t("generic.betting.betslip.main.no_free_bet")},this.successfullBetMessage=ko.pureComputed(function(){return o.t(s.receipts().length>1?"betting.betslip.receipt.success.multiple":"betting.betslip.receipt.success")}),this.receiptHeader=ko.pureComputed(function(){return o.t(s.receipts().length>1?"betting.betslip.receipt.your.multiple":"betting.betslip.receipt.your",s.receipts().length)}),this.removeBet=function(e,t){e.betId="SGL_"+e.id,s.model.removeSelection(e.id),s.numberOfChangedSelections(s.model.getNumberChangedSelections()),d.service.buildBets(!1),a.publish("betslip:selection:remove",{selection:e,event:t}),v.removeFrontEndErrorsWithType(s,"insufficient-funds"),v.removeFrontEndErrorsWithType(s,"tote-already-in-slip"),v.removeFrontEndErrorsWithType(s,"tote-slip-not-empty")},this.removeAllButReceipts=function(){s.model.removeAllButReceipts()},this.removeAll=function(){s.model.removeAll(),s.numberOfChangedSelections(0),v.removeFrontEndErrorsWithType(s,"insufficient-funds"),v.removeFrontEndErrorsWithType(s,"tote-already-in-slip"),v.removeFrontEndErrorsWithType(s,"tote-slip-not-empty")},this.removeAllClick=function(t,i){a.publish("betslip:selection:remove:all",{event:i}),e(0),s.selectedFreebet("non"),i&&(i.preventDefault(),i.stopPropagation()),s.removeAll(),d.service.buildBets(!1)},this.doneClick=function(t,i){a.publish("betslip:receipt:done",{event:i}),e(0),s.selectedFreebet("non"),s.hasRejectedOffer(!1),i&&(i.preventDefault(),i.stopPropagation()),s.removeAll()},this.reuseSelection=function(t,i){var o=s.getSingleSelectionsForTracking(d);a.publish("betslip:receipt:reuse-selections",{selections:o,event:i}),s.model.removeAll(),e(0),s.selectedFreebet("non"),d.service.addDataFromMemory(),d.service.buildBets(!1),s.hasRejectedOffer(!1),s.model.clearStakes()},this.getSingleSelectionsForTracking=function(e){return e&&e.getBetslip()&&e.getBetslip().betslipSelections&&e.getBetslip().betslipSelections.forEach(function(e){e.betId="SGL_"+e.id}),e.getBetslip().betslipSelections},this.buildBetsOnClick=function(e,t){t.stopPropagation(),t.preventDefault(),d.service.buildBets(!1)},this.getBetslipSelectionById=function(e){var t;for(t=0;t<s.betslipSelections().length;t++)if(s.betslipSelections()[t].id===e)return s.betslipSelections()[t];return null},this.toDispose(this.errors.subscribe(function(e){p.publish("betslip:errors",e.length)})),this.update(this.model)}var o=e("locale"),r=e("./betslip-selection"),n=e("./bet-vm"),l=e("authentication/user"),d=e("betslip"),c=e("web-storage-extender"),p=e("message-bus"),b=e("domain-model/helper"),u=e("./setBetslipHeight"),h=e("gear-disposable-mixin"),m=e("pages/cmsData"),k=e("repository"),v=e("./components/utils"),f=e("./components/betslip/oddsboost"),g=e("./components/betslip/overask"),y=e("./components/betslip/authentication"),S=e("./components/betslip/tracking"),x=e("utils/debug"),E=x("betslip/view-model"),w={ANY:function(e,t){return!0},CATEGORY:function(e,t){return t.sportId===e},CLASS:function(e,t){return t.classId===e},EVENT:function(e,t){return t.eventId===e},MARKET:function(e,t){return t.marketId===e}};a.prototype.update=function(e){var t=this,s=function(){};this.betslipSelections.updateArrayWithOrder(e.betslipSelections||[],function(e){return new r(e,t.singleBetCount)},"id",s),this.bets.updateArrayWithOrder(e.bets||[],function(e){return new n(e)},"id",s);var i=b.getBundledErrors(e.errors);this.errors(ko.toJS(i)),this.receipts(ko.toJS(e.receipts||[])),this.receipts().length>0&&this.showOveraskOffer(!1),this.potentialReturns(e.potentialReturns),this.isTote(e.isTote),this.isTote()&&e.betslipSelections.length>0&&(this.toteLines(e.betslipSelections[0].toteLines),this.isToteMultileg(e.betslipSelections[0].isToteMultileg)),e.getNumberChangedSelections&&this.numberOfChangedSelections(e.getNumberChangedSelections()),this.updateSlipHeight();var a=this.betslipSelections().filter(function(e){return e.suspended()}).length>0;p.publish("betslip-suspended",a),this.isTote()&&this.betslipSelections().length>0&&(this.isToteMultileg()?k.subscribe("totepool",this.betslipSelections()[0].marketId,function(e,t,s){if(t){var i=t.active===!1||t.toteEvents.filter(function(e){return"suspended"===e.status.toLowerCase()}).length>0;this.isSuspended(i),this.betslipSelections()[0].suspended(i)}}.bind(this)):k.subscribe("toteevent",this.betslipSelections()[0].toteEventId,function(e,t,s){if(t){var i="suspended"===t.status.toLowerCase()||"suspended"===t.market.status.toLowerCase()||t.totePools.filter(function(e){return e.poolKey===this.betslipSelections()[0].marketId},this)[0].active===!1;this.isSuspended(i),this.betslipSelections()[0].suspended(i)}}.bind(this)))},a.prototype.updateSlipHeight=function(){clearTimeout(this.heightUpdateTimer),this.heightUpdateTimer=setTimeout(u,10)},s.exports=a}),require.register("betslip-front/stake",function(e,t,s){s.exports='<input maxlength="9" type="text" data-bind="onlyAllowNumbers, updateInputToMaxStake , addTrailingZeroes, setMaxLength(9), attr: {\n       id: \'slip-odds-stake-\' + id,\n       max: maxStake,\n       min:  minStake,\n       placeholder: $root.locale.t(\'betslip.receipt_item_stake\')},\n       textInput: stakePerLine,\n       hasFocus: hasFocus,\n       disable: $parent.showAcceptButton() && multiple">'}),require.register("betslip-front/index",function(e,t,s){var i,a=e("layout-engine"),o=e("./template"),r=e("./betslip-vm"),n=e("message-bus"),l=e("locale"),d=e("./setBetslipHeight"),c=["betslip-reciept"],p=function(){a.render(o,i,"betslip-outer"),d(),ko.utils.registerEventHandler(window,"scroll resize",function(){setTimeout(d,10)}),n.subscribe("page:rendered",function(){d()})};t.getBetslip=function(){return i},t.controllers=c.map(function(t){return e("./components/"+t+"/controller")}),t.init=function(e){i=new r,setTimeout(function(){ko.utils.registerEventHandler("#betslip-container","mousewheel DOMMouseScroll",function(e){var t=e.originalEvent,s=t.wheelDelta||-t.detail,i=$(e.currentTarget);""!==e.currentTarget.style.height&&s<0&&i[0].scrollHeight-i.scrollTop()===i.outerHeight()&&e.preventDefault()})},1e3)},t.start=function(){l.value()?p():n.subscribeOnce("^locale:changed$",function(e){p()})}}),require.register("betslip-front/template",function(e,t,s){s.exports='<div class="betslip-inner" data-bind="css: { \'loading\': isLoading() || displayOveraskPendingSpinner() }, visible: show"><div class="loading-content" data-bind="visible: isLoading() || displayOveraskPendingSpinner()"><spinner params="light: true"></spinner><!-- ko ifnot: displayOveraskPendingSpinner --><span data-bind="html: loadingMessage"></span><!-- /ko --><!-- ko if: displayOveraskPendingSpinner --> <span class="overask__spinner-header" data-bind="text: locale.t(\'overask.spinner.text\')"></span> <span class="overask__spinner-text" data-bind="text: locale.t(\'overask.spinner.subtext\')"></span><!-- /ko --></div><!-- ko if: expanded --><div id="betslip-container" class="betslip-container" data-bind="css: {\'empty\': isEmpty }"><!-- ko ifnot: showOveraskOffer --><div class="betslip-title" data-bind="visible: isTote">totepools</div><div class="betslip-wrapper"><div class="betslip-container-remove-all"><!-- ko if: showRemoveAll --><div class="betslip-container-remove-all-text" data-bind="text: $root.locale.t(\'tag.pageTitle.remove_all\'), click: removeAllBetsClick"></div><!-- /ko --><div class="bet-info-summary-wrapper" data-bind="visible: numberOfChangedSelections() > 0"><div class="bet-info bet-info-summary" data-bind="text: alertSummary()"></div></div></div><!-- ko ifnot: displayCountdown --><!-- ko if: receiptsIsEmpty --><!-- ko ifnot: isEmpty --><oddsboost-header params="selections: betslipSelections, totalStake: totalStake, selectedFreebet: selectedFreebet, multiplesBets: multiplesBets"></oddsboost-header><!-- ko template: { name: \'/betslip-front/single\', foreach: betslipSelections } --><!-- /ko --><!-- ko ifnot: isSuspended --><!-- ko if: multiplesBets().length --><div class="betslip-header small expanded" data-bind="toggle, click: setBetslipHeight"><span class="icon-arrow white-arrow"></span> <span><span data-bind="text: $root.locale.t(\'betslip.multibets\') + \' \' + \'(\' + multiplesBets().length + \')\'"></span></span></div><div class="multiples-container" data-bind="css:{\'multiples-overlay\': showAcceptButton}"><!-- ko template: { name: \'/betslip-front/multiples\', foreach: multiplesBets } --><!-- /ko --></div><!-- /ko --><!-- /ko --><div class="freebets" data-bind="visible: user.freebetTokens().length > 0"><div class="betslip-header small expanded" data-bind="toggle, click: setBetslipHeight"><span class="icon-arrow white-arrow"></span> <span data-bind="text: $root.locale.t(\'betslip.freebets\')"></span></div><div class="slip-information"><div class="freebet-error freebet-error-selection dn" data-bind="text: $root.locale.t(\'js.info.freebet-invalid-selection\')"></div><div class="freebet-error freebet-error-invalid-stake dn" data-bind="text: $root.locale.t(\'js.info.freebet-increase-stake-msg\')"></div><!-- ko foreach: { data: user.freebetTokens(), as: \'freebet\' } --><div class="freebet-row" data-bind="css: { \'freebet-row-totes\': $root.isTote() }"><!-- ko ifnot: freebet.redeemed --><!--<div class="slip-info" data-bind="hoverTooltip: { text: \'Expiry date: \' + moment(freebet.expiryDate).format(\'DD/MM/YYYY HH:mm\'), skin: \'betslip freebet\'}"></div>--><div class="information"><span data-bind="currencyFormat: freebet.value"></span> <span data-bind="text: freebet.description"></span></div><input type="radio" name="freebet" class="forecast-radio" data-bind="\n                                            attr: {\n                                                id: freebet.token,\n                                                \'data-channel\': freebet.restrictions.betChannel,\n                                                \'data-identifier\': freebet.restrictions.betIdentifier,\n                                                \'data-level\': freebet.restrictions.betLevel,\n                                                \'data-amount\': freebet.value\n                                            },\n                                            checked: $root.selectedFreebet,\n                                            value: freebet.token,\n                                            disable: $root.isTote\n                                        "><!-- /ko --></div><!-- /ko --><div class="freebet-row" data-bind="css: { \'freebet-row-totes\': $root.isTote() }"><div class="information" data-bind="text: $root.noFreebets()"></div><input type="radio" name="freebet" class="forecast-radio" value="non" data-bind="checked: $root.selectedFreebet, disable: $root.isTote"></div></div></div><!-- /ko--><!-- ko if: isEmpty--><div class="empty-betslip" data-bind="text: $root.locale.t(\'betslip.no-selections\')"></div><!-- /ko --><!-- /ko --><!-- ko ifnot: receiptsIsEmpty --><div class="slip-placed-success"><!-- ko if : hasRejectedOffer --><span class="top-message" data-bind="text: $root.locale.t(\'betreceipt.overask-bet-rejected-header-message\')"></span><!-- /ko --><!-- ko ifnot : hasRejectedOffer --> <span class="top-message" data-bind="text: successfullBetMessage()"></span><!-- /ko --> <span class="top-message-icon"></span></div><div class="betslip-header"><span class="your-bets" data-bind="text: receiptHeader()"></span></div><div class="receipts" data-bind="foreach: receipts"><!-- ko ifnot : $data.receipt.rejected --><betslip-reciept params="bet: bet, receipt: receipt"></betslip-reciept><!-- /ko --><!-- ko if : $data.receipt.rejected --><div class="receipt"><div class="receipt-rejected-bet" data-bind="text:$root.locale.t(\'betreceipt.overask-bet-rejected\')"></div><div class="receipt-event-name"><span data-bind="html: $root.getName($data.bet.selections[0])"></span> <span>-</span> <span data-bind="html: bet.selections[0].marketName"></span></div><span data-bind="html: bet.selections[0].eventName"></span></div><!-- /ko --></div><!-- /ko --><!-- /ko --><!-- ko if: displayCountdown --><div class="countdown-container"><div class="countdown-container-message-1" data-bind="html: $root.locale.t(\'countdown.title\')"></div><div class="countdown-container-message-2" data-bind="html: $root.locale.t(\'countdown.supertitle\')"></div><div class="countdown-container-countdown"><span data-bind="text: countdown"></span> <span data-bind="text: $root.locale.t(\'countdown.seconds\')"></span></div><spinner></spinner></div><!-- /ko --></div><!-- /ko--><!-- ko if:showOveraskOffer --><overask-offer params="data: overaskNewOfferData"></overask-offer><!-- /ko --></div><!-- ko if: betslipSelections().length > 0 && receiptsIsEmpty() && !displayCountdown() && !displayOveraskPendingSpinner() && !showOveraskOffer()--><footer class="betslip-footer" data-bind="css: { \'acceptNeeded\': showAcceptButton() && !bettingBlocked(), \'betslip-inner loading\': addLoadingClass }"><ul data-bind="foreach: frontEndErrors"><!-- ko if: $data.message --><li class="bet-error" data-bind="text: message, css: { \'bet-info\': type === \'tote-already-in-slip\' || type === \'tote-slip-not-empty\' }"></li><!-- /ko --></ul><ul data-bind="foreach: errors"><!-- ko if: $data.message && !$data.selectionId --><li class="bet-error" data-bind="text: message"></li><!-- /ko --></ul><!-- ko if: showRemoveAll --><div class="betslip-calculations-container"><div class="betslip-calculations"><div class="slip-total-stake"><div class="name" data-bind="text: $root.locale.t(\'betslip.total-stake\')"></div><!-- ko ifnot: isSuspended --><div class="amount" id="display_stake_total" data-bind="currencyFormat: totalStake"></div><!-- /ko --><!-- ko if: isSuspended --><div class="amount" id="display_stake_total" data-bind="currencyFormat: $root.locale.t(\'betslip.abbrsuspended\')"></div><!-- /ko --></div><!-- ko if: selectedFreebetAmount() > 0 --><div class="slip-total-stake"><div class="name" data-bind="text: $root.locale.t(\'generic.betting.betslip.receipt.footerInfo.free_bets\')"></div><div class="amount" id="display_freebet_total" data-bind="currencyFormat: selectedFreebetAmount()"></div></div><!-- /ko --><div class="slip-total-potentials"><div class="name" data-bind="text: $root.locale.t(\'betslip.total-est-returns\')"></div><!-- ko ifnot: isSuspended --><div class="amount" id="potential_return_total" data-bind="currencyFormat: boostedPotentialReturns"></div><!-- /ko --><!-- ko if: isSuspended --><div class="amount" id="potential_return_total" data-bind="currencyFormat: $root.locale.t(\'betslip.abbrsuspended\')"></div><!-- /ko --></div><!-- ko if: user.countryCode === \'DEU\' --><div class="tax-disclaimer" data-bind="text: $root.locale.t(\'betslip.disclaimer.german.tax\')"></div><!-- /ko --></div></div><!-- /ko --><!-- ko if: selectedFreebetAmount() > 0 --><span class="freebet-deduct" data-bind="text: $root.locale.t(\'betslip.freebet-disclaimer\')"></span><!-- /ko --><!-- ko if: isSuspended --> <span class="suspended-notice" data-bind="text: $root.locale.t(\'betslip.alert.suspended\')"></span><!-- /ko --><!-- ko ifnot: bettingBlocked --><!-- ko ifnot: showAcceptButton --> <button class="button action" data-bind="click: placeBet, text: $root.locale.t(\'betslip.bet-button\')"></button><!-- /ko --><!-- ko if: showAcceptButton --><!-- ko if: boostEnabled --> <button class="button active" data-bind="click: doAcceptChanges, text: $root.locale.t(\'betslip.bet-button-accept-boost\')"></button><!-- /ko --><!-- ko ifnot: boostEnabled --> <button class="button active" data-bind="click: doAcceptChanges, text: $root.locale.t(\'betslip.bet-button-accept\')"></button><!-- /ko --><p data-bind="visible: !$root.boostEnabled(), html: $root.locale.t(\'betslip.alert.betslip-has-changed\')"></p><!-- /ko --><!-- /ko --><!-- ko if: bettingBlocked --><div class="button inactive" data-bind="text: $root.locale.t(\'betslip.bet-button\')"></div><!-- /ko --></footer><!-- /ko --><!-- ko ifnot: receiptsIsEmpty --><footer class="betslip-footer"><div class="betslip-calculations"><div class="slip-total-stake"><div class="name" data-bind="text: $root.locale.t(\'betslip.receipt_total_stake\')"></div><div class="amount" data-bind="currencyFormat: receiptTotalStake"></div></div><!-- ko if: receiptTotalFreebetAmount() > 0 --><div class="slip-total-stake"><div class="name" data-bind="text: $root.locale.t(\'generic.betting.betslip.receipt.footerInfo.free_bets\')"></div><div class="amount" data-bind="currencyFormat: receiptTotalFreebetAmount"></div></div><!-- /ko --><div class="slip-total-potentials"><div class="name" data-bind="text: $root.locale.t(\'generic.betting.betslip.receipt.total_returns\')"></div><div class="amount" data-bind="oddsFormat: receiptPotentialReturns"></div></div><!-- ko if: receiptTotalFreebetAmount() > 0 --><span class="freebet-deduct" data-bind="text: $root.locale.t(\'betslip.freebet-disclaimer\')"></span><!-- /ko --><!-- ko if: user.countryCode === \'DEU\' --><div class="tax-disclaimer" data-bind="text: $root.locale.t(\'betslip.disclaimer.german.tax\')"></div><!-- /ko --></div><!-- ko ifnot: receipts()[0].isTote --><button class="button action" data-bind="click: reuseSelection, text: $root.locale.t(\'betting.betslip.receipt.reuseselections\')"></button><!-- /ko --> <button id="receiptDoneButton" class="button action" data-bind="click: doneClick, text: $root.locale.t(\'betting.betslip.receipt.done\')"></button></footer><!-- /ko--><!-- /ko--></div>'}),require.register("betslip-front/setBetslipHeight",function(e,t,s){var i=0,a=e("message-bus");s.exports=function(){var e=document.getElementById("header"),t=document.querySelector(".betslip-footer"),s=t?t.clientHeight||0:0,o=document.getElementById("betslip-container"),r=document.querySelector(".betslip-wrapper"),n=r?r.clientHeight:0,l=document.getElementById("betslip-bulletin-div"),d=document.getElementById("my-bets"),c=document.getElementById("my-bets-tabs")||d,p=o&&o.clientHeight>0,b=p?o:c;if(b){var u=p?o.clientHeight:c.clientHeight,h=u<n?u:n,m=null,k=t?t.classList.contains("scroll-shadow")?1:2:0,v=window.innerHeight-(e.clientHeight+s);if(h>v)m=v+"px",2===k&&t.classList.add("scroll-shadow"),a.publish("scroll-shadow","added");else{var f=104;b.scrollHeight<=u&&window.innerHeight>u+f?b.removeAttribute("style"):m=v+"px",1===k&&t.classList.remove("scroll-shadow"),a.publish("scroll-shadow")}if(l){var g=u>b.clientHeight?b.clientHeight:u;l.style.marginTop=g+s+10+"px"}i!==m&&null!=m&&(i=m,b.style.height=m)}}}),require.register("betslip-front/components/betslip-reciept/receipt",function(e,t,s){s.exports='<div class="receipt" data-bind="css: { \'receipt-tote\': toteBet }"><!-- ko if: isBetBoosted --><div class="odds-boost-receipt-container"><div class="odds-boost-receipt-container-content-container"><div class="odds-boost-receipt-container-content-container-icon"></div><span class="odds-boost-receipt-container-content-container-text" data-bind="html: $root.locale.t(\'odds.boost.boosted\')"></span></div></div><!-- /ko --><div class="receipt-event-type"><!-- ko if: !single --><span data-bind="html: $root.showMultipleType(betType)"></span> <span data-bind="text: \'(x\' + actualNumberOfLines + \')\'"></span><!-- /ko --><!-- ko if: single && !forecastTricastBet && !toteBet--> <span data-bind="text: $root.locale.t(\'generic.betting.betslip.receipt.singles.single\')"></span><!-- /ko --><!-- ko if: single && forecastTricastBet--> <span data-bind="text: marketName"></span><!-- /ko --></div><!-- ko if: betType === \'SGL\' && !toteBet --><div class="receipt-event-name" data-bind="html: eventName"></div><div class="receipt-selection-name" data-bind="html: name"></div><!-- ko ifnot: forecastTricastBet --><div class="receipt-market-name" data-bind="visible: marketName !== \'scorecast\'"><span data-bind="text: marketName"></span> <span data-bind="text: marketIndex"></span></div><div class="receipt-odds"><span class="receipt-odds-label" data-bind="text: $root.locale.t(\'betreceipt.odds\')"></span> <span class="receipt-odds-value" data-bind="text: odds"></span></div><!-- ko if: eachWayAvailable --><div data-bind="text: eachWayTermsInfo"></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko ifnot: betType === \'SGL\' --><!-- ko foreach: bet.selections --><div class="receipt-selection-name"><span data-bind="text: $index()+1"></span> <span data-bind="html: \'. \'+ $parent.getName($data) + \' (\'+ eventName + \')\'"></span></div><!-- ko if: $parent.eachWayAvailable --><div data-bind="text: $parent.getEachWayTerms($data)"></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko if: toteBet --><div class="receipt-tote-type"><span data-bind="text: getToteMarket($data)"></span></div><div class="receipt-tote-selection-name" data-bind="html: name"></div><div><span data-bind="text: $root.locale.t(\'betslip.stake\')"></span> <span data-bind="currencyFormat: stakePerLine"></span> x <span data-bind="text: toteLines"></span> <span data-bind="text: $root.locale.t(\'betslip.lines\')"></span></div><div class="receipt-tote-total-stake"><span data-bind="text: $root.locale.t(\'betslip.receipt_total_stake\')"></span> <span data-bind="currencyFormat: totalStake"></span></div><!-- /ko --><!-- ko ifnot: toteBet --><div class="receipt-stake"><div data-bind="text: linePriceInfo"></div><!-- ko if: freebetAmount > 0 --><div><span data-bind="text: $root.locale.t(\'betreceipt.freebetused\')"></span> <span data-bind="currencyFormat: freebetAmount"></span></div><div><span data-bind="text: $root.locale.t(\'betreceipt.freebetid\')"></span> <span data-bind="text: freebetToken"></span></div><!-- /ko --></div><div class="receipt-total-stake"><span class="receipt-total-stake-label" data-bind="text: $root.locale.t(\'betreceipt.totalstake\')"></span> <span class="receipt-total-stake-value" data-bind="currencyFormat: totalStake"></span></div><div class="receipt-potential-return"><span class="receipt-potential-return-label" data-bind="text: $root.locale.t(\'betreceipt.estimated\')"></span> <span class="receipt-potential-return-value" data-bind="currencyFormat: potentialReturns"></span></div><!-- /ko --><div class="receipt-time"><span class="receipt-time-label" data-bind="text: $root.locale.t(\'betreceipt.time\')"></span> <span class="receipt-time-value" data-bind="text: time"></span></div><div class="receipt-receiptno"><span class="receipt-receiptno-label" data-bind="text: $root.locale.t(\'betreceipt.number\')"></span> <span class="receipt-receiptno-value" data-bind="text: betReceiptId"></span></div></div>'}),require.register("betslip-front/components/utils",function(e,t,s){function i(e){return function(t){return ko.unwrap(t).type!==e}}var a=e("utils/subscribable");s.exports={removeFrontEndErrorsWithType:function(e,t){var s=ko.unwrap(e.frontEndErrors).filter(i(t));e.frontEndErrors(s)},createBus:function(e){return a.mixin(e||{})}}}),require.register("betslip-front/components/betslip/authentication",function(e,t,s){function i(e,t){return function(){e.isEmpty()||o.buildBets(t)}}var a=e("message-bus"),o=e("betslip/service");s.exports=function(e){e.toDispose(a.subscribe("authentication:logged-in",i(e,!0))),e.toDispose(a.subscribe("authentication:logged-out",i(e,!1)))}}),require.register("betslip-front/components/betslip/oddsboost",function(e,t,s){var i=e("oddsboost"),a=e("utils/debug"),o=a("betslip/components/oddsboost");s.exports=function(e,t){var s=e.boostEnabled=ko.observable(!1);e.toDispose(i.subscribe("oddsboost:enable",s));var a=e.isBoosted=ko.observable(!1);e.toDispose(i.subscribe("oddsboost:enable",a)),e.toDispose(t.subscribe("betslip:receipt:reuse-selections",function(e){o("betslip:receipt:reuse-selections: %o",e),i.publish("oddsboost:enable",!1)})),e.boostedPotentialReturns=e.toDispose(ko.computed(function(){if(o("boosted: %o",ko.unwrap(a)),ko.unwrap(a)){var t,s=0;return e.bets().forEach(function(e){o("bet %o potential returns: %o",e,e.boostedPotentialReturns),e.multiple&&e.stakePerLine()&&e.eachWaySelected()&&(t=!0),s+=parseFloat(ko.unwrap(e.boostedPotentialReturns))}),e.betslipSelections().forEach(function(e){o("selection %o potential returns: %o",e,e.boostedPotentialReturns),s+=parseFloat(ko.unwrap(e.boostedPotentialReturns))}),t?ko.unwrap(e.potentialReturns):(o("total potential returns: %o",s),s.toFixed(2))}return ko.unwrap(e.potentialReturns)}))}}),require.register("betslip-front/components/betslip/overask",function(e,t,s){function i(e){e.showOveraskOffer=ko.observable(!1),e.overaskNewOfferData=ko.observableArray([]),e.overaskOfferReceipts=ko.observableArray([]),e.displayOveraskPendingSpinner=ko.observable(!1),e.betsForOverask=[]}function a(e,t){e.toDispose(h.subscribe("overask-offer:retrieved",function(t){g("overask-offer:retrieved: %o",t),e.showOveraskOffer(!0),e.overaskNewOfferData(t.data)})),e.toDispose(h.subscribe("authentication:logged-out",function(){e.showOveraskOffer(!1)})),e.toDispose(h.subscribe("authentication:logged-in",function(){"true"===localStorage.getItem("overaskPendingOffer")&&e.showOveraskOffer(!0)})),e.toDispose(h.subscribe("overask-pending:progress",function(){e.displayOveraskPendingSpinner(!0)})),e.toDispose(h.subscribe("overask-offer:canceled",function(){g("overask-offer:canceled"),u.store("local","overask-offer",{}),e.showOveraskOffer(!1),p(e.betslipSelections()),p(e.bets()),t.publish("betslip:height:update"),m.service.buildBets(!0),h.publish("placing-overaskBet",!1),e.displayOveraskPendingSpinner(!1),localStorage.setItem("overaskPendingOffer",!1)})),e.toDispose(h.subscribe("overask-offer:expired",function(){g("overask-offer:expired"),e.frontEndErrors([{type:"overask-offer-expired",message:b.t("overask.offer.expired.text")}]),e.showOveraskOffer(!1),p(e.betslipSelections()),p(e.bets()),t.publish("betslip:height:update"),localStorage.setItem("overaskPendingOffer",!1)})),e.toDispose(h.subscribe("overask-offer:rejected",function(s){g("overask-offer:rejected: %o",s),e.frontEndErrors([{type:"overask-rejected",message:b.t("overask.autorejected.text")}]),p(e.betslipSelections()),p(e.bets()),t.publish("betslip:height:update")})),e.toDispose(h.subscribe("overask-offer:timed-out",function(s){g("overask-offer:timed-out: %o",s),e.frontEndErrors([{type:"overask-trader-timeout",message:b.t("overask.traderTimeout.text")}]),p(e.betslipSelections()),p(e.bets()),t.publish("betslip:height:update")})),e.toDispose(h.subscribe("overask-offer:unknown-error",function(t){e.frontEndErrors([{type:"overask-unknown-error",message:b.t("error.generic")}]),e.displayOveraskPendingSpinner(!1)})),e.toDispose(h.subscribe("overask-offer:new",function(t){g("overask-offer:new: %o",t),g("overask new offer: %o",t.data),e.showOveraskOffer(!0);var s={},i={};0===e.betsForOverask.length&&t.data.storedPending&&(e.betsForOverask=t.data.storedPending.betsForOverask),m.getBetslip().bets.forEach(function(e){s[e.id]=e,e.selections.forEach(function(e){i[e.id]=e})});var a=[];t.data.overAskBets.forEach(function(e){"REJECTED"===e.status&&a.push(e.betKey)});var o=e.betsForOverask.map(function(e){var a=t.data.overAskBets.find(function(t){return"REJECTED"!==t.status&&t.betKey===e.betKey});return a&&(a.placedBet=s[e.betId],a.selections.forEach(function(e){e.placedSelection=i[e.key]})),a}).filter(function(e){return null!=e}),r={overAskBets:o,rejectedBets:a,expiryDateTime:t.data.expiryDateTime,storedPending:t.data.storedPending};e.overaskNewOfferData(r),h.publish("placing-overaskBet",!0),u.store("local","overask-pending",{}),u.store("local","overask-offer",r)})),e.toDispose(h.subscribe("overask-pending:over",function(){g("overask-pending:over"),e.displayOveraskPendingSpinner(!1),h.publish("placing-overaskBet",!1)}))}function o(e){e.toDispose(h.subscribe("betslip:build:start",function(t){g("betslip:build:start: %o",t),v.removeFrontEndErrorsWithType(e,"overask-rejected"),v.removeFrontEndErrorsWithType(e,"overask-trader-timeout"),v.removeFrontEndErrorsWithType(e,"overask-offer-expired"),v.removeFrontEndErrorsWithType(e,"overask-unknown-error")}))}function r(e,t){e.toDispose(t.subscribe("betslip:selection:remove",function(t){g("betslip:selection:remove: %o",t),v.removeFrontEndErrorsWithType(e,"overask-rejected"),v.removeFrontEndErrorsWithType(e,"overask-trader-timeout"),v.removeFrontEndErrorsWithType(e,"overask-offer-expired"),v.removeFrontEndErrorsWithType(e,"overask-unknown-error")})),e.toDispose(t.subscribe("betslip:selection:remove:all",c("betslip:selection:remove:all: %o",e)))}function n(e,t){e.toDispose(t.subscribe("betslip:receipt:done",c("betslip:receipt:done",e))),e.toDispose(t.subscribe("betslip:receipt:reuse-selections",c("betslip:receipt:reuse-selections: %o",e))),e.toDispose(t.subscribe("betslip:receipt:done",d(e))),e.toDispose(t.subscribe("betslip:receipt:reuse-selections",d(e)))}function l(e,t){e.toDispose(t.subscribe("betslip:bet:place",function(){g("betslip:bet:place"),v.removeFrontEndErrorsWithType(e,"overask-rejected"),v.removeFrontEndErrorsWithType(e,"overask-trader-timeout"),v.removeFrontEndErrorsWithType(e,"overask-offer-expired"),v.removeFrontEndErrorsWithType(e,"overask-unknown-error")}))}function d(e){return function(){e.overaskNewOfferData([]),e.displayOveraskPendingSpinner(!1),e.betsForOverask=[]}}function c(e,t){return function(s){g(e,s),t.showOveraskOffer(!1)}}function p(e){g("cleanup stake from selections: %o",e.map(function(e){return{name:ko.unwrap(e.name),numberOfLines:ko.unwrap(e.numberOfLines),stakePerLine:parseFloat(ko.unwrap(e.stakePerLine)),totalStake:ko.unwrap(e.totalStake),maxStake:parseFloat(ko.unwrap(e.maxStake))}})),e.forEach(function(e){var t=parseFloat(ko.unwrap(e.stakePerLine)),s=parseFloat(ko.unwrap(e.maxStake));if(s){var i=Math.min(t,s);e.stakePerLine(i?k.toFixed(i,2):"")}else e.stakePerLine(t?k.toFixed(t,2):"")})}var b=e("locale"),u=e("web-storage-extender"),h=e("message-bus"),m=e("betslip"),k=e("domain-model/helper"),v=e("../utils"),f=e("utils/debug"),g=f("betslip/components/overask");s.exports=function(e,t){i(e),a(e,t),o(e,t),r(e,t),n(e,t),l(e,t)},s.exports.pending=function(e,t){return function(s){m.getBetslip().overaskReceipts=[];var i,a=s.betReceipts||[];a.forEach(function(e){m.getBetslip().bets.forEach(function(t){e.betId===t.id&&(i={bet:t,receipt:e},m.getBetslip().overaskReceipts.push(i))})}),e.displayOveraskPendingSpinner(!0),e.updateSlipHeight();var o=[];s.betReceipts.forEach(function(t){e.betsForOverask.push({betKey:t.betKey,betId:t.betId}),o.push(t.betKey)});var r=o.join(","),n={status:!0,overaskBetKeys:r,betsForOverask:e.betsForOverask,overaskReceipts:m.getBetslip().overaskReceipts};u.store("local","overask-pending",n),m.service.callOverask(r,n),t()}}}),require.register("betslip-front/components/betslip/tracking",function(e,t,s){var i=e("locale"),a=e("message-bus");s.exports=function(e,t){e.toDispose(e.isSuspended.subscribe(function(e){e&&a.publish("track:betslip-notification",{errorMessage:"SUSPENDED",position:"r-sidebar/betslip-module"})})),e.toDispose(e.numberOfChangedSelections.subscribe(function(t){t>0&&a.publish("track:betslip-notification",{errorMessage:e.alertSummary(),position:"r-sidebar/betslip-module"})})),e.toDispose(t.subscribe("betslip:changes:accept",function(e){a.publish("track:slip-accept-changes",{element:e?e.target:null})})),e.toDispose(t.subscribe("betslip:selection:remove",function(e){e.selection?a.publish("track:slip-remove",{selection:e.selection,element:e.event?e.event.target:null}):a.publish("track:slip-remove-all",{element:e.event?e.event.target:null})})),e.toDispose(t.subscribe("betslip:receipt:done",function(){
a.publish("track:clear-slip")})),e.toDispose(t.subscribe("betslip:receipt:reuse-selections",function(e){a.publish("track:reuse-selections",e.selections)})),e.toDispose(t.subscribe("betslip:bet:place",function(){a.publish("track:slip-submit",{position:"r-sidebar/betslip-module"})})),e.toDispose(t.subscribe("beslip:bet:error:not-authenticated",function(){a.publish("track:betslip-error",{errorMessage:i.t("betslip.alert.error.slip-alert-must-login"),position:"r-sidebar/betslip-module"})})),e.toDispose(t.subscribe("beslip:bet:error:no-stake",function(){a.publish("track:betslip-error",{errorMessage:i.t("betslip.alert.error.slip-alert-no-stake"),position:"r-sidebar/betslip-module"})}))}}),require.register("betslip-front/components/betslip-reciept/Receipt",function(e,t,s){var i=e("authentication/user"),a=e("domain-model/helper"),o=e("locale"),r=function(e,t,s,o){var r=t&&t[0].firstPart.priceType?t[0].firstPart.priceType:e.priceType;if("STARTING_PRICE"===r)return"SP";var n=t?t[0].firstPart.priceNumerator:ko.unwrap(e.numerator),l=t?t[0].firstPart.priceDenominator:ko.unwrap(e.denominator),d=n+"/"+l,c=t?a.toFixed(parseInt(t[0].firstPart.priceNumerator)/parseInt(t[0].firstPart.priceDenominator)+1,2):a.toFixed(parseFloat(ko.unwrap(e.decimalOdds)),2),p="decimal"===i.oddsDisplay()||"ASIAN_HANDICAP"===s||"GOAL_LINE"===s||"Win Only"===o;return p?c:d},n=function(e,t){var s=a.currencyFormat(t,i),r="betreceipt.lines.price.singular";return e>1&&(r="betreceipt.lines.price.plural"),o.t(r,e,s)},l={init:function(e){var t=e.bet,s=e.receipt,i=t.legs[0].parts[0].selections[0];this.bet=e.bet,this.receipt=e.receipt,this.forecastTricastBet=i.forecastTricastSelection||!1,this.toteBet=i.toteSelection||!1,this.toteLines=i.toteLines||null,this.priceType=i.price.priceType,s.legs&&s.legs.length>0&&s.legs[0].firstPart.priceType&&(this.priceType=ko.unwrap(s.legs[0].firstPart.priceType)),this.eventName=i.eventName,this.marketName=i.marketName,this.odds=r(i.price,s.legs,i.marketSort,this.marketName),this.marketIndex=i.birIndex?"("+i.birIndex+")":"",this.stakePerLine=ko.unwrap(s.stakePerLine?s.stakePerLine:t.stakePerLine),this.freebetToken=t.freebetToken,this.freebetAmount=t.freebetAmount||0,this.totalStake=a.toRoundedFixed(ko.unwrap(s.totalStake?s.totalStake:t.totalStake)-this.freebetAmount,2),this.time=moment(s.placedAt).format("DD/MM/YYYY H:mm:ss"),this.betReceiptId=s.betReceiptId,this.potentialReturns=s.potentialReturns?a.toRoundedFixed(parseFloat(s.potentialReturns),2):"N/A",this.actualNumberOfLines=t.actualNumberOfLines,this.betType=t.betType,this.single=t.single,this.eachWayAvailable=!(!ko.unwrap(t.eachWayAvailable)||!ko.unwrap(t.eachWaySelected)),this.receipt.legType&&(this.eachWayAvailable="E"===this.receipt.legType),this.eachWayDenominator=i.eachWayDenominator,this.eachWayNumerator=i.eachWayNumerator,this.eachWayPlaces=i.eachWayPlaces,this.getNumberOfLines=s.numberOfLines?s.numberOfLines:t.numberOfLines,this.numberOfLines=this.eachWayAvailable&&!this.receipt.numberOfLines?2*parseInt(this.getNumberOfLines):this.getNumberOfLines,this.name=this.getName(i),this.eachWayTermsInfo=this.getEachWayTerms(i),this.linePriceInfo=n(this.numberOfLines,this.stakePerLine),this.isBetBoosted=t.boostedReturns&&t.boostedReturns.length>0},getName:function(e){var t=e.name,s=e.handicap;return e.handicapMarket&&s.length?e.name+" "+a.handicapFormat(s):("Win-Draw-Win"===e.marketName&&"Draw"!==e.name&&(t+=" Win"),t)},getToteMarket:function(e){var t=e.bet.legs[0].parts[0].selections[0],s="UEXA"===t.legSort||"UTRI"===t.legSort||"USW"===t.legSort,i=t.marketName;return s&&t.toteLines>1&&(i=o.t("betslip.combination")+" "+i),i},getEachWayTerms:function(e){for(var t=o.t("tag.eachWayTermsString.each_way_odds"),s=e.eachWayNumerator+"/"+e.eachWayDenominator,i=o.t("tag.eachWayTermsString.places"),a="1",r=1;r<e.eachWayPlaces;)a+="-"+ ++r;return t+" "+s+" "+i+" "+a}};t.create=function(e){var t=Object.create(l);return t.init(e),t}}),require.register("betslip-front/components/betslip-reciept/controller",function(e,t,s){var i="betslip-reciept",a=e("./Receipt"),o=e("./receipt"),r={viewModel:{createViewModel:a.create},template:o};t.init=function(e){ko.components.register(i,r)}}),window.cogwheels.addGear({name:"betslip-front",version:"0.0.1"});
require.register("results-container/index",function(e,t,s){function n(t,s){t.forEach(function(t){var n=e("./components/"+t+"/controller");n.init(s)})}var r=e("./view-model"),a=e("./template"),o=["results-date-tabs","results-group","results-sub-group","results-sport-events","results-racing-events","results-header"];t.init=function(e){n(o,e),ko.components.register("results-container",{viewModel:r,template:a,synchronous:!0})}}),require.register("results-container/template",function(e,t,s){s.exports='<div class="results-container"><breadcrumbs params="breadcrumbs: breadcrumbs()"></breadcrumbs><results-header params="sportId: sportId, headerTabs : headerTabs, selectedSport: selectedSport"></results-header><div class="results-container__info"><div class="results-container__info-text"><span class="results-container__info-icon"></span> <span data-bind="text: locale.t(\'results.info.text\')"></span></div><div class="results-container__info-legend"><span class="badge" data-bind="text: locale.t(\'results.legend.w\')"></span> <span data-bind="html: \'&#8212;&nbsp;\' + locale.t(\'results.legend.win\')"></span> <span class="badge" data-bind="text: locale.t(\'results.legend.d\')"></span> <span data-bind="html: \'&#8212;&nbsp;\' + locale.t(\'results.legend.draw\')"></span> <span class="badge lose" data-bind="text: locale.t(\'results.legend.l\')"></span> <span data-bind="html: \'&#8212;&nbsp;\' + locale.t(\'results.legend.lose\')"></span> <span class="badge void" data-bind="text: locale.t(\'results.legend.v\')"></span> <span data-bind="html: \'&#8212;&nbsp;\' + locale.t(\'results.legend.void\')"></span></div></div><div class="results-container__module"><h1 class="expand-list expanded results-container__top-content" data-bind="toggle"><div class="icon-arrow expand"></div><div class="results-container__title" data-bind="text: locale.t(\'page.title.results\')"></div><!-- ko if: sportsLink --><div class="results-container__link-container"><a class="results-container__link" data-bind="text: sportsLinkText, attr: { href: sportsLink }"></a></div><!-- /ko --></h1><results-date-tabs params="selectedDates: selectedDates"></results-date-tabs><!-- ko foreach: $component.events --><results-group params="event: $data, isExpanded: $parent.isClassExpanded($index()), sportId: $parent.sportId"></results-group><!-- /ko --><!-- ko if: events().length === 0  --><div class="results-container__empty"><div class="results-container__empty-text" data-bind="text: locale.t(\'results.empty\')"></div></div><!-- /ko --></div></div>'}),require.register("results-container/view-model",function(e,t,s){function n(e){var t=this;a.mixin(t),t.sportId=ko.observable(e.selectedSport()?e.selectedSport().id:d.FOOTBALL),t.headerTabs=e.headerTabs,t.selectedSport=e.selectedSport,t.locale=o,t.sportsList=ko.observableArray(),t.sportsLink=ko.observable(),t.sportsLinkText=ko.observable(),t.selectedDates=ko.observableArray(),t.events=ko.observableArray(),t.breadcrumbs=ko.observableArray(),t.breadcrumbs.push({title:o.t("page.title.results"),href:"/"+o.value()+"/results/"}),t.toDispose(ko.computed(function(){var e=t.sportId();i.getById(e,function(e,s){e||(t.sportsLink(s.href),t.sportsLinkText(o.t("generic.sport.goto")+" "+s.text+" >"),t.breadcrumbs().length>1&&t.breadcrumbs.pop(),t.breadcrumbs.push({title:s.text,href:null}))}.bind(this))})),t.toDispose(ko.computed(function(){var e=t.sportId(),s=t.selectedDates(),n=s.length,a=[];t.events.removeAll(),s.forEach(function(s){var o=s.format("YYYYMMDD"),i=e+"-"+o;r.get("resulted-sport",i,function(e,s){if(!e&&s.resultedClasses&&s.resultedClasses.forEach(function(e){var t=a.find(function(t){return e.id===t.id});t?e.resultedTypes.forEach(function(e){var s=t.resultedTypes.find(function(t){return e.id===t.id});s&&e.resultedEvents?s.resultedEvents?e.resultedEvents.forEach(function(e){s.resultedEvents.push(e)}):s.resultedEvents=e.resultedEvents:t.resultedTypes.push(e)}):a.push(e)}),n--,0===n){var r=function(e,t){return e.name<t.name?-1:e.name>t.name?1:0};a.sort(r),a.forEach(function(e){e.resultedTypes.sort(r),e.resultedTypes.forEach(function(e){e.resultedEvents&&e.resultedEvents.sort(function(e,t){var s=moment(e.dateTime),n=moment(t.dateTime);return s.isBefore(n)?1:n.isBefore(s)?-1:0})}),t.events.push(e)})}})})}))}var r=e("repository"),a=e("gear-disposable-mixin"),o=e("locale"),i=e("service").sportService,d=e("domain-model/helpers/sport-types");n.prototype={isClassExpanded:function(e){return e<3}},s.exports=n}),require.register("results-container/components/results-date-tabs/template",function(e,t,s){s.exports='<div class="results-date-tabs"><div class="results-date-tabs__tabs"><tabs params="tabs: tabList,\n                  contentTemplate: null,\n                  selectedTab: selectedTab,\n                  showListCountInTabTitle: false,\n                  limit: 3"></tabs></div><div class="results-date-tabs__picker"><daterange-picker params="type: \'results\', callback: dateRangeCallback"></daterange-picker><button class="showButton" type="button" data-bind="click: showButtonClicked, text: showButtonText"></button></div></div>'}),require.register("results-container/components/results-date-tabs/controller",function(e,t,s){var n="results-date-tabs",r=e("./view-model"),a=e("./template"),o={viewModel:r,template:a};t.init=function(){ko.components.register(n,o)}}),require.register("results-container/components/results-group/template",function(e,t,s){s.exports='<div class="results-group"><h2 class="expand-list results-group__type" data-bind="click: toggleType, css: { expanded: isExpanded }"><div class="icon-arrow small-expand"></div><div class="title" data-bind="text: name"></div></h2><!-- ko if: isExpanded --><!-- ko foreach: types --><results-sub-group params="sportsType: $data, isExpanded: $parent.isTypeExpanded($index()), sportId: $parent.sportId"></results-sub-group><!-- /ko --><!-- /ko --></div>'}),require.register("results-container/components/results-date-tabs/view-model",function(e,t,s){function n(e){var t=this;r.mixin(t),t.locale=a;var s=document.querySelector(".showButton");s.classList.add("disabled"),t.tabList=ko.observableArray([{title:a.t("general.today"),value:[moment().startOf("day")]},{title:a.t("generic.yesterday"),value:[moment().startOf("day").subtract(1,"day")]},{title:a.t("results.last-three-days"),value:[moment().startOf("day"),moment().startOf("day").subtract(1,"day"),moment().startOf("day").subtract(2,"day")]}]),t.showButtonText=a.t("general.show"),t.selectedDates=e.selectedDates,t.selectedTab=ko.observable(null),t.pickedDates=ko.observableArray(),t.dateRangeCallback=function(e,n){var r=e.clone(),a=n.clone();t.selectedTab(null);var o=[];for(r.isSame(a)&&o.push(r.unix());r.isBefore(a);)o.push(r.unix()),r=r.add(1,"day"),r.isSame(a)&&o.push(r.unix());s.classList.remove("disabled"),t.pickedDates(o.map(function(e){return moment.unix(e)}))},t.showButtonClicked=function(){s.classList.add("disabled"),t.selectedDates(t.pickedDates())},t.toDispose(ko.computed(function(){var e=t.selectedTab();e&&t.selectedDates(e.value)}))}var r=e("gear-disposable-mixin"),a=e("locale");n.prototype={},s.exports=n}),require.register("results-container/components/results-header/template",function(e,t,s){s.exports='<!-- ko if: loaded--><header class="results-header" data-bind="css: selectedSportImage"><h1 data-bind="text: translate(\'page.title.results\')"></h1><tabs params="\n                    tabs: sports,\n                    selectedTab: selectedSport,\n                    contentTemplate: null,\n                    showListCountInTabTitle: false,\n                    limit: 4,\n                    showMoreTabsOnResize: false"></tabs></header><!-- /ko -->'}),require.register("results-container/components/results-group/controller",function(e,t,s){var n="results-group",r=e("./view-model"),a=e("./template"),o={viewModel:r,template:a};t.init=function(){ko.components.register(n,o)}}),require.register("results-container/components/results-racing-events/template",function(e,t,s){s.exports='<div class="results-outright-events"><div class="results-sport-events__date-time"><!-- ko if: raceDate !== \'\' --><div class="results-outright-events__date" data-bind="text: raceDate"></div><!-- /ko --><div class="results-outright-events__time" data-bind="text: raceTime"></div></div><!-- ko if: showEventName --><div class="results-outright-events__event-name"><span data-bind="html: eventName, attr: {title: noHtmlTagsEventName}"></span></div><!-- /ko --><div class="results-outright-events__winners-wrapper"><!-- ko foreach: {data: runners, as: \'runner\' }--><div class="results-outright-events__winner"><span class="results-outright-events__badge"><span data-bind="css: runner.results.toLowerCase(), text: $parent.getPlacement(runner.results)"></span></span><div class="results-outright-events__placement"><span data-bind="text: $parent.getPlace(runner.place)"></span></div><div class="results-outright-events__winner-name"><span data-bind="text: runner.name, attr: {title: runner.name}"></span></div><div class="results-outright-events__price"><span data-bind="text: $parent.prices[$index()]"></span></div></div><!-- /ko --></div></div>'}),require.register("results-container/components/results-group/view-model",function(e,t,s){function n(e){var t=this;r.mixin(t),t.event=e.event,t.name=t.event.name,t.types=t.event.resultedTypes,t.sportId=e.sportId(),t.isExpanded=ko.observable(e.isExpanded()&&!0),t.isTypeExpanded=function(e){return e<3},t.toggleType=function(){t.isExpanded(!t.isExpanded())}}var r=e("gear-disposable-mixin");n.prototype={},s.exports=n}),require.register("results-container/components/results-sport-events/template",function(e,t,s){s.exports='<div class="results-sport-events"><div class="results-sport-events__date-time"><!-- ko if: eventDate !== \'\' --><div class="results-sport-events__date" data-bind="text: eventDate"></div><!-- /ko --><div class="results-sport-events__time" data-bind="text: eventTime"></div></div><div class="results-sport-events__teams" data-bind="css : {\'test-match\' : isCricketTestMatch}"><div class="results-sport-events__team-name home" data-bind="text: getHomeName()"></div><div class="results-sport-events__score-container"><!-- ko if: homeScore --><div class="results-sport-events__score-wrapper" data-bind="foreach: homeScore"><!-- ko if: $data.inning --><div class="results-sport-events__inning" data-bind="text: inning"></div><!-- /ko --><div class="results-sport-events__score" data-bind="css: {\'cricket\': $parent.isCricket}"><span class="results-sport-events__score-text" data-bind="text: score"></span></div></div><div class="results-sport-events__score-dash">-</div><div class="results-sport-events__score-wrapper" data-bind="foreach: awayScore"><!-- ko if: $data.inning --><div class="results-sport-events__inning" data-bind="text: inning"></div><!-- /ko --><div class="results-sport-events__score" data-bind="css: {\'cricket\': $parent.isCricket}"><span class="results-sport-events__score-text" data-bind="text: score"></span></div></div><!-- /ko --><!-- ko ifnot: homeScore --><div class="results-sport-events__score-wrapper"><div class="results-outright-events__sport"><!-- ko if: eventResult === \'draw\' --><span class="results-outright-events__badge"><span>D</span></span><!-- /ko --><!-- ko ifnot: eventResult === \'draw\' --> <span class="results-outright-events__badge" data-bind="attr:{\'homeaway\': getPlacementForSelection(winnerAndLoser[0])}"><span data-bind="attr:{\'homeaway\': getPlacementForSelection(winnerAndLoser[0])},text: getPlacementSignForSelection(winnerAndLoser[0])"></span></span><div class="results-sport-events__score-dash">-</div><span class="results-outright-events__badge" data-bind="attr:{\'homeaway\': getPlacementForSelection(winnerAndLoser[1])}"><span data-bind="attr:{\'homeaway\': getPlacementForSelection(winnerAndLoser[1])},text: getPlacementSignForSelection(winnerAndLoser[1])"></span></span><!-- /ko --></div></div><!-- /ko --></div><div class="results-sport-events__team-name" data-bind="text: getAwayName()"></div></div><div class="results-sport-events__teams-small-resolution" data-bind="css : {\'test-match\' : isCricketTestMatch}"><div class="results-sport-events__names-container"><div class="results-sport-events__team-name" data-bind="text: getHomeName()"></div><div class="results-sport-events__team-name" data-bind="text: getAwayName()"></div></div><div class="results-sport-events__score-container"><!-- ko if: homeScore --><div class="results-sport-events__score-wrapper" data-bind="foreach: homeScore"><!-- ko if: $data.inning --><div class="results-sport-events__inning" data-bind="text: inning"></div><!-- /ko --><div class="results-sport-events__score" data-bind="css: {\'cricket\': $parent.isCricket}"><span class="results-sport-events__score-text" data-bind="text: score"></span></div></div><div class="results-sport-events__score-wrapper" data-bind="foreach: awayScore"><!-- ko if: $data.inning --><div class="results-sport-events__inning" data-bind="text: inning"></div><!-- /ko --><div class="results-sport-events__score" data-bind="css: {\'cricket\': $parent.isCricket}"><span class="results-sport-events__score-text" data-bind="text: score"></span></div></div><!-- /ko --><!-- ko ifnot: homeScore --><div class="results-sport-events__score-badge-container"><!-- ko if: eventResult === \'draw\' --><span class="results-outright-events__badge"><span>D</span></span><!-- /ko --><!-- ko ifnot: eventResult === \'draw\' --><div class="results-sport-events__score-wrapper__top"><span class="results-outright-events__badge" data-bind="attr:{\'homeaway\': getPlacementForSelection(winnerAndLoser[0])}"><span data-bind="attr:{\'homeaway\': getPlacementForSelection(winnerAndLoser[0])}, text: getPlacementSignForSelection(winnerAndLoser[0])"></span></span></div><div class="results-sport-events__score-wrapper__bottom"><span class="results-outright-events__badge" data-bind="attr:{\'homeaway\': getPlacementForSelection(winnerAndLoser[1])}"><span data-bind="attr:{\'homeaway\': getPlacementForSelection(winnerAndLoser[1])}, text: getPlacementSignForSelection(winnerAndLoser[1])"></span></span></div><!-- /ko --></div><!-- /ko --></div></div><!-- ko if: status !== \'\' --><div class="results-sport-events__status" data-bind="text: status"></div><!-- /ko --></div>'}),require.register("results-container/components/results-header/controller",function(e,t,s){var n="results-header",r=e("./view-model"),a=e("./template"),o={viewModel:r,template:a};t.init=function(){ko.components.register(n,o)}}),require.register("results-container/components/results-sub-group/template",function(e,t,s){s.exports='<div class="results-sub-group"><div class="expand-list" data-bind="click: toggle, css: { expanded: isExpanded }"><div class="icon-arrow small-expand"></div><div class="title" data-bind="text: name"></div></div><!-- ko if: isExpanded --><!-- ko foreach: events --><!-- ko if: $data.eventType --><results-racing-events params="event: $data, sportId: $parent.sportId"></results-racing-events><!-- /ko --><!-- ko ifnot: $data.eventType --><results-sport-events params="event: $data, sportId: $parent.sportId"></results-sport-events><!-- /ko --><!-- /ko --><!-- /ko --></div>'}),require.register("results-container/components/results-header/view-model",function(e,t,s){function n(e){var t=this;r.mixin(t),t.translate=a.t,t.sportId=e.sportId,t.sports=e.headerTabs,t.selectedSport=e.selectedSport,t.loaded=ko.observable(!1),t.selectedSportImage,t.toDispose(ko.computed(function(){t.selectedSport()&&t.selectedSport().id!==t.sportId()&&(t.sportId(t.selectedSport().id),o.navigate(t.selectedSport().href))})),t.toDispose(ko.computed(function(){t.selectedSport()&&(t.selectedSportImage="sport_"+t.sportId(),t.loaded(!0))}))}var r=e("gear-disposable-mixin"),a=e("locale"),o=e("ladbrokes-router");s.exports=n}),require.register("results-container/components/results-racing-events/controller",function(e,t,s){var n="results-racing-events",r=e("./view-model"),a=e("./template"),o={viewModel:r,template:a};t.init=function(){ko.components.register(n,o)}}),require.register("results-container/components/results-racing-events/view-model",function(e,t,s){function n(e){var t=this,s=e.event,n=moment(s.dateTime),a=moment();r.mixin(t),t.sportId=e.sportId||i.FOOTBALL,t.eventType=s.eventType,t.runners=s.winnersAndLosers,t.eventName=s.name,t.noHtmlTagsEventName=t.getNoHtmlTagsEventName(s.name),t.prices=t.getPrices(s)||[],t.raceTime=t.getRaceTime(s),t.showEventName=t.checkEventName(),t.raceDate=ko.observable(a.isSame(n,"day")?"":n.format("DD/MM"))}var r=e("gear-disposable-mixin"),a=e("authentication/user"),o=e("locale"),i=e("domain-model/helpers/sport-types");n.prototype={getPrices:function(e){return"decimal"!==a.oddsDisplay()?e.fracPrice:e.decPrice},getRaceTime:function(e){return moment(e.dateTime).format("HH:mm")},getPlacement:function(e){return e=e.toLowerCase(),"place"===e?"P":"win"===e?"W":"void"===e?"V":void 0},getPlace:function(e){if(e)switch(e){case 1:return o.t("racing.results.horse.first");case 2:return o.t("racing.results.horse.second");case 3:return o.t("racing.results.horse.third");default:var t=o.t("racing.results.horse.x_th");return t.replace("{}",e)}},checkEventName:function(){var e=this.sportId===i.HORSE_RACING||this.sportId===i.GREYHOUNDS;return!!(!e&&"OUTRIGHT"===this.eventType||e&&"OUTRIGHT"!==this.eventType)},getNoHtmlTagsEventName:function(e){return null==e?"":e.toString(),e.replace(/<[^>]*>/g,"")}},s.exports=n}),require.register("results-container/components/results-sport-events/controller",function(e,t,s){var n="results-sport-events",r=e("./view-model"),a=e("./template"),o={viewModel:r,template:a};t.init=function(){ko.components.register(n,o)}}),require.register("results-container/components/results-sport-events/view-model",function(e,t,s){function n(e){var t=this,s=e.event;r.mixin(t),t.translate=a.t;var n=moment(s.dateTime),i=moment();t.sportId=e.sportId||o.FOOTBALL,t.eventDate=ko.observable(i.isSame(n,"day")?"":n.format("DD/MM")),t.eventTime=n.format("HH:mm"),t.eventResult=s.eventResult?s.eventResult.toLowerCase():"",t.winnerAndLoser=t.getWinnerAndLoser(s.winnersAndLosers),t.isCricket=t.sportId===o.CRICKET,t.isCricketTestMatch=!!(t.isCricket&&s.homeScore&&s.homeScore.length>1),t.homeName=s.homeName,t.awayName=s.awayName,t.winner=s.winner,t.homeScore=t.getScore(s.homeScore),t.awayScore=t.getScore(s.awayScore),t.status=ko.observable(s.settled?a.t("racing.race.settled"):"")}var r=e("gear-disposable-mixin"),a=e("locale"),o=e("domain-model/helpers/sport-types");n.prototype={getScore:function(e){return e&&!this.isCricketTestMatch?[{score:e[0]}]:e&&this.isCricketTestMatch?[{inning:"1st",score:e[0]},{inning:"2nd",score:e[1]}]:void 0},getWinnerAndLoser:function(e){var t=[];if(e){var s=0;if(e.forEach(function(e){var n={name:"",place:""};n.name=e.name,n.place=e.results,"Draw"!==e.name&&"Tie"!==e.name&&(s++,t.push(n))}),s<2){var n="void"===this.eventResult?"Void":"Lose";t.push({name:"",place:n})}}return t},getPlacementForSelection:function(e){return"void"===this.eventResult?"void":e&&e.place?e.place.toLowerCase():""},getPlacementSignForSelection:function(e){return"void"===this.eventResult?"V":e&&e.place?e.place.substr(0,1):""},getHomeName:function(){return this.winnerAndLoser[0]&&""!==this.winnerAndLoser[0].name?this.winnerAndLoser[0].name:this.homeName},getAwayName:function(){return this.winnerAndLoser[1]&&""!==this.winnerAndLoser[1].name?this.winnerAndLoser[1].name:this.awayName}},s.exports=n}),require.register("results-container/components/results-sub-group/controller",function(e,t,s){var n="results-sub-group",r=e("./view-model"),a=e("./template"),o={viewModel:r,template:a};t.init=function(){ko.components.register(n,o)}}),require.register("results-container/components/results-sub-group/view-model",function(e,t,s){function n(e){var t=this;r.mixin(t),t.sportId=e.sportId,t.sportsType=e.sportsType,t.name=t.sportsType.name,t.events=t.sportsType.resultedEvents,t.isExpanded=ko.observable(e.isExpanded()&&!0),t.toggle=function(){t.isExpanded(!t.isExpanded())}}var r=e("gear-disposable-mixin");n.prototype={},s.exports=n}),window.cogwheels.addGear({name:"results-container",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("bindingHandlersAndExtenders/index",function(e,n,t){n.modal=e("./bindingHandlers/modal"),n.time=e("./bindingHandlers/time"),n.href=e("./bindingHandlers/href"),n.expand=e("./bindingHandlers/expand"),n.header=e("./bindingHandlers/header"),n.oddsFormat=e("./bindingHandlers/oddsFormat"),n.oddsPushIndication=e("./bindingHandlers/oddsPushIndication"),n.tooltipHover=e("./bindingHandlers/tooltipHover"),n.input=e("./bindingHandlers/input"),n.currencyFormat=e("./bindingHandlers/currencyFormat").currencyFormat,n.currencyFormatRaw=e("./bindingHandlers/currencyFormat").currencyFormatRaw,n.altImage=e("./bindingHandlers/alt-image"),n.textAndTooltip=e("./bindingHandlers/textAndTooltip"),n.translations=e("./bindingHandlers/translations"),n.repaintDom=e("./bindingHandlers/repaintDom")}),require.register("bindingHandlersAndExtenders/bindingHandlers/alt-image",function(e,n,t){ko.bindingHandlers.altImage={update:function(e,n){var t=ko.unwrap(n()),i="#ALT:";t.indexOf(i)>-1?(e.src=t.substring(0,t.indexOf(i)),e.alt=decodeURIComponent(t.substring(t.indexOf(i)+i.length))):e.src=t}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/currencyFormat",function(e,n,t){var i=e("domain-model/helper"),r=e("authentication/user");ko.bindingHandlers.currencyFormat={update:function(e,n){var t=ko.unwrap(n());e.innerHTML=i.currencyFormat(t,r)}},ko.bindingHandlers.currencyFormatRaw={update:function(e,n){var t=ko.unwrap(n());e.innerHTML=i.currencyFormatRaw(t,r)}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/expand",function(e,n,t){function i(e,n){var t={},i=n.innerText;t.target=n,t.expanded=e,i&&i.indexOf("\n")>-1?t.action=i.substring(0,i.indexOf("\n")):t.action=i,a.publish("track:collapse-expand",t)}function r(e,n,t){return t?($(n).removeClass("dn"),$(e).addClass("expanded toggle-arrow-ie")):($(n).addClass("dn"),$(e).removeClass("expanded toggle-arrow-ie")),t}var a=e("message-bus");ko.bindingHandlers.toggle={handler:function(){var e=this,n=e.nextElementSibling,t=e.parentElement;$(e).hasClass("expanded")?($(n).addClass("dn"),$(e).removeClass("expanded toggle-arrow-ie"),t.classList.remove("expandable-below"),i("Collapse",e)):($(n).removeClass("dn"),$(e).addClass("expanded toggle-arrow-ie"),t.getAttribute("data-expandable-below")&&t.classList.add("expandable-below"),i("Expand",e))},init:function(e,n){ko.utils.registerEventHandler(e,"click",ko.bindingHandlers.toggle.handler.bind(e))},update:function(e,n){if(ko.unwrap(n())){var t=e.nextElementSibling;$(t).removeClass("dn"),$(e).addClass("expanded toggle-arrow-ie")}}},ko.bindingHandlers.toggleWithUpdate={init:function(e,n){var t=n(),a=e.nextElementSibling;r(e,a,ko.unwrap(t)),ko.utils.registerEventHandler(e,"click",function(){var n=e.nextElementSibling,a=r(e,n,!e.classList.contains("expanded"));"undefined"!=typeof t&&ko.isObservable(t)&&(t(a),a?i("Expand",e):i("Collapse",e))})},update:function(e,n){var t=ko.unwrap(n()),i=e.nextElementSibling;r(e,i,t)}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/header",function(e,n,t){function i(){var e,n=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in t)if(void 0!==n.style[e])return t[e]}var r=e("message-bus");ko.bindingHandlers.toggleTopBar={init:function(e,n){function t(){a.style.height=window.innerHeight-o.clientHeight+1+"px"}var a=document.getElementById("az-menu"),o=document.getElementById("header"),s=0;ko.utils.registerEventHandler(window,"resize",t),ko.utils.registerEventHandler(window,"scroll",function(){var n=window.pageYOffset,i=document.getElementById("betslip-outer"),r=document.getElementById("collapse-betslip-container");n<=0?o.classList.remove("box-shadow"):o.classList.add("box-shadow");var d=e.classList.contains("up");n<=0||s>n?d&&(e.classList.remove("up"),a.classList.remove("top-header-up"),r.classList.remove("without-top-bar"),i.classList.remove("scrolled")):d||s===n||(e.classList.add("up"),a.classList.add("top-header-up"),r.classList.add("without-top-bar"),i.classList.contains("scrolled")||i.classList.add("scrolled")),s=n,t()});var d=i();d&&e.addEventListener(d,function(){t(),r.publish("page:rendered")})}},ko.bindingHandlers.tooltip={init:function(e,n){function t(e){r(),e.classList.add("active"),e.nextElementSibling.classList.remove("dn")}function i(e){e.classList.remove("active"),e.nextElementSibling.classList.add("dn")}function r(){for(var e=document.querySelectorAll(".tooltip-content"),n=0;n<e.length;n++){var t=e[n];t.previousElementSibling&&(t.classList.add("dn"),t.previousElementSibling.classList.remove("active"))}}ko.utils.registerEventHandler(e,"click",function(n){n.stopPropagation(),e.classList.contains("active")?i(e):t(e)}),ko.utils.registerEventHandler(document.body,"click",function(n){$.contains($(e).next()[0],n.target)||i(e)})}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/href",function(e,n,t){var i=e("locale");ko.bindingHandlers.href={update:function(e,n){var t=ko.utils.unwrapObservable(n()),r=t.value||t,a=t.removeLocale||!1;a||0===r.indexOf("http:")||0===r.indexOf("https:")||/^\/[a-z]{2}-([a-z]{2}|[\d]{3})\//.exec(r)?e.setAttribute("href",r):e.setAttribute("href","/"+i.value()+r)}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/input",function(e,n,t){ko.bindingHandlers.onlyAllowNumbers={init:function(e,n){ko.utils.registerEventHandler(e,"keydown",function(e){$.inArray(e.keyCode,[46,8,9,27,13,110,188,190])!==-1||65===e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||67===e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||88===e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()})}},ko.bindingHandlers.addTrailingZeroes={init:function(e,n){ko.utils.registerEventHandler(e,"blur",function(){var e=this,n=parseFloat(e.value);n>0&&(e.value=n.toFixed(2))})}},ko.bindingHandlers.updateInputToMaxStake={init:function(e,n){ko.utils.registerEventHandler(e,"blur",function(){if("false"===localStorage.getItem("selectedFreebet")){var n=localStorage.getItem("oddsboost:state"),t=parseInt(sessionStorage.getItem("boostedMaxStake")),i=document.querySelectorAll(".maxStakeErrorMessage"),r=parseInt(e.getAttribute("max"));if(("false"===n||"null"===n)&&e.value>r)for(var a=0;a<i.length;a++)i[a].style.display="none";else if("true"===n&&e.value>t)for(var o=0;o<i.length;o++)i[o].style.display="none"}})}},ko.bindingHandlers.setMaxLength={init:function(e,n){var t=ko.unwrap(n());ko.utils.registerEventHandler(e,"keydown",function(){e.value.length>t&&(e.value=e.value.substring(0,t))})}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/modal",function(e,n,t){function i(e,n,t){s.trackLink(e,n,t)}var r,a=e("message-bus"),o=e("web-storage-extender"),s=e("domain-model/helpers/tracking");ko.bindingHandlers.popupLink={init:function(e,n){var t=ko.unwrap(n()),s=ko.unwrap(t.url)||e.href,d=t.type,l=t.options;"modal"===d?ko.utils.registerEventHandler(e,"click",function(e){return e.preventDefault(),a.publish("modal:open",s),i(this,e,s),!1}):"popup"===d&&ko.utils.registerEventHandler(e,"click",function(e){var n=e.currentTarget;e.preventDefault(),i(this,e,s);var t;(n.classList.contains("account-button")||n.classList.contains("trigger-balance"))&&(o.store("cookie","popupMyaccount",!0),t=!0),l||(l={},l.toolbar="no",l.scrollbars="yes",l.resizable="yes",l.width="1024",l.height="768");var a="toolbar="+l.toolbar+", scrollbars="+l.scrollbars+", resizable="+l.resizable+", width="+l.width+", height="+l.height;return t?(r&&r.close(),r=window.open(s,"_blank",a)):window.open(s,"_blank",a),!1})}},ko.bindingHandlers.modalClose={init:function(e,n){ko.utils.registerEventHandler(e,"click",function(){a.publish("modal:close")})}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/oddsFormat",function(e,n,t){var i=e("domain-model/helper"),r=e("authentication/user");ko.bindingHandlers.oddsFormat={update:function(e,n){var t=ko.unwrap(n()),a=parseFloat(t);isNaN(a)?a=t:(a=i.toFixed(a,2),a=i.currencyFormat(a,r)),e.innerHTML=a}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/oddsPushIndication",function(e,n,t){ko.bindingHandlers.oddsPushIndication={init:function(e,n){var t=parseFloat(ko.unwrap(n()));ko.utils.domData.set(e,"oddValue",t)},update:function(e,n){var t=parseFloat(ko.unwrap(n())),i=parseFloat(ko.utils.domData.get(e,"oddValue")),r=$(e);ko.utils.domData.set(e,"oddValue",t),t>0&&i>0&&(ko.bindingHandlers.oddsPushIndication.killTimer(e),t>i?(r.removeClass("odds-down").addClass("odds-up"),ko.bindingHandlers.oddsPushIndication.startTimer(e)):t<i&&(r.removeClass("odds-up").addClass("odds-down"),ko.bindingHandlers.oddsPushIndication.startTimer(e))),0===t&&(r.removeClass("odds-up").removeClass("odds-down"),ko.bindingHandlers.oddsPushIndication.killTimer(e))},startTimer:function(e){var n=setTimeout(function(){var n=$(e);n.removeClass("odds-up").removeClass("odds-down"),ko.utils.domData.set(e,"timer",null)},4e3);ko.utils.domData.set(e,"timer",n)},killTimer:function(e){var n=ko.utils.domData.get(e,"timer");n&&(clearTimeout(n),ko.utils.domData.set(e,"timer",null))}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/repaintDom",function(e,n,t){ko.bindingHandlers.repaintDom={init:function(e,n){var t=n()||{},i=navigator.userAgent,r="all";/MSIE/.test(i)||/Trident\//.test(i)?r="Internet Explorer":/Safari/.test(i)&&/Apple Computer/.test(navigator.vendor)?r="Safari":/Chrome/.test(i)&&/Google Inc/.test(navigator.vendor)?r="Chrome":/Firefox/.test(i)&&(r="Firefox"),r===t.browser&&setTimeout(function(){var e=document.getElementsByClassName(t.selector);e&&(e[0].classList.add("re-paint"),setTimeout(function(){e[0].classList.remove("re-paint")},2500))},100)}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/textAndTooltip",function(e,n,t){ko.bindingHandlers.textAndTooltip={update:function(e,n){var t=ko.unwrap(n());e.innerHTML=t,e.title=e.firstChild?e.firstChild.nodeValue:""}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/time",function(e,n,t){var i=e("web-storage-extender");ko.bindingHandlers.showLoggedInTime={init:function(e,n){var t,r,a,o=i.retrieve("local","user:loggedInTime")||"";a=setInterval(function(){t=moment(),r=t.diff(o,"seconds"),e.textContent=moment.duration(r,"seconds").format("hh:mm:ss",{trim:!1})},1e3),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){clearInterval(a)})}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/tooltipHover",function(e,n,t){ko.bindingHandlers.hoverTooltip={init:function(e,n){var t=ko.unwrap(n()),i=ko.unwrap(t.text)||"",r=ko.unwrap(t.skin)||"black";i&&($(e).addClass("hover-tooltip "+r),$(e).append('<span class="tooltip-hover-content">'+i+"</span>"))},update:function(e,n){var t=ko.unwrap(n()),i=ko.unwrap(t.text)||"",r=ko.unwrap(t.skin)||"black",a=$(e).find(".tooltip-content");a?i?a.html(i):($(e).removeClass("hover-tooltip").removeClass(r),a.remove()):i&&($(e).addClass("hover-tooltip "+r),$(e).append('<span class="tooltip-hover-content">'+i+"</span>"))}}}),require.register("bindingHandlersAndExtenders/bindingHandlers/translations",function(e,n,t){var i=e("locale");ko.bindingHandlers.translateHtml={init:function(e,n){var t=ko.unwrap(n());e.innerHTML=i.t(t)},update:function(e,n){var t=ko.unwrap(n());e.innerHTML=i.t(t)}},ko.bindingHandlers.translateText={init:function(e,n){var t=ko.unwrap(n());e.textContent=i.t(t)},update:function(e,n){var t=ko.unwrap(n());e.textContent=i.t(t)}}}),window.cogwheels.addGear({name:"bindingHandlersAndExtenders",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("tote/index",function(e,t,o){var n=e("./tote-page/view-model"),s=e("./tote-page/template"),i=e("./tote-multi-leg/view-model"),a=e("./tote-multi-leg/template"),l=e("./tote-single-leg/view-model"),r=e("./tote-single-leg/template"),c=e("./tote-contextual-menu/view-model"),d=e("./tote-contextual-menu/template"),p=e("./tote-single-leg/bet-builder-single-market/view-model"),u=e("./tote-single-leg/bet-builder-single-market/template"),h=e("./components/runner/view-model"),g=e("./components/runner/template"),b=e("./components/spotlight-form/view-model"),m=e("./components/spotlight-form/template"),b=e("./components/spotlight-form/view-model"),m=e("./components/spotlight-form/template"),v=e("./components/tote-builder-container/view-model"),f=e("./components/tote-builder-container/template"),x=e("./components/rule-popup/template"),k=e("./components/rule-popup/index");t.init=function(){ko.components.register("tote-page",{viewModel:n,template:s,synchronous:!0}),ko.components.register("tote-multi-leg",{viewModel:i,template:a,synchronous:!0}),ko.components.register("tote-single-leg",{viewModel:l,template:r,synchronous:!0}),ko.components.register("tote-contextual-menu",{viewModel:c,template:d,synchronous:!0}),ko.components.register("runner",{viewModel:h,template:g,synchronous:!0}),ko.components.register("tote-builder-container",{viewModel:v,template:f,synchronous:!0}),ko.components.register("spotlight-form",{viewModel:b,template:m,synchronous:!0}),ko.components.register("bet-builder-single-market",{viewModel:p,template:u,synchronous:!0}),ko.components.register("rule-popup",{viewModel:k,template:x,synchronous:!0})}}),require.register("tote/tote-contextual-menu/template",function(e,t,o){o.exports='<!-- ko if: $root.toteScoop6PoolKey() || $root.toteJackpotPoolKey() || placepotTotePools().length || quadpotTotePools().length --><header class="meeting-header" data-bind="toggle, css: { expanded: true }"><span class="icon-arrow white-arrow"></span> <span class="title" data-bind="textAndTooltip: $root.locale.t(\'totepool.tote\')"></span></header><div class="tote-contextual-menu"><!-- ko if: $root.toteScoop6PoolKey() --><div class="meetings-group"><!-- ko if: $root.toteScoop6PoolKey --><a class="sidebar-racing-link" data-bind="href: $root.toteScoop6Link"><span class="name-wrapper"><span class="name tote-contextual-menu__link-name" data-bind="text: $root.locale.t(\'totepool.scoop6\')"></span></span> <span class="icon-arrow white-arrow"></span></a><!-- /ko --></div><!-- /ko --><div class="meetings-group"><!-- ko if: hasJackpotPools --><h2 class="tote-contextual-menu__twistie" data-bind="css:{ expanded: jackpotExpanded() }, click: function(){ jackpotExpanded(!jackpotExpanded()); }"><span class="icon-arrow small-expand"></span> <span class="title" data-bind="textAndTooltip: $root.locale.t(\'totepool.jackpot\')"></span></h2><div class="tote-contextual-menu__meetings" data-bind="css:{ dn: !jackpotExpanded() }"><!-- ko foreach: jackpotTotePools --><a data-bind="href: link"><div class="meeting" data-bind="text: title,\n                    css: { \'meeting--selected\': isMeetingSelected },\n                    click: function(){ $parent.setSelected(cleanTitle, \'UJKP\'); }"></div></a><!-- /ko --></div><!-- /ko --><!-- ko if: hasPlacepotPools --><h2 class="tote-contextual-menu__twistie" data-bind="css:{ expanded: placepotExpanded() }, click: function(){ placepotExpanded(!placepotExpanded()); }"><span class="icon-arrow small-expand"></span> <span class="title" data-bind="textAndTooltip: $root.locale.t(\'totepool.placepot\')"></span></h2><div class="tote-contextual-menu__meetings" data-bind="css:{ dn: !placepotExpanded() }"><!-- ko foreach: placepotTotePools --><a data-bind="href: link"><div class="meeting" data-bind="text: title,\n                    css: { \'meeting--selected\': isMeetingSelected },\n                    click: function(){ $parent.setSelected(cleanTitle, \'UPLP\'); }"></div></a><!-- /ko --></div><!-- /ko --><!-- ko if: hasQuadpotPools --><h2 class="tote-contextual-menu__twistie" data-bind="css:{ expanded: quadpotExpanded() }, click: function(){ quadpotExpanded(!quadpotExpanded()); }"><span class="icon-arrow small-expand"></span> <span class="title" data-bind="textAndTooltip: $root.locale.t(\'totepool.quadpot\')"></span></h2><div class="tote-contextual-menu__meetings" data-bind="css:{ dn: !quadpotExpanded() }"><!-- ko foreach: quadpotTotePools --><a data-bind="href: link"><div class="meeting finished" data-bind="text: title,\n                    css: { \'meeting--selected\': isMeetingSelected },\n                    click: function(){ $parent.setSelected(cleanTitle, \'UQDP\'); }"></div></a><!-- /ko --></div><!-- /ko --></div></div><!-- /ko -->'}),require.register("tote/tote-cms-helper",function(e,t,o){var n=e("pages/cmsData"),s=e("locale"),i={isActive:function(e,t){var o=!0;n(["totepool"],function(n){n.totepool&&n.totepool.activePools&&n.totepool.activePools.pools&&n.totepool.activePools.pools.forEach(function(t){t.sportId===e&&t.language===s.value()&&(o=t.active)}),t(o)})}};o.exports=i}),require.register("tote/tote-multi-leg/template",function(e,t,o){o.exports='<div class="tote-coupon"><div class="tote-coupon__navigate"><div class="button" data-bind="click: function() { clickNavigation(-1); }"><div class="tote-coupon--left-arrow" data-bind="css: getNavigationButtonClass(true)"></div><div class="tote-coupon__navigate--text" data-bind="css: getNavigationButtonClass(true), text: locale.t(\'totepool.prev-leg\')"></div></div><div class="tote-coupon__navigate--amount"><div class="tote-coupon--icon" data-bind="css: poolIcon"><span class="tote-coupon--icon-head" data-bind="text: locale.t(\'totepool.tote\')"></span> <span class="tote-coupon--icon-tail" data-bind="text: getIconText()"></span></div><div class="tote-coupon__navigate--value" data-bind="text: getPoolValue()"></div></div><div class="button" data-bind="click: function() { clickNavigation(1); }"><div class="tote-coupon__navigate--text" data-bind="css: getNavigationButtonClass(false), text: locale.t(\'totepool.next-leg\')"></div><div class="tote-coupon--arrow" data-bind="css: getNavigationButtonClass(false)"></div></div></div><!-- ko if: toteSuspended --><div class="tote-coupon__suspended" data-bind="text: locale.t(\'totepool.suspended\')"></div><!-- /ko --><div data-bind="css: toteSuspendedClass"><div class="tote-coupon__legs"><!-- ko foreach: legs --><!-- ko if: $parent.isExpanded($index) --><div class="tote-coupon--expanded"><div class="tote-coupon--header" data-bind="text: $parent.getLegText($data)"></div><div class="tote-coupon--small-text" data-bind="text: $parent.getLegTime($data)"></div><div class="tote-coupon--small-text" data-bind="text: $parent.getLegPark($data)"></div></div><!-- /ko --><!-- ko if: !$parent.isExpanded($index) --><div class="tote-coupon--compact"><div class="button" data-bind="css: $component.getLegButtonClass($index()), text: $parent.getLegText($data), click: function() { $parent.publishLegSelection($data.id); }"></div><div class="tote-coupon--small-text" data-bind="text: $parent.getLegTime($data)"></div><div class="tote-coupon--small-text" data-bind="text: $parent.getLegPark($data)"></div></div><!-- /ko --><!-- /ko --></div><div class="tote-coupon__unnamed-favourites"><!-- ko foreach: legs --><!-- ko if: $parent.isExpanded($index) --><div class="tote-coupon--expanded"><!-- ko ifnot: $component.racesSuspended().length --><div class="button tote-coupon__select-all" data-bind="text: $parent.locale.t(\'totepool.select-all-unnamed\'),\n                         click: function() { $component.selectAllUnnamedFavourites(); }"></div><!-- /ko --><div class="tote-coupon__unnamed-favourites--text" data-bind="text: $parent.locale.t(\'totepool.unnamed-favourite\')"></div><div class="tote-coupon--expanded-checkbox"><input class="checkbox tote-coupon--checkbox-extras" type="checkbox" data-bind="disable: $component.isRaceSuspended($index()), checkedValue: $index, checked: $component.favouriteSelections"></div></div><!-- /ko --><!-- ko if: !$parent.isExpanded($index) --><div class="tote-coupon--compact"><div class="tote-coupon--compact-checkbox"><input class="checkbox tote-coupon--checkbox-extras" type="checkbox" data-bind="disable: $component.isRaceSuspended($index()), checkedValue: $index, checked: $component.favouriteSelections"></div></div><!-- /ko --><!-- /ko --></div><!-- ko foreach: runners --><div class="tote-coupon__runners"><!-- ko foreach: $parent.legs --><!-- ko if: $parents[1].isExpanded($index) --><div class="tote-coupon--expanded" data-bind="css: $component.getRunnerClass($index(), $parentContext.$index(), $element)"><!-- ko if: $parents[1].isSelectable($data, $parentContext.$index()) || $parents[1].isNonRunner($index(), $parentContext.$index()) --><div class="tote-coupon--number"><div data-bind="css: $component.getGreyhoundSilk($parentContext.$index()), text: $component.getRunnerNumber($data, $parentContext.$index())"></div></div><div class="tote-coupon__runner-wrapper"><runner params="info: $component.getRunnerInfo($data, $parentContext.$index())"></runner></div><!-- /ko --><!-- ko if: $parents[1].isSelectable($data, $parentContext.$index()) --><div class="tote-coupon--expanded-checkbox"><!-- ko if: $parents[1].isRunnerSuspended($index(), $parentContext.$index()) --><div class="tote-coupon__runner-suspended" data-bind="text: $component.locale.t(\'totepool.selection.suspended\')"></div><!-- /ko --><input class="checkbox tote-coupon--checkbox-extras" type="checkbox" data-bind="disable: $component.isRunnerSuspended($index(), $parentContext.$index()) || $component.isRaceSuspended($index()),\n                                    checkedValue: $component.getSelectionNumber($index(), $parentContext.$index()), checked: $component.rawSelections"></div><!-- /ko --><!-- ko if: $parents[1].isNonRunner($index(), $parentContext.$index()) --><div class="tote-coupon__non-runner" data-bind="text: $component.locale.t(\'totepool.non-runner\')"></div><!-- /ko --></div><!-- /ko --><!-- ko if: !$parents[1].isExpanded($index) --><div class="tote-coupon--compact" data-bind="css: $component.getRunnerClass($index(), $parentContext.$index(), $element)"><!-- ko if: $parents[1].isSelectable($data, $parentContext.$index()) --><div class="tote-coupon--compact-checkbox"><!-- ko if: $parents[1].isRunnerSuspended($index(), $parentContext.$index()) --><div class="tote-coupon__runner-suspended" data-bind="text: $component.locale.t(\'totepool.selection.suspended\')"></div><!-- /ko --><input class="checkbox tote-coupon--checkbox-extras" type="checkbox" data-bind="disable: $parents[1].isRunnerSuspended($index(), $parentContext.$index()) || $component.isRaceSuspended($index()),\n                                    checkedValue: $component.getSelectionNumber($index(), $parentContext.$index()), checked: $component.rawSelections"></div><!-- /ko --><!-- ko if: $parents[1].isNonRunner($index(), $parentContext.$index()) --><div class="tote-coupon__non-runner" data-bind="text: $component.locale.t(\'totepool.non-runner\')"></div><!-- /ko --></div><!-- /ko --><!-- /ko --></div><div><spotlight-form params="info: $component.getSpotlightAndForms($index())"></spotlight-form></div><!-- /ko --></div><div class="tote-coupon-betbuilder"><div class="tote-coupon-betbuilder__container"><div class="tote-coupon-betbuilder__builder"><div class="tote-coupon-betbuilder__legs"><!-- ko foreach: lines --><div class="tote-coupon-betbuilder__leg"><div class="tote-coupon-betbuilder__leg-label"><span data-bind="text: $parent.locale.t(\'totepool.multi-tote-builder.l\')"></span><span data-bind="text: ($index() + 1)"></span></div><div class="tote-coupon-betbuilder__leg-data" data-bind="css: {valid: $parent.lines()[$index()]() > 0}"><span data-bind="text: $data"></span></div></div><!-- ko ifnot: ($index() + 1) === $parent.lines().length --><div class="tote-coupon-betbuilder__separator">x</div><!-- /ko --><!-- /ko --><div class="tote-coupon-betbuilder__equals">=</div><div class="tote-coupon-betbuilder__leg"><div class="tote-coupon-betbuilder__leg-last-label" data-bind="text: locale.t(\'totepool.multi-tote-builder.no-of-lines\')">No. Lines</div><div class="tote-coupon-betbuilder__leg-result"><span data-bind="text: totalLines"></span></div></div></div><div data-bind="text: locale.t(\'totepool.multi-tote-builder.clear-all-selections\'), click: clearAllSelections" class="tote-coupon-betbuilder__clear"></div></div><div class="tote-coupon-betbuilder__stake"><div class="tote-coupon-betbuilder__stake-label" data-bind="text: locale.t(\'totepool.multi-tote-builder.stake-per-line\')"></div><div class="tote-coupon-betbuilder__stake-switch"><div class="tote-coupon-betbuilder__stake-input"><div class="tote-coupon-betbuilder__stake-currency"><span data-bind="text: currencySymbol"></span> <input type="text" data-bind="textInput: stake"></div><div class="tote-coupon-betbuilder__stake-lines">x <span data-bind="text: totalLines"></span> <span data-bind="text: locale.t(\'totepool.multi-tote-builder.lines\')"></span> =</div><span class="tote-coupon-betbuilder__stake-total" data-bind="text: totalStake"></span></div><div class="tote-coupon-betbuilder__stake-info" data-bind="text: locale.t(stakeInfoKey)"></div></div></div><div class="tote-coupon-betbuilder__add"><div class="tote-coupon-betbuilder__add-info"><div class="tote-coupon-betbuilder__add-rules"><span data-bind="text: poolName + \' \'"></span> <span data-bind="text: locale.t(\'totepool.multi-tote-builder.rules\')"></span></div><span class="tote-coupon-betbuilder__add-icon" data-bind="click: showPopUp"></span></div><button class="button" data-bind="css: {inactive: !canBet()}, click: addToBetslip, enable: canBet()"><span data-bind="text: locale.t(\'totepool.multi-tote-builder.add-to-betslip\')"></span></button></div></div></div><rule-popup params="poolType: poolType"></rule-popup><tote-builder-container params="className: \'tote-coupon-betbuilder\'" style="display: none"></tote-builder-container></div>'}),require.register("tote/tote-helper",function(e,t,o){var n={};n.toteNames={UPLP:"Placepot",UQDP:"Quadpot",UTRI:"Trifecta",UWIN:"Win/Place",UPLC:"Win/Place",UEXA:"Exacta",USW:"Swinger",USC6:"Scoop6",UJKP:"Jackpot"},n.toteTypes={SCOOP6:"USC6",JACKPOT:"UJKP",PLACEPOT:"UPLP",QUADPOT:"UQDP",WIN:"UWIN",PLACE:"UPLC",EXACTA:"UEXA",TRIFECTA:"UTRI",SWINGER:"USW"},o.exports=n}),require.register("tote/tote-page/template",function(e,t,o){o.exports='<div class="tote-page"><!-- ko if: totepools().length --><breadcrumbs params="breadcrumbs: breadcrumbs()"></breadcrumbs><div class="tote-page__header-bar"><h1 class="tote-page__title" data-bind="text: locale.t(\'totepool.tote\')"></h1><!-- ko if: expandedSpotlightAvailable() || expandedFormAvailable() --><nav class="tote-page__show-all-buttons"><!-- ko if: expandedSpotlightAvailable --><span class="tote-page__show-all-buttons__button" data-bind="click: toggleAllSpotlight, text: spotlightButtonText"></span><!-- /ko --><!-- ko if: expandedFormAvailable --> <span class="tote-page__show-all-buttons__button" data-bind="click: toggleAllForm, text: formButtonText"></span><!-- /ko --></nav><!-- /ko --></div><div class="tote-page__content"><market-selector params="marketGroups: totepools, selected: selectedTote, callback: setSelectedTote"></market-selector><!-- ko if: selectedTote --><tote-multi-leg params="\n                tote: selectedTote,\n                isHorseRacing: isHorseRacing,\n                showAllForms: showAllForm,\n                expandAllSpotlight: showAllSpotlight"></tote-multi-leg><!-- /ko --></div><!-- /ko --></div>'}),require.register("tote/tote-contextual-menu/view-model",function(e,t,o){function n(e){var t=this;l.mixin(this),t.locale=i,t.classId=e.classId,t.jackpotTotePools=ko.observableArray(),t.placepotTotePools=ko.observableArray(),t.quadpotTotePools=ko.observableArray(),t.selectedToteType=ko.observable(),t.selectedVenue=ko.observable(),t.placepotExpanded=ko.observable(!1),t.quadpotExpanded=ko.observable(!1),t.jackpotExpanded=ko.observable(!1),t.hasJackpotPools=ko.pureComputed(function(){return t.jackpotTotePools().length>0}),t.hasPlacepotPools=ko.pureComputed(function(){return t.placepotTotePools().length>0}),t.hasQuadpotPools=ko.pureComputed(function(){return t.quadpotTotePools().length>0}),t.toDispose(a.subscribe("tote:selected-market-group",function(e){t.setSelected(e.data.venueName,e.data.toteType)})),t.toDispose(a.subscribe("tote:clear",function(){t.clearSelection()})),t.init(e.urlCtx)}var s=e("repository"),i=e("locale"),a=e("message-bus"),l=e("gear-disposable-mixin"),r=e("domain-model/helper"),c=e("domain-model/models/RacingMeeting"),d=e("../tote-helper");n.prototype={init:function(e){this.loadTotepoolData(),e.toteType&&this.setSelected(e.venueName,e.toteType.toUpperCase())},loadTotepoolData:function(){var e=this;e.toDispose(s.subscribe("today-and-future-races",e.classId,function(t,o){o.todaysMeetings.length&&e.sortTotePools(o.todaysMeetings)}))},sortTotePools:function(e){function t(e,t){var n=new c(e),s="";switch(t){case d.toteTypes.JACKPOT:s=n.jackpotMeetingLink();break;case d.toteTypes.PLACEPOT:s=n.placepotMeetingLink();break;case d.toteTypes.QUADPOT:s=n.quadpotMeetingLink()}return{title:n.title,cleanTitle:r.cleanPropertyName(n.title),link:s,isMeetingSelected:ko.pureComputed(function(){return o.selectedVenue()===this.cleanTitle&&o.selectedToteType()===t})}}var o=this,n=[],s=[],i=[];e.forEach(function(e){e.jackpotEventKey&&i.push(t(e,d.toteTypes.JACKPOT)),e.placepotEventKey&&n.push(t(e,d.toteTypes.PLACEPOT)),e.quadpotEventKey&&s.push(t(e,d.toteTypes.QUADPOT))}),o.placepotTotePools(n),o.quadpotTotePools(s),o.jackpotTotePools(i)},setSelected:function(e,t){var o=this;o.selectedVenue(r.cleanPropertyName(e)),t&&(o.selectedToteType(t),t===d.toteTypes.PLACEPOT?o.placepotExpanded(!0):t===d.toteTypes.QUADPOT&&o.quadpotExpanded(!0))},clearSelection:function(){this.selectedVenue(""),this.selectedToteType("")}},o.exports=n}),require.register("tote/tote-single-leg/template",function(e,t,o){o.exports='<rule-popup params="poolType: eventType"></rule-popup><div class="single-race"><tote-builder-container params="market: \'single\', type: eventType"></tote-builder-container><!-- ko if: hasData --><div class="single-race-suspended-overlay" data-bind="visible: totePoolSuspended"><span class="single-race-suspended-overlay_suspension-text" data-bind="text: translate.t(\'totepool.suspended\')"></span></div><div class="single-race-header"><div class="single-race-header-badge" data-bind="attr:{\'event\': eventType}"><span class="single-race-header-badge_tote">tote</span> <span class="single-race-header-badge_eventType" data-bind="text: eventType"></span></div></div><div class="single-race-event-header"><span class="single-race-event-header-headline" data-bind="text: translate.t(\'totepool.runner.text\')"></span></div><div class="single-race-content-menu" data-bind="attr:{\'size\': $data.raceType().length}, foreach: {data:  $data.filteredSelections(), as: \'items\', afterRender: function() { return afterRenderCallback() }}"><div class="single-race-content" data-bind="foreach: {data: $parent.raceType, as: \'raceTypeItem\'}"><!-- ko if: raceTypeItem === \'Runner\' --><div class="single-race-content-menu-runner-component" data-bind="attr:{\'event\': $parents[1].eventType(), \'colstyle\': $component.getColumnStyle()}"><div class="single-race-content-menu-runner-component-number-box"><span class="single-race-content-menu-runner-component-number-box__number" data-bind="css: $parents[1].getGreyhoundSilk($parentContext.$index()), text: items.number"></span><hr class="vertical"></div><div class="single-race-content-menu-runner-component__runner-wrapper"><runner params="info: $parents[1].getRunnerInfo(items, $index())"></runner></div></div><!-- /ko --><!-- ko ifnot: raceTypeItem === \'Runner\' --><div class="single-race-content-menu-box" data-bind="attr:{\'event\': $parents[1].eventType(), \'selectionId\': items.id, \'colstyle\': $component.getColumnStyle()}"><span class="single-race-content-menu-box-supension-text" data-bind="attr:{\'event\': $parents[1].eventType()}, text: $parents[1].translate.t(\'totepool.selection.suspended\')"></span><!-- ko if: $parentContext.$index() === 0 --><div class="single-race-content-menu-box_textbox"><span class="single-race-content-menu-box_textbox_headline" data-bind="\n                    attr:{\'columnText\': raceTypeItem, \'event\': $parents[1].eventType()}, text: raceTypeItem"></span></div><!-- /ko --><span class="single-race-content-menu-box-nonrunner" data-bind="text: $parents[1].translate.t(\'totepool.non-runner\')"></span> <input class="checkbox single-race-content-menu-box-checkbox-extras" data-bind="attr:{\'index\': $index(), \'column\': $parentContext.$index(), \'selectionId\': items.id, \'raceType\': raceTypeItem,\n                       \'selectionName\': items.nameTranslations.unpiped, \'selectionNumber\': items.number},\n                       click: function (data, event) {$parents[1].registerBox(raceTypeItem, items, $element, event); return true;}" type="checkbox"></div><!-- /ko --></div><spotlight-form params="info: $parents[0].getRunnerInfo(items)"></spotlight-form></div><!-- /ko --></div>'}),require.register("tote/tote-multi-leg/view-model",function(e,t,o){function n(e){s.mixin(this),this.isExpanded.bind(this),this.expand.bind(this),this.getNavigationButtonClass.bind(this),this.clickNavigation.bind(this),this.selectAllUnnamedFavourites.bind(this),this.isRaceSuspended.bind(this),this.isRunnerSuspended.bind(this),this.isNonRunner.bind(this),this.isSelectable.bind(this),this.getRunnerClass.bind(this),this.getLegButtonClass.bind(this),this.getLegText.bind(this),this.getIconText.bind(this),this.getRacepostRunner.bind(this),this.getRacepostRunnerForm.bind(this),this.getRunnerInfo.bind(this),this.getRunnerNumber.bind(this),this.getSpotlightAndForms.bind(this),this.updateSpotlightAndForms.bind(this),this.getPoolIcon.bind(this),this.getPoolValue.bind(this),this.getGreyhoundSilk.bind(this),this.tote=ko.unwrap(e.tote),this.poolType=ko.observable(this.tote.name),this.legs=ko.observableArray(),this.locale=i,this.poolName=this.tote.name||"",this.stakeInfoKey="totepool.multi-tote-builder."+this.poolName.toLowerCase()+".stake-info",this.poolValue=ko.observable(this.tote.value||"-"),this.poolIcon=this.getPoolIcon(),this.iconText=this.getIconText(),this.isHorseRacing=ko.observable(e.isHorseRacing),this.expanded=ko.observable(0),this.maxRunners=0,this.runners=ko.observableArray([]),this.rawSelections=ko.observableArray(),this.favouriteSelections=ko.observableArray(),this.toteSuspended=ko.observable(!1),this.racesSuspended=ko.observableArray(),this.runnersSuspended=ko.observableArray(),this.nonRunners=ko.observableArray(),this.expandAllSpotlights=ko.observable(ko.unwrap(e.expandAllSpotlight||!1)),this.expandAllForms=ko.observable(ko.unwrap(e.showAllForms||!1)),this.lines=ko.observableArray(),this.stake=ko.observable(0),this.currencySymbol=ko.computed(function(){var e;switch(l.currency()){case"GBP":e="";break;case"EUR":e="";break;case"SEK":e="kr";break;default:e=l.currency()}return e}),this.totalLines=ko.computed(function(){var e=1,t=!1;return this.lines().forEach(function(o){o()>0&&(t=!0,e*=o())}),t||(e=0),e},this),this.totalStake=ko.computed(function(){return r.currencyFormat(r.toRoundedFixed(this.stake()*this.totalLines(),2),l)},this),this.toteSuspendedClass=ko.computed(function(){return this.toteSuspended()?"tote-coupon--overlay":""},this),this.selections=ko.pureComputed(function(){var e=this.favouriteSelections().map(function(e){return[e,0]});return this.rawSelections().map(this.unpackSelection,this).concat(e)},this),this.toDispose(ko.computed(function(){var e=this.lines().map(function(){return 0});this.selections().forEach(function(t){var o=t[0];e[o]++}),this.lines().forEach(function(t,o){t(e[o])})},this)),this.canBet=ko.computed(function(){return this.lines().length===this.legs().length&&0===this.legs().filter(function(e){return"susp"===e.status.toLowerCase().substr(0,4)}).length&&this.lines().every(function(e){return e()>0})},this),this.subscription=a.subscribe("totepool",this.tote.id,function(e,t,o){if(t.toteEvents){if(this.lines.removeAll(),this.racesSuspended.removeAll(),this.runnersSuspended.removeAll(),this.toteSuspended(!1),void 0!==t.active&&this.toteSuspended(!t.active),t.toteEvents.forEach(function(e,t){e.toteLeg=t+1,e.toteTrack=e.name,e.toteTime=new moment(e.startTime).format("HH:mm"),e.status&&"susp"===e.status.toLowerCase().substr(0,4)&&this.racesSuspended.push(t);for(var o=this.legs().length-1;o>=0;o--)if(this.legs()[o].id===e.id){this.legs().splice(o,1);break}this.legs().push(e);var n=this.getRunners(e);n.forEach(function(e,o){var n=this.getSelectionNumber(t,o);e.status&&"susp"===e.status.toLowerCase().substr(0,4)&&this.runnersSuspended.push(n),e.nonRunner&&this.nonRunners.push(n)}.bind(this)),n.length>this.maxRunners&&(this.maxRunners=n.length),this.legs().sort(function(e,t){return e.toteLeg-t.toteLeg}),this.lines.push(ko.observable(0))}.bind(this)),this.runners.length<this.maxRunners){for(var n=this.runners.length;n<this.maxRunners;n++)this.runners().push(n);this.runners.valueHasMutated()}this.legs.valueHasMutated(),this.tote.openLegId&&this.expand(this.getLegPositionFromId(this.tote.openLegId))}}.bind(this)),this.toDispose(c.subscribe("tote:selected-leg",function(e){this.expand(this.getLegPositionFromId(e.data.id))}.bind(this))),this.loadStateFromSession()}var s=e("gear-disposable-mixin"),i=e("locale"),a=e("repository"),l=e("authentication/user"),r=e("domain-model/helper"),c=e("message-bus"),d=e("betslip"),p=e("../components/rule-popup");n.prototype={getPoolIcon:function(){return"tote-coupon--icon-"+this.poolName.toLowerCase()},getPoolValue:function(){return r.currencyFormatWithSeparator(this.poolValue(),"GBP")},getIconText:function(){return this.poolName},isExpanded:function(e){return this.expanded()===e()},getGreyhoundSilk:function(e){var t={};if(!this.isHorseRacing()){var o="trap-"+(e+1);t[o]=!0,t["tote-coupon__trap"]=!0}return t},getLegButtonClass:function(e){return this.isRaceSuspended(e)?"tote-coupon__legs--disabled":"tote-coupon__legs--enabled"},getLegText:function(e){var t=e.toteLeg;return i.t("totepool.leg")+" "+t},getLegTime:function(e){return e.toteTime},getLegPark:function(e){return e.toteTrack},getLegPositionFromId:function(e){for(var t=0;t<this.legs().length;t++)if(this.legs()[t].id===e)return t;return 0},expand:function(e){this.isRaceSuspended(e)||(this.expanded(e),this.updateSpotlightAndForms())},publishLegSelection:function(e){c.publish("tote:selected-leg",{id:e})},getNavigationButtonClass:function(e){var t=e?0:this.legs().length-1;return this.expanded()===t?"tote-coupon__navigate--disabled":"tote-coupon__navigate--enabled"},clickNavigation:function(e){for(var t=this.expanded()+e;t<this.legs().length&&t>=0&&this.isRaceSuspended(t);)t+=e;t>=0&&t<this.legs().length&&this.publishLegSelection(this.legs()[t].id)},getRacepostRunner:function(e,t){if(e.raceExtra){var o=r.fixPropertyNames(e.raceExtra.racePost&&e.raceExtra.racePost.runners?e.raceExtra.racePost.runners:e.raceExtra.runners);if(o&&o.hasOwnProperty(r.cleanPropertyName(t)))return o[r.cleanPropertyName(t)]}return{}},getRacepostRunnerForm:function(e,t){if(e.raceExtra&&e.raceExtra.racePost&&e.raceExtra.racePost.runnerForm){var o=r.fixPropertyNames(e.raceExtra.racePost.runnerForm);if(o.hasOwnProperty(r.cleanPropertyName(t)))return o[r.cleanPropertyName(t)]}return{}},getRunnerInfo:function(e,t){var o=this.getRunners(e);if(t>=o.length)return{blank:!0};var n=o[t].name,s=this.getRacepostRunner(e,n),i=this.getRacepostRunnerForm(e,n),a=n.indexOf("Unnamed Favourite")!==-1,l=s.runnerSpotlight&&!a;return{id:t,blank:!1,isHorseRacing:this.isHorseRacing(),name:n,racepost:e.raceExtra&&e.raceExtra.racePost,runner:s,expandedSpotlightAvailable:l,racepostForm:i&&i.length>0&&!a,hideSpotlight:!this.expandAllSpotlights(),hideForms:!this.expandAllForms(),forms:i}},getRunners:function(e){if(e.market&&e.market.selections){var t=e.market.selections;return t.filter(function(e){return e.nameRaw.toLowerCase().indexOf("unnamed")===-1}).sort(function(e,t){return e.number-t.number})}return[]},getRunnerNumber:function(e,t){return this.getRunners(e)[t].number||t+1},getSelectionNumber:function(e,t){return 1e3*e+(t+1)},unpackSelection:function(e){var t=e%1e3,o=(e-t)/1e3;return[o,t]},selectAllUnnamedFavourites:function(){var e="Quadpot"===this.poolName?4:6;if(this.favouriteSelections().length===e)this.favouriteSelections.removeAll();else{this.favouriteSelections.removeAll();for(var t=0;t<this.legs().length;t++)this.favouriteSelections.push(t)}},isSelectable:function(e,t){return t<this.getRunners(e).length&&!this.isNonRunner(e.toteLeg-1,t)},isNonRunner:function(e,t){return this.nonRunners.indexOf(this.getSelectionNumber(e,t))!==-1},isRaceSuspended:function(e){return this.racesSuspended.indexOf(e)!==-1},isRunnerSuspended:function(e,t){return this.runnersSuspended.indexOf(this.getSelectionNumber(e,t))!==-1},getRunnerClass:function(e,t,o){var n="",s=o.parentElement.nextSibling;return s&&s.children.length>0&&(n="bordered"),(this.isRaceSuspended(e)||this.isRunnerSuspended(e,t))&&(n+=" tote-coupon--overlay"),n},getSpotlightAndForms:function(e){var t=this.legs()[this.expanded()],o=this.getRunners(t);if(e>=o.length)return{id:e};var n=o[e].name,s=this.getRacepostRunner(t,n),i=this.getRacepostRunnerForm(t,n),a=!this.expandAllSpotlights(),l=!this.expandAllForms();return{id:e,hideSpotlight:a,hideForms:l,spotlight:s.runnerSpotlight,runner:s,forms:i}},updateSpotlightAndForms:function(){for(var e=0;e<this.maxRunners;e++){var t=this.getSpotlightAndForms(e);c.publish("tote:update-spotlight-forms:"+e,t)}},clearAllSelections:function(){this.rawSelections.removeAll(),this.favouriteSelections.removeAll(),this.stake(0)},addToBetslip:function(){var e=this.legs().map(function(e){return{leg:e.toteLeg,legId:e.id,name:e.nameRaw,selections:[]}});this.selections().forEach(function(t){var o=t[1]>0?t[1]-1:this.legs()[t[0]].market.selections.length-1,n=this.legs()[t[0]].market.selections[o];e[t[0]].selections.push({name:n.nameRaw,id:n.id,number:n.number})}.bind(this)),d.getBetslip().addTote(this.tote.id,null,this.poolType(),e,this.tote.typeCode,this.totalLines(),this.stake())&&this.clearAllSelections()},showPopUp:function(){p.prototype.handlePopUpVisibility()},getState:function(e,t){var o=sessionStorage.getItem(e);o&&t(JSON.parse(o))},setState:function(e,t){this.toDispose(t.subscribe(function(t){0===t.length?sessionStorage.removeItem(e):sessionStorage.setItem(e,JSON.stringify(t))}.bind(this)))},loadStateFromSession:function(){var e="|"+this.tote.id;this.getState("rs"+e,this.rawSelections),this.getState("fs"+e,this.favouriteSelections),this.setState("rs"+e,this.rawSelections),this.setState("fs"+e,this.favouriteSelections)}},o.exports=n}),require.register("tote/components/rule-popup/template",function(e,t,o){o.exports='<div class="rule-content-box" data-bind="visible: showPopUp()"><div class="rule-content-box-close-button" data-bind="click: handlePopUpVisibility"></div><div class="rule-content-box-badge" data-bind="attr:{\'poolType\': poolType}"><span class="rule-content-box-badge_tote" data-bind="text: translate(\'totepool.tote\')"></span> <span class="single-race-header-badge_eventType" data-bind="text: poolType"></span></div><div class="rule-content-box-text-wrapper"><p class="rule-content-box-text-wrapper__text" data-bind="html: ruleText"></p></div><div class="rule-box-arrow"></div></div>'}),require.register("tote/tote-page/view-model",function(e,t,o){function n(e){var t=this;d.mixin(this),t.locale=a,t.classId=e.urlData.id,t.initPoolKey=e.toteKey,t.totepools=ko.observableArray(),t.selectedTote=ko.observable(),t.isHorseRacing=t.classId===r.HORSE_RACING,t.loadTotepools(),t.breadcrumbs=ko.pureComputed(function(){var o=[];return o.push({title:e.urlData.text,href:e.urlData.href}),o.push({title:t.selectedTote()?t.selectedTote().name:"",href:null}),o}),t.showAllSpotlight=ko.observable(!1),
t.showAllForm=ko.observable(!1),t.expandedSpotlightAvailable=ko.pureComputed(function(){return!!t.selectedTote()&&t.selectedTote().spotlightAvailable}),t.expandedFormAvailable=ko.pureComputed(function(){return!!t.selectedTote()&&t.selectedTote().formAvailable}),t.spotlightButtonText=ko.pureComputed(function(){return t.showAllSpotlight()?a.t("racing.horse.hide.all.spotlight"):a.t("racing.horse.show.all.spotlight")}),t.formButtonText=ko.pureComputed(function(){return t.showAllForm()?a.t("racing.horse.hide.all.form"):a.t("racing.horse.show.all.form")}),t.toggleAllSpotlight=function(){t.showAllSpotlight(!t.showAllSpotlight()),c.publish("tote:spotlight-all",{show:t.showAllSpotlight()})},t.toggleAllForm=function(){t.showAllForm(!t.showAllForm()),c.publish("tote:forms-all",{show:t.showAllForm()})},t.setSelectedTote=function(e){t.selectedTote(null),t.selectedTote(e)}}var s=e("repository"),i=e("ladbrokes-router"),a=e("locale"),l=e("../tote-helper"),r=e("domain-model/helpers/sport-types"),c=e("message-bus"),d=e("gear-disposable-mixin");n.prototype={loadTotepools:function(){var e=this;s.get("today-and-future-races",e.classId,function(t,o){e.totepools([]),o.jackpotPoolKey||o.scoop6PoolKey?(o.jackpotPoolKey&&e.loadTotepoolData(o.jackpotPoolKey),o.scoop6PoolKey&&e.loadTotepoolData(o.scoop6PoolKey)):i.redirect("/"+a.value()+"/")})},loadTotepoolData:function(e){var t=this;s.get("totepool",e,function(e,o){o&&o.toteEvents&&!o.toteEvents.some(t.hasNonActiveToteEvent)&&(o.name=l.toteNames[o.typeCode],o.spotlightAvailable=t.shouldShowSpotlight(o),o.formAvailable=t.shouldShowForm(o),t.totepools.push(o),o.id===t.initPoolKey&&(t.selectedTote(o),t.initPoolKey=""))})},hasNonActiveToteEvent:function(e){return e.started===!0||"ACTIVE"!==e.status&&"SUSPENDED"!==e.status},shouldShowSpotlight:function(e){var t=!1;return e.toteEvents&&e.toteEvents.forEach(function(e){if(e.raceExtra&&e.raceExtra.racePost&&e.raceExtra.racePost.runners){var o=e.raceExtra.racePost.runners;for(var n in o)o.hasOwnProperty(n)&&(t||(t=o[n].runnerSpotlight||!1))}}),t},shouldShowForm:function(e){var t=!1;return e.toteEvents&&e.toteEvents.forEach(function(e){e.raceExtra&&e.raceExtra.racePost&&e.raceExtra.racePost.runnerForm&&!t&&(t=!0)}),t}},o.exports=n}),require.register("tote/components/runner/template",function(e,t,o){o.exports='<!-- ko ifnot: blank --><!-- ko if: isHorseRacing --><div class="tote-runner"><div class="tote-runner__top"><span class="tote-runner__silk"><img class="silk" data-bind="attr: { src: getSilkUrl() }"></span><div class="tote-runner__info"><span><span class="tote-runner__name" data-bind="text: name, css: {disabled: status === \'SUSPENDED\'}"></span></span> <span class="tote-runner__jockey" data-bind="if: runner"><span data-bind="text: runner.jockey ? runner.jockey : \'\'"></span><span data-bind="text: runner.trainer ? \'/\' + runner.trainer : \'\' "></span></span> <span class="tote-runner__labels"><!-- ko foreach: getRacepostLabels() --><span class="tote-runner__label" data-bind="text: short, attr: { title: long}"></span><!-- /ko --></span><!-- /ko --></div></div><div class="tote-runner__bottom"><span><!-- ko if: racepost --><!-- ko if: expandedSpotlightAvailable --><span class="tote-runner__spotlight" data-bind="click: toggleSpotlight"><span data-bind="text: locale.t(\'racing.horse.spotlight\')"></span> <span class="small-arrow"></span></span><!-- /ko --><!-- ko if: expandedFormAvailable --> <span class="tote-runner__form" data-bind="click: toggleForm"><span data-bind="text: locale.t(\'tag.runnerform.form\') + \' \' + getRunnerForm()"></span> <span class="small-arrow"></span></span><!-- /ko --><!-- /ko --><!-- ko ifnot: expandedFormAvailable --> <span class="tote-runner--notoggle"><span data-bind="visible: runner.form, text: locale.t(\'tag.runnerform.form\') + \' \' + getRunnerForm()"></span></span><!-- /ko --></span></div><!-- /ko --><!-- /ko --></div><!-- /ko --><!-- ko ifnot: isHorseRacing --><div class="tote-runner"><span class="tote-runner__top"><span class="tote-runner__greyhound-info"><span class="tote-runner__name" data-bind="text: name"></span></span></span></div><!-- /ko --><!-- /ko -->'}),require.register("tote/tote-single-leg/controller",function(e,t,o){var n="single-market-controller",s=e("./view-model"),i=e("./template"),a={template:i,viewModel:s};t.init=function(e){ko.components.register(n,a)}}),require.register("tote/components/spotlight-form/template",function(e,t,o){o.exports='<!-- ko if: shouldShow($element) --><div class="tote-spotlight-forms"><div class="tote-spotlight-forms__spotlights" data-bind="css: { dn: hideSpotlight }"><!-- ko if: spotlight --><span data-bind="text: spotlight"></span><!-- /ko --><!-- ko ifnot: spotlight --> <span data-bind="text: locale.t(\'racing.no-spotlight\')"></span><!-- /ko --></div><div class="tote-spotlight-forms__forms" data-bind="css: { dn: hideForms }, if: forms"><ul><li><div class="date" data-bind="text: locale.t(\'racing.forms.date\')"></div><div class="conditions" data-bind="text: locale.t(\'racing.forms.conditions\')"></div><div class="weight" data-bind="text: locale.t(\'racing.forms.weight\')"></div><div class="analysis" data-bind="text: locale.t(\'racing.forms.analysis\')"></div><div class="jockey" data-bind="text: locale.t(\'racing.forms.jockey\')"></div><div class="or" data-bind="text: locale.t(\'racing.forms.or\')"></div><div class="ts" data-bind="text: locale.t(\'racing.forms.ts\')"></div><div class="rpr" data-bind="text: locale.t(\'racing.forms.rpr\')"></div></li><!-- ko if: forms() && forms().length > 0 --><!-- ko foreach: forms() --><li><div class="date" data-bind="text: moment(date).format(\'DD/MM/YY\')"></div><div class="conditions" data-bind="text: raceConditions"></div><div class="weight" data-bind="text: weight"></div><div class="analysis" data-bind="text: analysis"></div><div class="jockey" data-bind="text: jockey"></div><div class="or" data-bind="text: or"></div><div class="ts" data-bind="text: ts"></div><div class="rpr" data-bind="text: rpr"></div></li><!-- /ko --><!-- /ko --><!-- ko ifnot: forms() || forms().length === 0 --><li data-bind="text: locale.t(\'racing.forms.no-info\')"></li><!-- /ko --></ul></div></div><!-- /ko -->'}),require.register("tote/tote-single-leg/view-model",function(e,t,o){function n(e){var t=this;c.mixin(this),t.translate=i,t.tote=ko.unwrap(e.tote),t.eventType=ko.observable(t.tote.name),t.hasData=ko.observable(!1),t.totePoolSuspended=ko.observable(!1),t.raceType=ko.observableArray([]),t.isHorseRacing=ko.observable(e.isHorseRacing),t.raceExtra=e.raceExtra||[],t.poolId=t.tote.id,t.expandedSpotlights=e.expandedSpotlights(),t.expandAllSpotlights=e.expandAllSpotlight,t.expandAllForms=e.showAllForms,t.toteData=[],t.initMessageBusSubscription(),t.filteredSelections=ko.pureComputed(function(){return this.selections.filter(function(e){return e.number>0})},this),t.toDispose(l.subscribe("toteevent",e.toteEventId,function(e,o,n){n?(t.setPoolData(t,o),t.updateStatus()):o&&(t.init(o),t.hasData(!0))}.bind(this)))}var s,i=e("locale"),a=e("./modes/common"),l=e("repository"),r=e("message-bus"),c=e("gear-disposable-mixin"),d=e("../tote-helper"),p=e("domain-model/helper");n.prototype={init:function(e){var t=this;t.totePools=e.totePools,t.totePool=t.getTotePool(t.totePools,t.poolId),t.type=d.toteNames[t.totePool.typeCode].toUpperCase(),t.setPoolData(t,e),t.eventType(t.type),t.setMode(),t.registerBox=function(e,o,n){s.handleBoxContent(e,n),t.saveSelectionState(e,n),t.checkIfEnoughBoxesIsChecked(),t.handleSelectionSuspended(!0)}},afterRenderCallback:function(){try{this.setOldStates(),this.updateStatus()}catch(e){}},setPoolData:function(e,t){e.toteData=t,e.totePoolStatus=e.getTotePool(t.totePools,e.poolId).active&&"ACTIVE"===t.status&&"ACTIVE"===t.market.status,e.market=e.toteData.market,e.selections=t.market.selections},setCheckboxStates:function(e,t,o,n){e.checked=o,e.disabled=t,e.style.visibility=n},getElementFromTagName:function(e,t,o,n){return e[t].getElementsByTagName(o)[n]},getColumn:function(e){return e.attributes.column.nodeValue},getRow:function(e){return e.attributes.raceType.nodeValue},getAllBoxes:function(){return $(".single-race-content-menu-box")},getToteBuilderData:function(){var e=this,t=e.getTypeCode(s.getSelectionData());return{poolId:e.getPoolId(e.totePool.typeCode,t),poolType:e.getTypeCode(s.getSelectionData()),selectionData:s.getSelectionData(),typeName:d.toteNames[e.totePool.typeCode],poolKeyEachWay:e.getPoolKeyEachWay(t,s.getSelectionData()[0])}},getTypeCode:function(e){var t=this;if("UPLACE"===t.totePool.typeCode||"UWIN"===t.totePool.typeCode){var o=e[0].position;return o="PLACE"===o?"PLC":o,"EW"!==o?"U"+o:"EW"}return t.totePool.typeCode},checkIfEnoughBoxesIsChecked:function(){var e=this;s.isEnoughChecked()?(e.publishSelections(e.getToteBuilderData()),e.publishStatusToToteBuilder(e.totePoolSuspended())):e.publishSelections(null)},handleTotePoolSuspended:function(){var e=this;e.totePoolSuspended(!e.totePoolStatus)},checkCheckBoxState:function(e){e.checked&&(e.checked=!1,s.handleBoxContent(this.getRow(e),e))},isSelectionIdInArray:function(e,t){var o=e.attributes.selectionId.nodeValue;return $.inArray(o,t)!==-1},updateStatus:function(){var e=this;e.selections.forEach(function(t){var o=t.nonRunner?"NONRUNNER":"RUNNER";e.handleStatusChanges(o),o=t.status,e.handleStatusChanges(o),e.handleTotePoolSuspended()}),e.checkIfEnoughBoxesIsChecked()},setMode:function(){var t,o,n=this;"TRIFECTA"===n.type?(t="./modes/exacta-trifecta/trifecta",o=["Runner","1ST","2ND","3RD","ANY"]):"WIN/PLACE"===n.type?(t="./modes/win-place",o=n.getPoolKeyEachWay("EW")&&n.getPoolPropertyByTypeCode("UPLC","active")?["Runner","WIN","PLACE","EW"]:["Runner","WIN"]):"EXACTA"===n.type?(t="./modes/exacta-trifecta/exacta",o=["Runner","1ST","2ND","ANY"]):"SWINGER"===n.type&&(t="./modes/swinger",o=["Runner","ANY"]),s=e(t),n.raceType(o)},handleStatusChanges:function(e){"SUSPENDED"===e?this.handleSelectionSuspended(!1):"ACTIVE"===e?this.setSelectionsActive(!1):"NONRUNNER"===e?this.handleSelectionSuspended(!1,!0):"RUNNER"===e&&this.setSelectionsActive(!0),this.reInitCheckBoxes()},getSelectionsByStatus:function(e){var t=[];return this.selections.forEach(function(o){o.status===e?o.nonRunner||t.push(o.id):"NONRUNNER"===e&&o.nonRunner?t.push(o.id):"RUNNER"!==e||o.nonRunner||t.push(o.id)}),t},reInitCheckBoxes:function(){var e=this.getAllBoxes();a.setAvailableOnAllBoxesAndInputs(!0);for(var t=0;t<e.length;t++){var o=this.getElementFromTagName(e,t,"input",0);o.checked&&s.handleBoxContent(this.getRow(o),o)}this.handleSelectionSuspended(!0)},saveSelectionState:function(){for(var e=this.getAllBoxes(),t=0;t<e.length;t++){var o=this.getElementFromTagName(e,t,"input",0),n=this.getColumn(o);o.checked?sessionStorage.setItem("checkbox:"+this.type+"::"+this.getRow(o)+":"+n+":"+this.toteData.id,!0):sessionStorage.setItem("checkbox:"+this.type+"::"+this.getRow(o)+":"+n+":"+this.toteData.id,!1)}},setOldStates:function(){for(var e=this,t=e.getAllBoxes(),o=0;o<t.length;o++){var n=this.getElementFromTagName(t,o,"input",0),i=this.getColumn(n),a=sessionStorage.getItem("checkbox:"+e.type+"::"+e.getRow(n)+":"+i+":"+e.toteData.id);a&&"false"!==a&&(n.checked=!0,s.handleBoxContent(e.getRow(n),n))}e.checkIfEnoughBoxesIsChecked()},handleSelectionSuspended:function(e,t){var o=t?"NONRUNNER":"SUSPENDED",n=this.getSelectionsByStatus(o);if(n.length>0)for(var s=this.getAllBoxes(),i=0;i<s.length;i++){var a=this.getElementFromTagName(s,i,"input",0),l=this.getElementFromTagName(s,i,"span",0),r=s[i].getElementsByClassName("single-race-content-menu-box-nonrunner")[0];this.isSelectionIdInArray(a,n)&&(t?(this.checkCheckBoxState(a),this.setCheckboxStates(a,!0,!1,"hidden"),r.style.visibility="visible"):(this.checkCheckBoxState(a),$(s[i]).addClass("single-race-disabled-box"),l.style.visibility="visible",this.setCheckboxStates(a,!0,!1,"visible")))}e||this.handleSelectionSuspended(!0)},setSelectionsActive:function(e){for(var t=this.getAllBoxes(),o=e?"RUNNER":"ACTIVE",n=this.getSelectionsByStatus(o),s=0;s<t.length;s++){var i=this.getElementFromTagName(t,s,"input",0),a=this.getElementFromTagName(t,s,"span",0),l=t[s].getElementsByClassName("single-race-content-menu-box-nonrunner")[0];this.isSelectionIdInArray(t[s],n)&&("visible"===a.style.visibility?($(t[s]).removeClass("single-race-disabled-box"),a.style.visibility="hidden",this.setCheckboxStates(i,!1,!1,"visible"),this.reInitCheckBoxes()):"visible"===l.style.visibility&&(a.style.visibility="hidden",l.style.visibility="hidden",this.setCheckboxStates(i,!1,!1,"visible"),this.reInitCheckBoxes()))}this.handleSelectionSuspended(!0)},getPoolKeyEachWay:function(e){if("EW"===e)return this.getPoolIdByTypeCode("UPLC")},getRunnerInfo:function(e){var t=e.nameTranslations?e.nameTranslations.unpiped:"",o=t.indexOf("Unnamed Favourite")!==-1,n=this.getRunner(t),s=this.getRacepostRunnerForm(t);return ko.observable({id:parseInt(e.number),blank:!1,isHorseRacing:this.isHorseRacing(),name:t,racepost:void 0!==this.raceExtra.racePost,runner:n||{},racepostForm:s&&s.length>0&&!o,expandedSpotlightAvailable:this.expandedSpotlights&&!o,hideSpotlight:!this.expandAllSpotlights(),hideForms:!this.expandAllForms(),forms:s})},getPoolId:function(e,t){var o=this;return"UPLC"!==e&&"UPLC"!==t&&"EW"!==t?o.totePool.id:"UPLC"===e&&"UWIN"===t||"EW"===t?o.getPoolIdByTypeCode("UWIN"):"UWIN"===e&&"UPLC"===t?o.getPoolIdByTypeCode("UPLC"):o.totePool.id},getRunner:function(e){if(this.raceExtra.racePost&&this.raceExtra.racePost.runners)return this.raceExtra.racePost.runners[p.cleanPropertyName(e)]},getRacepostRunnerForm:function(e){if(this.raceExtra.racePost&&this.raceExtra.racePost.runnerForm)return this.raceExtra.racePost.runnerForm[p.cleanPropertyName(e)]},getTotePool:function(e,t){var o=[];return e.forEach(function(e){e.id===t&&(o=e)}),o},getPoolIdByTypeCode:function(e){return this.getPoolPropertyByTypeCode(e,"id")},getPoolPropertyByTypeCode:function(e,t){var o=[];return this.totePools.forEach(function(t){t.typeCode===e&&(o=t)}),o[t]},getGreyhoundSilk:function(e){var t={};if(!this.isHorseRacing()){var o="trap-"+(e+1);t[o]=!0,t["single-race__trap"]=!0}return t},getColumnStyle:function(){return this.raceType().length<3?"ONECOL":"MANYCOL"},publishSelections:function(e){r.publish("tote-single-market:betslip-selections",e)},publishStatusToToteBuilder:function(e){r.publish("tote-single-market:status",e)},initMessageBusSubscription:function(){var e=this;e.toDispose(r.subscribe("tote-single-market:clear-selections",function(){try{a.setAvailableOnAllBoxesAndInputs(),e.handleSelectionSuspended(!0),e.saveSelectionState()}catch(t){}}))}},o.exports=n}),require.register("tote/components/tote-builder-container/template",function(e,t,o){o.exports='<div data-bind="css: className, attr:{\'isSingle\': isSingle}"><!-- ko if: isSingle --><bet-builder-single-market params="eventType: type, title: $parents[2].getTitle(), id: $parents[0].toteData.id"></bet-builder-single-market><!-- /ko --></div>'}),require.register("tote/components/rule-popup/index",function(e,t,o){function n(e){s=this;var t=s;t.poolType=e.poolType()?e.poolType().toLowerCase():"",t.ruleText=ko.observable(),t.showPopUp=ko.observable(!1),t.translate=a.t,t.getRulesFromCMS(t.poolType)}var s,i=e("pages/cmsData"),a=e("locale");n.prototype={getRulesFromCMS:function(e){var t=this;e=e.toLowerCase(),i(["totepool"],function(o){o.totepool&&o.totepool.popupRules&&o.totepool.popupRules.forEach(function(o){o.poolType.toLowerCase()===e&&t.ruleText(o.rules)})})},handlePopUpVisibility:function(){s.showPopUp(!s.showPopUp())}},o.exports=n}),require.register("tote/tote-single-leg/bet-builder-single-market/template",function(e,t,o){o.exports='<div class="bet-builder-wrapper"><div class="bet-builder-wrapper-inner-container"><span class="bet-builder-wrapper-inner-container__rules"></span> <span class="bet-builder-wrapper-inner-container__bet-info" data-bind="text: info"></span><div class="bet-builder-wrapper-inner-container__rule-badge" data-bind="click: showPopUp"><span class="bet-builder-wrapper-inner-container__rule-badge-text">i</span></div><button class="bet-builder-wrapper-inner-container__clear-button" data-bind="click: function() { $data.clearSelections($data) }"><span class="bet-builder-wrapper-inner-container__clear-button-text" data-bind="text: translate(\'totepool.single-tote-builder.clearbutton\')"></span></button> <button class="bet-builder-wrapper-inner-container__betslip-button" data-bind="click: function() { $data.addToBetSlip($data) },\n        css: {\'bet-builder-wrapper-inner-container__betslip-button-disabled\' : addToBetslipDisabled()}, disable: addToBetslipDisabled()"><span class="bet-builder-wrapper-inner-container__betslip-button-text" data-bind="text: translate(\'racing.add-to-betslip\')"></span></button></div></div>'}),require.register("tote/components/runner/view-model",function(e,t,o){function n(e){s.mixin(this);var t=e.info();this.locale=i,this.getRunnerForm.bind(this),this.getRacepostLabels.bind(this),this.getSilkUrl.bind(this),this.toggleForm.bind(this),this.toggleSpotlight.bind(this),this.isHorseRacing=ko.observable(t.isHorseRacing||!1),this.blank=ko.observable(t.blank),this.name=ko.observable(t.name||"No name"),this.racepost=ko.observable(t.racepost),this.id=t.id,this.racepostForm=t.racepostForm||!1,this.runner=t.runner||{},this.expandedFormAvailable=ko.observable(this.runner.form),this.expandedSpotlightAvailable=ko.observable(t.expandedSpotlightAvailable),this.showDetailedRacecard=!0,this.showRatings=this.runner&&this.runner.rpRating}var s=e("gear-disposable-mixin"),i=e("locale"),a=e("message-bus");n.prototype={getRunnerForm:function(){return this.runner.form?this.runner.form:""},getSilkUrl:function(){var e="/img/generic/icons/silk.png";return this.runner&&(e=this.runner.absoluteSilkUrl||"/img/generic/icons/silk.png"),e},getRacepostLabels:function(){var e=[];if(this.runner){var t=function(t){e.push({"short":i.t("racing.racingpost."+t+".short"),"long":i.t("racing.racingpost."+t+".long")})}.bind(this);this.runner.isPastCourseAndDistanceWinner?t("courseAndDistanceWinner"):(this.runner.isPastCourseWinner&&t("courseWinner"),this.runner.isPastDistanceWinner&&t("distanceWinner")),this.runner.beatenFavourite&&t("beatenFavourite")}return e},isNamed:function(){return this.name().indexOf("Unnamed")===-1},toggleSpotlight:function(){a.publish("tote:toggle-spotlight:"+this.id)},toggleForm:function(){a.publish("tote:toggle-forms:"+this.id)}},o.exports=n}),require.register("tote/components/spotlight-form/view-model",function(e,t,o){function n(e){s.mixin(this);var t=e.info();this.locale=i,this.shouldShow.bind(this),this.runner=t.runner||{},this.id=t.id,this.forms=ko.observable(t.forms||!1),this.spotlight=ko.observable(this.runner.runnerSpotlight||!1),this.hideSpotlight=ko.observable(this.showSpotlightsAndForms(t.hideSpotlight)),this.hideForms=ko.observable(this.showSpotlightsAndForms(t.hideForms)),this.toDispose(a.subscribe("^tote:toggle-spotlight:"+this.id+"$",function(e){this.hideSpotlight(!this.hideSpotlight())}.bind(this))),this.toDispose(a.subscribe("^tote:spotlight-all",function(e){this.hideSpotlight(!e.data.show)}.bind(this))),this.toDispose(a.subscribe("^tote:toggle-forms:"+this.id+"$",function(e){this.hideForms(!this.hideForms())}.bind(this))),this.toDispose(a.subscribe("^tote:forms-all",function(e){this.hideForms(!e.data.show)}.bind(this))),this.toDispose(a.subscribe("^tote:update-spotlight-forms:"+this.id+"$",function(e){e.data&&this.update(e.data)}.bind(this)))}var s=e("gear-disposable-mixin"),i=e("locale"),a=e("message-bus");n.prototype={update:function(e){this.forms(e.forms||!1),e.runner&&this.spotlight(e.runner.runnerSpotlight||!1)},showSpotlightsAndForms:function(e){return void 0===e||null===e||e},shouldShow:function(e){var t=!(this.hideForms()&&this.hideSpotlight()),o=e.parentNode.previousSibling;return t?$(o).children().addClass("bordered"):$(o).children().removeClass("bordered"),t}},o.exports=n}),require.register("tote/components/tote-builder-container/view-model",function(e,t,o){function n(e){var t=this;t.isSingle="single"===e.market,t.type=e.type,t.className="bet-builder",e.className&&(t.className=e.className),setTimeout(function(){$(".bet-builder").css("visibility","visible"),t.setBetBuilderAndPopUpSize(t),t.setBetBuilderAndPopUpPosition(t)},100),$(window).on("scroll",function(){t.setBetBuilderAndPopUpPosition(t)}),$(window).on("resize",function(){t.setBetBuilderAndPopUpSize(t)})}n.prototype={setBetBuilderAndPopUpSize:function(e){var t=$("#content").width(),o=e.isSingle?15:25;$("."+e.className).css("width",t-o),e.setPopUpHeight()},setPopUpHeight:function(){var e=$(window).height()-200;$(".top-menu").hasClass("up")&&(e=$(window).height()-172),$(".rule-content-box-text-wrapper").css("max-height",e)},setBetBuilderAndPopUpPosition:function(e){var t=$("#footer").offset().top,o=$(window).scrollTop()+$(window).height(),n=t<o;if(n){var s=o-t;s>=14?($("."+e.className).css("bottom",s),$(".rule-content-box").css("bottom",s+32)):($("."+e.className).css("bottom",0),$(".rule-content-box").css("bottom",32))}else $("."+e.className).css("bottom",0),$(".rule-content-box").css("bottom",32);e.setPopUpHeight()}},o.exports=n}),require.register("tote/tote-single-leg/bet-builder-single-market/view-model",function(e,t,o){function n(e){var t=this;a.mixin(this),t.selections=[],t.translate=s.t,t.setRuleText(e.eventType()),t.addToBetslipDisabled=ko.observable(!0),t.title=e.title(),t.info=ko.observable(),t.initMessageBusSubscription(),t.toteEventId=e.id}var s=e("locale"),i=e("message-bus"),a=e("gear-disposable-mixin"),l=e("../../components/rule-popup"),r=e("betslip"),c=e("../../tote-helper");n.prototype={setBetInfoText:function(){var e=this.capitalizeFirstLetter(this.selections.typeName),t=s.t("totepool.betbuilder.noCombination","1",e),o=" "+s.t("totepool.betbuilder.combination",e);e===c.toteNames.UWIN&&(t="EW"===this.selections.selectionData[0].position?2*this.selections.selectionData.length+o:s.t("totepool.betbuilder.noCombination",this.selections.selectionData.length,e)),e===c.toteNames.UEXA&&"ANY"===this.selections.selectionData[0].position&&(t=this.selections.selectionData.length>2?this.selections.selectionData.length*(this.selections.selectionData.length-1)+o:s.t("totepool.betbuilder.reverseExacta")),e===c.toteNames.UTRI&&"ANY"===this.selections.selectionData[0].position&&this.selections.selectionData.length>2&&(t=this.selections.selectionData.length*(this.selections.selectionData.length-1)*(this.selections.selectionData.length-2)+o),e===c.toteNames.USW&&this.selections.selectionData.length>2&&(t=this.selections.selectionData.length*(this.selections.selectionData.length-1)/2+o),this.info(t)},getElement:function(e){return $(e)},setRuleText:function(e){this.getElement(".bet-builder-wrapper-inner-container__rules").text(e+" rules")},clearSelections:function(){var e=this;i.publish("tote-single-market:tote-single-market:clear-selections"),e.selections=[],e.addToBetslipDisabled(!0),e.info("")},addToBetSlip:function(){var e=[{leg:1,legId:0,name:this.title,selections:[]}];this.selections.selectionData.forEach(function(t){e[0].selections.push({name:t.selectionName,id:t.selectionId,number:t.selectionNumber,column:t.position})}),e[0].selections.sort(function(e,t){return e.column-t.column});var t=1;this.selections.typeName===c.toteNames.UWIN&&(t="EW"===this.selections.selectionData[0].position?2*this.selections.selectionData.length:this.selections.selectionData.length),"ANY"===this.selections.selectionData[0].position&&(this.selections.typeName===c.toteNames.UTRI&&this.selections.selectionData.length>=3&&(t=this.selections.selectionData.length*(this.selections.selectionData.length-1)*(this.selections.selectionData.length-2)),this.selections.typeName===c.toteNames.UEXA&&this.selections.selectionData.length>=2&&(t=this.selections.selectionData.length*(this.selections.selectionData.length-1)),this.selections.typeName===c.toteNames.USW&&this.selections.selectionData.length>=2&&(t=this.selections.selectionData.length*(this.selections.selectionData.length-1)/2)),r.getBetslip().addTote(this.selections.poolId,this.selections.poolKeyEachWay,this.selections.typeName,e,this.selections.poolType,t,0,this.toteEventId),this.clearSelections()},showPopUp:function(){l.prototype.handlePopUpVisibility()},initMessageBusSubscription:function(){var e=this;this.toDispose(i.subscribe("tote-single-market:betslip-selections",function(t){null!==t.data?(e.addToBetslipDisabled(!1),e.selections=t.data,e.setBetInfoText()):(e.info(""),e.addToBetslipDisabled(!0),e.selections=[])})),this.toDispose(i.subscribe("tote-single-market:status",function(t){e.addToBetslipDisabled(t.data)}))},capitalizeFirstLetter:function(e){return e=e.toString().toLowerCase(),e.split("/").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("/")}},o.exports=n}),require.register("tote/tote-single-leg/modes/common/index",function(e,t,o){var n={handleBoxContent:function(e,t,o){var n=(parseInt(t.attributes.index.nodeValue)+1).toString(),s=$(".single-race-content"),i=t.checked?"add":"remove";"ANY"!==e?o.disableColumn(n,e,s,i,t):(this.makeAllAnyAvailable(),this.disableSideRows(s)),this.getNumberOfCheckedBoxes()<=0&&this.setAvailableOnAllBoxesAndInputs()},makeAllAnyAvailable:function(){$(".single-race-content-menu:last-child input:not(:checked)").prop("disabled",!1),$(".single-race-content-menu:last-child div").removeClass("single-race-disabled-box")},disableColumn:function(e,t,o,n,s,i,a){if("add"!==n){this.setAvailableOnAllBoxesAndInputs(!0);for(var l=$(".single-race-content-menu-box-checkbox-extras:checkbox:checked"),r=0;r<l.length;r++){var c=l[r].attributes.raceType.nodeValue;this.handleBoxContent(c,l[r],a)}}else{for(var d=parseInt(s.attributes.column.nodeValue),p=0;p<o.length;p++)if(p!==d){var u=o[p].getElementsByClassName("single-race-content-menu-box")[i];$(u).addClass("single-race-disabled-box"),this.setInputFunction(u.getElementsByTagName("input"),!0)}var h=$(o[d].getElementsByClassName("single-race-content-menu-box"));$(h).addClass("single-race-disabled-box");for(var g=0;g<h.length;g++)g!==i&&this.setInputFunction(h[g].getElementsByTagName("input"),!0);$(h[i]).removeClass("single-race-disabled-box")}},disableSideRows:function(e){try{for(var t=0;t<e.length;t++)for(var o=e[t].getElementsByClassName("single-race-content-menu-box"),n=0;n<o.length-1;n++){var s=o[n].getElementsByTagName("input");$(o[n]).addClass("single-race-disabled-box"),this.setInputFunction(s,!0)}}catch(i){}},setInputFunction:function(e,t){for(var o=0;o<e.length;o++)e[o].disabled=t,t&&(e[o].checked=!1)},getNumberOfCheckedBoxes:function(){return $(".single-race-content-menu-box input:checked").length},setAvailableOnAllBoxesAndInputs:function(e){$(".single-race-content-menu-box").removeClass("single-race-disabled-box"),e?this.setInputFunction($(".single-race-content-menu-box input"),!1):$(".single-race-content-menu-box input").prop("checked",!1).prop("disabled",!1)},getCheckedRow:function(e){for(var t=$(".single-race-content-menu"),o=1;o<e;o++)for(var n=$(t[o].getElementsByClassName("single-race-content-menu-box")),s=0;s<n.length;s++)if(n[s].getElementsByTagName("input")[0].checked)return s},getcheckedRowAndColumn:function(e){for(var t=$(".single-race-content-menu"),o={checkedRows:[],checkedColumns:[]},n=1;n<e;n++)for(var s=$(t[n].getElementsByClassName("single-race-content-menu-box")),i=0;i<s.length;i++)s[i].getElementsByTagName("input")[0].checked&&(o.checkedRows.push(i),o.checkedColumns.push(n));return o},anyFieldFulfilled:function(e){return $(".single-race-content-menu:last-child input:checked").length>=e},getPosition:function(e){var t=parseInt(e.replace(/^\D+/g,""));return isNaN(t)&&(t=e),t},getSelectionData:function(){for(var e=$(".single-race-content-menu-box"),t=[],o=0;o<e.length;o++){var n=e[o].getElementsByTagName("input")[0];if(n.checked){var s=n.attributes.selectionId.nodeValue,i=n.attributes.raceType.nodeValue;t.push({selectionId:s,position:this.getPosition(i),selectionName:n.getAttribute("selectionName"),selectionNumber:n.getAttribute("selectionNumber")})}}return t}};o.exports=n}),require.register("tote/tote-single-leg/modes/swinger/index",function(e,t,o){var n=e("../common"),s={handleBoxContent:function(e,t){t.checked=!!t.checked},isEnoughChecked:function(){return n.getNumberOfCheckedBoxes()>=2},getSelectionData:function(){return n.getSelectionData()}};o.exports=s}),require.register("tote/tote-single-leg/modes/win-place/index",function(e,t,o){var n=e("../common"),s={handleBoxContent:function(e,t){t.checked=!!t.checked;for(var o=$(".single-race-content"),s=parseInt(t.attributes.index.nodeValue)-1,i=0;i<o.length;i++)for(var a=o[i].getElementsByClassName("single-race-content-menu-box"),l=0;l<a.length;l++)l!==s&&($(a[l]).addClass("single-race-disabled-box"),this.setInputFunction(a[l].getElementsByTagName("input"),!0));n.getNumberOfCheckedBoxes()<=0&&n.setAvailableOnAllBoxesAndInputs()},isEnoughChecked:function(){return n.getNumberOfCheckedBoxes()>0},setInputFunction:function(e,t){for(var o=0;o<e.length;o++)e[o].disabled=t},getSelectionData:function(){return n.getSelectionData()}};o.exports=s}),require.register("tote/tote-single-leg/modes/exacta-trifecta/exacta/index",function(e,t,o){var n=e("../../common"),s={handleBoxContent:function(e,t,o){n.handleBoxContent(e,t,this,o)},isEnoughChecked:function(){try{return!!n.anyFieldFulfilled(2)||2===n.getNumberOfCheckedBoxes()}catch(e){return!1}},disableColumn:function(e,t,o,s,i){var a="1ST"===t?0:1;n.disableColumn(e,t,o,s,i,a,this)},boxesChecked:function(){for(var e=$(".single-race-content-menu-box"),t=0,o=0;o<e.length;o++)e[o].getElementsByTagName("input")[0].checked&&t++;return t},getSelectionData:function(){return n.getSelectionData()}};o.exports=s}),require.register("tote/tote-single-leg/modes/exacta-trifecta/trifecta/index",function(e,t,o){var n=e("../../common"),s={handleBoxContent:function(e,t){n.handleBoxContent(e,t,this)},isEnoughChecked:function(){try{return!!n.anyFieldFulfilled(3)||3===n.getNumberOfCheckedBoxes()}catch(e){return!1}},disableColumn:function(e,t,o,s,i){var a=2;"1ST"===t?a=0:"2ND"===t&&(a=1),n.disableColumn(e,t,o,s,i,a,this)},getSelectionData:function(){return n.getSelectionData()}};o.exports=s}),window.cogwheels.addGear({name:"tote",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("odds-boost/index",function(o,t,e){var s=["token","onboarding","info","header","button","odds-animator","odds-animator-multiples","digit-animation","tooltip"];t.controllers=s.map(function(t){return o("./components/"+t+"/controller")})}),require.register("odds-boost/components/button/template",function(o,t,e){e.exports='<a class="odds-boost-button" data-bind="click: toggleOddsBoost, css: styles.enabled"><div class="odds-boost-button-container"><div class="boost-icon"><svg width="25px" height="20px" viewbox="0 10 72 38" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Animation-Elements" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Speedometer" fill="#FFFFFF"><g id="Group-3-Copy"><path d="M62.1094243,23.8768463 C64.0096895,27.8568911 65.0769231,32.3347641 65.0769231,37.0693069 L72,37.0693069 C72,16.596494 55.882251,0 36,0 C16.117749,0 0,16.596494 0,37.0693069 L6.92307692,37.0693069 C6.92307692,32.3347641 7.99031054,27.8568911 9.89057566,23.8768463 L13.947737,26.2192495 C14.7149621,26.6622071 15.7027064,26.4007901 16.1469529,25.6313326 L16.3843479,25.2201525 C16.8239867,24.4586757 16.5642378,23.4663772 15.7938909,23.0216173 L11.6826794,20.6480082 C13.8584929,17.2386441 16.6923362,14.3142801 19.9982047,12.0664457 L22.1053949,15.7162062 C22.5483525,16.4834313 23.5344726,16.7509097 24.3039302,16.3066632 L24.7151102,16.0692682 C25.4765871,15.6296294 25.7477871,14.6403992 25.3030271,13.8700524 L23.1780307,10.1894505 C26.6556747,8.42723181 30.5250217,7.35951633 34.6153846,7.16206128 L34.6153846,11.9339361 C34.6153846,12.8198513 35.3356505,13.5445545 36.2241435,13.5445545 L36.6989334,13.5445545 C37.5782111,13.5445545 38.3076923,12.8234561 38.3076923,11.9339361 L38.3076923,7.22162872 C42.2655264,7.5416198 46.0006366,8.6776149 49.3544311,10.4663117 L47.3892806,13.8700524 C46.9445206,14.6403992 47.2157206,15.6296294 47.9771975,16.0692682 L48.3883775,16.3066632 C49.1578351,16.7509097 50.1439552,16.4834313 50.5869128,15.7162062 L52.495819,12.4098837 C55.5903813,14.6089588 58.2506777,17.4097077 60.3173206,20.6480082 L56.2061091,23.0216173 C55.4357622,23.4663772 55.1760133,24.4586757 55.6156521,25.2201525 L55.8530471,25.6313326 C56.2972936,26.4007901 57.2850379,26.6622071 58.052263,26.2192495 L62.1094243,23.8768463 Z" id="Combined-Shape"></path></g></g></g></svg> <svg class="gauge" viewbox="0 0 24 16" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="gauge" transform="translate(9, 3)"><circle cx="3" cy="10" r="3"></circle><polygon id="arrow" stroke-width="0.769230769" stroke-linecap="round" stroke-linejoin="round" points="8.46758564 0 1.21978022 9.85368778 3.94746013 11.297491"></polygon></g></svg></div><div data-bind="text: text, css: styles.boost"></div></div></a>'}),require.register("odds-boost/components/button/controller",function(o,t,e){var s="oddsboost-button",i=o("./view-model"),n=o("./template"),r={viewModel:i,template:n};t.init=function(o){ko.components.register(s,r)}}),require.register("odds-boost/components/digit-animation/template",function(o,t,e){e.exports='<div class="integer-value"><div class="integer-value" data-bind="text: value"></div><div class="scroll-element" data-bind="css: direction, foreach: list"><div data-bind="text: $data"></div></div></div>'}),require.register("odds-boost/components/button/view-model",function(o,t,e){var s=o("gear-disposable-mixin"),i=o("locale"),n=o("oddsboost"),r={init:function(){this.enable=ko.observable(!1),this.styles={enabled:ko.pureComputed(function(){return this.enable()?"enabled":""},this),boost:ko.pureComputed(function(){return"de-de"===i.value()?this.enable()?"boosted GermanText":"boost GermanText":this.enable()?"boosted":"boost"},this)},this.text=ko.pureComputed(function(){return i.t(this.enable()?"betslip.oddsboost.boosted":"betslip.oddsboost.boost")},this),this.toDispose(n.subscribe("oddsboost:enable",this.enable))},toggleOddsBoost:function(){n.publish("oddsboost:enable",!this.enable()),n.publish("oddsboost:freeBet",!0)}};e.exports=function(){var o=Object.create(r);return s.mixin(o),o.init(),o}}),require.register("odds-boost/components/header/template",function(o,t,e){e.exports='<div><!-- ko if: displayOverlay --><div class="odds-boost-header__overlay"></div><!-- /ko --><div class="odds-boost-header" data-bind="css: headerStyle, if: hasOddsBoost"><div><div class="text-header" data-bind="translateText: \'betslip.oddsboost.odds-boost\'">Odds Boost</div><div class="text-container"><div data-bind="translateText: \'betslip.oddsboost.tap-to-boost\'">Tap to boost your betslip</div><oddsboost-tooltip params="display: onboarding, header: tooltipHeader, text: tooltipText"></oddsboost-tooltip></div></div><oddsboost-button></oddsboost-button></div></div>'}),require.register("odds-boost/components/digit-animation/controller",function(o,t,e){var s="oddsboost-digit-animation",i=o("./view-model"),n=o("./template"),r={viewModel:i,template:n};t.init=function(o){ko.components.register(s,r)}}),require.register("odds-boost/components/info/template",function(o,t,e){e.exports='<div><div id="oddsboost-info"><img data-bind="attr:{src: image}"><div class="oddsboost-info-toggle"><div class="oddsboost-info-toggle-inner" data-bind="click: showInfo, css: { \'active\' : displayInfo}"><span data-bind="text: locale.t(\'odds.boost.info.infoToggle\')"></span></div><div class="oddsboost-info-toggle-inner" data-bind="click: showTerms, css: { \'active\' : displayInfo() == false }"><span data-bind="text: locale.t(\'odds.boost.info.termsToggle\')"></span></div></div><!-- ko if:displayInfo --><div class="oddsboost-info"><div class="oddsboost-info-header"><div class="oddsboost-info-header-title" data-bind="text: locale.t(\'odds.boost.info.desc.title\')"></div><hr><div class="oddsboost-info-header-content"><!-- ko if:authorized --><span data-bind="text: authorizedText"></span><!-- /ko --><!-- ko ifnot:authorized --> <span data-bind="text: locale.t(\'odds.boost.info.desc.unauthorized\')"></span><!-- /ko --></div><span class="oddsboost-info-terms-text" data-bind="text: locale.t(\'odds.boost.tc.info\')"></span></div><!-- ko if:authorized --><div class="oddsboost-info-content"><div class="oddsboost-info-content-token"><h2 data-bind="text: locale.t(\'odds.boost.info.tokens\')"></h2><hr></div><!-- ko foreach: { data: tokens, as: \'token\' } --><div class="oddsboost-info-content-event"><div class="oddsboost-info-content-event-name" data-bind="text: token.name"></div><div class="oddsboost-info-content-event-info"><span class="oddsboost-info-content-event-text" data-bind="text: $parent.locale.t(\'odds.boost.info.upTo\')"></span>&nbsp; <span data-bind="text: token.maxStake"></span>&nbsp; <span class="oddsboost-info-content-event-text" data-bind="text: $parent.locale.t(\'odds.boost.info.useBy\')"></span>&nbsp; <span data-bind="text: token.expiryDate"></span></div></div><!-- /ko --></div><!-- /ko --></div><!-- /ko --><!-- ko ifnot:displayInfo --><div class="oddsboost-info"><div class="oddsboost-info-terms"><div class="oddsboost-info-terms-header"><div data-bind="text: locale.t(\'odds.boost.info.desc.title\')"></div><hr></div><div class="oddsboost-info-terms-title"><span data-bind="text: locale.t(\'odds.boost.info.terms\')"></span></div><div class="oddsboost-info-terms-content" data-bind="html: terms"></div></div></div><!-- /ko --></div></div>'}),require.register("odds-boost/components/digit-animation/view-model",function(o,t,e){function s(o,t){for(var e=Math.min(o,t),s=Math.max(o,t),i=[],n=e;n<=s;++n)i.push(n);return i}var i=o("gear-disposable-mixin"),n=o("../utils"),r=o("authentication/user"),d=o("utils/debug"),a=d("oddsboost/digit-animation"),l={UP:"scroll-up",DOWN:"scroll-down"},u={init:function(o){var t=o.bus,e=ko.utils.unwrapObservable(o.from),i=ko.utils.unwrapObservable(o.to);a("slider for (%o, %o)",e,i);var d=Math.max(String(e).length,String(i||0).length);a("padd with %o",d);var u=ko.observable("");this.fractionalOdds=ko.pureComputed(function(){return"fractional"===r.oddsDisplay()&&!o.multiples},this),this.value=ko.pureComputed(function(){return this.fractionalOdds()?n.padWith(e,d):e},this),this.direction=ko.pureComputed(function(){return a("direction: %s %s",ko.utils.unwrapObservable(o.direction),ko.utils.unwrapObservable(u)),ko.utils.unwrapObservable(o.direction)+" "+ko.utils.unwrapObservable(u)}),this.list=ko.observableArray([e]),e!==i&&null!=i&&(t&&this.toDispose(t.subscribe("scroll",function(){a("scroll %s",e<i?l.DOWN:l.UP),u(e<i?l.DOWN:l.UP)})),this.list(s(e,i)),a("digit list: %o",this.list()))}};e.exports=function(o){var t=Object.create(u);return i.mixin(t),t.init(o),t}}),require.register("odds-boost/components/odds-animator/template",function(o,t,e){e.exports='<div class="odds-boost" data-bind="css: styles.enabled"><div data-bind="css: styles.unboosted"><oddsboost-tooltip params="enable: show.tooltipIcon, text: tooltipText, onShow: tooltipOnShow"></oddsboost-tooltip><div data-bind="if: show.odds"><div data-bind="text: odds"></div></div><div class="select" data-bind="if: show.prices"><select data-bind="options: prices, optionsText: \'label\', value: price"></select><span class="icon-arrow"></span></div></div><div class="boosted-value" data-bind="css: styles.boosted, click: chevronClick, style: { cursor: show.boostedPrices() == true ? \'pointer\' : \'default\' }"><!-- ko foreach: animations --><oddsboost-digit-animation params="from: from, to: to, direction: direction, bus: bus"></oddsboost-digit-animation><!-- /ko --><div data-bind="if: show.boostedPrices"><svg width="15px" height="10px" viewbox="0 0 15 10" version="1.1" xmlns="http://www.w3.org/2000/svg" class="dropdown-chevron"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-290.000000, -357.000000)" fill="currentColor"><polygon transform="translate(297.166667, 362.000000) rotate(-90.000000) translate(-297.166667, -362.000000) " points="293 362 300 355 301.333333 356.333333 295.666667 362 301.333333 367.666667 300 369"></polygon></g></g></svg><div class="dropdown-content integer-value" data-bind="css: styles.dropdown, foreach: boostedPrices"><span class="odds-boost-dropdown-item" data-bind="text: label, click: action"></span></div></div></div></div>'}),require.register("odds-boost/components/header/controller",function(o,t,e){var s="oddsboost-header",i=o("./view-model"),n=o("./template"),r={viewModel:i,template:n};t.init=function(o){ko.components.register(s,r)}}),require.register("odds-boost/components/odds-animator-multiples/template",function(o,t,e){e.exports='<div class="odds-boost" data-bind="css: styles.enabled"><div data-bind="css: styles.unboosted"><oddsboost-tooltip params="enable: show.tooltipIcon, text: tooltipText, onShow: tooltipOnShow"></oddsboost-tooltip><div class="selection-information-text" data-bind="text: fromPrice"></div></div><div class="boosted-value" data-bind="css: styles.boosted"><!-- ko foreach: animations --><oddsboost-digit-animation params="from: from, to: to, direction: direction, bus: bus, multiples: true"></oddsboost-digit-animation><!-- /ko --><!-- ko if: fractionalOdds--><div>/1</div><!-- /ko --></div></div>'}),require.register("odds-boost/components/header/view-model",function(o,t,e){var s=o("gear-disposable-mixin"),i=o("message-bus"),n=o("oddsboost"),r=o("locale"),d=o("../utils"),a=o("authentication/user"),l=o("domain-model/helper"),u=o("utils/debug"),c=u("oddsboost/header"),b={init:function(o){this.selections=ko.pureComputed(o.selections);var t=this;this.multiplesBets=ko.pureComputed(o.multiplesBets);var e=o.totalStake,s=o.selectedFreebet;this.enable=ko.observable(!1),this.isSuspended=ko.observable(!1),this.toDispose(i.subscribe("betslip-suspended",function(o){t.isSuspended(o.data)}));var u=ko.observable();this.toDispose(n.subscribe("oddsboost:token",u)),this.hasOddsBoost=ko.pureComputed(function(){var o=this.selections().map(function(o){return d.unwrap(o.boostedPrice)}).filter(function(o){return null!=o});return ko.utils.unwrapObservable(u)&&o.length>0},this),this.onboarding=ko.pureComputed(function(){c("===== Onboarding =====");var o=ko.utils.unwrapObservable(this.hasOddsBoost),t=!localStorage.getItem("oddsboost:betslip:visited");return c("onboarding: %o",o&&t),!(!o||!t)&&(localStorage.setItem("oddsboost:betslip:visited",!0),!0)},this),this.tooltipHeader=ko.pureComputed(function(){return r.t("betslip.oddsboost.hit-boost")},this),this.tooltipText=ko.pureComputed(function(){var o={amount:l.currencyFormat(ko.utils.unwrapObservable(u).maxStake,a)};return r.t("betslip.oddsboost.boost-max-stake").replace("{amount}",o.amount)}),this.maxStakePopText=ko.pureComputed(function(){var o={amount:l.currencyFormat(ko.utils.unwrapObservable(u).maxStake,a)};return r.t("betslip.oddsboost.exceeded-max-stake.message").replace("{amount}",o.amount)}),c("has odds boost: %o",this.hasOddsBoost()),c("boosted: %o",this.enable()),c("selections: %o",ko.utils.unwrapObservable(o.selections)),this.toDispose(this.hasOddsBoost.subscribe(function(o){c("has odds boost: %o",o),o||n.publish("oddsboost:disable")})),this.headerStyle=ko.pureComputed(function(){return this.hasOddsBoost()?"odds-boost-header":"dn"},this),this.displayOverlay=ko.pureComputed(function(){return this.hasOddsBoost()&&this.isSuspended()},this),this.toDispose(n.subscribe("oddsboost:enable",this.enable)),this.toDispose(n.subscribe("oddsboost:validate",function(){var o=this.selections().map(function(o){return{price:d.unwrap(o.price).priceType,pricesLength:d.unwrap(o.prices).length}}).filter(function(o){return"STARTING_PRICE"===o.price&&o.pricesLength>1});if(c("validating selections..."),c("selection: %o",o),this.enable()&&o.length>0){var t=r.t("betslip.oddsboost.unavailable.sp");i.publish("modal:alert-box",{action:"open",title:r.t("betslip.oddsboost.unavailable.header"),message:t,okButton:r.t("betslip.oddsboost.unavailable.button"),showOverBetslip:!0}),i.subscribeOnce("alert-box:button:ok",function(){n.publish("oddsboost:disable")}),i.publish("track:oddsboost",{label:"Popup/Odds Boost/SP-Each Way",description:"User receives odds boost SP or EW error"})}}.bind(this))),this.toDispose(ko.computed(function(){if(this.enable()&&u()){var o=Number(e()),t=Number(u().maxStake);if(o>t){var s=[],d=document.querySelectorAll(".maxStakeErrorMessage");for(s=0;s<d.length;s++)d[s].style.display="none";i.publish("modal:alert-box",{action:"open",title:r.t("betslip.oddsboost.exceeded-max-stake.header"),message:this.maxStakePopText(),okButton:r.t("betslip.oddsboost.exceeded-max-stake.button"),showOverBetslip:!0}),i.subscribeOnce("alert-box:button:ok",function(){n.publish("oddsboost:disable")}),i.publish("track:oddsboost",{label:"Popup/Odds Boost/Max Stake Limit",description:"User receives odds boost max stake error"})}}},this)),this.toDispose(s.subscribe(function(){n.publish("oddsboost:freeBet",!1)})),this.toDispose(n.subscribe("oddsboost:freeBet",function(o){this.enable()&&u()&&"non"!==s()&&(o?(i.publish("modal:alert-box",{action:"open",title:r.t("betslip.oddsboost.freebet.header"),message:r.t("betslip.oddsboost.freebet.message"),okButton:r.t("betslip.oddsboost.freebet.button"),showOverBetslip:!0}),i.subscribeOnce("alert-box:button:ok",function(){n.publish("oddsboost:disable")})):(i.publish("modal:alert-box",{action:"open",title:r.t("betslip.oddsboost.freebet.choose.header"),message:r.t("betslip.oddsboost.freebet.choose.message"),okButton:r.t("betslip.oddsboost.freebet.choose.yes"),cancelButton:r.t("betslip.oddsboost.freebet.choose.no"),showOverBetslip:!0}),i.subscribeOnce("alert-box:button:ok",function(){n.publish("oddsboost:disable"),i.publish("track:oddsboost",{label:"Popup/Odds Boost/FreeBets",description:"User taps Yes on Odds Boost Freebets error pop-up"})}),i.subscribeOnce("alert-box:button:cancel",function(){i.publish("reset-free-bets"),i.publish("track:oddsboost",{label:"Popup/Odds Boost/FreeBets",description:"User taps No no Odds Boost Freebets error pop-up"})})),i.publish("track:oddsboost",{label:"Popup/Odds Boost/FreeBets",description:"User receives odds boost FreeBets error"}))}.bind(this)))}};e.exports=function(o){var t=Object.create(b);return s.mixin(t),t.init(o),t}}),require.register("odds-boost/components/tooltip/template",function(o,t,e){e.exports='<div data-bind="if: enabled"><div class="tooltip-overlay" data-bind="visible: showTooltip, click: closeClick"></div><a class="i-icon-link" data-bind="css: visible, click: iClick"><svg class="i-icon" viewbox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg"><ellipse fill="#252835" cx="7" cy="7" rx="7" ry="7"></ellipse><g fill="#ffffff"><circle cx="7" cy="3.5" r="1"></circle><rect x="6" y="5.5" width="2" height="6"></rect></g></svg><div class="tooltip-wrapper" data-bind="if: showTooltip"><div class="tooltip" data-bind="click: tooltipClick;"><svg class="box-arrow" viewbox="0 0 2 1" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M 1,0 L 2,1 L 0,1 Z" stroke-width="0"></path></svg> <svg class="tooltip-close" data-bind="click: closeClick" width="12px" height="12px" viewbox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="#ffffff" stroke-width="2" fill="none" stroke-linecap="round"><path d="M2,2 L14,14"></path><path d="M14,2 L2,14"></path></g></svg><div class="info-header" data-bind="html: header"></div><div class="info-text" data-bind="css: spacing, html: text"></div></div></div></a></div>'}),require.register("odds-boost/components/info/controller",function(o,t,e){var s="odds-boost-info",i=o("./view-model"),n=o("./template"),r={viewModel:{viewModel:i},template:n,synchronous:!0};t.init=function(){ko.components.register(s,r)}}),require.register("odds-boost/components/info/view-model",function(o,t,e){function s(o){var t=this;this.authorized=ko.observable(!0),this.image=ko.observable(o.image),this.terms=ko.observable(o.terms),this.tokens=ko.observableArray(o.tokens),this.redirectTarget=ko.observable("?redirectTarget="+encodeURIComponent(location.hash.substring(2))),this.locale=i,this.displayInfo=ko.observable(!0),this.authorizedText=ko.pureComputed(function(){return this.locale.t("odds.boost.info.desc.authorized",this.tokens().length)},this),n.get("/oddsboost_json/info").end(function(o){t.authorized(200===o.status),t.image(o.body.image),t.terms(o.body.terms),t.tokens(o.body.tokens)}),r.subscribe("^authentication:logged-in$",function(){n.get("/oddsboost_json/info").end(function(o){t.authorized(200===o.status),t.image(o.body.image),t.terms(o.body.terms),t.tokens(o.body.tokens)})}),r.subscribe("^authentication:logged-out$",function(){n.get("/oddsboost_json/info").end(function(o){t.authorized(!1),t.image(o.body.image),t.tokens(o.body.tokens=[])})})}var i=o("locale"),n=o("utils/request"),r=o("message-bus");s.prototype={showInfo:function(){this.displayInfo(!0)},showTerms:function(){this.displayInfo(!1)}},e.exports=s}),require.register("odds-boost/components/odds-animator/controller",function(o,t,e){var s="oddsboost-odds-animator",i=o("./view-model"),n=o("./template"),r={viewModel:i,template:n};t.init=function(o){ko.components.register(s,r)}}),require.register("odds-boost/components/odds-animator/price-view-model",function(o,t,e){var s={init:function(o,t){this.label=o,this.callback=t,this.action=this.action.bind(this)},action:function(o,t){this.callback(o,t),t.cancelBubble=!0,t.stopPropagation()}};e.exports=function(o,t){var e=Object.create(s);return e.init(o,t),e}}),require.register("odds-boost/components/odds-animator/view-model",function(o,t,e){function s(o,t){var e=[];v("setup digit animations...");var s=r.retrieve("local","authentication:user:oddsDisplay")||"fractional";if(v("odds type: %o",s),v("animate %o to %o",o,t),!o||!t)return e;var d=a.mixin({});return"fractional"===s?i(e,o,t,d):n(e,o,t,d),setTimeout(function(){d.publish("scroll")},250),e}function i(o,t,e,s){o.push({from:t.numerator,to:e.numerator,direction:t.numerator<e.numerator?f.DOWN:f.UP,bus:s}),o.push({from:"/",to:null,direction:null,bus:null}),o.push({from:t.denominator,to:e.denominator,direction:t.denominator<e.denominator?f.DOWN:f.UP,bus:s})}function n(o,t,e,s){var i=parseFloat(t.decimalOdds).toFixed(2),n=parseFloat(e.decimal).toFixed(2),r=Math.max(i.length,n.length)-1,d=p.padWith(i,r,0).split(""),a=p.padWith(n,r,0).split("");[d,a].reduce(function(o,t){return t.map(function(t,e){return o[e]?o[e].concat(t):[t]})},[]).forEach(function(t){if(v("animate %o",t),"."===t[0])return void o.push({from:t[0],to:null,direction:null,bus:null});var e=parseInt(t[0],10),i=parseInt(t[1],10);o.push({from:e,to:i,direction:e<i?f.DOWN:f.UP,bus:s})})}var r=o("web-storage-extender"),d=o("gear-disposable-mixin"),a=o("utils/subscribable"),l=o("message-bus"),u=o("locale"),c=o("oddsboost"),b=o("./price-view-model"),p=o("../utils"),h=o("utils/debug"),v=h("oddsboost/odds-animator"),m="STARTING_PRICE",f={UP:"direction-up",DOWN:"direction-down"},g={init:function(o){v("===================="),this.boost=ko.observable(!1);var t=ko.observable();this.toDispose(c.subscribe("oddsboost:token",t)),this.prices=o.prices,this.fromPrice=o.fromPrice,this.eachWay=o.eachWay;var e=o.toPrice;this.price=ko.observable(),this.boostedPrices=ko.pureComputed(function(){var o=this.price,t=ko.utils.unwrapObservable(this.prices),s=p.fixLabel(p.unwrap(e));return null==t||t.length<2||null==s?[]:t.map(function(t){return b(t.priceType===m?t.label:s.label,function(){o(t)})})},this),this.odds=ko.pureComputed(function(){return p.getOdds(p.unwrap(this.fromPrice))},this),this.toDispose(this.eachWay.subscribe(function(o){this.eachWay()&&c.publish("oddsboost:validate")}.bind(this))),this.toDispose(this.fromPrice.subscribe(function(o){v("new from price: %o",p.unwrap(o)),this.boost()&&c.publish("oddsboost:validate")}.bind(this))),this.toDispose(this.price.subscribe(function(o){v("new price: %o, %o",o,this.fromPrice()),this.fromPrice(o),this.styles.dropdown("dn")}.bind(this))),v("params: %o",o),v("prices: %o",p.unwrap(this.prices)),v("from, to"),v("%o, %o",p.unwrap(this.fromPrice),p.unwrap(e)),v("odds: %o",ko.utils.unwrapObservable(this.odds)),this.tooltipText=u.t("betslip.oddsboost.unavailable.message"),this.animations=ko.pureComputed(function(){return this.boost()&&this.hasBoostedPrice()?s(p.unwrap(this.fromPrice),p.unwrap(e)):[]},this).extend({deferred:!0}),this.hasBoostedPrice=ko.pureComputed(function(){var t=p.unwrap(this.fromPrice),s=ko.utils.unwrapObservable(e),i=ko.utils.unwrapObservable(o.suspended)||!1,n=!i&&null!=t&&"STARTING_PRICE"!==t.priceType&&null!=s;return v("has boosted price: %o",n),n},this),this.setupStyleRules(),this.setupDisplayRules(t),v("Boost: %o",this.boost()),this.chevronClick=this.chevronClick.bind(this),this.toDispose(this.boost.subscribe(function(o){v("boost set to %o",o),o&&c.publish("oddsboost:validate")})),this.toDispose(c.subscribe("oddsboost:enable",this.boost))},chevronClick:function(){"dn"===this.styles.dropdown()?this.styles.dropdown(""):this.styles.dropdown("dn")},setupStyleRules:function(){this.styles={enabled:ko.pureComputed(function(){return v("enabled: %o",this.boost()),this.boost()?"enabled":""},this),boosted:ko.pureComputed(function(){return v("boosted class: %o",this.boost()&&this.hasBoostedPrice()?"":"dn"),this.boost()&&this.hasBoostedPrice()?"":"dn"},this),unboosted:ko.pureComputed(function(){return v("unboosted class: %o",this.boost()&&this.hasBoostedPrice()?"unboosted-value":"betslip-text odds-convert"),this.boost()&&this.hasBoostedPrice()?"unboosted-value":"betslip-text odds-convert"},this),dropdown:ko.observable("dn")}},setupDisplayRules:function(o){this.toDispose(ko.computed(function(){var o=ko.utils.unwrapObservable(this.prices),t=!this.boost()&&o.length>1,e=this.fromPrice().priceType;t&&o.filter(function(o){return o.priceType===e}).forEach(this.price)},this)),this.show={tooltipIcon:ko.pureComputed(function(){return o()&&this.boost()&&!this.hasBoostedPrice()},this),odds:ko.pureComputed(function(){var o=!ko.utils.unwrapObservable(this.show.prices);return v("show odds: %o",o),o},this),prices:ko.pureComputed(function(){var o=!(this.boost()&&this.hasBoostedPrice())&&ko.utils.unwrapObservable(this.prices).length>1;return v("show prices: %o",o),o},this),boostedPrices:ko.pureComputed(function(){var o=this.boost()&&ko.utils.unwrapObservable(this.prices).length>1;return v("show boosted prices: %o",o),o},this)}},tooltipOnShow:function(){l.publish("track:oddsboost",{label:"Popup/Odds Boost/Ineligible Selection",description:"User taps on a ineligible selection"})}};e.exports=function(o){var t=Object.create(g);return d.mixin(t),t.init(o),t}}),require.register("odds-boost/components/odds-animator-multiples/controller",function(o,t,e){var s="oddsboost-odds-animator-multiples",i=o("./view-model"),n=o("./template"),r={viewModel:i,template:n};t.init=function(o){ko.components.register(s,r)}}),require.register("odds-boost/components/odds-animator-multiples/view-model",function(o,t,e){function s(o,t){var e=[];if(!o||!t)return e;var s=r.mixin({});return i(e,o,t,s),setTimeout(function(){s.publish("scroll")},250),e}function i(o,t,e,s){var i=parseFloat(t).toFixed(2),n=parseFloat(e).toFixed(2),r=Math.max(i.length,n.length)-1,d=c.padWith(i,r,0).split(""),a=c.padWith(n,r,0).split("");[d,a].reduce(function(o,t){return t.map(function(t,e){return o[e]?o[e].concat(t):[t]})},[]).forEach(function(t){if("."===t[0])return void o.push({from:t[0],to:null,direction:null,bus:null});var e=parseInt(t[0],10),i=parseInt(t[1],10);o.push({from:e,to:i,direction:e<i?b.DOWN:b.UP,bus:s})})}var n=o("gear-disposable-mixin"),r=o("utils/subscribable"),d=o("locale"),a=o("oddsboost"),l=o("authentication/user"),u=o("message-bus"),c=o("../utils"),b={UP:"direction-up",DOWN:"direction-down"},p={init:function(o){this.boost=ko.observable(!1);var t=ko.observable(),e=o.toPrice;this.price=ko.observable(),this.fromPrice=o.fromPrice,this.toDispose(a.subscribe("oddsboost:token",t)),this.odds=ko.pureComputed(function(){return this.fromPrice},this),this.toDispose(ko.computed(function(){var t=ko.utils.unwrapObservable(o.eachWaySelected);t&&a.publish("oddsboost:validate")})),this.toDispose(this.fromPrice.subscribe(function(o){this.boost()&&a.publish("oddsboost:validate")}.bind(this))),this.toDispose(this.price.subscribe(function(o){this.fromPrice(o)}.bind(this))),this.tooltipText=d.t("betslip.oddsboost.unavailable.message"),this.animations=ko.pureComputed(function(){return this.boost()&&this.hasBoostedPrice()?s(c.unwrap(this.fromPrice),c.unwrap(e)):[]},this).extend({deferred:!0}),this.hasBoostedPrice=ko.pureComputed(function(){var o=c.unwrap(this.fromPrice),t=c.unwrap(e),s=null!=o&&null!=t&&"N/A"!==t;return s},this),this.setupStyleRules(),this.setupDisplayRules(t),this.toDispose(this.boost.subscribe(function(o){o&&a.publish("oddsboost:validate")})),this.toDispose(a.subscribe("oddsboost:enable",this.boost)),this.fractionalOdds=ko.pureComputed(function(){return"fractional"===l.oddsDisplay()},this)},setupStyleRules:function(){this.styles={enabled:ko.pureComputed(function(){return this.boost()?"enabled":""},this),boosted:ko.pureComputed(function(){return this.boost()&&this.hasBoostedPrice()?"":"dn"},this),unboosted:ko.pureComputed(function(){return this.boost()&&this.hasBoostedPrice()?"unboosted-value":"betslip-text odds-convert"},this),dropdown:ko.observable("dn")}},setupDisplayRules:function(o){this.show={tooltipIcon:ko.pureComputed(function(){return o()&&this.boost()&&!this.hasBoostedPrice()},this)}},tooltipOnShow:function(){u.publish("track:oddsboost",{label:"Popup/Odds Boost/Ineligible Selection",description:"User taps on a ineligible selection"})}};e.exports=function(o){var t=Object.create(p);return n.mixin(t),t.init(o),t}}),require.register("odds-boost/components/onboarding/controller",function(o,t,e){var s=o("message-bus"),i=o("pages/cmsData");t.init=function(){var o=new window.Q.Promise(function(o){i(["oddsBoost.popup"],o)});s.subscribe("^authentication:logged-in$",function(){var t=localStorage.getItem("oddsBoostInfo")||!1;t===!1&&(o.then(function(o){s.publish("modal:service",{action:"open",type:"alert-box",prio:1,title:o["oddsBoost.popup"][0].header,image:o["oddsBoost.popup"][0].image,message:o["oddsBoost.popup"][0].text,linkButton:o["oddsBoost.popup"][0].button,xButton:"true"}),localStorage.setItem("oddsBoostInfo",!0)}),s.publish("modal:service",o))})}}),require.register("odds-boost/components/token/controller",function(o,t,e){function s(o){var t=!1;if(o){var e=a.retrieve("local","betKeys")||[],s=o.boostKeys()||[];i(e,s)||(a.store("local","betKeys",s),t=s.length>e.length)}return t}function i(o,t){return o.length===t.length&&o.every(function(o,e){return o===t[e]})}function n(o){return o.replace("{1}",l.boostKeys().length.toString().bold())}var r=o("message-bus"),d=o("pages/cmsData"),a=o("web-storage-extender"),l=o("authentication/user");t.init=function(){r.subscribe("^authentication:logged-in$",function(){d(["oddsBoost.token"],function(o){var t=o["oddsBoost.token"]||[];t.length>0&&s(l)&&r.publish("modal:service",{action:"open",type:"alert-token",title:o["oddsBoost.token"][0].header,image:o["oddsBoost.token"][0].image,message:n(o["oddsBoost.token"][0].text),okButton:o["oddsBoost.token"][0].okbutton,linkButton:o["oddsBoost.token"][0].linkbutton,linkUrl:o["oddsBoost.token"][0].linkurl,xButton:"true"})})})}}),require.register("odds-boost/components/tooltip/controller",function(o,t,e){var s="oddsboost-tooltip",i=o("./view-model"),n=o("./template"),r={viewModel:i,template:n};ko.bindingHandlers.element||(ko.bindingHandlers.element={init:function(o,t,e,s,i){var n=t();ko.isWriteableObservable(n)&&n(o)}}),t.init=function(o){ko.components.register(s,r)}}),require.register("odds-boost/components/tooltip/view-model",function(o,t,e){var s=o("gear-disposable-mixin"),i=o("../utils"),n=o("utils/debug"),r=n("oddsboost/tooltip"),d={init:function(o){o=o||{},r("params: %o",o),this.enabled=i.pureComputed(null==o.enable||o.enable),this.toDispose(this.enabled.subscribe(r.bind(this,"enabled: %o"))),this.showTooltip=ko.observable(ko.utils.unwrapObservable(o.display)||!1),this.toDispose(this.showTooltip.subscribe(r.bind(this,"show tooltip: %o"))),r("show tooltip: %o",this.showTooltip()),this.visible=ko.pureComputed(function(){return this.showTooltip()?"tooltip-visible":""},this),this.toDispose(this.visible.subscribe(r.bind(this,"visible: %o"))),r("visible: %o",this.visible()),this.header=i.pureComputed(o.header),this.text=i.pureComputed(o.text),this.spacing=ko.pureComputed(function(){return ko.utils.unwrapObservable(this.header)&&ko.utils.unwrapObservable(this.text)?"info-spacing":""},this),o.onShow&&(this.onShow=o.onShow)},iClick:function(o,t){o.showTooltip(!0),o.onShow&&o.onShow(),r("i click: tooltip %o",this.showTooltip()),t.preventDefault(),t.stopPropagation()},closeClick:function(o,t){o.showTooltip(!1),r("close click: tooltip %o",this.showTooltip()),t.preventDefault(),t.stopPropagation()},tooltipClick:function(o,t){r("tooltip click: tooltip %o",this.showTooltip()),t.preventDefault(),t.stopPropagation()}};e.exports=function(o){var t=Object.create(d);return s.mixin(t),t.init(o),t}}),require.register("odds-boost/components/utils/index",function(o,t,e){function s(o,t){if(null==o)return o;var e=i.retrieve("local","authentication:user:oddsDisplay"),s=JSON.parse(JSON.stringify(o));return o.priceType===r?s[t]=n.t("price.STARTING_PRICE"):"fractional"===e?s[t]=o.numerator+"/"+o.denominator:s[t]=o.decimalOdds?parseFloat(o.decimalOdds).toFixed(2):parseFloat(o.decimal).toFixed(2),s}var i=o("web-storage-extender"),n=o("locale"),r="STARTING_PRICE";t.padWith=function(o,t,e){null==e&&(e="");var s=t-String(o).length+2;return s>0&&"/"!==o?new Array(s).join(e)+o:o},t.unwrap=function d(o){var t=ko.utils.unwrapObservable(o);return t&&"object"==typeof t&&(o=t,t=Array.isArray(t)?[]:{},Object.keys(o).forEach(function(e){t[e]=d(o[e])})),t},t.getOdds=function(o){var t=i.retrieve("local","authentication:user:oddsDisplay");return o.priceType===r?n.t("price.STARTING_PRICE"):"fractional"===t?o.numerator+"/"+o.denominator:o.odds},t.fixOdds=function(o){return s(o,"odds")},t.fixLabel=function(o){
return s(o,"label")},t.pureComputed=function(o){return ko.isObservable(o)?ko.pureComputed(o):ko.pureComputed(function(){return o})}}),window.cogwheels.addGear({name:"odds-boost",version:"0.0.1"});
require.register("modal-handler/index",function(e,t,i){function o(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var s=e("message-bus"),a=e("layout-engine"),n=e("./view-model"),r=e("./template");t.controllers=[e("./types/deposit-limit/deposit-limit-component"),e("./types/quick-deposit/quick-deposit-component"),e("./types/lightbox-registration/lightbox-registration-component"),e("./types/alert-box/alert-box-component"),e("./types/alert-token/alert-token-component"),e("./service"),e("./types/overask-popup/overask-popup-component")],t.init=function(){ko.components.register("modal-handler",{viewModel:n,template:r,synchronous:!0}),s.subscribe("^modal:.*$",function(e){var t=e.data||{},i=e.data.showOverBetslip||!1,s=e.event.replace(/^modal:(.*)$/,"$1");if("service"!==s){var n=i?"modal-betslip-container":"modal-container",r=document.getElementById(n);if(r)if("open"===t.action){var l={type:s,data:t};l.data.message&&(l.data.message=o(l.data.message)),l.data.title&&(l.data.title=o(l.data.title)),a.render("<modal-handler params='".concat(JSON.stringify(l)).concat("'></modal-handler>"),{},n)}else if("close"===t.action)for(;r.firstChild;)r.removeChild(r.firstChild)}})}}),require.register("modal-handler/template",function(e,t,i){i.exports='<div class="modal-overlay" data-bind="visible: showModalWindow"><div data-bind="css: styles.background"><div data-bind="css: styles.content"><div data-bind="css: styles.header"><span data-bind="text: header"></span> <button class="close-button" data-bind="visible: showCloseButton, click: close">x</button></div><div class="modal-body" data-bind="component: {\n                    name: componentName,\n                    params: componentParams\n                }"></div></div></div></div>'}),require.register("modal-handler/view-model",function(e,t,i){var o=e("message-bus"),s=e("locale"),a=function(e){function t(e,t){return"lightbox-registration"===a&&(e+="-lightbox"),t&&(e+="-betslip"),e}var i=this,a=e.type||"unknown",n=e.data||{},r=!1;e.data&&e.data.showOverBetslip&&(r=e.data.showOverBetslip),i.showModalWindow=ko.observable(!0);var l={"alert-box":!0,"alert-token":!0,"overask-popup":!0,"lightbox-registration":!0};i.header=ko.observable(l[a]?null:s.t("modal."+a)),i.showCloseButton=n.showCloseButton||!1,i.lightboxRegistration=n.lightboxRegistration||"",i.componentName=ko.observable(a),i.componentParams=ko.observable(n),i.close=function(){o.publish("modal:modal-close",{action:"close",showOverBetslip:r}),i.dispose()},i.headerSubscription=o.subscribe("^modal:set-header$",function(e){var t=e.data||{};i.header(s.t(t.key))}),i.styles={background:ko.pureComputed(function(){return t("modal-background",r)},this),content:ko.pureComputed(function(){return t("modal-content",r)},this),header:ko.pureComputed(function(){return"lightbox-registration"===a?"lightbox-registration-header":l[a]?"":"modal-header"},this)}};a.prototype={dispose:function(){this.headerSubscription.dispose()}},i.exports=a}),require.register("modal-handler/types/alert-box/alert-box-template",function(e,t,i){i.exports='<div class="alert-box" data-bind="css: { \'alert-box-betslip\': showOverBetslip }"><div class="title" data-bind="css: titleStyle, text: title"></div><img class="image" data-bind="css: imageStyle, attr: { src: image }"><div class="message" data-bind="css: messageStyle, text: message"></div><div class="buttons" data-bind="css: buttonsStyle, foreach: buttons"><div class="button" data-bind="css: style, text: text, click: action"></div></div></div>'}),require.register("modal-handler/service/index",function(e,t,i){function o(e){return null!=e.prio?e.prio:null!=e["finally"]?-1:9999}var s=e("message-bus"),a=[];t.init=function(){var e=!1,t=function(){a.length>0?setTimeout(function(){var e=a.shift();s.publish("modal:"+e.type,e)},50):e=!1};s.subscribe("^modal:service$",function(e){var i=e.data||{};0===a.length&&setTimeout(function(){a.sort(function(e,t){var i=o(e),s=o(t);return i<s?-1:i>s?1:0});var e=a.shift();e.type?s.publish("modal:"+e.type,e):e["finally"]&&e["finally"](t)},0),a.push(i)}),s.subscribe("^alert-box:button:",t)}}),require.register("modal-handler/types/alert-token/alert-token-template",function(e,t,i){i.exports='<div class="alert-token"><img class="image" data-bind="css: imageStyle, attr: { src: image }"><div class="title" data-bind="css: titleStyle, text: title"></div><div class="message" data-bind="css: messageStyle, html: message"></div><div class="terms-text" data-bind="text: oddsBoostTermsText"></div><div class="buttons" data-bind="css: buttonsStyle, foreach: buttons"><div class="button" data-bind="css: style, text: text, click: action"></div></div></div>'}),require.register("modal-handler/types/alert-box/alert-box-action",function(e,t,i){var o=e("message-bus");i.exports=function(e,t,i){return function(s,a){e&&o.publish(e,{data:t,model:s,event:a}),o.publish("modal:alert-box",{action:"close",showOverBetslip:i})}}}),require.register("modal-handler/types/deposit-limit/deposit-limit-template",function(e,t,i){i.exports='<div class="deposit-limit"><div class="content"><div class="message">There is currently no deposit limit on your account. To continue using the Ladbrokes sportsbook please set your deposit limit below.</div><label class="label"><input type="radio" name="x" value="Daily" data-bind="checked: periodGroup"> Daily</label><label class="label"><input type="radio" name="x" value="Weekly" data-bind="checked: periodGroup"> Weekly</label><br><select data-bind="options: depositLimitValues,\n                           value: selectedLimit,\n                           optionsCaption: \'Select\'"></select><button class="button" data-bind="css:isActive, click: onSetDeposit">Set Deposit Limit</button><br><p class="note">Please note that an increase to deposit limit will take 24 hours to take effect and a decrease will take effect immediately.</p></div></div>'}),require.register("modal-handler/types/alert-box/alert-box-button",function(e,t,i){var o={ENABLED:"enabled",DISABLED:"disabled",HIDDEN:"hidden"},s={init:function(e,t,i){"function"==typeof t&&(i=t,t={status:o.ENABLED}),null==t.status&&(t.status=o.ENABLED),this.text=e,this.action=function(){t.status===o.ENABLED&&i()},this.style=ko.pureComputed(function(){var e=ko.utils.unwrapObservable(t.className)||"",i=ko.utils.unwrapObservable(t.status);return e+" "+i},this)}};i.exports=function(e,t,i){var o=Object.create(s);return o.init(e,t,i),o},i.exports.STATUS=o}),require.register("modal-handler/types/lightbox-registration/lightbox-registration-template",function(e,t,i){i.exports='<iframe class="lightbox-registration-frame" data-bind="attr: { src: $parent.lightboxRegistration}"></iframe>'}),require.register("modal-handler/types/alert-box/alert-box-component",function(e,t,i){t.init=function(){ko.components.register("alert-box",{viewModel:e("./alert-box-view-model"),template:e("./alert-box-template"),synchronous:!0})}}),require.register("modal-handler/types/overask-popup/overask-popup-template",function(e,t,i){i.exports='<div class="overask-popup"><div class="title" data-bind="text: title"></div><div class="message" data-bind="text: message"></div><div class="buttons" data-bind="css: buttonsStyle, foreach: buttons"><div class="button" data-bind="css: style, text: text, click: action"></div></div></div>'}),require.register("modal-handler/types/alert-box/alert-box-view-model",function(e,t,i){var o=e("./alert-box-button"),s=e("./alert-box-action"),a={init:function(e){this.title=ko.observable(e.title),this.message=ko.observable(e.message),this.buttons=ko.observableArray(),this.image=ko.observable(e.image),this.showOverBetslip=e.showOverBetslip||!1,this.titleStyle=ko.pureComputed(function(){return ko.utils.unwrapObservable(this.title),""},this),this.messageStyle=ko.pureComputed(function(){return ko.utils.unwrapObservable(this.message),""},this),this.imageStyle=ko.pureComputed(function(){return ko.utils.unwrapObservable(this.image),""},this),this.buttonsStyle=ko.pureComputed(function(){return this.buttons().length>0},this),e.cancelButton&&this.buttons.push(o(e.cancelButton,{className:"cancel"},s("alert-box:button:cancel",null,this.showOverBetslip))),e.okButton&&this.buttons.push(o(e.okButton,{className:"ok"},s("alert-box:button:ok",null,this.showOverBetslip))),e.linkButton&&this.buttons.push(o(e.linkButton,{className:"link"},s("alert-box:button:link",null,this.showOverBetslip))),e.xButton&&this.buttons.push(o(null,{className:"close"},s("alert-box:button:close",null,this.showOverBetslip)))}};i.exports=function(e){var t=Object.create(a);return t.init(e),t}}),require.register("modal-handler/types/quick-deposit/quick-deposit-template",function(e,t,i){i.exports="<div class=\"quick-deposit\"><div class=\"content\"><!-- ko if: mode() === 'in-progress' --><div class=\"loading-overlay\"><spinner></spinner></div><!-- /ko --><!-- ko if: mode() === 'input' || mode() === 'in-progress' --><!-- ko template: { name: 'modal-handler/types/quick-deposit/templates/input' } --><!-- /ko --><!-- /ko --><!-- ko if: mode() === 'finished' --><!-- ko if: status() === 'success' --><!-- ko template: { name: 'modal-handler/types/quick-deposit/templates/success' } --><!-- /ko --><!-- /ko --><!-- ko if: status() === 'error' --><!-- ko template: { name: 'modal-handler/types/quick-deposit/templates/error' } --><!-- /ko --><!-- /ko --><!-- /ko --></div></div>"}),require.register("modal-handler/types/alert-token/alert-token-action",function(e,t,i){var o=e("message-bus");i.exports=function(e,t){return function(i,s){e&&o.publish(e,{data:t,model:i,event:s}),o.publish("modal:alert-token",{action:"close"})}}}),require.register("modal-handler/types/quick-deposit/templates/error",function(e,t,i){i.exports='<div><div class="message"><span data-bind="html: errorMessage"></span></div><!-- ko if: lobbyDepositLink() !== null --><a data-bind="click: closeQuickDeposit,\n                         popupLink: { url: lobbyDepositLink,\n                                      type: \'popup\',\n                                      options: { toolbar: \'no\',\n                                                 scrollbars: \'yes\',\n                                                 resizable: \'yes\',\n                                                 width: \'1024\',\n                                                 height: \'768\' }}"><button style="width: 60%" class="button-flat green" data-bind="text: locale.t(\'quick-deposit.goto-deposit\')"></button></a><!-- /ko --><!-- ko if: lobbyDepositLink() === null --> <button style="width: 60%" class="button-flat green" data-bind="text: locale.t(\'quick-deposit.close\'), click: closeQuickDeposit.bind($component, false)"></button><!-- /ko --></div>'}),require.register("modal-handler/types/alert-token/alert-token-button",function(e,t,i){var o={ENABLED:"enabled",DISABLED:"disabled",HIDDEN:"hidden"},s={init:function(e,t,i){"function"==typeof t&&(i=t,t={status:o.ENABLED}),null==t.status&&(t.status=o.ENABLED),this.text=e,this.action=function(){t.status===o.ENABLED&&i()},this.style=ko.pureComputed(function(){var e=ko.utils.unwrapObservable(t.className)||"",i=ko.utils.unwrapObservable(t.status);return e+" "+i},this)}};i.exports=function(e,t,i){var o=Object.create(s);return o.init(e,t,i),o},i.exports.STATUS=o}),require.register("modal-handler/types/quick-deposit/templates/input",function(e,t,i){i.exports='<div><!-- ko if: deficit > 0 --><div class="deficit-message" data-bind="text: deficitMessage"></div><!-- /ko --><!-- ko if: errorMessage() !== null --><div class="deficit-message" data-bind="text: errorMessage"></div><!-- /ko --><div class="body-row"><label class="label" data-bind="text: locale.t(\'quick-deposit.from\')"></label><div class="right-column"><input class="disabled" type="text" data-bind="value: cardInfo, disable: true"></div></div><div class="body-row"><label class="label"></label><span class="right-column other-method"><!-- ko if: lobbyDepositLink() !== null --><span data-bind="text: locale.t(\'quick-deposit.method-or\')"></span> <a data-bind="text: locale.t(\'quick-deposit.method-other\'),\n                         click: closeQuickDeposit,\n                         popupLink: { url: lobbyDepositLink,\n                                      type: \'popup\',\n                                      options: { toolbar: \'no\',\n                                                 scrollbars: \'yes\',\n                                                 resizable: \'yes\',\n                                                 width: \'1024\',\n                                                 height: \'768\' }}"></a><!-- /ko --></span></div><div class="body-row"><label class="label" data-bind="text: locale.t(\'quick-deposit.cvv-number\')"></label><div class="right-column"><input class="small-input" data-bind="textInput: cvv, event: { keypress: validateCvvInput }"></div></div><div class="body-row"><label class="label" data-bind="text: locale.t(\'quick-deposit.add-amount\')"></label><div class="right-column"><div class="add-btn-set"><!-- ko foreach: predefinedValues --><button data-bind="currencyFormatRaw: $data, click: $parent.incrementDepositAmount.bind($parent, $data)"></button><!-- /ko --></div></div></div><div class="body-row"><label class="label" data-bind="text: locale.t(\'quick-deposit.amount\')"></label><div class="right-column"><input data-bind="textInput: amount, attr: { placeholder: placeHolderText }, event: { keypress: validateAmountInput }"></div></div><div class="body-row"><label class="label"></label><div class="right-column"><button class="button-flat green" data-bind=" text: depositButton, click: performDeposit"></button></div></div></div>'}),require.register("modal-handler/types/alert-token/alert-token-component",function(e,t,i){t.init=function(){ko.components.register("alert-token",{viewModel:e("./alert-token-view-model"),template:e("./alert-token-template"),synchronous:!0})}}),require.register("modal-handler/types/quick-deposit/templates/success",function(e,t,i){i.exports='<div><div class="message"><span data-bind="text: locale.t(\'quick-deposit.new-balance\')"></span> <span data-bind="currencyFormat: userBalance"></span></div><button style="width: 60%" class="button-flat green" data-bind="text: locale.t(\'quick-deposit.go-betting\'), click: closeQuickDeposit.bind($component, true)"></button></div>'}),require.register("modal-handler/types/alert-token/alert-token-view-model",function(e,t,i){var o=e("./alert-token-button"),s=e("./alert-token-action"),a=e("message-bus"),n=e("locale"),r=e("router"),l=function(e){return function(t,i){r.navigate("/"+n.value()+e),a.publish("modal:alert-token",{action:"close"})}},d={init:function(e){this.title=ko.observable(e.title),this.image=ko.observable(e.image),this.message=ko.observable(e.message),this.buttons=ko.observableArray(),this.oddsBoostTermsText=n.t("odds.boost.tc.onboarding"),this.titleStyle=ko.pureComputed(function(){return ko.utils.unwrapObservable(this.title),""},this),this.messageStyle=ko.pureComputed(function(){return ko.utils.unwrapObservable(this.message),""},this),this.imageStyle=ko.pureComputed(function(){return ko.utils.unwrapObservable(this.image),""},this),this.buttonsStyle=ko.pureComputed(function(){return this.buttons().length>0,""},this),e.okButton&&this.buttons.push(o(e.okButton,{className:"ok"},l(e.linkUrl))),e.cancelButton&&this.buttons.push(o(e.cancelButton,{className:"cancel"},s("alert-token:button:cancel"))),e.linkButton&&this.buttons.push(o(e.linkButton,{className:"link"},s("alert-token:button:link"))),e.xButton&&this.buttons.push(o(null,{className:"close"},s("alert-token:button:close")))}};i.exports=function(e){var t=Object.create(d);return t.init(e),t}}),require.register("modal-handler/types/deposit-limit/deposit-limit-component",function(e,t,i){t.init=function(){ko.components.register("deposit-limit",{viewModel:e("./deposit-limit-view-model"),template:e("./deposit-limit-template"),synchronous:!0})}}),require.register("modal-handler/types/deposit-limit/deposit-limit-view-model",function(e,t,i){var o=e("message-bus"),s=e("utils/request"),a=e("locale"),n=function(e){var t="No Limit;20;50;100;200;250;500;1000;5000;10000;20000;30000;50000;75000;99000";this.inProgress=!1,this.selectedLimit=ko.observable(),this.periodGroup=ko.observable("daily"),this.depositLimitValues=ko.observableArray(t.split(";")),this.isActive=ko.pureComputed(function(){var e="inactive";return this.selectedLimit()&&(e="action"),e},this)};n.prototype={onSetDeposit:function(){if(this.selectedLimit()&&!this.inProgress){var e={depositLimitSelect:this.selectedLimit(),periodGroup:this.periodGroup()},t="/"+a.value()+"/setdepositlimit";s.post(t,e,function(e){o.publish("modal:deposit-limit",{action:close}),this.inProgress=!1}).set("X-Requested-With","XMLHttpRequest").set("Content-Type","application/json"),this.inProgress=!0}},dispose:function(){this.isActive.dispose()}},i.exports=n}),require.register("modal-handler/types/lightbox-registration/lightbox-registration-component",function(e,t,i){t.init=function(){ko.components.register("lightbox-registration",{viewModel:e("./lightbox-registration-view-model"),template:e("./lightbox-registration-template"),synchronous:!0})}}),require.register("modal-handler/types/lightbox-registration/lightbox-registration-view-model",function(e,t,i){var o=e("message-bus"),s=function(){window.onresize=function(){var e=window.innerWidth,t=window.innerHeight;e>608&&(e=608),document.querySelector(".modal-content-lightbox").style.width=e+"px",document.querySelector(".modal-content-lightbox").style.height=.9*t-50+"px"}};s.prototype={closeLightboxRegistration:function(){o.publish("modal:modal-close",{action:"close"})}},i.exports=s}),require.register("modal-handler/types/overask-popup/overask-popup-button",function(e,t,i){var o=e("message-bus"),s=e("betslip"),a={init:function(e,t,i){this.text=e,this.action=function(){var e=t.className;switch(e){case"add":o.publish("overask-offer:canceled"),s.service.addSelectionById(i);break;case"cancel":o.publish("overask-offer:canceled");break;default:o.publish("placing-overaskBet",!0)}o.publish("modal:overask-popup",{action:"close"})}.bind(this),this.style=ko.pureComputed(function(){var e=ko.utils.unwrapObservable(t.className)||"";return e},this)}};i.exports=function(e,t,i){var o=Object.create(a);return o.init(e,t,i),o}}),require.register("modal-handler/types/overask-popup/overask-popup-component",function(e,t,i){t.init=function(){ko.components.register("overask-popup",{viewModel:e("./overask-popup-view-model"),template:e("./overask-popup-template"),synchronous:!0})}}),require.register("modal-handler/types/overask-popup/overask-popup-view-model",function(e,t,i){var o=e("./overask-popup-button"),s={init:function(e){this.title=ko.observable(e.title),this.message=ko.observable(e.message),this.buttons=ko.observableArray(),this.buttonsStyle=ko.pureComputed(function(){return this.buttons().length>0},this),e.okButton&&this.buttons.push(o(e.okButton,{className:"ok"},e.selectionId)),e.cancelOfferButton&&this.buttons.push(o(e.cancelOfferButton,{className:"cancel"},e.selectionId)),e.addToBetslip&&this.buttons.push(o(e.addToBetslip,{className:"add"},e.selectionId)),e.waitButton&&this.buttons.push(o(e.waitButton,{className:"wait"},e.selectionId))}};i.exports=function(e){var t=Object.create(s);return t.init(e),t}}),require.register("modal-handler/types/quick-deposit/quick-deposit-component",function(e,t,i){t.init=function(){ko.components.register("quick-deposit",{viewModel:e("./quick-deposit-view-model"),template:e("./quick-deposit-template"),synchronous:!0})}}),require.register("modal-handler/types/quick-deposit/quick-deposit-view-model",function(e,t,i){var o=e("message-bus"),s=e("locale"),a=e("quick-deposit").quickDeposit,n=e("domain-model/helper"),r=e("authentication/user"),l=e("pages/cmsData"),d=function(e){var t=this;t.locale=s,t.userSubscription=o.subscribeOnce("^user:updateComplete$",t.updatePaymentInformation.bind(this)),r.updateUser(),e=e||{},"open"===e.action&&r.authenticated()&&(t.cardInfo=ko.observable(),t.fetchDepositLink(),t.updatePaymentInformation(),t.mode=ko.observable("input"),t.status=ko.observable("unknown"),t.placeHolderText=s.t("quick-deposit.example")+" "+2*t.minLimit,t.deficit=e.deficit||0,t.deficitMessage=s.t("quick-deposit.deficit-message").replace("{}",n.currencyFormat(t.deficit,r)),t.userBalance=ko.observable(),t.depositButton=ko.observable(t.deficit>0?s.t("quick-deposit.deposit-place"):s.t("quick-deposit.deposit")),t.errorMessage=ko.observable(null),t.cvv=ko.observable(""),t.amount=ko.observable(""),t.trackEvent("Start"))};d.prototype={performDeposit:function(){var e=this;e.validateInputFields()&&(e.mode("in-progress"),e.trackEvent("Submit",e.amount()),a.deposit(e.cvv(),e.amount().replace(",","."),function(t){e.status(t.status),"success"===t.status?(e.trackEvent("Success",e.amount()),r.setUserBalance(t.userBalance),e.userBalance(t.userBalance),e.deficit>0?e.closeQuickDeposit(parseFloat(e.amount())>=e.deficit):e.finishDeposit("success")):"error"===t.status&&(e.displayErrorMessage(t.errorMessage),e.trackEvent("Failed - "+t.errorTechnical||e.errorMessage(),e.amount()),t.redirectTarget?(e.lobbyDepositLink(t.redirectTarget),e.finishDeposit("error")):e.mode("input"))}))},finishDeposit:function(e){var t=this;e&&(o.publish("modal:set-header",{action:"set-header",key:"quick-deposit."+e}),t.mode("finished"))},displayErrorMessage:function(e){var t=this,i=s.t(e);i.indexOf("")>-1&&(i=i.replace("{amount}",n.currencyFormatRaw(t.minLimit,r))),t.errorMessage(i)},updatePaymentInformation:function(){var e=this,t=ko.unwrap(r.preferredPaymentMethod)||{};t.cardNumber&&t.cardScheme&&e.cardInfo(t.cardScheme+" ****"+t.cardNumber.substr(t.cardNumber.length-4)),e.minLimit=t.minimumDepositLimit||5,e.maxLimit=t.maximumDepositLimit,e.predefinedValues=[1*e.minLimit,4*e.minLimit,10*e.minLimit]},fetchDepositLink:function(){var e=this;e.lobbyDepositLink=ko.observable(null),l(["header"],function(t){t=t||{};var i=n.getDeepProperty(t,"header.loggedin.deposit");i&&e.lobbyDepositLink(i)})},incrementDepositAmount:function(e){var t,i,o=this,s=o.amount().indexOf(",")>-1;t=i=parseFloat(o.amount().replace(",",".")),isNaN(t)&&(t=i=0),isNaN(e)||(i=t+parseFloat(e));var a=""+i;s&&(a=a.replace(".",",")),o.amount(a)},closeQuickDeposit:function(e){var t=this;o.publish("modal:modal-close",{action:"close"}),o.publish("quick-deposit:done",{place:e&&"success"===t.status()&&t.deficit>0&&parseFloat(t.amount())>=t.deficit})},trackEvent:function(e,t){o.publish("track:quick-deposit",{action:e,label:r.currency(),value:t||"-"})},validateInputFields:function(){var e=this;return!e.cvv()||isNaN(e.cvv())?(e.displayErrorMessage("quick-deposit.error.invalid-cvv"),!1):!e.amount()||isNaN(e.amount().replace(",","."))?(e.displayErrorMessage("quick-deposit.error.amount-invalid"),!1):e.minLimit&&parseFloat(e.amount().replace(",","."))<e.minLimit?(e.displayErrorMessage("quick-deposit.error.amount-below-min"),!1):(e.errorMessage(null),!0)},validateCvvInput:function(e,t){return/^\d{0,4}$/.test(this.cvv()+String.fromCharCode(t.which))||8===t.which},validateAmountInput:function(e,t){return/^\d+[\.,]?\d*$/.test(this.amount()+String.fromCharCode(t.which))||8===t.which},dispose:function(){this.userSubscription.dispose()}},i.exports=d}),window.cogwheels.addGear({name:"modal-handler",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("virtuals-container/index",function(t,e,s){function a(e,s){e.forEach(function(e){var a=t("./components/"+e+"/controller");a.init(s)})}var r=t("./view-model"),i=t("./template"),o=["virtuals-events-selector","virtuals-header","virtuals-streams-carousel","virtuals-markets","virtuals-markets/racing-markets","virtuals-markets/racing-markets/winner-market","virtuals-markets/racing-markets/forecast-tricast-market","virtuals-markets/sports-markets","virtuals-markets/sports-markets/virtuals-sport-market","virtuals-selection-button"];e.init=function(t){a(o,t),ko.components.register("virtuals-container",{viewModel:r,template:i,synchronous:!0})}}),require.register("virtuals-container/template",function(t,e,s){s.exports='<div class="virtuals-container"><breadcrumbs params="breadcrumbs: breadcrumbs()"></breadcrumbs><div class="virtuals-container__banner"><span class="virtuals-container__banner--headline" data-bind="text: headline"></span></div><!-- ko if: virtualSportsLoaded --><div class="virtuals-container__header"><virtuals-header params="{classId: classId, virtualSportsModel:virtualSportsModel}" class="virtuals-container__navigation"></virtuals-header><virtuals-streams-carousel params="{classId: classId, virtualSportsModel:virtualSportsModel, cmsData: cmsData}" class="virtuals-container__carousel"></virtuals-streams-carousel><virtuals-events-selector params="{classId: classId, cmsData: cmsData,virtualSportsModel:virtualSportsModel}" class="virtuals-container__events-selector"></virtuals-events-selector></div><virtuals-markets params="{classId: classId,virtualSportsModel:virtualSportsModel}"></virtuals-markets><!-- /ko --></div>'}),require.register("virtuals-container/view-model",function(t,e,s){function a(t){var e=this;l.mixin(e),e.headline=r.t("virtual.banner.headline"),e.virtualSportsLoaded=ko.observable(!1),e.serverTime=0,e.virtualSportsModel={sports:ko.observableArray(),selections:ko.observableArray(),selected:ko.observable(i.VIRTUAL_HORSES),serverTime:0,selectedSport:ko.observable({}),selectedEvent:ko.observable({}),selectedSportIndex:{}},t.classId===o.VIRTUALS?e.classId=i.VIRTUAL_HORSES:e.classId=t.classId||i.VIRTUAL_HORSES,e.breadcrumbs=function(){var t=ko.observableArray();return t.push({title:e.headline,href:null}),t},e.loadVirtualSports(function(t,s){e.virtualSportsModel.serverTime=s.serverTime;var a=ko.utils.arrayFirst(s.items,function(t){return t.id===e.classId&&t.startTime>0});a?(e.virtualSportsModel.selected(a.id),e.virtualSportsModel.selectedSport(a),e.classId=a.id):(a=ko.utils.arrayFirst(s.items,function(t){return t.startTime>0}),a&&(e.classId=a.id,e.virtualSportsModel.selected(a.id),e.virtualSportsModel.selectedSport(a))),e.virtualSportsModel.selected.subscribe(function(t){e.updateUrlHistoryState(t)}),d(["virtuals"]).done(function(t){e.cmsData=t,e.populateVirtualSports(s).done(function(){e.virtualSportsLoaded(!0)})})}),this.toDispose(u.subscribe("virtuals:selected",function(t){t.data.selectedSport&&(e.virtualSportsModel.selected(t.data.selectedSport.id),e.virtualSportsModel.selectedSport(t.data.selectedSport))}.bind(this)))}var r=t("locale"),i=t("domain-model/helpers/virtual-sports"),o=t("domain-model/helpers/sport-types"),n=t("repository"),l=t("gear-disposable-mixin"),c=t("service").classService,d=t("pages/cmsData"),u=t("message-bus");a.prototype={update:function(){},dispose:function(){},loadVirtualSports:function(t){n.fetch("virtual-items",o.VIRTUALS,t)},populateVirtualSports:function(t){var e=$.Deferred(),s=this,a=n.link(s,"virtual-items",o.VIRTUALS);return t.items.forEach(function(t){var e=ko.utils.arrayFirst(s.cmsData.virtuals,function(e){return e.classId===t.id});e.id=t.id,e.sportName=t.sportName,e.startTime=ko.observable(),e.timeLeft=ko.observable("--:--"),e.available=ko.observable(!1),e.numberOfEvents=ko.observable(-1),e.showLiveCountDown=0,a.observable("items#"+e.id+".startTime",e.startTime),s.virtualSportsModel.sports.push(e),s.toDispose(n.subscribe("virtuals",e.id,function(t,s){if(t)throw t;e.numberOfEvents(s.events.length),e.available(parseInt(e.numberOfEvents())>0)}.bind(this)))}),a.apply(function(){e.resolve()}),e.promise()},updateUrlHistoryState:function(t){c.getById(o.VIRTUALS,t,function(t,e){e&&window.history.replaceState({},"",e.href)})}},s.exports=a}),require.register("virtuals-container/components/virtuals-events-selector/template",function(t,e,s){s.exports='<div class="virtuals-event-selector"><ul class="virtuals-event-selector__event-list" data-bind="foreach:{data:events, as: \'event\'}"><!-- ko if: $parent.selectedEvent() --><li class="virtuals-event-selector__event" data-bind="\n                text: event.time,\n                css: {\'virtuals-event-selector__event--selected\': $parent.selectedEvent().time === event.time},\n                click: $parent.onEventClick\n            "></li><!-- /ko --></ul><!-- ko if: events().length > 0 --><div class="virtuals-event-selector__result"><a class="virtuals-event-selector__result--link" data-bind="text: translate(\'virtual.event.results\'), attr : {href: virtualResultsLink()}"></a></div><!-- /ko --></div>'}),require.register("virtuals-container/components/virtuals-events-selector/controller",function(t,e,s){var a="virtuals-events-selector",r=t("./view-model"),i=t("./template"),o={viewModel:r,template:i};e.init=function(t){ko.components.register(a,o)}}),require.register("virtuals-container/components/virtuals-header/template",function(t,e,s){s.exports='<div class="virtuals-header" data-bind="foreach: {data: virtualSportsModel.sports, as: \'virtualSport\'}"><div class="virtuals-header__item" data-bind="click: $parent.goToSport, css: { \'virtuals-header__item--selected\': virtualSport.id === $parent.virtualSportsModel.selected() && virtualSport.available(),\n                                                                                   \'virtuals-header__text--disabled\': !virtualSport.available() }"><span class="virtuals-header__icons" data-bind="css: $parent.showIcon($data)"></span> <span class="virtuals-header__text" data-bind="text: $parent.translatedSportName(virtualSport.sportName)"></span> <span class="virtuals-header__text" data-bind="\n                                               text: virtualSport.timeLeft,\n                                               css: {\'virtuals-header__text--live\': virtualSport.timeLeft() === \'LIVE\'}\n        "></span></div></div>'}),require.register("virtuals-container/components/virtuals-events-selector/view-model",function(t,e,s){function a(t){var e=this;f.mixin(e),e.translate=g.t,e.classId=t.classId||S.VIRTUAL_HORSES,e.cmsData=t.cmsData||{},e.virtualSportsModel=t.virtualSportsModel,e.title=ko.observable(""),e.selectedEvent=ko.observable(null),e.lastSelectedEventId=null,e.eventsForSport=[],e.events=ko.observableArray([]),e.linkEventsFromAllSports=r.bind(e),e.onEventClick=l.bind(e),e.setSelectedEvent=d.bind(e),e.publishSelectedEvent=p.bind(e),e.getLastSelectedEvent=c.bind(e),e.subscribeToRequestToPublishSelectedSport=i.bind(e),e.makeEventStatusObservable=u.bind(e),e.linkEventsFromAllSports(),e.subscribeToRequestToPublishSelectedSport(),e.virtualResultsLink=function(){var t;return T.getById(x.VIRTUALS_MARS,function(e,s){s&&(t=s.text.toLowerCase(),t=t.replace(" ","-"))}),"/"+g.value()+"/results/"+t},e.toDispose(e.virtualSportsModel.selected.subscribe(function(t){e.classId=t,e.events(e.eventsForSport[t.toString()]()),e.events.valueHasMutated(),e.eventsForSport[t.toString()].valueHasMutated();var s=o(e.events());e.setSelectedEvent(s),e.publishSelectedEvent()}))}function r(){var t=this;S.sports.forEach(function(e){t.eventsForSport[e.id.toString()]=ko.observableArray([]),h.link(t,"virtuals",e.id).observableArray("events",t.eventsForSport[e.id.toString()],{attributes:["id","time","status","name"]}).apply()})}function i(){var t=this;t.toDispose(b.subscribe("virtuals:publishSelectedEvent",function(){t.publishSelectedEvent()}))}function o(t){var e=t.filter(n);return e.length>0&&e[0]}function n(t){var e=ko.unwrap(t.status);return"SUSPENDED"!==e}function l(t){this.setSelectedEvent(t),this.publishSelectedEvent()}function c(){var t=this,e=t.events().filter(function(e){return t.lastSelectedEventId===e.id});return e.length?e[0]:null}function d(t){t&&(t=this.makeEventStatusObservable(t),this.selectedEvent(t),this.virtualSportsModel.selectedEvent(t),this.lastSelectedEventId=t.id)}function u(t){return t.status=ko.observable(t.status),h.link({update:function(){},dispose:function(){}},"virtuals",this.classId).observable("events#"+t.id+".status",t.status).apply(),t}function p(){var t=this.selectedEvent();if(t){var e={classId:this.classId,eventId:t.id,viewModel:k};b.publish("virtuals:selectedEvent",e)}}function v(t,e){if(this.classId===t.id){this.events([]),this.events(this.eventsForSport[this.classId.toString()]());var s=this.getLastSelectedEvent();s||(s=o(this.events())),!s&&this.events().length&&(s=this.events()[0]),this.setSelectedEvent(s),this.publishSelectedEvent()}}function m(){}var h=t("repository"),b=t("message-bus"),f=t("gear-disposable-mixin"),k="VirtualSportsViewModel",S=t("domain-model/helpers/virtual-sports"),g=t("locale"),x=t("domain-model/helpers/sport-types"),T=t("service").sportService;a.prototype={update:v,dispose:m},s.exports=a}),require.register("virtuals-container/components/virtuals-markets/template",function(t,e,s){s.exports='<div><!-- ko if: hasMarketsToShow --><div class="virtuals-title" data-bind="visible: name"><h1 data-bind="html: title"></h1></div><racing-markets params="{virtualSportsModel: virtualSportsModel, markets: markets}" data-bind="style: { display: isRacing() === true ? \'block\' : \'none\' }"></racing-markets><sports-markets params="{virtualSportsModel: virtualSportsModel, markets: markets}" data-bind="style: { display: isRacing() === false ? \'block\' : \'none\' }"></sports-markets><!-- /ko --></div>'}),require.register("virtuals-container/components/virtuals-header/controller",function(t,e,s){var a="virtuals-header",r=t("./view-model"),i=t("./template"),o={viewModel:r,template:i};e.init=function(){ko.components.register(a,o)}}),require.register("virtuals-container/components/virtuals-selection-button/template",function(t,e,s){s.exports='<div><div class="odds-button" data-bind="click: addRemoveSelection, css: { \'disabled\': !enabled(), \'selected\': (isSelected() && enabled()) }"><!-- ko if:leftCaption --><span class="leftCaption" data-bind="text: leftCaption"></span><!-- /ko --><!-- ko if: enabled --> <span class="price"><span class="odds-convert" odds-t="LIVE_PRICE" data-bind="\n                attr: {\n                    \'odds-f\': fractionalOdds,\n                    \'odds-d\': selection.decimal\n                },\n                text: odds()\n            "></span></span><!-- /ko --><!-- ko ifnot: enabled --> <span class="price" data-bind="text: locale.t(\'selection.button.suspended\')"></span><!-- /ko --></div></div>'}),require.register("virtuals-container/components/virtuals-header/view-model",function(t,e,s){function a(t){var e=this;o.mixin(this),e.classId=t.classId||l.VIRTUAL_HORSES,e.dataIsLoaded=ko.observable(!1),e.selected=ko.observable(e.classId),e.virtualSportsModel=t.virtualSportsModel,e.goToSport=e.goToSport.bind(e),e.showIcon=e.showIcon.bind(e),e.translatedSportName=function(t){return n.t("virtual.sport."+t)},i.setDiff(e.virtualSportsModel.serverTime),e.updateTimesLeft()}var r,i=t("time-left"),o=t("gear-disposable-mixin"),n=t("locale"),l=t("domain-model/helpers/virtual-sports"),c=t("message-bus"),d=!0;a.prototype={update:function(){},dispose:function(){},goToSport:function(t){if(d){this.handleClickPermission();var e=t.id;if(e!==this.virtualSportsModel.selected()&&t.available()){var s={sport:t};c.publish("virtuals:selectedSportHeader",s)}}},showIcon:function(t){var e=t.id,s=t.id,a=t.available;return s===this.virtualSportsModel.selected()&&a()?"virtual-"+e+"-white":a()?"virtual-"+e+"-black":"virtual-"+e+"-grey"},updateTimesLeft:function(){var t=this;setInterval(function(){t.virtualSportsModel.sports().forEach(function(e){t.updateTimeLeftForSport(e)})},1e3)},updateTimeLeftForSport:function(t){var e=this.getFormatedTimeLeft(t);t.timeLeft(e)},getFormatedTimeLeft:function(t){var e=parseInt(t.startTime()),s=i.getFormated(e),a=i.get(e);return a<=0&&a>=-1e4&&0===t.showLiveCountDown&&(t.showLiveCountDown=10),t.showLiveCountDown>0?(t.showLiveCountDown-=1,s="LIVE"):a<-1e4&&a>-5e4?s="--:--":0===t.numberOfEvents()&&(s="COMING SOON"),s},handleClickPermission:function(){d=!1,r&&clearTimeout(r),r=setTimeout(function(){d=!0},1200)}},s.exports=a}),require.register("virtuals-container/components/virtuals-streams-carousel/template",function(t,e,s){s.exports='<script src="carousel-items/index.js"></script><div class="carousel-wrapper"><section class="carousel-wrapper-ul-container"><div class="carousel"><!-- ko if: carouselEnabled --><!-- ko foreach: { data: sports, as: \'sport\', afterRender: initRotation } --><div data-bind="attr: { id: sport.sportName}, css: {\n                    \'carousel-sport-selected\': $parent.selectedSport() && $parent.selectedSport().sportName === sport.sportName,\n                    \'carousel-sport-prev\': $parent.prevSport() && $parent.prevSport().sportName === sport.sportName,\n                    \'carousel-sport-next\': $parent.nextSport() && $parent.nextSport().sportName === sport.sportName,\n                    \'carousel-sport-background\': $parent.selectedSport() && $parent.selectedSport().sportName != sport.sportName,\n                    \'sport\': true\n                 }"><img data-bind="attr:{src:sport.imgURL}"><div class="carousel-sport-banner"><span class="carousel-sport-banner-title" data-bind="text: $parent.t(\'virtuals.sport.goto\')"></span> <span class="carousel-sport-banner-sport" data-bind="text: $parent.t(\'virtual.sport.\' + sport.sportName)"></span></div></div><!-- /ko --><!-- if: $parent.sports().length > 1 --><div class="carousel-next" data-bind="click: navigate.next"><div class="arrow-right right"></div></div><div class="carousel-prev" data-bind="click: navigate.prev"><div class="arrow-left left"></div></div><!-- /ko --><!-- ko ifnot: carouselEnabled --><div class="carousel-disabled"><span class="carousel-disabled-text" data-bind="text:t(\'virtuals.unavailable\')"></span></div><!-- /ko --><!-- /ko --><!-- ko: !sports().length === 0 --><div class="carousel-no-events" data-bind="text: t(\'content.sport.no_events_available\')"></div><!-- /ko --></div></section></div>'}),require.register("virtuals-container/components/virtuals-markets/controller",function(t,e,s){var a="virtuals-markets",r=t("./view-model"),i=t("./template"),o={viewModel:r,template:i};e.init=function(t){ko.components.register(a,o)}}),require.register("virtuals-container/components/virtuals-markets/racing-markets/template",function(t,e,s){s.exports='<div class="racing-page virtual-racing-page" style="padding: 0px"><header class="virtual-racing-page__header" data-bind="text: marketSubtitle, style:{ \'font-weight\': eachWayAvailable() === true ? \'normal\' : \'bold\' }, visible: marketSubtitle"></header><div><!-- ko if: showTabs --><div class="tab-container"><nav class="tabs small"><ul><li class="tab" data-bind="css:{active: selectedTabId() === 0}, click: function(){selectedTabId(0)}"><div class="title-container" data-bind="text: tabWinnerTitle"></div></li><li class="tab" data-bind="css:{active: selectedTabId() === 1}, click: function(){selectedTabId(1)}"><div class="title-container" data-bind="text: tabForecastTricastTitle"></div></li></ul></nav></div><!-- /ko --><div class="race-card"><winner-market params="{virtualSportsModel: virtualSportsModel, markets: markets}" data-bind="style: { display: selectedTabId() === 0 || !showTabs() ? \'block\' : \'none\' }"></winner-market><forecast-tricast-market params="{eventId: eventId, classId: classId, virtualSportsModel: virtualSportsModel, markets: markets}" data-bind="style: { display: selectedTabId() === 1 && showTabs() ? \'block\' : \'none\' }"></forecast-tricast-market></div></div></div>'}),require.register("virtuals-container/components/virtuals-markets/view-model",function(t,e,s){function a(t){var e=this;o.mixin(this),e.hasMarketsToShow=ko.observable(!1),e.virtualSportsModel=t.virtualSportsModel,e.classId=ko.observable(e.virtualSportsModel.selected()),e.eventId=ko.observable(e.virtualSportsModel.selectedEvent().id),e.time=ko.observable(t.virtualSportsModel.selectedEvent().time);var s=t.virtualSportsModel.selectedEvent().name;e.name=ko.observable(r(s,e.time())),e.title=e.name,e.markets=ko.observableArray(),e.isRacing=ko.pureComputed(function(){return e.classId()!==l.VIRTUAL_FOOTBALL&&e.classId()!==l.VIRTUAL_TENNIS}),e.toDispose(e.virtualSportsModel.selectedEvent.subscribe(function(t){e.classId(e.virtualSportsModel.selected()),e.eventId(t.id),e.name(r(t.name,t.time)),e.time(t.time),e.loadMarkets()})),e.loadMarkets()}function r(t,e){return i(t)?t:e+" "+t}function i(t){var e=/^[0-9]+:[0-9]+/;return e.exec(t)}var o=t("gear-disposable-mixin"),n=t("repository"),l=t("domain-model/helpers/virtual-sports");a.prototype={loadMarkets:function(){var t=$.Deferred(),e=this;return n.query("virtuals",e.classId(),"events#"+e.eventId()+".markets",function(t,s){t||(e.markets(s),e.markets.valueHasMutated(),e.hasMarketsToShow(null!=e.markets()&&e.markets().length>0))}),t.promise()}},s.exports=a}),require.register("virtuals-container/components/virtuals-markets/sports-markets/template",function(t,e,s){s.exports='<div data-bind="foreach: {data: markets, as: \'market\'}"><virtuals-sport-market params="{classId: $parent.classId, market: market}"></virtuals-sport-market></div>'}),require.register("virtuals-container/components/virtuals-selection-button/controller",function(t,e,s){var a="virtuals-selection-button",r=t("./view-model"),i=t("./template"),o={viewModel:r,template:i,synchronous:!0};e.init=function(){ko.components.register(a,o)}}),require.register("virtuals-container/components/virtuals-markets/racing-markets/forecast-tricast-market/template",function(t,e,s){s.exports='<div class="race-card FC_TC"><header class="race-card-header"><span class="number-header" data-bind="text: numberHeaderText"></span> <span class="runner-header" data-bind="text: runnerHeaderText"></span> <span class="selections-header"><span class="odds-in-header" data-bind="text: oddsHeaderText"></span></span> <span class="forecast-header" data-bind="text: forecastHeaderText"></span> <span class="tricast-header" data-bind="text: tricastHeaderText"></span></header><!-- ko ifnot: eventSuspended --><header class="race-card-header small"><span class="number-header"></span> <span class="runner-header"></span> <span class="selections-header"></span> <span class="forecast-header"><span data-bind="text: firstSubHeaderText"></span> <span data-bind="text: secondSubHeaderText"></span> <span data-bind="text: anyOrderSubHeaderText"></span></span> <span class="tricast-header"><span data-bind="text: firstSubHeaderText"></span> <span data-bind="text: secondSubHeaderText"></span> <span data-bind="text: thirdSubHeaderText"></span> <span data-bind="text: anyOrderSubHeaderText"></span></span></header><!-- /ko --><div class="runners virtual-race-market" data-bind="css: \'vr-id-\' + classId()"><!-- ko foreach: { data: selections, as: \'selection\' } --><div class="item"><span class="number"><!-- ko ifnot: $parent.eventIsGreyhounds --><span data-bind="text: selection.number"></span><!-- /ko --><!-- ko if: $parent.eventIsGreyhounds --> <span class="silk-container"><div class="item__silks" data-bind="attr:{\'silk-number\': selection.number}, text: selection.number"></div></span><!-- /ko --></span> <span class="runner"><span class="runner-container"><div class="top"><!-- ko ifnot: $parent.eventIsGreyhounds --><span class="silk-container"><div class="item__silks" data-bind="attr:{\'silk-number\': selection.number}"></div></span><!-- /ko --><div class="runner-info" style="align-items: center"><div class="horse"><div class="name" data-bind="text: selection.name, css: {disabled: $parent.eventSuspended}"></div></div></div></div></span></span> <span class="selections"><!-- ko ifnot: $parent.eventSuspended --><span data-bind="text: $parent.getOdds(selection)"></span><!-- /ko --></span> <span class="forecast"><!-- ko ifnot: $parent.eventSuspended --><!-- ko foreach: $parent.selectionOptions --><!-- ko if: $index() !== 2 --><span><input type="checkbox" class="forecast-radio" data-type="forecast" data-bind="\n                        attr: { \'data-position\': $index(), \'data-row\': selection.id, \'data-name\': selection.name },\n                        event: { change: function(){ $parents[1].handleForecastTricastCallback($element) } }\n                        "></span><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko if: $parent.eventSuspended --> <span><span data-bind="text: $parent.selectionSuspendedText"></span></span><!-- /ko --></span> <span class="tricast"><!-- ko ifnot: $parent.eventSuspended --><!-- ko foreach: $parent.selectionOptions --><span><input type="checkbox" class="forecast-radio" data-type="tricast" data-bind="\n                        attr: { \'data-position\': $index(), \'data-row\': selection.id, \'data-name\': selection.name },\n                        event: { change: function(){ $parents[1].handleForecastTricastCallback($element) } }\n                        "></span><!-- /ko --><!-- /ko --><!-- ko if: $parent.eventSuspended --> <span><span data-bind="text: $parent.selectionSuspendedText"></span></span><!-- /ko --></span></div><!-- /ko --><div class="forecast-tricast-place"><div class="container"><div class="info"><span class="forecastTricastBetInfo" data-bind="text: forecastTricastInfo"></span></div><div class="buttons"><!-- ko if: showClearButton --><span class="forecastTricastClearButton button" data-bind="text: clearSelectionsButtonText, click: clearForecastTricastSelections"></span><!-- /ko --><!-- ko if: forecastTricastPlacementValid --> <span class="forecastTricastBetButton button action" data-bind="text: addToBetslipButtonText, click: addForecastTricastToSlip"></span><!-- /ko --></div></div></div></div></div>'}),require.register("virtuals-container/components/virtuals-selection-button/view-model",function(t,e,s){var a=t("authentication/user"),r=t("message-bus"),i=t("betslip"),o=t("locale"),n=t("gear-disposable-mixin"),l=function(t){this.locale=o,n.mixin(this),this.selection=t.selection,this.leftCaption=t.leftCaption,this.status=t.status,this.isSelected=ko.observable(!1),this.fractionalOdds=this.selection.numerator+"/"+this.selection.denominator,this.odds=ko.computed(l.prototype.oddsCalc,this),this.enabled=ko.computed(function(){return"ACTIVE"===ko.unwrap(this.status)},this),this.selectSelectionIfInBetslip=this.selectSelectionIfInBetslip.bind(this),this.disposables.push(i.getBetslip().subscribe("update",function(t){var e=t.betslipSelections.find(function(t){return t.id===this.selection.id}.bind(this));e?this.isSelected(!0):this.isSelected(!1)}.bind(this))),this.addRemoveSelection=function(t,e){var s=ko.unwrap(this.selection);e.preventDefault(),e.stopPropagation(),this.closeBetReceipt(),this.enabled()&&(this.isSelected()?(i.getBetslip().removeSelection(s.id),this.isSelected(!1),r.publish("track:slip-remove",{selection:s,element:e?e.target:null})):(i.service.addSelectionById(s.id),this.isSelected(!0)),i.getBetslip().pub("update")),$(document.body).click()}.bind(this),this.closeBetReceipt=function(){var t=!!i.getBetslip().receipts.length;if(t){var e=document.getElementById("receiptDoneButton");e&&ko.contextFor(e).$data.removeAllClick()}},this.loadSelectionsFromBetslip()};l.prototype={loadSelectionsFromBetslip:function(){i.getBetslip().betslipSelections.forEach(this.selectSelectionIfInBetslip)},selectSelectionIfInBetslip:function(t){t.id===this.selection.id&&this.isSelected(!0)},oddsCalc:function(){var t="1/1"!==this.fractionalOdds?this.fractionalOdds:o.t("selection.button.evens");return"decimal"!==a.oddsDisplay()?t:this.selection.decimal}},s.exports=l}),require.register("virtuals-container/components/virtuals-markets/racing-markets/winner-market/template",function(t,e,s){s.exports='<div class="virtual-race-market" data-bind="css: \'vr-id-\' + classId()"><!-- ko foreach: { data: selections, as: \'selection\' } --><div class="virtual-race-market__item"><!-- ko ifnot: $parent.eventIsGreyhounds --><div class="item__number" data-bind="text: selection.number"></div><span><div class="item__silks" data-bind="attr:{\'silk-number\': selection.number}"></div></span><!-- /ko --><!-- ko if: $parent.eventIsGreyhounds --> <span class="silk-container"><div class="item__silks winner-market" data-bind="attr:{\'silk-number\': selection.number}, text: selection.number"></div></span><!-- /ko --><div class="item__name" data-bind="text: selection.name"></div><virtuals-selection-button params="selection: selection, status: $parent.status"></virtuals-selection-button></div><!-- /ko --></div>'}),require.register("virtuals-container/components/virtuals-streams-carousel/controller",function(t,e,s){var a="virtuals-streams-carousel",r=t("./view-model"),i=t("./template"),o={template:i,viewModel:{viewModel:r}};e.init=function(t){ko.components.register(a,o)}}),require.register("virtuals-container/components/virtuals-markets/sports-markets/virtuals-sport-market/template",function(t,e,s){s.exports='<div class="virtuals-sport-market market" data-bind="attr:{ \'data-expandable-below\': isExpandableBelow }, css: {\'expandable-below\': isExpandableBelow}"><header class="expand-list market-header" data-bind="toggle, css: {\'expanded\': expanded}"><div class="icon-arrow small-expand"></div><span class="title" data-bind="text: marketName"></span></header><div class="virtuals-sport-market-content" data-bind="visible: expanded"><!-- ko template: { name: \'/virtuals-container/components/virtuals-markets/sports-markets/virtuals-sport-market/templates/\' + marketTemplate, data: market } --><!-- /ko --><!-- ko if: isExpandableBelow --><div class="expandable-below-container"><div class="expandable-below-container-button" data-bind="click: showMoreToggle"><!-- ko if: showMore() --><span data-bind="text: showLessText"></span><div class="arrow arrow-more"></div><!-- /ko --><!-- ko ifnot: showMore() --><span data-bind="text: showMoreText"></span><div class="arrow arrow-less"></div><!-- /ko --></div></div><!-- /ko --></div></div>'}),require.register("virtuals-container/components/virtuals-streams-carousel/view-model",function(t,e,s){function a(t){var e=this;o.mixin(this),e.virtualSportsModel=t.virtualSportsModel,e.iframeElement=$("<iframe>",{src:"",id:"virtual-iframe",frameborder:0,marginwidth:"0",marginheight:"0",align:"top",hspace:"0",vspace:"0","class":"iframe-container",scrolling:"No"}),e.allowedNavigationIntervall=200,e.isNavigationAllowed=!0,e.streamNotAvailableText=l.t("virtual.stream.unavailable"),e.classId=t.classId||n.VIRTUAL_HORSES,e.allSports=ko.observableArray([]),e.sports=ko.observableArray([]),e.carouselEnabled=ko.pureComputed(function(){return e.sports&&e.sports().length}),e.prevSport=ko.observable(),e.nextSport=ko.observable(),e.selectedSport=ko.observable(),e.setSelectedSport=e.setSelectedSport.bind(this),e.navigate.to=e.navigate.to.bind(this),e.navigate.prev=e.navigate.prev.bind(this),e.navigate.next=e.navigate.next.bind(this),e.navigate.applyNavigation=e.navigate.applyNavigation.bind(this),e.updateCarouselRotation=e.updateCarouselRotation.bind(this),e.getAvailableSports=e.getAvailableSports.bind(this),e.attachIframeToSelectedSport=e.attachIframeToSelectedSport.bind(this),e.getIndexFromSportName=e.getIndexFromSportName.bind(this),e.getIndexFromClassId=e.getIndexFromClassId.bind(this),e.publishCurrentSport=e.publishCurrentSport.bind(this),e.cmsData=t.cmsData||{},e.t=l.t,e.allSports=e.virtualSportsModel.sports;var s=e.getAvailableSports();e.sports(s);var a=e.getIndexFromClassId(e.classId);r=a,e.setSelectedSport(a),e.allSports().forEach(function(t){e.toDispose(t.available.subscribe(function(t){e.sports(e.getAvailableSports()),t||e.navigate.next()}))}),this.toDispose(i.subscribe("virtuals:selectedSportHeader",function(t){if(t.data.sport){var s=e.getIndexFromClassId(t.data.sport.classId);r=s,e.navigate.applyNavigation()}}.bind(this))),e.initRotation=function(){e.updateCarouselRotation()}}var r,i=t("message-bus"),o=t("gear-disposable-mixin"),n=t("domain-model/helpers/virtual-sports"),l=t("locale"),c="stream-carousel";a.prototype={update:function(){},dispose:function(){this.virtualSportsModel&&(this.virtualSportsModel=null),this.clearIframes()},updateCarouselRotation:function(){var t=this,e=1e3;$(".sport").each(function(s){s=t.getIndexAfterRotation(r,s);var a=t.getNormalizedIndex(s);if(0===a){var i=t.getSportElement(t.selectedSport().sportName);t.iframeElement.attr("src",t.selectedSport().streamUrl),t.attachIframeToSelectedSport(t.iframeElement,i),$(this).children("img").fadeOut(e),$(this).children(".carousel-sport-banner").css("opacity",0),$(this).css("transform",t.getSportTransform(s)),$(this).show()}else{t.removeAnimationsForSport($(this)),$(this).children("img").stop(!0,!0),$(this).children("img").show(),$(this).children("img").css("opacity",1),$(this).children(".carousel-sport-banner").css("opacity",1);var o=t.getSportTransform(s);$(this).css("transform",o),t.detachIframeFromSport($(this)),a<t.sports().length/2?$(this).children(".carousel-sport-banner").css("justify-content","flex-start"):$(this).children(".carousel-sport-banner").css("justify-content","flex-end"),a>1&&a<t.sports().length-1?$(this).fadeOut():$(this).fadeIn()}})},navigate:{to:function(t){if(this.isNavigationAllowed){var e=this.getNormalizedIndex(r),s=t-e;r+=s,this.navigate.applyNavigation()}},prev:function(){this.isNavigationAllowed&&(r-=1,this.navigate.applyNavigation())},next:function(){this.isNavigationAllowed&&(r+=1,this.navigate.applyNavigation())},applyNavigation:function(){this.setSelectedSport(r),this.updateCarouselRotation(),this.publishCurrentSport(),this.isNavigationAllowed=!1,setTimeout(function(){this.isNavigationAllowed=!0}.bind(this),this.allowedNavigationIntervall)}},getIndexAfterRotation:function(t,e){return t-e%$(".sport").length},getIndexFromSportName:function(t){var e=null;return this.sports().forEach(function(s,a){s.sportName===t&&(e=a)}.bind(this)),e},getIndexFromClassId:function(t){var e=0;return this.sports().forEach(function(s,a){s.classId===t&&(e=a)}.bind(this)),e},getAvailableSports:function(){return this.allSports().filter(this.isSportAvailiable)},isSportAvailiable:function(t){return t.available()},removeAnimationsForSport:function(t){t.off("webkitTransitionStart"),t.off("transitionstart"),t.off("webkitTransitionEnd"),t.off("transitionend")},attachIframeToSelectedSport:function(t,e){e.prepend(t)},detachIframeFromSport:function(t){t.children("iframe").length&&(this.iframeElement=t.children("iframe").detach())},getSportTransform:function(t){var e=this.getNormalizedIndex(t),s=360,a=.6;0===e&&(s=400,a=1);var r=360/this.sports().length,i=[this.transform.rotateY(-1*r*t),this.transform.translate3d(0,0,s),this.transform.rotateY(r*t),this.transform.scale(a)];return i.join(" ")},getSportElement:function(t){return $("#"+t)},setSelectedSport:function(t){var e=this.getNormalizedIndex(t-1),s=this.getNormalizedIndex(t+1),a=this.getNormalizedIndex(t);if(this.prevSport(this.sports()[e]),this.nextSport(this.sports()[s]),this.selectedSport(this.sports()[a]),this.selectedSport()){var r={selectedSport:this.selectedSport(),viewModel:c};i.publish("virtuals:selected",r)}},getNormalizedIndex:function(t){var e=t%this.sports().length,s=e<0?e+this.sports().length:e;return s},publishCurrentSport:function(){if(this.selectedSport()){var t=this.selectedSport().classId,e=this.selectedSport().sportName,s={sportName:e,viewModel:c,classId:t};i.publish("virtuals:selectedSport",s)}},clearIframes:function(){this.detachIframeFromSport($(".sport"))},transform:{rotateY:function(t){return"rotateY("+t+"deg)"},scale:function(t){return"scale("+t+")"},translate3d:function(t,e,s){return t=t||0,e=e||0,s=s||0,"translate3d("+t+"px, "+e+"px, "+s+"px )";
}}},s.exports=a}),require.register("virtuals-container/components/virtuals-markets/sports-markets/virtuals-sport-market/templates/virtuals-correct-score",function(t,e,s){s.exports='<div class="virtuals-correct-score"><div class="virtuals-correct-score__column"><!-- ko foreach: { data: market.correctScoreSelections.HOME, as: \'selection\' } --><!-- ko if: $parents[1].showSelectionRow ($index)  --><div class="virtuals-correct-score__selections"><virtuals-selection-button params="{selection: selection, leftCaption: selection.sort, status: $parents[3].status}"></virtuals-selection-button></div><!-- /ko --><!-- /ko --></div><!-- ko if: market.correctScoreSelections.DRAW --><div class="virtuals-correct-score__column"><!-- ko foreach: { data: market.correctScoreSelections.DRAW, as: \'selection\' } --><!-- ko if: $parents[1].showSelectionRow ($index)  --><div class="virtuals-correct-score__selections"><virtuals-selection-button params="{selection: selection, leftCaption:selection.sort, status: $parents[3].status}"></virtuals-selection-button></div><!-- /ko --><!-- /ko --></div><!-- /ko --><div class="virtuals-correct-score__column"><!-- ko foreach: { data: market.correctScoreSelections.AWAY, as: \'selection\' } --><!-- ko if: $parents[1].showSelectionRow ($index)  --><div class="virtuals-correct-score__selections"><virtuals-selection-button params="{selection: selection, leftCaption:selection.sort, status: $parents[3].status}"></virtuals-selection-button></div><!-- /ko --><!-- /ko --></div></div>'}),require.register("virtuals-container/components/virtuals-markets/racing-markets/controller",function(t,e,s){var a="racing-markets",r=t("./view-model"),i=t("./template"),o={viewModel:r,template:i};e.init=function(t){ko.components.register(a,o)}}),require.register("virtuals-container/components/virtuals-markets/sports-markets/virtuals-sport-market/templates/virtuals-over-under-goals",function(t,e,s){s.exports='<div class="virtuals-over-under-goals"><header><span class="virtuals-over-under-goals__selection-title"></span><!-- ko foreach: { data: selections, as: \'selection\' } --> <span class="virtuals-over-under-goals__selection-title" data-bind="text: selection.name"></span><!-- /ko --></header><div class="virtuals-over-under-goals__row"><span class="virtuals-over-under-goals__market-name" data-bind="text: $parent.name"></span><!-- ko foreach: { data: selections, as: \'selection\' } --><div class="virtuals-over-under-goals__selection"><virtuals-selection-button params="{selection: selection, leftCaption: selection.caption, status: $parents[3].status}"></virtuals-selection-button></div><!-- /ko --></div></div>'}),require.register("virtuals-container/components/virtuals-markets/racing-markets/view-model",function(t,e,s){function a(t){function e(t){s.showTabs(t[0].forecastMarket&&t[0].tricastMarket),s.eachWayAvailable(t[0].eachWayAvailable),s.setMarketSubtitle(t)}var s=this;o.mixin(s),s.marketSubtitle=ko.observable(),s.showTabs=ko.observable(!1),s.marketName=ko.observable(""),s.classId=ko.observable(),s.eventId=ko.observable(),s.tabWinnerTitle=n.t("virtuals.racing.tab.winner"),s.tabForecastTricastTitle=n.t("bettype.SF")+"/"+n.t("bettype.TC"),s.selectedTabId=ko.observable(0),s.eachWayAvailable=ko.observable(!1),s.markets=t.markets,s.virtualSportsModel=t.virtualSportsModel,s.toDispose(s.markets.subscribe(function(t){s.selectedTabId(0),s.classId(s.virtualSportsModel.selected()),s.eventId(s.virtualSportsModel.selectedEvent().id),e(t)})),s.setMarketSubtitle=function(t){if(s.eachWayAvailable()){if(t[0].eachWayPrice&&t[0].eachWayPlaces){for(var e=t[0].eachWayPlaces,a="";e;)a=e+"-"+a,e--;s.marketSubtitle(n.t("virtuals.racing.each-way",t[0].eachWayPrice,a.slice(0,-1)))}}else s.marketSubtitle(n.t("virtuals.racing.meeting-winner"))},null!=s.markets()&&s.markets().length>0&&e(s.markets())}function r(t,e,s){}function i(){}var o=t("gear-disposable-mixin"),n=t("locale");a.prototype={update:r,dispose:i},s.exports=a}),require.register("virtuals-container/components/virtuals-markets/sports-markets/virtuals-sport-market/templates/virtuals-sport-generic-market",function(t,e,s){s.exports='<div class="virtuals-sport-generic-market"><!-- ko foreach: { data: selections, as: \'selection\' } --><div class="virtuals-sport-generic-market__column"><div class="virtuals-sport-generic-market__selection-name" data-bind="text: selection.name"></div><virtuals-selection-button params="{selection: selection, leftCaption:\'\', status: $parents[3].status}"></virtuals-selection-button></div><!-- /ko --></div>'}),require.register("virtuals-container/components/virtuals-markets/sports-markets/controller",function(t,e,s){var a="sports-markets",r=t("./view-model"),i=t("./template"),o={viewModel:r,template:i};e.init=function(t){ko.components.register(a,o)}}),require.register("virtuals-container/components/virtuals-markets/sports-markets/virtuals-sport-market/templates/virtuals-total-goals",function(t,e,s){s.exports='<div class="virtuals-total-goals"><!-- ko foreach: { data: selections, as: \'selection\' } --><!-- ko if: $parents[1].showSelectionRow($index)  --><div class="virtuals-total-goals__row"><span class="virtuals-total-goals__selection-name" data-bind="text: selection.name"></span><div class="virtuals-total-goals__selection"><virtuals-selection-button params="{selection: selection, leftCaption: \'\', status: $parents[3].status}"></virtuals-selection-button></div></div><!-- /ko --><!-- /ko --></div>'}),require.register("virtuals-container/components/virtuals-markets/sports-markets/view-model",function(t,e,s){function a(t){var e=this;r.mixin(e),e.virtualSportsModel=t.virtualSportsModel,e.classId=t.classId,e.markets=t.markets,e.status=ko.pureComputed(function(){return e.virtualSportsModel.selectedEvent().status()})}var r=t("gear-disposable-mixin");s.exports=a}),require.register("virtuals-container/components/virtuals-markets/racing-markets/forecast-tricast-market/controller",function(t,e,s){var a=t("./view-model"),r=t("./template"),i="forecast-tricast-market",o={viewModel:a,template:r};e.init=function(){ko.components.register(i,o)}}),require.register("virtuals-container/components/virtuals-markets/racing-markets/forecast-tricast-market/view-model",function(t,e,s){function a(t){this.numberHeaderText=i.t("racing.header.number"),this.runnerHeaderText=i.t("racing.header.runner"),this.oddsHeaderText=i.t("racing.header.odds"),this.forecastHeaderText=i.t("bettype.SF"),this.tricastHeaderText=i.t("bettype.TC"),this.firstSubHeaderText=i.t("racing.sub_header.1st"),this.secondSubHeaderText=i.t("racing.sub_header.2nd"),this.thirdSubHeaderText=i.t("racing.sub_header.3rd"),this.anyOrderSubHeaderText=i.t("racing.sub_header.any"),this.oddsEvenText=i.t("selection.button.evens"),this.selectionSuspendedText=i.t("selection.button.suspended"),this.clearSelectionsButtonText=i.t("racing.clear-selections"),this.addToBetslipButtonText=i.t("racing.add-to-betslip"),n.mixin(this),this.virtualSportsModel=t.virtualSportsModel,this.status=this.virtualSportsModel.selectedEvent().status,this.classId=ko.observable(),this.eventId=ko.observable(),this.eventName=ko.observable(),this.markets=t.markets,this.selections=ko.observableArray(),this.time=ko.observable(),this.selectionOptions=new Array(c),this.markets=t.markets,null!=this.markets()&&this.markets().length>0&&this.selections(this.markets()[0].selections),this.toDispose(this.markets.subscribe(function(t){this.clearForecastTricastSelections(),this.classId(this.virtualSportsModel.selected()),this.eventId(this.virtualSportsModel.selectedEvent().id),this.status=this.virtualSportsModel.selectedEvent().status,t.length>0&&this.selections(t[0].selections)}.bind(this))),this.forecastLegType=ko.observable(""),this.tricastLegType=ko.observable(""),this.forecastPlacements=ko.observableArray(),this.tricastPlacements=ko.observableArray(),this.forecastTricastInfo=ko.observable(""),this.eventNameWithTime=ko.pureComputed(function(){return this.virtualSportsModel.selectedEvent().time+" "+this.virtualSportsModel.selectedEvent().name}.bind(this)),this.eventSuspended=ko.pureComputed(function(){return"SUSPENDED"===this.virtualSportsModel.selectedEvent().status()}.bind(this)),this.eventIsGreyhounds=ko.pureComputed(function(){return this.classId()===l.VIRTUAL_GREYHOUNDS}.bind(this)),this.showClearButton=ko.pureComputed(function(){return this.forecastPlacements().length+this.tricastPlacements().length}.bind(this)),this.forecastTricastPlacementValid=ko.pureComputed(function(){var t=0===this.forecastPlacements().length||this.forecastPlacements().length>=2,e=0===this.tricastPlacements().length||this.tricastPlacements().length>=3;return!(!t||!e)&&this.forecastPlacements().length+this.tricastPlacements().length}.bind(this)),this.getOdds=function(t){if("decimal"===r.oddsDisplay())return t.decimal;var e=t.numerator+"/"+t.denominator;return"1/1"!==e?e:this.oddsEvenText},this.handleForecastTricastCallback=function(t){var e,s=t.getAttribute("data-type"),a=t.getAttribute("data-position"),r=document.querySelectorAll("."+s+" .forecast-radio"),i=document.querySelectorAll("."+s+" .forecast-radio:checked");if("3"===a)for(e=0;e<r.length;e++)i.length&&"3"!==r[e].getAttribute("data-position")?(r[e].disabled=!0,r[e].checked=!1):r[e].disabled=!1;else{var o=document.querySelectorAll("."+s+" .forecast-radio:not(:checked)"),n=[],l=[];for(e=0;e<i.length;e++)n.push(i[e].getAttribute("data-position")),l.push(i[e].getAttribute("data-row"));for(e=0;e<o.length;e++){var c=o[e].getAttribute("data-row"),d=o[e].getAttribute("data-position");o[e].disabled=n.indexOf(d)>-1||l.indexOf(c)>-1}}this.handleForecastTricastCombinations()},this.clearForecastTricastSelections=function(){for(var t=document.querySelectorAll("virtuals-markets .forecast-radio"),e=0;e<t.length;e++)t[e].disabled=!1,t[e].checked=!1;this.forecastTricastInfo(""),this.forecastPlacements([]),this.tricastPlacements([]),this.forecastLegType(""),this.tricastLegType("")},this.addForecastTricastToSlip=function(){this.forecastPlacements().length&&o.getBetslip().addForecastTricast(this.markets()[0].id,this.eventNameWithTime(),this.getPlacementString(this.forecastLegType(),this.forecastPlacements().length,"betslip"),this.sortedPlacements(this.forecastPlacements()),this.forecastLegType()),this.tricastPlacements().length&&o.getBetslip().addForecastTricast(this.markets()[0].id,this.eventNameWithTime(),this.getPlacementString(this.tricastLegType(),this.tricastPlacements().length,"betslip"),this.sortedPlacements(this.tricastPlacements()),this.tricastLegType()),this.clearForecastTricastSelections()}}var r=t("authentication/user"),i=t("locale"),o=t("betslip"),n=t("gear-disposable-mixin"),l=t("domain-model/helpers/virtual-sports"),c=4;a.prototype={handleForecastTricastCombinations:function(){for(var t=document.querySelectorAll(".forecast-radio:checked"),e=[],s=[],a="",r="",o=0;o<t.length;o++){var n=t[o],l={selectionId:n.getAttribute("data-row"),selectionName:n.getAttribute("data-name"),optionPosition:n.getAttribute("data-position")};"forecast"===n.getAttribute("data-type")?e.push(l):"tricast"===n.getAttribute("data-type")&&s.push(l)}e.length>1&&("3"===e[0].optionPosition?e.length>2?this.forecastLegType("CF"):this.forecastLegType("RF"):this.forecastLegType("SF"),a=this.getPlacementString(this.forecastLegType(),e.length,"raceDetails")),s.length>2&&("3"===s[0].optionPosition?this.tricastLegType("CT"):this.tricastLegType("TC"),r=this.getPlacementString(this.tricastLegType(),s.length,"raceDetails")),a.length&&r.length&&(a+=" "+i.t("bethistory.display.and")+" "),this.forecastPlacements(e),this.tricastPlacements(s),this.forecastTricastInfo(a+r)},getPlacementString:function(t,e,s){var a="";switch(t){case"SF":case"RF":case"TC":a="1";break;case"CF":a=e*(e-1);break;case"CT":a=e*(e-1)*(e-2)}return"betslip"===s?(a="1"!==a?" ("+a+")":"",i.t("betslip.bettype."+t)+a):a+" "+i.t("racing.horse.horseracing."+t)},sortedPlacements:function(t){return t.sort(function(t,e){return t.optionPosition-e.optionPosition})},update:function(t,e,s){},dispose:function(){}},s.exports=a}),require.register("virtuals-container/components/virtuals-markets/racing-markets/winner-market/controller",function(t,e,s){var a=t("./view-model"),r=t("./template"),i="winner-market",o={viewModel:a,template:r};e.init=function(){ko.components.register(i,o)}}),require.register("virtuals-container/components/virtuals-markets/racing-markets/winner-market/view-model",function(t,e,s){function a(t){var e=this;o.mixin(this),e.virtualSportsModel=t.virtualSportsModel,e.status=e.virtualSportsModel.selectedEvent().status,e.classId=ko.observable(e.virtualSportsModel.selected()),e.eventId=ko.observable(),e.markets=t.markets,e.selections=ko.observableArray(),null!=e.markets()&&e.markets().length>0&&e.selections(e.markets()[0].selections),e.toDispose(e.markets.subscribe(function(t){this.status=this.virtualSportsModel.selectedEvent().status,this.classId(this.virtualSportsModel.selected()),this.eventId(this.virtualSportsModel.selectedEvent().id),t.length>0&&this.selections(t[0].selections)}.bind(this))),n.publish("virtuals:publishSelectedEvent",""),e.eventIsGreyhounds=ko.pureComputed(function(){return this.classId()===l.VIRTUAL_GREYHOUNDS}.bind(e))}function r(t,e,s){}function i(){}var o=t("gear-disposable-mixin"),n=t("message-bus"),l=t("domain-model/helpers/virtual-sports");a.prototype={update:r,dispose:i},s.exports=a}),require.register("virtuals-container/components/virtuals-markets/sports-markets/virtuals-sport-market/controller",function(t,e,s){var a="virtuals-sport-market",r=t("./view-model"),i=t("./template"),o={viewModel:r,template:i};e.init=function(t){ko.components.register(a,o)}}),require.register("virtuals-container/components/virtuals-markets/sports-markets/virtuals-sport-market/view-model",function(t,e,s){function a(t){this.marketTemplate,this.classId=t.classId,this.market=t.market,this.marketName=t.market.name,this.selections=this.market.correctScoreSelections||this.market.selections,this.isFootball=this.classId===i.VIRTUAL_FOOTBALL,this.limit=6,this.expanded=ko.observable(!0),this.showMore=ko.observable(!1),this.isExpandableBelow=this.showMoreNeeded()&&this.expanded(),this.showLessText=r.t("js.score.button.less"),this.showMoreText=r.t("js.score.button.more"),this.getMarketTemplate(this.marketName.toLowerCase()),this.showSelectionRow=function(t){return t()<this.limit||this.showMore()},this.showMoreToggle=function(){this.showMore(!this.showMore())},"total goals standard"===this.marketName.toLowerCase()?this.modifySelectionNamesForTotalGoals(this.selections):"total goals - over/under 2.5"===this.marketName.toLowerCase()?this.modifySelectionNamesForOverUnderGoals(this.selections):this.isFootball||"correct score"!==this.marketName.toLowerCase()||(this.modifySelectionNamesForTennisCorrectScore(this.selections.HOME),this.modifySelectionNamesForTennisCorrectScore(this.selections.AWAY))}var r=t("locale"),i=t("domain-model/helpers/sport-types");a.prototype={showMoreNeeded:function(){var t=!1;return"correct score"===this.marketName.toLowerCase()?this.selections&&(t=this.selections.DRAW.length>=this.limit||this.selections.HOME.length>this.limit||this.selections.AWAY.length>this.limit):t=this.selections&&this.selections.length>this.limit,t},modifySelectionNamesForTotalGoals:function(t){ko.utils.arrayForEach(t,function(t){switch(t.name){case"0":t.name="No goal";break;case"1":t.name="1 Goal";break;default:t.name=t.name+" Goals"}})},modifySelectionNamesForOverUnderGoals:function(t){ko.utils.arrayForEach(t,function(t){t.caption=t.name.substr(t.name.length-3),t.name="Under 2.5"===t.name?"UNDER":"OVER"})},modifySelectionNamesForTennisCorrectScore:function(t){ko.utils.arrayForEach(t,function(t){t.sort=t.name.substr(t.name.lastIndexOf(" ")+1)})},getMarketTemplate:function(t){switch(t){case"correct score":this.marketTemplate="virtuals-correct-score";break;case"total goals standard":case"total number of points":this.marketTemplate="virtuals-total-goals";break;case"total goals - over/under 2.5":this.marketTemplate="virtuals-over-under-goals";break;default:this.marketTemplate="virtuals-sport-generic-market"}}},s.exports=a}),window.cogwheels.addGear({name:"virtuals-container",version:"0.0.1",author:{name:"Ladbrokes"}});
require.register("domain-model/helper",function(e,t,i){function s(e){return e.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"")}function r(e){var t=document.createElement("div"),i="";return t.innerHTML=ko.unwrap(e),i=t.textContent||t.innerText||"",i.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")}function o(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[s(t)]=e[t]);return i}function n(e,t){function i(e){var i,s;return i=t[0],i.indexOf("[")>=0?(s=i.split("["),e[s[0]]&&e[s[0]][parseInt(s[1],10)]&&(e=e[s[0]][parseInt(s[1],10)],o++)):(e=e[i],e&&o++),t.shift(),e}var s,r,o=0;for(t=t.split("."),r=t.length,s=i(e);s&&t.length;)s=i(s);return r>o?null:s}function a(e,t){if(!e)return"0.00";var i=e.toString().split(".");return i.length>1?parseFloat(i[0]+"."+i[1].substr(0,t)).toFixed(2):parseFloat(i[0]).toFixed(2)}function l(e,t){var i=Math.pow(10,t);return(Math.round(e*i)/i).toFixed(t)}function c(e,t){return null==e||isNaN(e)?t:l(e,2)}function u(e){for(var t={},i=e.split("&"),s=0;s<i.length;s++){var r=i[s].split("=");if(r[0]=decodeURIComponent(r[0]),r[1]=decodeURIComponent(r[1]),"undefined"==typeof t[r[0]])t[r[0]]=r[1];else if("string"==typeof t[r[0]]){var o=[t[r[0]],r[1]];t[r[0]]=o}else t[r[0]].push(r[1])}return t}function h(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"")}function p(e){var t=[].slice.call(arguments,1),i=!1;return t.forEach(function(t){if(t)for(var s in t)e[s]!==t[s]&&(i=!0,e[s]=t[s])}),i}function d(e){var t=[].slice.call(arguments,1),i=!1,s=e.ignoreProperties||[];return t.forEach(function(t){if(t)for(var r in t)s.indexOf(r)===-1&&(ko.isObservable(e[r])?e[r]()!==t[r]&&(i=!0,e[r](t[r])):e[r]!==t[r]&&(i=!0,e[r]=t[r]))}),i}function m(e,t){var i={};for(var s in e)t.indexOf(s)===-1&&e.hasOwnProperty(s)&&(i[s]=e[s]);return i}function f(e,t){return t<0&&(t=Math.abs(t),e="-"+e),e+t}function v(e,t){var i=parseFloat(e);if(isNaN(i))i=e;else switch(i=a(i,2),t.currency()){case"GBP":i=f("",i);break;case"EUR":i=f("",i);break;case"SEK":i+=" kr",i=i.replace(".",",");break;case"$":case"":case"":i=t.currency()+i;break;default:i=i+" "+t.currency()}return i}function b(e,t){var i=parseFloat(e);if(isNaN(i))i=e;else switch(t.currency()){case"GBP":i=f("",i);break;case"EUR":i=f("",i);break;case"SEK":i+=" kr",i=i.replace(".",",");break;case"$":case"":case"":i=t.currency()+i;break;default:i=i+" "+t.currency()}return i}function k(e,t){var i=parseFloat(e);i=a(i,0);var s=i.toString();switch(t){case"GBP":s=""+s;break;case"EUR":s=""+s;break;case"SEK":s+=" kr",s=s.replace(".",",");break;case"$":case"":case"":s=t+s;break;default:s=s+" "+t}return s}function y(e){var t,i,s,r=e+"=",o=document.cookie.split(";");for(s=0;s<o.length;s++)if(t=o[s].trim(),0===t.indexOf(r)){i=t.substring(r.length,t.length);break}return i}function A(e,t){function i(e){return"unnamed favourite"===e.toLowerCase()?1:"unnamed 2nd favourite"===e.toLowerCase()?2:0}function s(e){return t&&(e?1:0)}return function(t,r){var o=i(t.nameRaw),n=i(r.nameRaw),a=s(t.nonRunner||0===t.prices().length),l=s(r.nonRunner||0===r.prices().length);return o||n?o-n:a||l?a-l:e(t,r)}}function S(e){return A(e,!1)}function g(e){return A(e,!0)}function T(e){var t=3e4;return e.prices()&&e.prices().length>0&&parseFloat(e.prices()[0].decimalOdds())||t}function I(e,t){if(e&&e.numerator&&e.denominator){var i=new R(e.numerator,e.denominator),s=new R(1),r=i.add(s),o=new R(t),n=r.multiply(o);return l(n.number,2)}return l(0,2)}function C(e,t,i,s){if(i&&i.numerator&&i.denominator){var r=new R(i.numerator,i.denominator),o=new R(e,t),n=r.multiply(o),a=new R(s),c=r.multiply(a),u=n.multiply(a),h=c.add(u).add(a).add(a);return l(h.number,2)}return l(0,2)}function E(e){var t=null;return e&&Array.isArray(e)?e.forEach(function(e){e&&!t&&(t=e)}):e&&!Array.isArray(e)&&(t=e),t}function O(e,t,i){return t&&(t.translations&&t.translations[e]||E(i)||null)}function L(e,t){var i=w.value()||"";return e&&O(i,e,[e.value,e.unpiped,e.raw])||E(t)||""}var R=e("fraction").fraction,w=e("locale"),N=function(e,t){var i=parseFloat(e),s=!isNaN(i);if(s&&i>0&&"HL"!==t){var r="string"==typeof e;(r&&e.indexOf("+")<0||!r)&&(e="+"+e)}return e},P=function(e){for(var t,i,s=[],r=[],o=0;o<e.length;o++){t=e[o];for(var n=0;n<s.length;n++)if(!t.selectionId&&s[n]===t.type){i=!0;break}i||!t||t.selectionId||s.push(t.type),i||r.push(t),i=!1}return s=null,r},M=function(e){return g(function(t,i){var s=T(t),r=T(i);return e?s-r:r-s})};t.cleanPropertyName=s,t.fixPropertyNames=o,t.getDeepProperty=n,t.toFixed=a,t.queryStringToHash=u,t.toRoundedFixed=l,t.roundOrFallback=c,t.camelize=h,t.cleanUrlPart=r,t.getCookie=y,t.updateWithData=p,t.updateWithDataAndObservables=d,t.getSubsetOfObject=m,t.currencyFormat=v,t.currencyFormatRaw=b,t.currencyFormatWithSeparator=k,t.handicapFormat=N,t.getBundledErrors=P,t.getPotentialReturn=I,t.getEachWayPotentialReturn=C,t.ignoreFavourite=S,t.ignoreFavouriteAndNonRunner=g,t.byOddsSortFunction=M,t._getTranslations=O,t.getTranslations=L}),function(){ko.observableArray.fn.dispose=function(){var e=this.peek().slice();this.removeAll(),e.forEach(function(e){"object"==typeof e&&e.dispose&&e.dispose()})}}(),require.register("domain-model/index",function(e,t,i){i.exports={Event:e("./models/event"),Sport:e("./models/sport"),Market:e("./models/market"),Selection:e("./models/selection")}}),function(){function e(e){return e}function t(){}ko.observableArray.fn.updateArray=function(e,t,i,s){if($.isArray(e)){var r=e;e=(e||[]).slice(0);for(var o=this(),n=o.length,a=!1;n--;){for(var l=o[n],c=!1,u=e.length;u--;){var h=e[u];if(t.call(l,h)){s?s(l,h):l.update&&l.update(h),e.splice(u,1),c=!0;break}}c||(l.dispose&&l.dispose(),o.splice(n,1),a=!0)}var p=e.length;if(p){a=!0,n=0;var d;for(n;n<p;n++)d=e[n],o.splice(r.indexOf(d),0,i(d))}a&&this.valueHasMutated()}},Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),s=i.length>>>0,r=arguments[1],o=0;o<s;o++)if(t=i[o],e.call(r,t,o,i))return t}),ko.observableArray.fn.updateArrayWithOrder=function(e,t,i,s){var r=function(e){return i?ko.unwrap(this)[i]===ko.unwrap(e)[i]:this===e};this.updateArray(e,r,t,s)},ko.observableArray.fn.shallowUpdateArray=function(i,s){this.updateArrayWithOrder(i,e,s,t)}}(),require.register("domain-model/helpers/sport-types",function(e,t,i){var s=!0,r="upcomingVirtualEvents",o="39",n=s?o:r;i.exports={ENV_MARS:s,FOOTBALL:"16",RUGBY_UNION:"31",GOLF:"18",TENNIS:"34",MOTOR_RACING:"26",SNOOKER:"32",RUGBY_LEAGUE:"30",HORSE_RACING:"21",GREYHOUNDS:"19",AMERICAN_FOOTBALL:"1",ATHLETICS:"2",BOXING:"9",CRICKET:"10",CYCLING:"12",DARTS:"13",MOTOR_CYCLING:"23",BIG_BROTHER:"110000032",AUSSIE_RULES:"3",POLITICS:"46",BASKETBALL:"6",RALLYING:"110000049",TV_FILM_AND_RADIO:"48",AWARDS:"110000062",ICE_HOCKEY:"22",SWEDISH_SPECIALS:"110000074",CHRISTMAS:"68",BASEBALL:"5",BANDY:"4",MUSIC:"43",WINTER_SPORTS:"38",WINTER_OLYMPICS:"77",RELIGION:"210000116",HANDBALL:"20",NORWEGIAN_SPECIALS:"210000119",DANISH_SPECIALS:"210000120",ROWING:"29",GAA:"55",GAELIC_FOOTBALL:"53",HURLING:"55",SPEEDWAY:"25",FLOORBALL:"15",SPECIALS:"33",TROTTING:"210000128",FUTURE_HORSE_RACING:"210000130",POKER:"45",POOL:"28",US_THOROUGBRED_RACING:"210000136",FUTURE_GREYHOUNDS:"210000138",LOTTERY:"210000141",SPORTS:"210000143",FINNISH_SPECIALS:"210000144",TOTE_POOLS:"210000145",UK_TOTE_RACING:"210000146",OLYMPICS:"79",US_HARNESS_RACING:"210000150",INTERNATIONAL_RULES:"210000151",BOWLS:"8",SPEED_SKATING:"102",WATERPOLO:"37",SWIMMING:"50",SHOWJUMPING:"210000157",PRIDE_FIGHTING:"210000158",SAILING:"97",VOLLEYBALL:"36",CURLING:"11",BADMINTON:"51",FINANCIALS:"210000168",FIELD_HOCKEY:"54",CHESS:"132",CURRENT_AFFAIRS:"41",INDOOR_HOCKEY:"210000179",SPORTS_SPECIALS:"210000182",FUTSAL:"17",SUNBET_SPECIALS:"210000184",NEWS_OF_THE_WORLD_BET_SPECIALS:"210000185",MARTIAL_ARTS:"210000188",BEACH_SOCCER:"7",ANGLING:"14",TABLE_TENNIS:"59",WEATHER:"49",LONDON_2012:"210000195",INDOOR_FOOTBALL:"210000194",ROYAL_ASCOT_SPECIALS:"210000196",DIVING:"72",SQUASH:"131",MMA:"95",NETBALL:"57",SPANISH_SPECIALS:"210000205",POLO:"210000206",EDUCATION:"210000207",AUCTIONS:"210000208",SPECIALS_2015:"210000209",IRISH_ONLY_SHOP_SPECIALS:"210000210",LACROSSE:"56",MOUNTAIN_BIKING:"210000212",CANOEING:"65",KAYAKING:"210000214",SPECIAL_ENHANCEMENTS:"210000215",MOBILE_SPECIALS:"210000216",ARCHERY:"210000217",GYMNASTICS:"108",EQUESTRIAN:"80",WRESTLING:"105",TRIATHLON:"104",PARALYMPICS:"210000222",SHINTY:"149",ROYALTY:"95",VIRTUALS:n,VIRTUALS_BAU:r,VIRTUALS_MARS:o,KICKBOXING:"210000230",FOOTBALL_ENHANCED_PRICE_COUPON:"210000233",BIG_PRICE_LOCK_IN:"210000234",SOFTBALL:"210000236"}}),function(){ko.observable.fn.updateObject=function(e,t,i){var s=this.peek(),r=Object.keys(e||{}),o=Object.keys(s||{}),n=ko.utils.compareArrays(o,r);i||(i=function(e,t){e&&e.update&&e.update(t)});var a=!!n.filter(function(e){return"added"===e.status||"deleted"===e.status}).length;a&&this.valueWillMutate(),ko.utils.arrayForEach(n,function(r){var o=r.value;switch(r.status){case"added":s[o]=t(e[o]);break;case"deleted":delete s[o];break;case"retained":i(s[o],e[o])}}),a&&this.valueHasMutated()}}(),require.register("domain-model/helpers/tracking",function(e,t,i){var s=e("message-bus"),r={ATTRIBUTE:"data-t-position",NAME:"data-t-name"},o={DOCUMENT:9},n={HOME:"Link Home",SECTION:"Link Section",EVENT:"Link Event",SUBTYPE:"Link Sub-Type",TYPE:"Link Type",CLASS:"Link Class",ACCOUNT:"Link Account",HELP:"Link Help",PRODUCT:"Link Product",EXTERNAL:"External Link",OTHER:"Link Other"};i.exports={findPositionClosestOnClick:function(e,t){this.findPositionClosest(t.target)},findPositionHirarchyOnClick:function(e,t){this.findPositionHirarchy(t.target)},findNameClosest:function(e){var t="";if(e)for(var i=e;null!=i&&i.nodeType!==o.DOCUMENT;){if(i.getAttribute(r.NAME)){t=i.getAttribute(r.NAME)+t;break}i=i.parentNode}return t},findPositionClosest:function(e){var t="";if(e)for(var i=e;null!=i&&i.nodeType!==o.DOCUMENT;){if(i.getAttribute(r.ATTRIBUTE)){t=i.getAttribute(r.ATTRIBUTE)+t;break}i=i.parentNode}return t},findPositionHirarchy:function(e){var t="";if(e)for(var i=e;null!=i&&i.nodeType!==o.DOCUMENT;)i.getAttribute(r.ATTRIBUTE)&&(t=t.length>0?"/"+t:t,t=i.getAttribute(r.ATTRIBUTE)+t),i=i.parentNode;return t},findLinkCategory:function(e,t,i,s){var r=n.OTHER,o=new RegExp(/(.*)(help|helpcenter|shops)\.ladbrokes\.com(.*)/);if(i=i&&i.replace(/^https?:\/\//,""),i&&i.indexOf("ladbrokes.com")===-1&&"/"!==i[0])r=n.EXTERNAL;else if(o.test(i)||s.indexOf("footer")!==-1)r=n.HELP;else if(s.indexOf("header/content/logged")>=0)r=n.ACCOUNT;else if(s.indexOf("header/top-menu/products")>=0)r=n.PRODUCT;else{i=i&&i.replace(/^\/(.*)\//,"$1")||"";var a=i&&i.length>1?i.split("/"):["home"];switch(a.length){case 1:r=n.HOME;break;case 2:r=n.SECTION;break;case 3:r=n.CLASS;break;case 4:r=n.TYPE;break;case 5:r=n.SUBTYPE;break;case 6:case 7:r=n.EVENT}}return r},findLinkAction:function(e,t){var i=ko.dataFor(e),s="",r=i&&(i.nameRaw||i.title),o=t&&t.currentTarget&&(t.currentTarget.getAttribute("data-t-name")||t.currentTarget.textContent||t.currentTarget.innerText),n=i&&this.removeUrlProtcol(i.url)||i&&this.removeUrlProtcol(i.href);return r?s=r:o?s=o:n&&(s=n),ko.unwrap(s)},findValue:function(e){return e&&e.currentTarget&&(e.currentTarget.getAttribute("data-t-value")||null)},trackLink:function(e,t,i){var r=this.findPositionHirarchy(t&&t.target);if(r.indexOf("r-sidebar/xsell-module")<0){var o=this.findLinkCategory(e,t,i,r),n=this.findLinkAction(e,t),a=this.findValue(t)||null;s.publish("track:link-action",{category:o,action:n,label:r,value:a})}},removeUrlProtcol:function(e){return e&&e.replace(/^https?:\/\//,"")}}}),require.register("domain-model/helpers/virtual-sports",function(e,t,i){function s(e){return n.sports.forEach(function(t){if(t.id===e)return t.url})}function r(e){if(e===a.VIRTUALS_BAU||e===a.VIRTUALS_MARS)return!0}function o(e){for(var t in n)if(n[t]===e)return!0;return!1}var n={},a=e("domain-model/helpers/sport-types"),l=a.ENV_MARS;l?$.extend(n,{VIRTUAL_HORSES:"285",VIRTUAL_GREYHOUNDS:"286",VIRTUAL_CARS:"288",VIRTUAL_CYCLING:"290",VIRTUAL_FOOTBALL:"287",VIRTUAL_SPEEDWAY:"289",VIRTUAL_HORSES_EXTRA:"879"}):$.extend(n,{VIRTUAL_HORSES:"210000162",VIRTUAL_GREYHOUNDS:"210000164",VIRTUAL_CARS:"210000225",VIRTUAL_CYCLING:"210000226",VIRTUAL_FOOTBALL:"210000227",VIRTUAL_SPEEDWAY:"210000228",VIRTUAL_TENNIS:"210000229"}),n.sports=[{id:n.VIRTUAL_HORSES,sport:"virtuals-horse-racing",url:"betting/virtuals-sport/virtual-horse-racing/"},{id:n.VIRTUAL_CARS,sport:"virtuals-cars",url:"betting/virtuals-sport/virtual-cars/"},{id:n.VIRTUAL_CYCLING,sport:"virtuals-cycling",url:"betting/virtuals-sport/virtual-cycling/"},{id:n.VIRTUAL_FOOTBALL,sport:"virtuals-football",url:"betting/virtuals-sport/virtual-football/"},{id:n.VIRTUAL_SPEEDWAY,sport:"virtuals-speedway",url:"betting/virtuals-sport/virtual-speedway/"},{id:n.VIRTUAL_HORSES_EXTRA,sport:"virtuals-horses-extra",url:"betting/virtuals-sport/virtual-horse-racing2/"},{id:n.VIRTUAL_GREYHOUNDS,sport:"virtuals-greyhounds",url:"betting/virtuals-sport/virtual-greyhounds/"}],n.isVirtualCategory=r,n.isVirtualClass=o,n.getUrlBySportId=s,i.exports=n}),require.register("domain-model/helpers/websocket-error-helper",function(e,t,i){var s="Item does not exist OR it does not fulfill",r="No matching collection found in database";i.exports={objectNotFoundError:function(e){return e&&e.toString().indexOf(s)<0||e.toString().indexOf(r)<0}}}),require.register("domain-model/models/RacingMeeting",function(e,t,i){function s(e,t,i,s,c){var u=this;e=e||{},e.list=e.list||[],this.locale=l,this.disposables=[],this.eventGroupId=e.eventGroupId,this.selectedId=ko.observable(i),this.selectedIds=ko.observable(s),this.title=e.title||"",this.titleAsId=this.title.toLowerCase().trim().split(" ").join("-"),this.ipLocation=n.getCookie("user_location"),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStreams=this.streamAvailableInCountries.indexOf(this.ipLocation)!==-1;var h=e.list&&e.list.length&&e.list[0].event||{},p=h.sport&&h.sport.name||h.sportsBookClass&&h.sportsBookClass.sport&&h.sportsBookClass.sport.name;this.quadpotEventId=ko.observable(e.quadpotEventKey),this.placepotEventId=ko.observable(e.placepotEventKey),this.jackpotEventId=ko.observable(e.jackpotEventKey),this.quadpotMeetingLink=ko.pureComputed(function(){return"/racing/"+n.cleanUrlPart(p)+"/"+n.cleanUrlPart(u.title)+"/uqdp/"+u.quadpotEventId()+"/"}),this.placepotMeetingLink=ko.pureComputed(function(){return"/racing/"+n.cleanUrlPart(p)+"/"+n.cleanUrlPart(u.title)+"/uplp/"+u.placepotEventId()+"/"}),this.jackpotMeetingLink=ko.pureComputed(function(){return"/racing/"+n.cleanUrlPart(p)+"/"+n.cleanUrlPart(u.title)+"/ujkp/"+u.jackpotEventId()+"/"}),this.totePoolsActive=void 0!==c?c:ko.observable(!0),this.meetingLink="/racing/"+n.cleanUrlPart(p)+"/"+n.cleanUrlPart(this.title)+"/build_your_own_racecard/",this.addRacingMeetingEvent=function(e){e=e||{};var t=e.event||{};return new r(t,u.selectedId,u.selectedIds)},this.disposables.push(o.subscribe("event:id",function(e){var t=e.data;t&&u.selectedId(t)})),this._list=ko.observableArray(e.list.map(this.addRacingMeetingEvent)),this.list=ko.computed(function(){return this._list().filter(function(e){return!t||("all"===t()||["UK","IE"].indexOf(e.trackCountry)!==-1)})},this),this.isSelected=ko.computed(function(){return this._list().some(function(e){var t=String(e.id);return u.selectedId()?t===u.selectedId():!!u.selectedIds()&&u.selectedIds().indexOf(t)!==-1})},this),this.checkedEvents=ko.pureComputed(function(){return this.list().filter(function(e){return e.isChecked()}).map(function(e){return{id:e.id,name:u.title,nameDetails:e.name,meeting:{name:u.title,url:u.titleAsId},href:e.href}})},this),this.isCheckedAll=ko.pureComputed({read:function(){var e=this.list().filter(function(e){return!e.finished()});return!!e.length&&e.every(function(e){return e.isChecked()})},write:function(e){this._list().forEach(function(t){t.finished()||t.isChecked(e)})},owner:this}),this.update=function(e){this._list.updateArrayWithOrder(e.list||[],this.addRacingMeetingEvent,"id"),this.quadpotEventId(e.quadpotEventKey),this.placepotEventId(e.placepotEventKey)},this.setGAPosition=ko.pureComputed(function(){var e="";switch(this.eventGroupId){case a.FUTURE_HORSE_RACING:case a.FUTURE_GREYHOUNDS:e="racing-future-module";break;default:e="racing-special-module"}return e},this),this.finished=ko.pureComputed(function(){return this._list().every(function(e){return e.finished()})},this),this.dispose=function(){this.setGAPosition.dispose(),this.isSelected.dispose(),this.checkedEvents.dispose(),this.isCheckedAll.dispose(),this.list.dispose(),this.finished.dispose(),this.disposables.forEach(function(e){e.dispose()})}}var r=e("./RacingMeetingEvent"),o=e("message-bus"),n=e("domain-model/helper"),a=e("domain-model/helpers/sport-types"),l=e("locale");i.exports=s}),require.register("domain-model/models/RacingMeetingEvent",function(e,t,i){function s(e,t,i){var s=this;this.disposables=[],this.id=e.id||0,this.selectedId=ko.observable(ko.unwrap(t)),this.selectedIds=ko.observable(ko.unwrap(i)),this.name=n.getTranslations(e.nameTranslations,[e.name]).replace(/\w,\w/g,", "),this.href=n.getTranslations(e.urlTranslations,[e.url,e.href]),this.ipLocation=n.getCookie("user_location"),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStream=this.streamAvailableInCountries.indexOf(this.ipLocation)!==-1,this.order=ko.observable(e.order),this.siblingToteEventKey=e.siblingToteEventKey||-1,this.disposables.push(o.subscribe("event:id",function(e){var t=e.data;t&&s.selectedId(t)})),this.isSelected=ko.computed(function(){var e=String(this.id);return this.selectedId()?e===this.selectedId():!!this.selectedIds()&&this.selectedIds().indexOf(e)!==-1},this),this.trackCountry=e.trackCountry?e.trackCountry:"NA",this.startTime=e.startTime||0,this.finished=ko.observable(e.finished||!1),this.dateTime=function(){return new moment(this.startTime).format("D/M HH:mm")}.bind(this),this.sportsBookClass=e.sportsBookClass||{},this.sportsBookType=e.sportsBookType||{},this.sport=new r(e.sport||this.sportsBookClass.sport),this.isChecked=ko.observable(!1),this.disposables.push(this.finished.subscribe(function(e){e&&this.isChecked(!1)},this))}var r=e("domain-model/models/sport"),o=e("message-bus"),n=e("domain-model/helper");s.prototype={update:function(e){e=e||{};var t=e.event||{};this.finished(t.finished||!1)},dispose:function(){this.sport.dispose(),this.isSelected.dispose(),this.sport=null,this.disposables.forEach(function(e){e.dispose()})}},i.exports=s}),require.register("domain-model/models/RacingMeetings",function(e,t,i){function s(e,t,i){e=e||[],this.selectedId=t,this.selectedIds=i,this.filter=ko.observable("all"),this.totePoolsActive=ko.observable(!0);var s=e&&e[0]&&e[0].list&&e[0].list[0].event||null;if(s&&s.sportsBookClass&&s.sportsBookClass.sport){var n=s.sportsBookClass.sport;o.isActive(n.id,this.totePoolsActive)}this._meetings=ko.observableArray(e.map(function(e){return new r(e,this.filter,this.selectedId,this.selectedIds,this.totePoolsActive)}.bind(this))),this.isSelected=ko.computed(function(){return this._meetings().some(function(e){return!!e.isSelected&&e.isSelected()})},this),this.hasMeetings=ko.pureComputed(function(){return this._meetings().length},this),this.meetings=ko.pureComputed(function(){return this._meetings().filter(function(e){return e.list().length>0})},this),this.checkedEvents=ko.pureComputed(function(){var e=[];return this._meetings().forEach(function(t){e=e.concat(t.checkedEvents()||[])}),e},this),this.update=function(e){var t=this;e=e||[],this._meetings.updateArrayWithOrder(e,function(e){return new r(e,t.filter,t.selectedId,t.selectedIds)},"eventGroupId")},this.dispose=function(){this.meetings.dispose(),this.isSelected.dispose(),this.checkedEvents.dispose(),this._meeting.forEach(function(e){e.dispose()})}}var r=e("./RacingMeeting"),o=e("tote/tote-cms-helper");i.exports=s}),require.register("domain-model/models/RacingViewModel",function(e,t,i){function s(e,t){r.mixin(this),this.locale=o,this.id=0,this.isReady=ko.observable(),this.sportName=e,this.sportNameTranslated=ko.observable(""),this.nextRaces=ko.observable(null),this.venueLink=n.prototype.venueLink,this.meetings={today:{menuTitle:ko.observable(o.t("racing.today")),title:ko.observable(""),data:ko.observable()},tomorrow:{menuTitle:ko.observable(o.t("racing.tomorrow")),title:ko.observable(""),data:ko.observable()}},this.urlCtx=t,this.totePoolsActive=ko.observable(!1),this.toteScoop6PoolKey=ko.observable(""),this.toteJackpotPoolKey=ko.observable(""),this.toteScoop6Link=ko.pureComputed(function(){return"/"+t.locale+"/racing/"+t.sportName+"/totes/"+this.toteScoop6PoolKey()}.bind(this)),this.toteJackpotLink=ko.pureComputed(function(){return"/"+t.locale+"/racing/"+t.sportName+"/totes/"+this.toteJackpotPoolKey()}.bind(this)),this.specialGroups=this.toDispose(ko.observableArray([])),this.aggAndFavEventGroups=ko.observable(),this.modifiedTitle=function(e,t){return e=ko.unwrap(e).toLowerCase(),t=t.toLowerCase(),e.indexOf(t)>-1?e.replace(t,""):e}}var r=e("gear-disposable-mixin"),o=e("locale"),n=e("domain-model/models/nextRaceViewModel"),a=e("domain-model/models/RacingMeeting"),l=e("domain-model/models/RacingMeetings"),c=e("websocket"),u=e("tote/tote-cms-helper");s.prototype={sortSpecialGroups:function(){this.specialGroups.sort(function(e,t){return e.startTime-t.startTime})},subscribe:function(e,t,i){if(this.id=e,this.isReady(!0),e){var s=c.subscribeWithPromise("today-and-future-races",e,function(e){this.populate(e,t,i),s&&s.initialize(e)}.bind(this),function(e){this.update(e)}.bind(this),function(){}.bind(this),function(){return e}.bind(this));return this.websocketSub=s.subscription||null,s.promise}},unsubscribe:function(){this.websocketSub=c.unsubscribe(this.websocketSub)},populate:function(e,t,i){this.meetings.today.data(new l(e.todaysMeetings||[],t,i)),this.meetings.tomorrow.data(new l(e.tomorrowsMeetings||[],t,i)),this.specialGroups((e.specialGroups||[]).map(function(e){return new a(e,null,t,i)})),this.sortSpecialGroups(),this.aggAndFavEventGroups(e.aggAndFavEventGroups||[]),u.isActive(e.id,this.totePoolsActive),this.toteScoop6PoolKey(e.scoop6PoolKey)},update:function(e){var t=function(e,t){t=t||[],e()&&e().update?e().update(t):e(new l(t))};t(this.meetings.today.data,e.todaysMeetings),t(this.meetings.tomorrow.data,e.tomorrowsMeetings),this.specialGroups.updateArrayWithOrder(e.specialGroups||[],function(e){return new a(e)},"eventGroupId"),this.sortSpecialGroups(),this.aggAndFavEventGroups(e.aggAndFavEventGroups||[]),u.isActive(e.id,this.totePoolsActive),this.toteScoop6PoolKey(e.scoop6PoolKey)},dispose:function(){this.unsubscribe(),this.id=0}},i.exports=s}),require.register("domain-model/models/competition-group",function(e,t,i){function s(e){var t=this;this.href=e.href,this.deepLinkHref=e.deepLinkHref,this.order=e.sortOrder,this.title=e.title,this.countItems=0,this.isOneLevelClass=e.oneLevelClass,this.competitions=ko.utils.arrayMap(e.list,function(e){return e.event||t.countItems++,new r(e)}),this.id=e.id,this.titleCount=function(){return t.countItems}}var r=e("./competition"),o=e("router");s.prototype={urlNamePart:function(){var e=this.href.split("/");return e[e.length-2]},isActive:function(e){if(this.urlNamePart()===e)return!0;var t=this.href.split("/");return t[t.length-3]===e||t[t.length-5]===e},dispose:function(){this.competitions.forEach(function(e){e.dispose()})},update:function(e){},activate:function(e){(window.location.href.indexOf(this.href)===-1||e)&&o.navigate(this.href)},activateByClick:function(e){(window.location.href.indexOf(this.deepLinkHref)===-1||e)&&o.navigate(this.deepLinkHref)}},i.exports=s}),require.register("domain-model/models/competition",function(e,t,i){function s(e){this.order=e.meta,this.title=e.text,this.href=e.href,this.deepLinkHref=e.deepLinkHref,this.id=e.id||e.typeId,this.event=e.event||!1}s.prototype={urlParentPart:function(){var e=this.href.split("/");return e[e.length-3]},urlNamePart:function(){var e=this.href.split("/");return e[e.length-2]},isActive:function(e){if(this.urlNamePart()===e)return!0;var t=this.href.split("/");return t[t.length-4]===e},dispose:function(){},update:function(e){}},i.exports=s}),require.register("domain-model/models/coupon",function(e,t,i){function s(e){e=e||{},this.events=ko.observableArray(ko.utils.arrayMap(e.events,function(e){return new r(e)})),this.key=e.id||"",this.name=e.nameTranslations&&e.nameTranslations.translations&&e.nameTranslations.translations[o.value()]||e.nameTranslations.unpiped||"",this.nameRaw=e.nameTranslations&&(e.nameTranslations.unpiped||e.nameTranslations.raw)||"",this.order=e.order||0,this.href=e.urlTranslations&&e.urlTranslations.translations&&e.urlTranslations.translations[o.value()]||e.urlTranslations.unpiped||"",this.sport=e.sport&&{name:n.getTranslations(e.sport.nameTranslations),url:n.getTranslations(e.sport.urlTranslations)}}var r=e("domain-model/models/event"),o=e("locale"),n=e("domain-model/helper");s.prototype={urlNamePart:function(e){e=e||this.href;var t=e.split("/");return t[t.length-2]},update:function(e){this.events.updateArrayWithOrder(e.coupon.events||[],function(e){return new r(e)},"id")},dispose:function(){this.events.dispose()}},i.exports=s}),require.register("domain-model/models/event-group-list-se",function(e,t,i){function s(e){var t=!1;this.deferred=$.Deferred(),this.populated=ko.observable(!1),this._eventGroups=ko.observableArray(),this._eventGroups.extend({rateLimit:1}),this.eventGroups=ko.computed(function(){var e=this._eventGroups().filter(function(e){return e.initialized()}).sort(this.sortEventGroups);return e},this).extend({rateLimit:1}),this.isReady=ko.computed(function(){var e,i;return!!t||(e=this.populated()&&this._eventGroups().every(function(e){return e.initialized()!==!1}),i=this._eventGroups().every(function(e){return"failed"===e.initialized()}),e=e?i?"rejected":e:null,e&&(this.deferred.resolve(),t=!0),e)},this)}var r=e("domain-model/models/event-group-se");s.prototype={isLoaded:function(){return this.deferred.promise()},convertMapping:function(e){return e=e||[],e=e.map(function(e){return{id:e.id||e._id||""}})},dispose:function(){this._eventGroups.dispose(),this.eventGroups.dispose(),this._eventGroups.removeAll(),this.isReady&&this.isReady.dispose()},sortEventGroups:function(e,t){return e.sortOrder-t.sortOrder},getEventGroupList:function(e){return e.filter(function(e){return e.initialized()})},update:function(e){e=this.convertMapping(e),this._eventGroups.updateArrayWithOrder(e||[],function(e){return new r(e.id)},"id",function(e,t){}),this._eventGroups.sort(this.sortEventGroups)},populate:function(e){return this._eventGroups.dispose(),this.populated(!1),e=this.convertMapping(e),this._eventGroups((e||[]).map(function(e){return new r(e.id)})),this.populated(!0),this.isLoaded()}},i.exports=s}),require.register("domain-model/models/event-group-list",function(e,t,i){function s(e,t){this.eventGroups=ko.observableArray(),this.eventGroups.extend({rateLimit:1}),this.populate(e,t)}var r=e("domain-model/models/event-group"),o=e("lazy-populate");s.prototype={dispose:function(){this.eventGroups.dispose(),this.lazyPopulateArray&&this.lazyPopulateArray.dispose()},update:function(e){e=e||[],this.eventGroups.updateArrayWithOrder(e||[],function(e){return new r(e)},"eventGroupId")},populate:function(e,t){this.dispose(),e=e||[],this.lazyPopulateArray=o(this.eventGroups,e,3,120,function(e){return new r(e)},t)}},i.exports=s}),require.register("domain-model/models/event-group-se",function(e,t,i){function s(e){this.id=e,this.initialized=ko.observable(!1),this.subscribeInstance=null,this.hasSubscribed=!1,this.list=ko.observableArray(),this.list.extend({rateLimit:1}),this.subscribe()}var r=e("domain-model/models/event-list-item"),o=e("domain-model/helper"),n=e("websocket"),a=e("locale");s.prototype={subscribe:function(){this.hasSubscribed||(this.hasSubscribed=!0,this.subscribeInstance=n.subscribe("event-groups",this.id,function(){return this.initialized()}.bind(this),function(e){this.populate(e),this.initialized(!0)}.bind(this),function(e){this.update(e)}.bind(this),function(){return this.hasSubscribed}.bind(this)))},unsubscribe:function(){this.hasSubscribed&&(n.unsubscribe(this.subscribeInstance.subscription),this.hasSubscribed=!1)},convertMapping:function(e){return e.topMarketNames&&(e.topMarketNames=(e.topMarketNames||[]).map(function(e){return e.split(":").join(".")})),e.list=(e.list||[]).map(function(e){var t=a.value();return e.event.participants=(e.event.participants||[]).map(function(e){return e.nameTranslations?{id:e.nameTranslations.unpiped||e.nameTranslations.translations[t],name:o.getTranslations(e.nameTranslations),nameRaw:e.nameTranslations.unpiped||e.nameTranslations.translations[t]}:e}),e.event.participants=e.event.participants.length?e.event.participants:void 0,e.topMarkets&&Object.keys(e.topMarkets).forEach(function(t){var i=t.split(":").join(".");e.topMarkets[i]=e.topMarkets[t],delete e.topMarkets[t]}),e}),e},populate:function(e){this.cleanUp(),e=this.convertMapping(e),this.title=o.getTranslations(e.titleTranslations),this.rawTitle=e.titleTranslations.raw||"",this.eventGroupId=e.eventGroupId||"",this.dynamicLoadHref=e.dynamicLoadHref||"",this.showAllHref=e.showAllHref||"",this.date=e.date||"",this.showExpanded=e.showExpanded||e.expanded||!0,this.maximumNumberOfEventsToShow=e.maximumNumberOfEventsToShow||e.displayLimit,this.sortOrder=e.sortOrder||0,this.ipLocation=o.getCookie("user_location"),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStreams=ko.observable(this.streamAvailableInCountries.indexOf(this.ipLocation)>-1),this.listCount=e.listCount||0,this.topMarketNames=e.topMarketNames||[],this.unfilteredListSize=e.unfilteredListSize||0,this.eventLimit=e.eventLimit||0,this.list((e.list||[]).map(function(e){return new r(e)}))},cleanUp:function(){this.list().forEach(function(e){e.dispose()}),this.list.removeAll()},dispose:function(){this.cleanUp(),this.unsubscribe()},update:function(e){e=this.convertMapping(e),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStreams(this.streamAvailableInCountries.indexOf(this.ipLocation)>-1),this.list.updateArrayWithOrder(e.list||[],function(e){return new r(e)},"id")}},i.exports=s}),require.register("domain-model/models/event-group",function(e,t,i){function s(e,t){this.list=ko.observableArray(),this.list.extend({rateLimit:1}),this.populate(e,t)}var r=e("domain-model/models/event-list-item"),o=e("lazy-populate"),n=e("domain-model/helper");s.prototype={populate:function(e,t){this.dispose(),e=e||{},this.title=e.title||"",this.rawTitle=e.rawTitle||"",this.eventGroupId=e.eventGroupId||"",this.dynamicLoadHref=e.dynamicLoadHref||"",this.showAllHref=e.showAllHref||"",this.date=e.date||"",this.showExpanded=e.showExpanded||e.expanded||!0,this.maximumNumberOfEventsToShow=e.maximumNumberOfEventsToShow||e.displayLimit,this.sortOrder=e.sortOrder||0,this.ipLocation=n.getCookie("user_location"),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStreams=ko.observable(this.streamAvailableInCountries.indexOf(this.ipLocation)>-1),this.listCount=e.listCount||0,this.topMarketNames=e.topMarketNames||[],this.unfilteredListSize=e.unfilteredListSize||0,this.lazyPopulateArray=o(this.list,e.list||[],20,400,function(e){return new r(e)},t)},dispose:function(){this.lazyPopulateArray&&this.lazyPopulateArray.dispose(),this.list().forEach(function(e){e.dispose()}),this.list.removeAll()},update:function(e){this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStreams(this.streamAvailableInCountries.indexOf(this.ipLocation)>-1),this.list.updateArrayWithOrder(e.list||[],function(e){return new r(e)},"id")}},i.exports=s}),require.register("domain-model/models/event-list-item",function(e,t,i){function s(e){e=e||{},this.id=e.id,this.reassembleSoccerStats(e),
this.event=new r(e.event),this.index=ko.observable(e.index?parseInt(e.index):void 0),this.topMarkets=ko.observable(null),e.topMarkets&&(this.topMarkets({}),this.topMarkets.updateObject(e.topMarkets,function(e){return new n(e,this.event)}.bind(this))),this.ipLocation=o.getCookie("user_location"),this.hasStream=this.event.streamAvailableInCountries.indexOf(this.ipLocation)>-1}var r=e("domain-model/models/event"),o=e("domain-model/helper"),n=e("domain-model/models/market");s.prototype={dispose:function(){if(this.event.dispose(),null!==this.topMarkets())for(var e in this.topMarkets())this.topMarkets().hasOwnProperty(e)&&this.topMarkets()[e].dispose()},reassembleSoccerStats:function(e){e.event&&e.event.inplay&&(e.soccerPeriod&&(e.event.inplay.period=e.soccerPeriod),e.clockStatus&&(e.event.inplay.clockStatus=e.clockStatus))},update:function(e){this.reassembleSoccerStats(e),this.event.update(e.event),this.index(e.index?parseInt(e.index):void 0),e.topMarkets?(null===this.topMarkets()&&this.topMarkets({}),this.topMarkets.updateObject(e.topMarkets,function(e){return new n(e,this.event)}.bind(this))):this.topMarkets(null)}},i.exports=s}),require.register("domain-model/models/event",function(e,t,i){function s(e){var t=this;e=e||{},this.canBeInplay=e.canBeInplay||!1,this.correctAtTimestamp=e.correctAtTimestamp||"",this.displayStatus=ko.observable(e.displayStatus||""),this.displayTwoCricketInnings=e.displayTwoCricketInnings||!1,this.distance=e.distance||"",this.finished=e.finished||!1,this.going=e.going||"",this.ipLocation=c.getCookie("user_location"),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStream=ko.observable(this.streamAvailableInCountries.indexOf(this.ipLocation)!==-1),this.homeAwayKey=e.homeAwayKey||"",this.href=h(e),this.id=e.id||"",this.inplayAvailable=e.inplayAvailable||!1,this.inplayDetail=e.inplayDetail||"",this.inplayNow=ko.observable(e.eventIsInPlayNow||!1);var i=e.inplay||{};this.inplay=ko.observable(i),this.scoreH=ko.observable(i.score?i.score[0]:""),this.scoreA=ko.observable(i.score?i.score[1]:""),this.marketCount=ko.observable(parseInt(e.marketCount,10)||0),this.nameTranslations=l(e.nameTranslations),this.name=ko.observable(this.nameTranslations.value||""),this.nameRaw=this.nameTranslations.raw||"",this.order=parseInt(e.order,10)||0,this.raceDescription=e.raceDescription||"",this.raceType=e.raceType||"",this.resulted=e.resulted||!1,this.resultedTime=e.resultedTime||"",this.runners=e.runners||[],this.settled=e.settled||!1,this.settledTime=e.settledTime||"",this.soccerStats=e.soccerStats||"",this.sportsBookType=e.sportsBookType||{},this.sportsBookClass=e.sportsBookType&&this.sportsBookType.sportsBookClass||e.sportsBookClass||{},this.sport=new n(this.sportsBookClass.sport||e.sport),this.startTime=ko.observable(e.startTime),this.started=e.started||!1,this.participants=e.participants,this.status=e.status||"",this.stats=ko.observable(!!e.stats&&new o(e.stats)),this.subTypeDisplayOrder=parseInt(e.subTypeDisplayOrder,10)||0,this.suspendedAtDateTime=e.suspendedAtDateTime||"",this.willBeInplay=e.willBeInplay||!1,this.scoreTitle=ko.observable(a.t("eventGroup.cricket.first")||""),this.hasScoreboard=ko.observable(e.hasScoreboard||!1),this.displayTwoCricketInnings=ko.observable(e.displayTwoCricketInnings||!1),e.mainMarket&&null!==e.mainMarket&&(e.markets||(e.markets=[e.mainMarket])),this.markets=ko.observableArray(ko.utils.arrayMap(e.markets,function(e){return new r(e,t)})),this.markets.extend({rateLimit:1}),this.mainMarket=new r(e.mainMarket,this),this.nextRaceMarket=ko.pureComputed(function(){return this.markets().slice(0,1)||[]},this),this.marketsOrMainMarket=ko.pureComputed(s.prototype.marketsOrMainMarket,this),this.showScoreTitle=ko.observable(!1),this.homeTeamScore=ko.computed(this.getHomeTeamScore,this),this.homeTeamScore.extend({rateLimit:1}),this.awayTeamScore=ko.pureComputed(this.getAwayTeamScore,this),this.awayTeamScore.extend({rateLimit:1}),this.dateTime=ko.computed(function(){var e=t.startTime();return t.inplayNow()&&t.inplay()?null===t.inplay().timeElapsedString?"":t.gameStatus(!1,!1):e?moment(e).format("D/M<br>HH:mm"):""},this),this.teamsName=function(){var e,t=/(.*)(<b>.*<\/b>)(.*)/i,i=!1,s="",r="";return this.participants?(s=this.participants[0].name,r=this.participants[1].name,i=!0):(e=t.exec(ko.unwrap(this.name)),e&&4===e.length&&(s=e[1],r=e[3],i=!0)),!!i&&{home:s,away:r}}.bind(this)(),t.displayed=ko.pureComputed(function(){return"DISPLAYED"===t.displayStatus()})}var r=e("./market"),o=e("./stats"),n=e("./sport"),a=e("locale"),l=e("translated-property"),c=e("domain-model/helper"),u=e("domain-model/helpers/sport-types"),h=function(e){var t=c.getTranslations(e.urlTranslations,[e.url,e.href]);return t=t?t.replace(/\/[a-z]*-[a-z]*/,""):""};s.prototype={getSeparateClocks:function(e,t){var i;switch(t){case 1:i=45;break;case 2:i=90;break;case 3:i=105;break;case 4:i=120}return{stoppageTime:Math.max(e-i,0),mainClock:e<=i?e:i}},gameStatus:function(e,t){var i=parseInt(this.inplay().period,10),s=parseInt(this.inplay().timeElapsedString&&this.inplay().timeElapsedString.split(":")[0],10),r=this.sport.nameRaw;return this.gameStatusFromData(e,t,r,i,s)},showScoreTemplate:function(){return this.participants&&this.inplayNow&&this.inplay()&&this.inplay().score&&this.inplay().score.length>=2&&(this.sport&&this.sport.id===u.CRICKET||""!==this.inplay().score[0]&&""!==this.inplay().score[1])&&this.stats()},gameStatusFromData:function(e,t,i,s,r){if("Football"===i){if(isNaN(r))return"";var o=this.getSeparateClocks(r,s),n="",l=a.t("js.controller.minute"),c=a.t("generic.minutesShort");"'"!==c&&(c=" "+c),t&&(c=l);var u=o.stoppageTime?" + "+o.stoppageTime+l:c;switch(s){case 1:n=e?a.t("js.controller.1st-half")+" ":"";break;case 2:n=e?a.t("js.controller.2nd-half")+" ":"";break;case 3:n=e?a.t("js.controller.et-1")+" ":"";break;case 4:n=e?a.t("js.controller.et-2")+" ":"";break;case 5:n=e?a.t("js.controller.penalties")+" ":"";break;case 6:n=a.t("js.controller.half-time"),o.mainClock="",u="";break;case 7:n=a.t("js.controller.full-time"),o.mainClock="",u="";break;case 8:n=a.t("js.controller.et-half-time"),o.mainClock="",u="";break;case 9:n=a.t("js.controller.et-full-time"),o.mainClock="",u=""}return"undefined"==typeof o.mainClock?"":n+o.mainClock+u}return""},marketsOrMainMarket:function(){return this.markets().length?this.markets():this.mainMarket.selections().length?[this.mainMarket]:[]},getHomeTeamScore:function(){var e=ko.unwrap(this.stats),t=this.sport&&this.sport.nameRaw&&this.sport.nameRaw.toLowerCase(),i=this;return"cricket"===t&&i.displayTwoCricketInnings&&i.showScoreTitle(!0),"cricket"===t&&e&&(e.innings2ScoreA()||e.innings2ScoreB())?(i.scoreTitle(a.t("eventGroup.cricket.second")),e.innings2ScoreA()):this.scoreH()},getAwayTeamScore:function(){var e=ko.unwrap(this.stats),t=this.sport&&this.sport.nameRaw&&this.sport.nameRaw.toLowerCase();return"cricket"===t&&e&&(e.innings2ScoreA()||e.innings2ScoreB())?e.innings2ScoreB():this.scoreA()},dispose:function(){this.stats()&&this.stats().dispose&&this.stats().dispose(),this.nextRaceMarket.dispose(),this.markets.dispose(),this.mainMarket.dispose(),this.marketsOrMainMarket.dispose(),this.homeTeamScore.dispose(),this.awayTeamScore.dispose(),this.dateTime.dispose()},update:function(e){var t=this;e=e||{};var i=e.inplay||{};this.inplay(i),this.scoreH(i.score?i.score[0]:""),this.scoreA(i.score?i.score[1]:""),this.displayStatus(e.displayStatus||""),!e.nameTranslations&&void 0,this.nameTranslations.update(e.nameTranslations),this.name(this.nameTranslations.value||""),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStream(this.streamAvailableInCountries.indexOf(this.ipLocation)!==-1),this.startTime(e.startTime),this.inplayNow(e.eventIsInPlayNow||!1),this.marketCount(parseInt(e.marketCount,10)||0),e.mainMarket&&null!==e.mainMarket&&(e.markets||(e.markets=[e.mainMarket])),this.mainMarket.update(e.mainMarket),this.markets.updateArrayWithOrder(e.markets||[],function(e){return new r(e,t)},"id"),this.hasScoreboard(e.hasScoreboard),e.stats?this.stats()?this.stats().update(e.stats):this.stats(new o(e.stats)):this.stats(!1),this.sportsBookType=e.sportsBookType||{},this.sportsBookClass=e.sportsBookType&&this.sportsBookType.sportsBookClass||e.sportsBookClass||{},this.sport.update(this.sportsBookClass.sport||e.sport)}},i.exports=s}),require.register("domain-model/models/heroMvpViewModel",function(e,t,i){function s(e){this.banners=ko.observableArray(e.banners||[]),this.rotationPeriod=ko.observable(e.delay),this.classNames=e.classNames||"banner-placeholder"}function r(e,t){if(t){var i,s=e.img.indexOf("#ALT:"),r=s>-1?e.img.substring(0,s):e.img,o=/media\.ladbrokes\.com\/Nelson\/(.*)/,n=o.test(r)?r.match(o)[1]:r,a=n.match(/.*\/([^\.]*)/)[1],u=e.url,h=/^https?:\/\/([^\/]*)/,p="Promotion",d="Sports",m=l.findPositionHirarchy(t.target);if(h.test(u)){var f=u.match(h)[1],v=/([^\/]*)\.ladbrokes\.com/;u.indexOf("/betexchange")>-1?(d="Exchange",p="X-Sell"):v.test(f)?(d=f.match(v)[1].replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),p="Sports"===d?"Promotion":"X-Sell"):(d=u,p="Other Promotion")}i=d+" - "+a,c.publish("track:promotion",{category:p,action:i,label:m,type:d,promotion:a,creative:n})}}var o=e("utils/url"),n=e("domain-model/helper"),a=e("betslip"),l=e("domain-model/helpers/tracking"),c=e("message-bus");s.prototype={bannerOnClick:function(e,t){r(e,t);var i,s,l;return e.type&&"bet"===e.type&&(t.stopPropagation(),t.preventDefault(),e.selectionid?l=e.selectionid:(i=o.parse(e.url),s=n.queryStringToHash(i.querystring),l=s&&s.selection?s.selection:0),a.service.addSelectionById(l.toString().trim())),!0},setup:function(e,t){this.rotationPeriod(e.delay||0),this.banners(t)},dispose:function(){this.banners.dispose()}},i.exports=s}),require.register("domain-model/models/market-group",function(e,t,i){function s(e,t){e=e||{},this.id=e.id,this.marketGroupType=e.marketGroupType||"",this.nameTranslations=o(e.nameTranslations||{}),this.name=e.name||this.nameTranslations.value,this.translationKey=e.translationKey||"",this.trackingName=e.trackingName||"",this.market=new r(e.market,t)}var r=e("domain-model/models/market"),o=e("translated-property");s.prototype={dispose:function(){this.market.dispose()},update:function(e){this.market.update(e.market)}},i.exports=s}),require.register("domain-model/models/market",function(e,t,i){function s(e,t){var i=this;e=e||{},this.allSelectionsHasSort=e.allSelectionsHasSort||!1,this.betInPlay=e.betInPlay||!1,this.birIndex=ko.observable(e.birIndex||""),this.blurb=ko.observable(e.blurb||""),this.correctScoreSelections=e.correctScoreSelections||"",this.couponMarketType=e.couponMarketType||"",this.eachWayAvailable=ko.observable(e.eachWayAvailable||!1),this.eachWayFactor=ko.observable(e.eachWayFactor||""),this.eachWayNumerator=ko.observable(e.eachWayNumerator||e.placeNumerator),this.eachWayDenominator=ko.observable(e.eachWayDenominator||e.placeDenominator),this.eachWayFactorDecimal=ko.observable(e.eachWayFactorDecimal||""),this.eachWayPlaces=ko.observable(e.eachWayPlaces||""),this.eventId=parseInt(e.eventId,10)||0,this.forecastMarket=e.forecastMarket||!1,this.handicapMarket=e.handicapMarket||!1,this.handicapRawOpenbet=ko.observable(e.handicapRawOpenbet||""),this.handicapParsed=ko.observable(e.handicapParsed||""),this.id=e.id||"",this.inplayAvailable=e.inplayAvailable||!1,this.listSupported=e.listSupported||!1,this.livePriceAvailable=e.livePriceAvailable||!1,this.marketGroups=e.marketGroups||[],this.marketSort=e.marketSort||"",this.marketMinorCode=e.marketMinorCode||"",this.maxAcc=e.maxAcc||0,this.minAcc=e.maxAcc||0,this.nCastDividendList=e.nCastDividendList||"",this.nameTranslations=o(e.nameTranslations||{}),this.name=this.nameTranslations.value||"",this.nameRaw=this.nameTranslations.raw||"",this.order=parseInt(e.order,10)||0,this.overUnderValue=parseInt(e.overUnderValue,10)||0,this.placeDenominator=parseInt(e.placeDenominator,10)||0,this.placeNumerator=parseInt(e.placeNumerator,10)||0,this.priceGuaranteed=e.priceGuaranteed||!1,this.rule4List=parseInt(e.rule4List,10)||0,this.rule4Warning=e.rule4Warning||!1,this.shouldShowBlurb=e.shouldShowBlurb||!1,this.spAvailable=e.spAvailable||!1,this.status=e.status||"",this.blurbTranslations=o(e.blurbTranslations||{}),this.tricastMarket=e.tricastMarket||!1,this.isCashOutAvailable=e.isCashOutAvailable||!1,this.isGpAvailable=e.isGPAvailable||!1,this.event=t,this.correctScore1Selections=ko.observableArray(ko.utils.arrayMap(e.correctScore1Selections,function(e){return new r(e,i)})),this.correctScoreXSelections=ko.observableArray(ko.utils.arrayMap(e.correctScoreXSelections,function(e){return new r(e,i)})),this.correctScore2Selections=ko.observableArray(ko.utils.arrayMap(e.correctScore2Selections,function(e){return new r(e,i)})),this.selections=ko.observableArray(ko.utils.arrayMap(e.selections,function(e){return new r(e,i)})),this.showMore=ko.observable(!1),this.title=ko.pureComputed(s.prototype.titleCal,this)}var r=e("./selection"),o=e("translated-property");s.prototype={titleCal:function(){return this.name},dispose:function(){this.title.dispose(),this.selections.dispose(),this.selectionsWithLimit&&this.selectionsWithLimit.dispose()},update:function(e){var t=this;e=e||{},this.handicapRawOpenbet(e.handicapRawOpenbet),this.handicapParsed(e.handicapParsed),this.blurb(e.blurb||""),this.birIndex(e.birIndex||""),this.blurbTranslations.update(e.blurbTranslations),this.nameTranslations.update(e.nameTranslations),this.eachWayAvailable(e.eachWayAvailable||!1),this.eachWayFactor(e.eachWayFactor||""),this.eachWayNumerator(e.eachWayNumerator||e.placeNumerator),this.eachWayDenominator(e.eachWayDenominator||e.placeDenominator),this.eachWayFactorDecimal(e.eachWayFactorDecimal||""),this.eachWayPlaces(e.eachWayPlaces||""),this.selections.updateArrayWithOrder(e.selections||[],function(e){return new r(e,t)},"id")}},i.exports=s}),require.register("domain-model/models/nextRaceViewModel",function(e,t,i){function s(e){this.id=e,this.isActive=!0,this.events=ko.observableArray(),this.initialized=ko.observable(null),this.silkUrls=ko.observable(),this.silkUrl=function(e,t){var i="/img/generic/icons/silk.png",s="",r=this.silkUrls();return t&&r&&r[e]&&r[e][o.cleanPropertyName(t.name)]&&(s=r[e][o.cleanPropertyName(t.name)]),i=s?s:i}.bind(this),this.filteredSelections={21:function(e){var t=[];return e.forEach(function(e){"ACTIVE"===e.status&&e.prices().length>0&&t.push(e)}.bind(this)),t.sort(o.byOddsSortFunction(!0)),t.slice(0,3)},19:function(e){var t=[],i=0;return e.forEach(function(e){"ACTIVE"===e.status&&i<8&&(t.push(e),i++)}.bind(this)),t.sort(o.byOddsSortFunction(!0)),t}}}var r=e("message-bus"),o=e("domain-model/helper"),n=e("domain-model/models/event"),a=e("domain-model/helpers/sport-types"),l=e("websocket"),c=e("translated-property"),u=function(e,t){if(t=t||{},e===a.HORSE_RACING)for(var i in t)t.hasOwnProperty(i)&&t[i]?t[i]=o.fixPropertyNames(t[i]):delete t[i];return t};s.prototype={venueLink:function(e){return"/racing/"+o.cleanUrlPart(e.sport.name)+"/"+o.cleanUrlPart(e.sportsBookClass.name)+"/"+o.cleanUrlPart(e.sportsBookType.name)+"/"+o.cleanUrlPart(e.name)+"/"+e.id+"/"},subscribe:function(){var e=l.subscribeWithPromise("next-races",this.id,function(t){this.initialized(!0),this.populate(t),r.publish("next-races:loaded"),e&&e.initialize()}.bind(this),function(e){this.update(e)}.bind(this),function(){this.unsubscribe(),this.initialized(null)}.bind(this),function(){return this.isActive}.bind(this));this.websocketSub=e.subscription||null},unsubscribe:function(){this.websocketSub=l.unsubscribe(this.websocketSub)},getRaceEvent:function(e){return new n(e)},populate:function(e,t){e=e||{},this.silkUrls(u(this.id,e.silkUrls||{})),e.raceEvents=e.raceEvents||[],this.addNamePropertiesToSportsBookType(e.raceEvents);var i=e.raceEvents.map(this.getRaceEvent);this.events.push.apply(this.events,i),t&&t(e)},addNamePropertiesToSportsBookType:function(e){e&&e.forEach(function(e){var t=c(e.sportsBookType.nameTranslations);e.sportsBookType.nameTranslations=t,e.sportsBookType.name=t.get()})},update:function(e,t){var i=this;e=e||{},i.addNamePropertiesToSportsBookType(e.raceEvents),i.silkUrls.updateObject(u(i.id,e.silkUrls||{}),function(e){return e}),i.events.updateArrayWithOrder(e.raceEvents||[],this.getRaceEvent,"id"),t&&t(e)},dispose:function(){this.unsubscribe&&this.unsubscribe(),this.events&&this.events.dispose(),this.isActive=!1}},i.exports=s}),require.register("domain-model/models/price",function(e,t,i){function s(e){e=e||{},this.betRef=ko.observable(e.betRef),this.decimalOdds=ko.observable(parseFloat(e.decimalOdds)?o.toFixed(parseFloat(e.decimalOdds),2):e.decimalOdds),this.denominator=ko.observable(e.denominator),this.fractionalOdds=ko.observable(e.fractionalOdds),this.lastChange=ko.observable(e.lastChange),this.numerator=ko.observable(e.numerator),this.usPrc=ko.observable(e.usPrc),this.active=ko.observable(!1),this.priceType=e.priceType,this.odds=ko.computed(s.prototype.oddsCalc,this),this.odds.extend({rateLimit:1})}var r=e("authentication/user"),o=e("domain-model/helper"),n=e("locale");s.prototype={oddsCalc:function(){var e=this.decimalOdds(),t="1/1"!==this.fractionalOdds()?this.fractionalOdds():n.t("selection.button.evens");return"decimal"!==r.oddsDisplay()?t:e},dispose:function(){this.odds.dispose()},update:function(e){e=e||{},this.betRef(e.betRef),this.decimalOdds(parseFloat(e.decimalOdds)?o.toFixed(parseFloat(e.decimalOdds),2):e.decimalOdds),this.denominator(e.denominator),this.fractionalOdds(e.fractionalOdds),this.lastChange(e.lastChange),this.numerator(e.numerator),this.usPrc(e.usPrc)}},i.exports=s}),require.register("domain-model/models/selection",function(e,t,i){function s(e,t){var i=this;e=e||{},this.bettable=ko.observable(e.bettable||!1),this.favourite=e.favourite||!1,this.handicap=ko.observable(e.handicap||""),t&&(this.rawHandicap=t.handicapRawOpenbet||""),this.handicapDisplay=ko.pureComputed(function(){return o.handicapFormat(i.handicap(),t.marketMinorCode)}),this.handicapDisplay.extend({rateLimit:1}),this.previousPriceDec=ko.observable(e.prevPriceDec||""),this.previousPriceFrac=ko.observable(e.prevPriceFrac||""),this.previousPrice=ko.pureComputed(function(){return"decimal"===n.oddsDisplay()||"XW"===t.marketMinorCode?i.previousPriceDec():i.previousPriceFrac()}),this.id=e.id||"",this.nameTranslations=a(e.nameTranslations),this.name=this.nameTranslations.value||"",this.nameRaw=this.nameTranslations.raw||"",this.nonRunner=e.nonRunner||!1,this.number=parseInt(e.number,10)||0,this.order=parseInt(e.order,10)||0,this.numberOfLines=1,this.prices=ko.observableArray(ko.utils.arrayMap(e.prices||[],function(e){return new r(e)})),this.prices.extend({rateLimit:1}),this.firstPrice=ko.pureComputed(function(){return this.prices().slice(0,1)||[]},this),this.result=e.result||"",this.resultPlace=parseInt(e.resultPlace,10)||0,this.rule4=e.rule4||{},this.runner=e.runner||{},this.selectionGroupId=parseInt(e.selectionGroupId,10)||0,this.sort=e.sort||"",this.status=e.status||"",this.outcomeId=e.outcomeId||"",this.secondaryScorecastOutcomeId=e.secondaryScorecastOutcomeId||"",this.scorecastScorer=e.scorecastScorer||"",this.market=t,e.maxAcc&&(this.maxAcc=e.maxAcc),this.getTitle=ko.pureComputed(s.prototype.getTitle,this),this.getTitle.extend({rateLimit:1})}var r=e("./price"),o=e("../helper"),n=e("authentication/user"),a=e("translated-property");s.prototype={getTitle:function(){var e=this.nameTranslations.get();return""!==this.handicap()?e+" "+this.handicap():e},dispose:function(){this.firstPrice.dispose(),this.getTitle.dispose(),this.prices.dispose()},comparePriceType:function(e,t){return"LIVE_PRICE"===e.priceType?0:1},update:function(e){this.bettable(e.bettable),this.handicap(e.handicap||""),this.previousPriceDec(e.prevPriceDec||""),this.previousPriceFrac(e.prevPriceFrac||""),!e.nameTranslations&&void 0,this.nameTranslations.update(e.nameTranslations);var t=e.prices||[];t.length>1&&(t=t.sort(this.comparePriceType)),this.prices.updateArrayWithOrder(t,function(e){return new r(e)},"priceType")}},i.exports=s}),require.register("domain-model/models/sport",function(e,t,i){function s(e){e=e||{},this.populate(e)}s.prototype={populate:function(e){e=e||{};var t=(e.href||"").split("/")||[];this.hasEvents=e.hasEvents||!1,this.id=parseInt(e.id,10)||0,this.kind=e.kind||"",this.name=e.name||"",this.nameRaw=e.nameRaw||"",this.order=parseInt(e.order,10)||0,this.sportCode=parseInt(e.sportCode,10)||0,this.href=e.href||e.url||"",this.className=this.nameRaw.replace(" ","-"),this.nameFromHref=t[3]?t[3]:this.name},update:function(e){this.populate(e)},dispose:function(){}},i.exports=s}),require.register("domain-model/models/stats",function(e,t,i){function s(e){var t=this;e=e||{},t.delimiter=ko.observable(e.delimiter||""),t.gameScoreA=ko.observable(e.gameScoreA||""),t.gameScoreB=ko.observable(e.gameScoreB||""),t.innings1ScoreA=ko.observable(e.innings1ScoreA||""),t.innings1ScoreB=ko.observable(e.innings1ScoreB||""),t.innings2ScoreA=ko.observable(e.innings2ScoreA||""),t.innings2ScoreB=ko.observable(e.innings2ScoreB||""),t.nameA=ko.observable(e.nameA||""),t.nameB=ko.observable(e.nameB||""),t.period=ko.observable(e.period||0),t.period1ScoreA=ko.observable(e.period1ScoreA||""),t.period1ScoreB=ko.observable(e.period1ScoreB||""),t.period2ScoreA=ko.observable(e.period2ScoreA||""),t.period2ScoreB=ko.observable(e.period2ScoreB||""),t.period3ScoreA=ko.observable(e.period3ScoreA||""),t.period3ScoreB=ko.observable(e.period3ScoreB||""),t.period4ScoreA=ko.observable(e.period4ScoreA||""),t.period4ScoreB=ko.observable(e.period4ScoreB||""),t.powerPlay=ko.observable(e.powerPlay||!1),t.previousSets=ko.observable(e.previousSets||""),t.ptsScoreA=ko.observable(e.ptsScoreA||""),t.ptsScoreB=ko.observable(e.ptsScoreB||""),t.quarter=ko.observable(e.quarter||""),t.scoreA=ko.observable(e.scoreA||""),t.scoreB=ko.observable(e.scoreB||""),t.server=ko.observable(e.server||""),t.setScoreA=ko.observable(e.setScoreA||""),t.setScoreB=ko.observable(e.setScoreB||"")}s.prototype={dispose:function(){},update:function(e){for(var t in e)this.hasOwnProperty(t)&&this[t](e[t])}},i.exports=s}),window.cogwheels.addGear({name:"domain-model",version:"0.0.1"});
require.register("pages/cmsData",function(e,t,a){function o(e){"object"==typeof e&&Object.keys(e).forEach(function(t){var a=t;t.indexOf("_")!==-1&&(a=t.replace(/_([a-z])/g,function(e){return e[1].toUpperCase()}),e[a]=e[t],delete e[t]),($.isPlainObject(e[a])||$.isArray(e[a]))&&o(e[a])})}var s=e("locale"),i=e("message-bus"),r=function(e,t){return e?$.ajax({url:"/"+s.value()+"/cms-data",method:"POST",contentType:"application/json; charset=utf8",data:JSON.stringify(e),success:function(e){o(e),t&&t(e)},error:function(){t&&t()}}):void(t&&t())},n=function(e,t){var a=$.Deferred();return i.subscribeOnce("^locale:changed$",function(e){t().done(function(){a.resolve()})}),a.promise()},l=function(e,t){return s.value()?r(e,t):n("^locale:changed$",function(a){return r(e,t)})};a.exports=l}),require.register("pages/bet-in-play/template",function(e,t,a){a.exports='<div><script type="text/html" id="sport-inplay-event-group"><event-group-simple params="eventGroup: $data, showMoreButton: true, lazyShowMore: true"></event-group-simple></script><script type="text/html" id="sport-inplay-event-group-with-date-headers"><event-group-simple params="\n            eventGroup: $data,\n            showDateHeaders: true,\n            lazyRenderButtonForDateGroup: true,\n            startExpanded: $index() < 3"></event-group-simple></script><breadcrumbs params="breadcrumbs: $root.breadcrumbs(), fullPage: true"></breadcrumbs><div class="sport-page" data-t-position="col-1"><!-- ko if: inplayEventGroupListVisible --><div class="module" data-t-position="inplay-module"><h1 class="expand-list expanded" data-bind="toggle: true"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="text: locale.t(\'page.inplay.title\')"></span><!-- ko if: showInPlayVideoFilterButton() --><div data-bind="\n                                css: { \'filter-button\': true, active: filterInplay() === \'all\'},\n                                click: function(el, ev) { trackFilterChange(ev, \'all\', \'inplay\'); filterInplay(\'all\'); ev.stopPropagation(); },\n                                text: locale.t(\'filter.all\')"></div><div data-bind="\n                                css: { \'filter-button\': true, active: filterInplay() === \'video\'},\n                                click: function(el, ev) { trackFilterChange(ev, \'video\', \'inplay\'); filterInplay(\'video\'); ev.stopPropagation(); },\n                                text: locale.t(\'filter.video\')"></div><!-- /ko --></h1><load-handler params="trigger: inplayEventGroupListIsLoaded(), retryHandler: loadInPlay, data: filteredInplayEventGroupList"><tabs params="\n                    tabs: eventGroups,\n                    enableAll: true,\n                    contentClass: \'inplay-content expanded\',\n                    contentTemplate: \'sport-inplay-event-group\'"></tabs></load-handler></div><!-- /ko --><!-- ko if: upcomingEventGroupListVisible --><div class="module" data-t-position="upcoming-module"><h1 class="expand-list expanded" data-bind="toggle: true"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="text: locale.t(\'sports.sports_level.featured.upcoming_sports\')"></span><!-- ko if: showUpcomingVideoFilterButton() --><div data-bind="\n                                css: { \'filter-button\': true, active: filterUpcoming() === \'all\'},\n                                click: function(el, ev) { trackFilterChange(ev, \'all\',\'upcoming\'); filterUpcoming(\'all\'); ev.stopPropagation(); },\n                                text: locale.t(\'filter.all\')"></div><div data-bind="\n                                css: { \'filter-button\': true, active: filterUpcoming() === \'video\'},\n                                click: function(el, ev) { trackFilterChange(ev, \'video\', \'upcoming\'); filterUpcoming(\'video\'); ev.stopPropagation(); },\n                                text: locale.t(\'filter.video\')"></div><!-- /ko --></h1><load-handler params="trigger: upcomingEventGroupListIsLoaded() && filteredUpcomingEventGroupList(), retryHandler: loadUpcoming, data: filteredUpcomingEventGroupList"><tabs params="\n                    tabs: eventGroups,\n                    contentClass: \'inplay-content expanded\',\n                    contentTemplate: \'sport-inplay-event-group-with-date-headers\'"></tabs></load-handler></div><!-- /ko --></div></div>'}),require.register("pages/index",function(e,t,a){var o=e("ladbrokes-router"),s=e("layout-engine"),i=e("message-bus"),r=e("domain-model/helpers/tracking");t.init=function(){s.registerHandler("document-fragment-handler",e("./region-handler")),s.configureRegion("content","document-fragment-handler"),s.configureRegion("sidebar-content","document-fragment-handler"),i.subscribe("^router:dispatch$",function(e){window.scrollTo(0,0)}),i.subscribeOnce("^locale:changed$",function(e){i.subscribe("^locale:changed$",function(e){window.location.reload()})}),$(document).on("click","a",function(e){var t=this.getAttribute("href"),a=["mailto"],s=function(e){return t&&t.indexOf(e)===-1},n=this.getAttributeNode("target")?this.getAttributeNode("target").value:"",l=a.every(s)&&"_blank"!==n,d=$(this).hasClass("popup");d?(e.preventDefault(),e.stopPropagation(),i.publish("modal:open",t)):l&&(e.preventDefault(),e.stopPropagation(),o.navigate(t)),r.trackLink(this,e,t)}),$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Pragma","no-cache"),e.setRequestHeader("Cache-Control","no-cache"),e.setRequestHeader("Expires",0)}})},t.controllers=[e("./index/controller"),e("./event-details/controller"),e("./promotions/controller"),e("./sport/controller"),e("./racing-details/controller"),e("./racing-index/controller"),e("./bet-in-play/controller"),e("./coupons/controller"),e("./race-card/controller"),e("./virtuals/controller"),e("./totepools/controller"),e("./results/controller")]}),require.register("pages/coupons/sidebar",function(e,t,a){a.exports='<div class="dark-container"><div class="container coupon-sidebar"><ul><!-- ko foreach: $data --><li><a data-bind="href: href"><span class="name" data-bind="text: text"></span></a></li><!-- /ko --></ul></div></div>'}),require.register("pages/region-handler",function(e,t,a){var o={setup:function(e,t){if(!e)throw new Error("missing root");this.setRoot(e)},update:function(e,t,a){var o=a||{};o.noBinding||(this.clearRegion(),this.root.appendChild(e),ko.applyBindings(t,this.root),this.previous={model:t,view:e})},clearRegion:function(){if(this.previous){for(ko.cleanNode(this.root);this.root.firstChild;)this.root.removeChild(this.root.firstChild);this.previous.model&&this.previous.model.dispose&&this.previous.model.dispose(),this.previous=null}},setRoot:function(e){this.root=e}};a.exports=o}),require.register("pages/coupons/template",function(e,t,a){a.exports='<div><div class="breadcrumb-container"><load-handler params="trigger: coupon, retryHandler: loadCoupon, data: $data"><breadcrumbs params="breadcrumbs: $root.breadcrumbs()"></breadcrumbs></load-handler></div><div class="coupons"><div class="container"><header data-t-position="coupon-banner"><load-handler params="trigger: coupon, retryHandler: loadCoupon, data: coupon"><span data-bind="attr: { class: \'coupon-header \' + \'coupon-\' + key }"><span class="text-container"><span class="title-top" data-bind="text: $root.getTitleTop(name)"></span> <span class="title-bottom" data-bind="text: $root.getTitleBottom(name), attr: { \'long-name\': $root.longTitle(name) }"></span></span></span></load-handler></header><div class="content-container"><div class="left-column" data-t-position="col-1"><load-handler params="trigger: coupon, retryHandler: loadCoupon, data: coupon"><!-- ko if: $root.selectedMarketTypeLeft() --><coupon-group params="events: events, narrow: false, marketToShow: $root.selectedMarketTypeLeft" data-t-position="coupon-module"></coupon-group><!-- /ko --></load-handler></div><div class="right-column" data-t-position="col-2"><load-handler params="trigger: coupon, retryHandler: loadCoupon, data: coupon"><!-- ko if: $root.selectedMarketTypeRight() --><coupon-group params="events: events, narrow: true, marketToShow: $root.selectedMarketTypeRight" data-t-position="coupon-more-market-module"></coupon-group><!-- /ko --></load-handler></div></div></div></div></div>'}),require.register("pages/bet-in-play/controller",function(e,t,a){var o=e("seo"),s=e("./view-model"),i=e("./template"),r=e("ladbrokes-router"),n=e("layout-engine"),l=e("locale"),d=e("domain-model/models/event-group-list-se"),c=e("message-bus"),p=e("websocket");t.init=function(){function e(){g&&g.inplayEventGroupList()&&g.inplayEventGroupList().dispose&&g.inplayEventGroupList().dispose(),g&&g.upcomingEventGroupList()&&g.upcomingEventGroupList().dispose&&g.upcomingEventGroupList().dispose(),u(),g=null}function t(){var e=p.subscribeWithPromise("event-group-list","LIVE",function(t){g.inplayEventGroupList(new d),g.inplayEventGroupList().populate(t.itemIds).done(function(){g.inplayEventGroupListIsLoaded(!0),g&&e&&e.initialize()}).fail(function(e){})},function(e){g.inplayEventGroupList().update(e.itemIds)},function(){g.inplayEventGroupList()&&g.inplayEventGroupList().dispose&&g.inplayEventGroupList().dispose(),g.inplayEventGroupList(null)},function(){return g});return m=e.subscription||null,e.promise||$.Deferred().promise()}function a(){var e=p.subscribeWithPromise("event-group-list","UPCOMING",function(t){g.upcomingEventGroupList(new d),g.upcomingEventGroupList().populate(t.itemIds).done(function(){setTimeout(function(){g&&g.upcomingEventGroupListIsLoaded(!0),g&&e&&e.initialize()},"video"===g.filterUpcoming()?6e3:1)}).fail(function(e){})},function(e){g.upcomingEventGroupList().update(e.itemIds)},function(){g.upcomingEventGroupList()&&g.upcomingEventGroupList().dispose&&g.upcomingEventGroupList().dispose(),g.upcomingEventGroupList(null)},function(){return g});return h=e.subscription||null,e.promise||$.Deferred().promise()}function u(){m=p.unsubscribe(m),h=p.unsubscribe(h)}var m,h,v,b,g,f="/bet-in-play/";r.on(f,function(r,d){g&&e(),r.deactivate=e;var p=r.queryObject&&r.queryObject.video;g=new s(t,a),p&&(g.filterInplay("video"),g.filterUpcoming("video"),g.filteredUpcomingEventGroupList.extend({rateLimit:2e3})),c.publish("breadcrumbs",[{title:l.t("page.inplay.title"),href:null}]),c.publish("activeSport",""),c.publish("track:query-params"),c.publish("track:page"),v=t(),b=a(),$.when(v,b).done(function(){try{var e={pageType:"bet-in-play",page:"bet-in-play"};o.pageRenderComplete(e)}catch(t){}}).fail(function(e,t,a){var s="";e===v&&(s="cmsDataPromise"),e===b&&(s="upcomingPromise"),o.pageRenderFailed({promise:s,textStatus:t,error:a})}),n.render(i,g,"content"),d()})}}),require.register("pages/index/template",function(e,t,a){a.exports='<div><script type="text/html" id="index-event-group-simple-in-play"><event-group-simple params="eventGroup: $data, showMoreButton: true, lazyShowMore: true"></event-group-simple></script><script type="text/html" id="index-event-group-simple-highlights"><event-group-simple params="eventGroup: { title: $data.title, list: $data.list, showExpanded: true, maximumNumberOfEventsToShow: $data.eventLimit}, showMoreButton: false, ignoreLimit: !$data.isAllTab"></event-group-simple></script><div class="row"><div class="left-column" data-t-position="col-1"><banner-carousel params="data: heroMVP, className: bannerClassName"></banner-carousel><!-- ko if: featuredInPlayVisible --><div class="module" data-t-position="inplay-module"><h1 class="expand-list expanded" data-bind="toggle"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="text: locale.t(\'page.inplay.title\')"></span></h1><load-handler params="trigger: (featuredInPlay() ? featuredInPlay().isReady() : null), retryHandler: loadFeaturedInPlay, data: $data"><tabs params="\n                    tabs: featuredInPlay().eventGroups,\n                    enableAll: true,\n                    contentClass: \'inplay-content expanded\',\n                    contentTemplate: \'index-event-group-simple-in-play\',\n                    haveRightColumn: true"></tabs></load-handler></div><!-- /ko --><!-- ko if: highLightEventGroupListVisible --><div class="module" data-t-position="highlights-module"><h1 class="expand-list expanded" data-bind="toggle"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="text: locale.t(\'sport.tabs.highlights\')"></span></h1><load-handler params="trigger: (highLightEventGroupList() ? highLightEventGroupList().isReady() : null), retryHandler: loadFeaturedHighlights, data: highLightEventGroupList"><tabs params="\n                    tabs: eventGroups,\n                    enableAll: true,\n                    contentClass: \'featured-content expanded\',\n                    contentTemplate: \'index-event-group-simple-highlights\',\n                    haveRightColumn: true"></tabs></load-handler></div><!-- /ko --></div><div class="right-column" data-t-position="col-2"><!-- ko ifnot: isPrivateMarketsEmpty --><private-markets-startpage class="startpage-private-markets wrapper" params="privateMarkets: privateMarkets"></private-markets-startpage><!-- /ko --><!--ko if: festivalIndexModuleEnable --><festival-single params="id: festivalIndexModuleEventId()"></festival-single><!-- /ko --><!-- ko if: hasNextRaces() --><next-races params="id: \'21\', type: \'vertical\'"></next-races><!-- /ko --><load-handler params="trigger: $root.featured, retryHandler: $root.loadFeatured, data: $data"><div class="featured-highlights"><!-- ko with: featured --><!-- ko foreach: featuredEvents --><event-group params="event: $data, silkUrls: $parent.silkUrls()[$data.id]" data-t-position="event-module"></event-group><!-- /ko --><!-- /ko --></div></load-handler></div></div></div>'}),require.register("pages/bet-in-play/view-model",function(e,t,a){function o(e,t){var a=this;a.loadInPlay=e,a.loadUpcoming=t,a.locale=s,a.streamingTooltip=ko.observable(),a.streamingTooltip(s.t("streaming.tooltip")),a.filterInplay=ko.observable("all"),a.filterUpcoming=ko.observable("all"),a.inplayEventGroupList=ko.observable(),a.inplayEventGroupListVisible=ko.pureComputed(function(){return null===a.inplayEventGroupList()||a.inplayEventGroupList()&&a.inplayEventGroupList().eventGroups()&&a.inplayEventGroupList().eventGroups().length},this).extend({throttle:500}),a.upcomingEventGroupList=ko.observable(),a.upcomingEventGroupListVisible=ko.pureComputed(function(){return null===a.upcomingEventGroupList()||a.upcomingEventGroupList()&&a.upcomingEventGroupList().eventGroups()&&a.upcomingEventGroupList().eventGroups().length},this).extend({throttle:500}),a.inplayEventGroupListIsLoaded=ko.observable(null),a.upcomingEventGroupListIsLoaded=ko.observable(null),a.inplayCheck=ko.computed(function(){var e,t=a.inplayEventGroupList(),o=a.inplayEventGroupListIsLoaded();if(t&&o)return e=ko.utils.arrayFilter(t.eventGroups(),function(e){return ko.unwrap(e.hasStreams)}),!e.length&&o&&a.filterInplay("all"),""}),a.upcomingCheck=ko.computed(function(){var e,t=a.upcomingEventGroupList(),o=a.upcomingEventGroupListIsLoaded();if(t&&o)return e=ko.utils.arrayFilter(t.eventGroups(),function(e){return ko.unwrap(e.hasStreams)}),!e.length&&o&&(a.filterUpcoming("all"),a.filteredUpcomingEventGroupList.extend({rateLimit:1})),""}),a.breadcrumbs=function(){var e=ko.observableArray();return e.push({title:s.t("page.inplay.title"),href:null}),e},a.showInPlayVideoFilterButton=ko.pureComputed(function(){return!!a.inplayEventGroupList()&&ko.unwrap(a.filter(a.inplayEventGroupList,"video").eventGroups).length>0}),a.showUpcomingVideoFilterButton=ko.pureComputed(function(){return!!a.upcomingEventGroupList()&&ko.unwrap(a.filter(a.upcomingEventGroupList,"league").eventGroups).length>0}),a.filter=function(e,t){var a,o;return"all"!==t&&e()?(a=ko.utils.arrayFilter(e().eventGroups(),function(e){return ko.unwrap(e.hasStreams)}),o=(a||[]).map(function(e){return{list:ko.observableArray((e.list()||[]).filter(function(e){return ko.unwrap(e.event.hasStream)})),title:ko.observable(e.title),showExpanded:ko.observable(e.showExpanded)}}),{eventGroups:o}):e()},a.filteredInplayEventGroupList=ko.pureComputed(function(){return a.filter(a.inplayEventGroupList,a.filterInplay())}),a.filteredUpcomingEventGroupList=ko.pureComputed(function(){return a.filter(a.upcomingEventGroupList,a.filterUpcoming())}),a.trackFilterChange=function(e,t,o){"use strict";(a.filterInplay()!==t&&"inplay"===o||a.filterUpcoming()!==t&&"upcoming"===o)&&i.publish("track:filter",{action:t,element:e?e.target:null})},a.dispose=function(){a.inplayEventGroupList()&&a.inplayEventGroupList().dispose(),a.upcomingEventGroupList()&&a.upcomingEventGroupList().dispose(),a.inplayCheck.dispose(),a.upcomingCheck.dispose(),a.inplayEventGroupListVisible.dispose(),a.upcomingEventGroupListVisible.dispose()}}var s=e("locale"),i=e("message-bus");a.exports=o}),require.register("pages/promotions/details-template",function(e,t,a){a.exports='<div><!-- ko if: loaded() --><breadcrumbs params="breadcrumbs: breadcrumbs(), fullPage: true"></breadcrumbs><!-- Odds Boost info page CMS id --><!-- ko if: promotion().id == 22222 --><odds-boost-info></odds-boost-info><!-- /ko --><!-- ko ifnot: promotion().id == 22222 --><div id="page-container" data-bind="with: promotion"><div class="promotion"><img class="promotion-banner" data-bind="altImage: banner"><div class="details-tabs"><!-- ko foreach: $root.tabs() --><div class="tab" data-bind="css: { active: $root.selectedTabIndex() === $data.index }, click: function (data, event) { $root.selectedTabIndex($data.index) }"><div class="tabTitle" data-bind="text: $data.title"></div></div><!-- /ko --></div><div class="wrapper"><div class="promotion-content"><div class="title" data-bind="text: title"></div><hr><!-- ko if: $root.selectedTabIndex() === 0 --><div class="content" data-bind="html: descriptionFull"></div><!-- /ko --><!-- ko ifnot: $root.selectedTabIndex() === 0 --><div class="content" data-bind="html: additionalText"></div><!-- /ko --></div></div><div class="buttons"><a class="button showbutton" data-bind="href: blackButtonURL, text: $root.locale.t(detailBlackButtonText)"></a><!-- ko if: openNewWindow --> <a class="button claimbutton" data-bind="text: $root.locale.t(detailGreenButtonText), popupLink: { url: claimUrl, type: \'popup\',\n                              options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'1024\', height: \'768\' }}"></a><!-- /ko --><!-- ko ifnot: openNewWindow --> <a class="button claimbutton" data-bind="href: claimUrl, text: $root.locale.t(detailGreenButtonText)"></a><!-- /ko --></div></div></div><!-- /ko --><!-- /ko --></div>'}),require.register("pages/coupons/controller",function(e,t,a){var o=e("seo"),s=e("./view-model"),i=e("./template"),r=e("./sidebar"),n=e("ladbrokes-router"),l=e("domain-model/models/coupon"),d=e("layout-engine"),c=e("message-bus"),p=e("locale"),u=e("websocket");t.init=function(){function e(){c.publish("leftsidebar:hideextramenu"),b=u.unsubscribe(b),g&&g.abort(),g=null,f=null,v=null}function t(t){return f="/"+t.params.locale+"/sport_coupons",b&&b.dispose&&b.dispose(),v?(b=u.unsubscribe(b),v.reset()):(c.publish("activeSport",""),v=new s(a,m,e),d.render(i,v,"content"),d.render(r,v.coupons,"left-sidebar-details-menu-region"),c.publish("leftsidebar:showextramenu",{title:p.t("page.coupons.menu.title")})),m().fail(h)}function a(e){var t=u.subscribeWithPromise("coupon-with-event-details",e,function(e){if(0===Object.keys(e).length){var a="/"+p.value()+"/coupons/";return void n.redirect(a)}v.coupon(new l(e.coupon)),e.sortedMarketTypes.forEach(function(e){v.filterMarketTypes.push({key:e,value:p.t("coupon.market.fullName"+e)||""})}),v.selectedMarketTypeLeft(e.sortedMarketTypes[0]),v.selectedMarketTypeRight(e.sortedMarketTypes[1]||e.sortedMarketTypes[0]),v&&t&&t.initialize()},function(e){v.coupon().update(e)},function(){v.coupon(null),v.couponId(e),v.filterMarketTypes.removeAll(),v.selectedMarketTypeLeft(null),v.selectedMarketTypeRight(null)},function(){return v});return b=t.subscription||null,t.promise||$.Deferred().promise()}function m(){return g?g:g=$.getJSON(f).done(function(e){v.coupons(e)}).fail(function(e,t,a){v.coupons()||v.coupons(!1)})}function h(e,t,a){404===e.status||410===e.status?n.redirect("/"):o.pageRenderFailed({url:"/coupons/?",textStatus:t,error:a})}var v,b,g,f;n.on("/coupons/",function(e,s){c.publish("track:query-params"),c.publish("track:page"),t(e).done(function(){v.coupons().length&&a(v.coupons()[0].id).done(function(){var e={pageType:"coupons",page:"coupons"};o.pageRenderComplete(e)}).fail(h)}),s()}),n.on("/coupons/:couponUrlPart/",function(e,s){c.publish("track:query-params"),c.publish("track:page"),t(e).done(function(t){var s=!1;v.coupons().forEach(function(t){if(l.prototype.urlNamePart(t.href)===e.params.couponUrlPart)return s=!0,a(t.id).done(function(){var e={pageType:"coupons/coupon",page:"coupons",id:v.coupon().key,eventName:v.coupon().name,nameRaw:v.coupon().nameRaw};o.pageRenderComplete(e)}).fail(function(e,a,s){404===e.status||410===e.status?n.redirect("/"+p.value()+"/coupons/"):o.pageRenderFailed({url:"/coupons/:couponUrlPart/"+t.id,textStatus:a,error:s})}),!1}),s||n.redirect("/"+p.value()+"/coupons/")}),s()})}}),require.register("pages/promotions/template",function(e,t,a){a.exports='<div><breadcrumbs params="breadcrumbs: breadcrumbs(), fullPage: true"></breadcrumbs><div id="page-container"><!-- ko ifnot: hasPromotions --><div class="no-promotions"><span data-bind="text: locale.t(\'generic.promotions.noPromotions\')"></span></div><!-- /ko --><!-- ko if: hasPromotions --><div class="grid-section"><!-- ko ifnot: isPrivateMarketsEmpty --><private-markets-promotions class="card-container" params="privateMarkets: privateMarkets"></private-markets-promotions><!-- /ko --><!-- ko foreach: { data: promotions, as: \'promotion\' } --><promotion-list-item class="card-container" params="promotion: promotion"></promotion-list-item><!-- /ko --></div><!-- /ko --></div></div>'}),require.register("pages/coupons/view-model",function(e,t,a){var o=e("message-bus"),s=function(e,t,a){this.couponId=ko.observable(),this.coupon=ko.observable(),this.coupons=ko.observable(),this.marketTypeNameMap=ko.observable(),this.selectedMarketTypeLeft=ko.observable(),this.selectedMarketTypeRight=ko.observable(),this.filterMarketTypes=ko.observableArray(),this.loadCoupon=function(){e(this.couponId())}.bind(this),this.loadCoupons=t,this.reset=function(){this.coupon()&&this.coupon().dispose()},this.trackFilterChange=function(e,t){"use strict";o.publish("track:filter",{action:e.marketToShow(),element:t?t.target:null})},this.dispose=function(){a&&a(),this.reset(),this.coupon(null),this.coupons(null)},this.breadcrumbs=function(){var e=[],t=this.coupon(),a=t.sport;return a&&(e=[{title:a.name,href:a.url},{title:t.name,href:null}]),e},this.getTitleTop=function(e){return e.substr(0,e.indexOf(" "))},this.getTitleBottom=function(e){return e.substr(e.indexOf(" ")+1)},this.longTitle=function(e){var t=e.substr(e.indexOf(" ")+1);return!!(t&&t.length>15)}};a.exports=s}),require.register("pages/race-card/template",function(e,t,a){a.exports='<div id="racecard_container"><breadcrumbs params="breadcrumbs: $root.breadcrumbs"></breadcrumbs><!-- ko foreach: races --><!-- ko template: \'pages/racing-details/template\' --><!-- /ko --><!-- /ko --><!-- ko foreach: specialRaces --><div class="details racing-page"><div class="container" data-bind="with: event"><!-- ko ifnot: inplayNow --><header class="sport-background scoreboard"><!-- ko template: { name: \'pages/event-details/scoreboards/generic/generic-no-scores\' } --><!-- /ko --></header><!-- /ko --><nav class="filter-menu" data-bind="visible: $root.getRootContext($element).marketGroups().length > 1"><ul data-bind="foreach: $root.getRootContext($element).marketGroups()"><li><div class="button" data-bind="text: $data, click: function(){ $root.getRootContext($element).selectedGroup($data) }, css: { active: $data === $root.getRootContext($element).selectedGroup() }"></div></li></ul></nav><!-- ko foreach: $parent.marketRows --><div class="market-row"><!-- ko foreach: {data: markets, as: \'market\'} --><!-- ko template: { name: $root.getRootContext($element).getMarketTemplate(market) } --><!-- /ko --><!-- /ko --></div><!-- /ko --></div></div><!-- /ko --><!-- ko foreach: eventIds --><div class="loading-component"><!-- ko ifnot: fetched --><!-- ko if: type == \'racingEventDetails\' --><h3 data-bind="text: nameDetails + \' \' +name"></h3><!-- /ko --><!-- ko if: type == \'eventDetails\' --><h3 data-bind="text: nameDetails"></h3><!-- /ko --><spinner></spinner><!-- /ko --></div><!-- /ko --></div>'}),require.register("pages/event-details/Competition-group",function(e,t,a){function o(e,t){var a=this;a.disposables=[],a.id=e.id,a.order=e.sortOrder,a.title=e.title,a.href=e.href,a.selectedCompetition=ko.observable(),a.competitions=ko.utils.arrayMap(e.list,function(e){return new s(e,t)}),a.isSelected=ko.observable(t.selectedCompetitionGroup().toLowerCase()===a.urlNamePart()),a.isExpanded=ko.observable(t.selectedCompetitionGroup().toLowerCase()===a.urlNamePart()),a.disposables.push(a.isExpanded.subscribe(function(e){e&&i.publish("contexual-menu:openedCompetitionGroup",a.urlNamePart())})),a.disposables.push(i.subscribe("contexual-menu:openedCompetitionGroup",function(e){e.data===a.urlNamePart()||a.isSelected()||a.isExpanded(!1)})),a.disposables.push(t.selectedCompetitionGroup.subscribe(function(e){a.isSelected(e.toLowerCase()===a.urlNamePart())}))}var s=e("./Competition"),i=e("message-bus");o.prototype={urlNamePart:function(){var e=this.href.split("/");return e[4]?e[4].toLowerCase():""},dispose:function(){this.competitions.forEach(function(e){e.dispose()}),this.disposables.forEach(function(e){e.dispose()})},update:function(e){}},a.exports=o}),require.register("pages/racing-details/dog",function(e,t,a){a.exports='<span class="runner"><span class="runner-container"><span class="top"><span class="runner-info"><span class="horse"><span class="name" data-bind="text: name"></span></span></span></span></span></span>'}),require.register("pages/event-details/Competition",function(e,t,a){function o(e,t){var a,o=this,s=!1;this.rootVM=t,this.id=e.id,this.order=e.meta,this.title=e.text,this.href=e.href,this.event=e.event,a=t.selectedCompetitionGroup()&&t.selectedCompetitionGroup().toLowerCase()===o.urlParentPart(this.event),a&&t.selectedCompetition()&&t.selectedCompetition().toLowerCase()===o.urlNamePart(this.event)&&(s=!0),this.isSelected=ko.observable(s),this.eventGroupWithOutright=ko.observable(null),this.xhr=null,t.selectedCompetition.subscribe(function(e){o.isSelected(e.toLowerCase()===o.urlNamePart())})}var s=e("pages/shared-view-models/event-group-with-outright-view-model"),i=e("locale");o.prototype={urlParentPart:function(e){var t=this.href.split("/"),a=e?4:3;return t[t.length-a]},urlNamePart:function(e){var t=this.href.split("/"),a=e?3:2;return t[t.length-a]},dispose:function(){this.eventGroupWithOutright()&&this.eventGroupWithOutright().dispose()},update:function(e){},getUrl:function(){return"/"+i.value()+"/events/type/"+this.id},loadEventsForCompetition:function(){var e=this,t="/"+i.value()+"/events/type/"+e.rootVM.currentClass()+"/"+e.urlParentPart()+"/"+e.urlNamePart();e.eventGroupWithOutright()||e.xhr||(e.xhr=$.getJSON(t,function(t){e.eventGroupWithOutright(new s(t,e.getUrl()))}).fail(function(){e.eventGroupWithOutright(!1)}))}},a.exports=o}),require.register("pages/racing-details/header-template",function(e,t,a){a.exports='<!-- ko if: isHorseRacing --><div class="left-column" data-bind="css:{hideColumn: showVideo}"><div class="race-info"><div data-bind="with: racepost"><span class="b" data-bind="text: raceType ? raceType : \'\'"></span></div><div><span data-bind="text: going ? going : \'\'"></span> <span data-bind="text: distance ? distance : \'\'"></span></div></div><div class="verdict" data-bind="with: racepost"><span data-bind="text: raceVerdict ? raceVerdict : \'\'"></span></div><div class="tips dn"><!-- ko foreach: racetips --><div class="tip"><span data-bind="text: newspaper"></span> <span data-bind="text: horse.name"></span></div><!-- /ko --></div></div><div class="right-column" data-bind="css: widthClass"><!-- ko if: racepost && racepost.raceVerdictUrl --><div class="verdict-track"><img data-bind="altImage: racepost.raceVerdictUrl"></div><!-- /ko --><!-- ko if: showVideo --><div class="video"><stream params="eventId: raceId, type:\'racing\', width:482, height: 410, element: $element"></stream></div><!-- /ko --></div><!-- /ko --><!-- ko ifnot: isHorseRacing --><!-- ko if: showVideo --><div class="video"><stream params="eventId: raceId, type:\'racing\', width: 482, height: 410, element: $element"></stream></div><!-- /ko --><!-- /ko -->'}),require.register("pages/event-details/aggregated-view-model",function(e,t,a){function o(e){var t=this;t.id=e.id||null,t.name=e.name||"",t.isHorizontal=e.isHorizontal||!1,t.marketSort=t.isHorizontal?"AGGREGATED_HORIZONTAL":"AGGREGATED_VERTICAL",t.markets=e.markets||[],t.aggregatedTitles=t.getTitles(),t.expanded=ko.observable(!0),t.limit=e.limit,t.showMoreNeeded=t.markets.length>t.limit,t.showMore=ko.observable(!(t.markets.length>t.limit)),t.showMoreSelections=ko.observable(!t.showMoreNeeded),t.marketsWithLimit=ko.pureComputed(function(){return t.showMore()?t.markets:t.markets.slice(0,t.limit)}),t.toggle=function(){t.showMore(!t.showMore()),t.showMoreSelections(!t.showMoreSelections())},t.isCashOutAvailable=!1,t.markets.length>0&&(t.isCashOutAvailable=!0,ko.utils.arrayForEach(t.markets,function(e){e.isCashOutAvailable===!1&&(t.isCashOutAvailable=!1)})),t.expandClass=ko.computed(function(){return t.expanded()===!0?"expanded":""})}var s=e("message-bus");o.prototype={getTitles:function(){var e=[];return this.markets.forEach(function(t){if(t.selections){var a=ko.unwrap(t.selections);if(a.length>e.length)for(var o in a)a[o]&&(e[o]=a[o].name)}}),e},getSelections:function(e){var t=[];return this.aggregatedTitles.forEach(function(a){var o=e.find(function(e){return e.name===a});t.push(o?o:{status:"NO_DISPLAY"})}),t},toggleExpand:function(e,t){var a=t.currentTarget.parentElement,o={};this.expanded(!this.expanded()),this.expanded()?a.getAttribute("data-expandable-below")&&a.classList.add("expandable-below"):a.classList.remove("expandable-below"),o.target=t.target,o.expanded=this.expanded()?"Expand":"Collapse",o.target&&(o.action=o.target.innerText,o.action&&o.action.indexOf("\n")>-1&&(o.action=o.action.substring(0,o.action.indexOf("\n")))),s.publish("track:collapse-expand",o)},dispose:function(){this.marketsWithLimit.dispose(),this.expandClass.dispose()}},a.exports=o}),require.register("pages/racing-details/horse",function(e,t,a){a.exports='<span class="runner"><span class="runner-container"><!-- ko if: nameRaw.toLowerCase().indexOf(\'unnamed\') === -1 --><div class="top"><span class="silk-container"><img class="silk" data-bind="attr: { src: $parents[1].silkUrl($data) }"></span><div class="runner-info"><div class="horse"><div><span class="name" data-bind="text: name, css: {disabled: status === \'SUSPENDED\'}"></span><!-- ko if: $parents[1].showDetailedRacecard() --><!-- ko foreach: $parents[1].racepostLabels($data) --><span class="label" data-bind="text: short, attr: { title: long}"></span><!-- /ko --><!-- /ko --></div><div class="jockey" data-bind="if: $parents[1].racepost"><span data-bind="text: ($parents[1].getRacepostRunner(name) && $parents[1].getRacepostRunner(name).jockey) ? $parents[1].getRacepostRunner(name).jockey : \'\'"></span><span data-bind="text: ($parents[1].getRacepostRunner(name) && $parents[1].getRacepostRunner(name).trainer) ? \'/\' + $parents[1].getRacepostRunner(name).trainer : \'\' "></span></div><!-- ko ifnot: $parents[1].racepost --><div class="jockey" data-bind="ifnot: $parents[1].racepost"><span data-bind="text: ($parents[1].getRunner(name) && $parents[1].getRunner(name).jockey) ? $parents[1].getRunner(name).jockey : \'\' "></span><span data-bind="text: ($parents[1].getRunner(name) && $parents[1].getRunner(name).trainer) ? \'/\' + $parents[1].getRunner(name).trainer : \'\' "></span></div><!-- /ko --></div></div><!-- ko if: $parents[1].getRacepostRunner(name) && $parents[1].getRacepostRunner(name).age && $parents[1].getRacepostRunner(name).weight && $parents[1].showDetailedRacecard()--><div class="info"><div><span data-bind="text: $parents[1].locale.t(\'racing.horse.horseracing.runner.age\')"></span> <span data-bind="text: $parents[1].getRacepostRunner(name).age"></span></div><div><span data-bind="text: $parents[1].locale.t(\'racing.horse.horseracing.runner.weight\')"></span> <span data-bind="text: $parents[1].getRacepostRunner(name).weight"></span></div></div><!-- /ko --></div><!-- ko if: $parents[1].showDetailedRacecard() --><div class="bottom"><span><!-- ko if: $parents[1].expandedSpotlightAvailable() --><span class="sptlgt" data-bind="click: $parents[1].toggleSpotlight"><span data-bind="text: $parents[1].spotlightName"></span> <span class="small-arrow"></span></span><!-- /ko --><!-- ko if: $parents[1].expandedFormAvailable() && $parents[1].getRunnerForm(name) --> <span class="frm" data-bind="click: $parents[1].toggleForm"><span data-bind="text: \'Form: \' + $parents[1].getRunnerForm(name)"></span> <span class="small-arrow" data-bind="visible: $parents[1].getRacepostRunnerForms(name) && $parents[1].getRacepostRunnerForms(name).length > 0"></span></span><!-- /ko --><!-- ko ifnot: $parents[1].expandedFormAvailable() --> <span class="notoggle"><span data-bind="visible: $parents[1].getRunnerForm(name), text: \'Form: \' + $parents[1].getRunnerForm(name)"></span></span><!-- /ko --></span><!-- ko ifnot: $parents[1].racepost --> <span data-bind="ifnot: $parents[1].racepost"><span data-bind="visible: $parents[1].getRunnerForm(name), text: \'Form: \' + $parents[1].getRunnerForm(name)"></span></span><!-- /ko --></div><!-- /ko --><!-- /ko --><!-- ko ifnot: nameRaw.toLowerCase().indexOf(\'unnamed\') === -1 --><span class="top"><span class="silk-container"><img class="silk" data-bind="attr: { src: $parents[1].silkUrl() }"></span> <span class="runner-info"><span class="horse"><span class="name disabled" data-bind="text: name"></span></span></span></span><!-- /ko --></span></span>';
}),require.register("pages/event-details/controller",function(e,t,a){var o=e("seo"),s=e("./templates/template"),i=e("./templates/left-sidebar-inplay"),r=e("./templates/left-sidebar-sport"),n=e("ladbrokes-router"),l=e("layout-engine"),d=e("./view-model"),c=e("./left-side-view-model-inplay"),p=e("./left-side-view-model-sport"),u=e("message-bus"),m=e("pages/cmsData"),h=e("domain-model/models/event"),v=e("domain-model/models/selection"),b=e("repository"),g=e("shared-functions").sharedSidbar,f=e("domain-model/helpers/tracking"),k=e("domain-model/helpers/sport-types");t.init=function(){function e(e,t,a){if(R.currentEventId()!==e){R.initialized=!1,R.reset(),R.currentEventId(e);var o=this;R.eventSubscription=R.toDispose(b.subscribe("events",e,function(t,s){try{if(t)return void(t.message.indexOf("Item does not exist")>=0&&n.redirect(I));if("DISPLAYED"!==s.displayStatus)return void n.redirect(I);if(R.initialized)R.event().update(s);else{R.event(new h(s)),R.currentEventSportName(R.event().sport.name),R.event().hasStream()?u.publish("streaming:show",R.event().id):u.publish("streaming:hide",R.event().id),u.publish("activeSport",R.currentEventSportName());var i=function(){R.scoreboardSubscription=R.toDispose(b.subscribe("scoreboards",e,function(e,t){R.updateStats(t.data)}))};if(R.event().hasScoreboard())i();else{var r=R.event().hasScoreboard.subscribe(function(e){e&&(r.dispose(),i())});R.toDispose(r)}R.initialized=!0,a&&a()}var l=[];o.correctScoreMarkets=[],(R.event().markets()||[]).forEach(function(e){"CORRECT_SCORE"===e.marketSort&&l.push(e)}),(s.markets||[]).forEach(function(e){"CORRECT_SCORE"===e.marketSort&&o.correctScoreMarkets.push(e)}),l.forEach(function(e){e.correctScore1Selections.updateArrayWithOrder(o.getCorrectScoreSelections("1",e.id),function(t){return new v(t,e)},"id"),e.correctScoreXSelections.updateArrayWithOrder(o.getCorrectScoreSelections("X",e.id),function(t){return new v(t,e)},"id"),e.correctScore2Selections.updateArrayWithOrder(o.getCorrectScoreSelections("2",e.id),function(t){return new v(t,e)},"id")})}catch(d){}})),o.getCorrectScoreSelections=function(e,t){var a=[];return o.correctScoreMarkets.forEach(function(o){o.id===t&&("1"===e?a=o.correctScore1Selections:"2"===e?a=o.correctScore2Selections:"X"===e&&(a=o.correctScoreXSelections))}),a}}}function t(){M&&M.abort(),A&&A.abort(),P&&P.abort(),N&&N(),S&&(S=null),C&&(C=null),u.publish("leftsidebar:hideextramenu"),l.destroyRegion("left-sidebar-details-menu-region"),R=null}function a(e,t,a){var s="";404===e.status||410===e.status?n.redirect(I):(e===M&&(s="cmsDataPromise"),e===E&&(s="inplayLivePromise"),e===A&&(s="inplayUpcomingOutrightPromise"),o.pageRenderFailed({promise:s,textStatus:t,error:a}))}function w(){if(R){var e,t=R.event().inplayNow();if(t&&R.scoreboardVisible()){var a=document.getElementById("scoreboard-tracking");e=f.findPositionHirarchy(a),u.publish("track:scoreboard",{action:"scoreboard",position:e})}if(t&&R.visualisationVisible()){var o=document.getElementById("visualization-tracking");e=f.findPositionHirarchy(o),u.publish("track:scoreboard",{action:"visual",position:e})}if(t&&R.streamingVisible()){var s=document.getElementById("streaming-tracking");e=f.findPositionHirarchy(s),u.publish("track:scoreboard",{action:"stream",position:e})}}}function y(i,r){var n=i.params.eventId,c="/"+i.params.locale+"/menu/live",p="/"+i.params.locale+"/menu/upcoming",h="/"+i.params.locale+"/sport_competition/"+i.params.className;I="/"+i.params.locale+"/betting/"+i.params.className+"/"+i.params.typeName+"/",i.params.subTypeName&&(I+=i.params.subTypeName+"/"),R||(R=new d(t),l.render(s,R,"content"),M=m(["eventDetails.aggregatedGroups","eventDetails.settings"],function(e){R.settings(e&&e["eventDetails.settings"]||""),R.aggregatedGroups(e&&e["eventDetails.aggregatedGroups"]||"")})),e(n,i.params.locale,function(){var e;if(C&&(C=null),R.event().inplayNow())!S&&T(c,p),S.currentEventId(n),S.firstLoadEventInPlay(R.event().inplayNow()),S.firstLoadEventSportName(R.event().sport.nameRaw);else{S&&(S=null);var t=R.event().sport.id+"";if(t===k.HORSE_RACING||t===k.GREYHOUNDS){var s=R.event().sport.nameRaw;e=g.leftSidebar(i,s,[n]),N=e.dispose,G=e.promises}else x(h),C.currentEventId(n),C.currentClass(R.event().sport.nameFromHref),C.selectedCompetitionGroup(i.params.typeName),C.selectedCompetition(i.params.subTypeName||i.params.eventName)}var r={inplay:R.event().inplayNow(),streaming:R.event().hasStream()};u.publish("track:query-params"),u.publish("track:page",r),$.when(M,E,A,P,e&&e.promises).done(function(){var e={pageType:"event",id:R.currentEventId(),sportName:R.currentEventSportName(),eventName:R.event().name(),eventNameRaw:R.event().nameRaw,page:"event-details"};o.pageRenderComplete(e),setTimeout(function(){w()},1e3)}).fail(a)}),r()}function T(){var e=null;S=new c,l.render(i,S,"left-sidebar-details-menu-region"),e=S.getPromises(),E=e.inplay,u.publish("leftsidebar:showextramenu")}function x(e){C=new p,l.render(r,C,"left-sidebar-details-menu-region"),P=$.getJSON(e,function(e){C.update(e)}),u.publish("leftsidebar:showextramenu")}var S,C,R,M,E,P,A,G,N,I="/";n.on("/betting/:className/:typeName/:eventName/:eventId/",y),n.on("/betting/:className/:typeName/:subTypeName/:eventName/:eventId/",y)}}),require.register("pages/racing-details/racecard",function(e,t,a){a.exports='<div class="header-navigation race-card"><div class="wrap-time-name"><div><span class="time" data-bind="text: race.name"></span> <span class="name" data-bind="text: race.sportsBookType.name"></span></div><div class="wrap-condition"><!-- ko if: racepost && racepost.raceTitle --><div class="name-hover" data-bind="hoverTooltip: { text: raceTitle}"><div class="race-name" data-bind="text: raceTitle"></div></div><!-- /ko --><!-- ko if: racepost && racepost.going --><div class="going" data-bind="text: locale.t(\'racing.horse.horseracing.going\')"></div><div class="going-hover" data-bind="hoverTooltip: { text: going}"><div class="going-data" data-bind="text: going ? going : \'\'"></div></div><!-- /ko --><!-- ko if: racepost && racepost.distance --><span class="distance" data-bind="text: locale.t(\'racing.horse.horseracing.distance\')"></span> <span class="distance-data" data-bind="text: distance ? distance: \'\'"></span><!-- /ko --><!-- ko if: racepost && racepost.distance --> <span class="runners" data-bind="text: locale.t(\'racing.horse.horseracing.runners\')"></span> <span class="runners-number" data-bind="text: numberOfRunners"></span><!-- /ko --></div></div><div class="wrap-racing-post-nav"><span class="racing-post" data-bind="visible: isHorseRacing  && (trackCountry() == \'UK\' || trackCountry() == \'IE\')"><span class="image"></span></span><nav><ul data-t-position="rp-module"><!-- ko if: isHorseRacing && racepost && (racepost.raceVerdict ||racepost.raceVerdictUrl) --><li class="small-button" data-bind="click: toggleHeader.bind($data, \'verdict\'), text: locale.t(\'racing.horse.horseracing.race_verdict\')"></li><!-- /ko --><!-- ko if: isHorseRacing && racetips && racetips.length > 0 --><li class="small-button" data-bind="click: toggleHeader.bind($data, \'tips\'), text: locale.t(\'racing.horse.horseracing.race_tips\')"></li><!-- /ko --><!-- ko if: trackCountry() !== \'NA\' || isGreyhoundRacing --><li><a class="small-button" data-bind="click: trackRacepost.bind(null, \'form\', $element),\n                        popupLink: { url: getFormUrl(race), type: \'popup\', options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'994\', height: \'475\' }},\n                        text: locale.t(\'racing.horse.horseracing.runner.form\')"></a></li><li><a class="small-button" data-bind="click: trackRacepost.bind(null, \'results\', $element),\n                        popupLink: { url: getResultsUrl(race), type: \'popup\', options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'994\', height: \'475\' }},\n                        text: locale.t(\'racing.link.results\')"></a></li><!-- /ko --><li><a class="small-button" data-bind="click: trackRacepost.bind(null, \'commentary\', $element),\n                        popupLink: { url: getCommentaryUrl(), type: \'popup\', options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: \'400\', height: \'275\'}},\n                        text: locale.t(\'racing.horse.horseracing.commentary\')"></a></li><!-- ko if: hasStream --><li class="small-button" data-bind="click: toggleHeader.bind($data, \'video\'), text: locale.t(\'filter.video\')"></li><!-- /ko --></ul></nav></div></div><header class="main-header dn" data-t-position="rp-module"><!-- ko template: { name: \'/pages/racing-details/header-template\' } --><!-- /ko --></header><div class="race-container"><div class="nav-container"><div class="tab-container"><nav class="tabs"><ul><!-- ko if: otherTabMarketGroups().length > 0 || (shouldShowTotesTab() && !$root.getRootContext($element).eventIds) --><li class="tab" data-bind="\n                                css: { selected: selectedTab() === \'MAIN\' },\n                                click: function(){\n                                    selectedTab(\'MAIN\')\n                                }"><div class="title-container" data-bind="text: locale.t(\'event.details.tabs.markets.main\')"></div></li><!-- /ko --><!-- ko if: otherTabMarketGroups().length > 0 --><li class="tab" data-bind="\n                                css: { selected: selectedTab() === \'OTHER\' },\n                                click: function(){\n                                    selectedTab(\'OTHER\')\n                                }"><div class="title-container" data-bind="text: locale.t(\'event.details.tabs.markets.other\')"></div></li><!-- /ko --><!-- ko if: shouldShowTotesTab() && !$root.getRootContext($element).eventIds --><li class="tab" data-bind="\n                                css: { selected: selectedTab() === \'TOTE\' },\n                                text: locale.t(\'racing.horse.horseracing.totepool\'),\n                                click: function(){\n                                    selectedTab(\'TOTE\')\n                                }"></li><!-- /ko --></ul></nav><!-- ko if: showExpandedAllButtons --><nav class="show-all-buttons"><ul><!-- ko ifnot: detailedRacecardAvailable --><!-- ko if: expandedSpotlightAvailable --><li><div class="small-button lowpad toggled" data-bind="click: toggleAllSpotlight, text: toggleAllSpotlightTitle()"></div></li><!-- /ko --><!-- ko if: expandedFormAvailable --><li><div class="small-button toggled" data-bind="click: toggleAllForm, text: toggleAllFormTitle()"></div></li><!-- /ko --><!-- /ko --><!-- ko if: detailedRacecardAvailable --><li><div class="small-button toggled" data-bind="click: toggleDetailedRacecard, text: toggleDetailedRacecardTitle()"></div></li><!-- /ko --></ul></nav><!-- /ko --></div><market-selector params="marketGroups: marketGroupsForSelectedTab, selected: selectedMarketGroup, callback: setSelectedMarketGroup"></market-selector></div><!-- ko template: {\n        data: selectedMarketGroup,\n        name: selectedTemplate() } --><!-- /ko --></div>'}),require.register("pages/event-details/left-side-view-model-inplay",function(e,t,a){function o(){var e=this,t=$.Deferred(),a=$.Deferred();i.mixin(this),e.currentEventId=ko.observable(),e.firstLoadEventInPlay=ko.observable(""),e.firstLoadEventSportName=ko.observable(),e.isCollapsed=ko.observable(!1),this.toDispose(s.subscribe("leftInplayLive:loaded",function(e){t.resolve()})),this.toDispose(s.subscribe("leftInplayUpcoming:loaded",function(e){a.resolve()})),e.getPromises=function(){return{inplay:t,upcoming:a}},e.dispose=function(){}}var s=e("message-bus"),i=e("gear-disposable-mixin");a.exports=o}),require.register("pages/racing-details/resulted",function(e,t,a){a.exports='<div class="header-navigation-resulted"><span class="time" data-bind="text: race.name"></span> <span class="name" data-bind="text: race.sportsBookType.name"></span></div><div class="race-container race-card"><div class="resulted-runners"><div class="race-card-header"><span class="runner-header" data-bind="text: $root.locale.t(\'racing.results.resultHeaderOne\')"></span></div><!-- ko foreach: raceResults --><div class="item"><span class="place" data-bind="text: $root.getRootContext($element).showResultPlace(resultPlace)"></span><div class="name"><span data-bind="text: name"></span> <span data-bind="if: $root.getRootContext($element).isFavorite(number)"><span class="fav" data-bind="text: $root.getRootContext($element).showFavorite(number)"></span></span></div><!-- ko if: prices().length > 0 && prices()[prices().length-1] --><span class="odds" data-bind="text: prices()[prices().length-1].odds()"></span><!-- /ko --><!-- ko ifnot: $parent.resultsFromCMS() --> <span class="result"><span data-bind="text: $root.getRootContext($element).showResult(result)"></span></span><!-- /ko --></div><!-- /ko --></div><!-- ko if: hasRule4 --><div class="resulted-runners"><div class="race-card-header"><div class="runner-header"><span data-bind="text: $root.getRootContext($element).locale.t(\'racing.results.rule4.header\')"></span></div></div><div class="item" data-bind="with: theRule4"><span class="name" data-bind="text: reason"></span> <span class="odds" data-bind="text: deduction + \'p\'"></span></div></div><!-- /ko --><div class="resulted-runners"><!-- ko foreach: forecastDividends --><div class="race-card-header"><span class="runner-header" data-bind="text: dividendType"></span></div><!-- ko foreach: $root.getRootContext($element).getRunnersFromIds(selections) --><!-- ko if: $index() < 2 --><div class="item"><span class="place" data-bind="text: $root.getRootContext($element).showResultPlace(resultPlace)"></span><div class="name"><span data-bind="text: name"></span> <span data-bind="if: $root.getRootContext($element).isFavorite(number)"><span class="fav" data-bind="text: $root.getRootContext($element).showFavorite(number)"></span></span></div><!-- ko if: prices().length > 0 && prices()[prices().length-1] --><span class="odds" data-bind="text: prices()[prices().length-1].odds()"></span><!-- /ko --> <span class="result"><span data-bind="text: $root.getRootContext($element).showResult(result)"></span></span></div><!-- /ko --><!-- /ko --><span class="dividend"><div data-bind="text: $root.getRootContext($element).locale.t(\'racing.results.dividend\')"></div><div data-bind="text: $root.getRootContext($element).toFixed(dividend, 2)"></div></span><!-- /ko --></div><div class="resulted-runners"><!-- ko foreach: tricastDividends --><div class="race-card-header"><span class="runner-header" data-bind="text: dividendType"></span></div><!-- ko foreach: $root.getRootContext($element).getRunnersFromIds(selections) --><!-- ko if: $index() < 3 --><div class="item"><span class="place" data-bind="text: $root.getRootContext($element).showResultPlace(resultPlace)"></span><div class="name"><span data-bind="text: name"></span> <span data-bind="if: $root.getRootContext($element).isFavorite(number)"><span class="fav" data-bind="text: $root.getRootContext($element).showFavorite(number)"></span></span></div><!-- ko if: prices().length > 0 && prices()[prices().length-1] --><span class="odds" data-bind="text: prices()[prices().length-1].odds()"></span><!-- /ko --> <span class="result"><span data-bind="text: $root.getRootContext($element).showResult(result)"></span></span></div><!-- /ko --><!-- /ko --><span class="dividend"><div data-bind="text: $root.getRootContext($element).locale.t(\'racing.results.dividend\')"></div><div data-bind="text: $root.getRootContext($element).toFixed(dividend, 2)"></div></span><!-- /ko --></div><!-- ko if: winDividends().length > 0 --><div class="resulted-runners"><div class="tote-header"><div class="tote-wrapper-winplace"><span class="tote-header-tote-type">Win/place</span></div><div class="tote-item-wrapper-winplace"><div class="winplace-header-divident"><span class="winplace-header-divident-text" data-bind="text: $root.locale.t(\'totepool.racecard-dividends\')"></span> <span class="winplace-header-type-text" data-bind="text: $root.locale.t(\'totepool.racecard-tote-win\')"></span></div><div class="winplace-header-divident"><span class="winplace-header-divident-text" data-bind="text: $root.locale.t(\'totepool.racecard-dividends\')"></span> <span class="winplace-header-type-text" data-bind="text: $root.locale.t(\'totepool.racecard-tote-place\')"></span></div></div></div><!-- ko foreach: {data: winDividends(), as: \'items\'} --><!-- ko foreach: {data: items.dividends, as: \'dividend\'} --><div class="item"><span class="place" data-bind="text: $root.getRootContext($element).showResultPlace($index() + 1)"></span><div class="name win-name"><span data-bind="text: $root.parseRaceWinner($root.raceResults(), $index())"></span></div><div class="win-dividend"><span class="win-dividend-value" data-bind="text: $root.getWinValue($index())"></span></div><span class="odds win-dividend" data-bind="text: $root.getPlaceDividend($index())"></span> <span class="result"><span data-bind="text: $root.getWinPlacePos($index() + 1)"></span></span></div><!-- /ko --><!-- /ko --></div><!-- /ko --><!-- ko if: singleLegDividends().length > 0 --><div class="resulted-runners"><div class="tote-header"><div class="tote-wrapper-single"><span class="tote-header-tote-type" data-bind="text: $root.locale.t(\'totepool.racecard-tote-results\')"></span></div><div class="tote-item-wrapper-single"><span class="tote-pool-dividend" data-bind="text: $root.locale.t(\'generic.more.results\')"></span></div></div><!-- ko foreach: {data: singleLegDividends(), as: \'items\'} --><div class="item tote-item-extras"><div class="item-tote-type-wrapper-single"><span class="tote-type-single" data-bind="text: $root.getToteType(items)"></span></div><!-- ko ifnot: items.poolType === \'USW\' --><div class="item-tote-wrapper-single"><!-- ko foreach: $root.raceResults --><!-- ko ifnot: items.poolType === \'UEXA\' && $index() == 2 --><span class="tote-pool-value" data-bind="attr:{\'poolType\': items.poolType, \'index\': $index()}, text: name"></span><!-- /ko --><!-- /ko --> <span class="tote-pool-dividend-value-single" data-bind="text: $root.getFormattedPoolValue(dividends[0].value)"></span></div><!-- /ko --></div><!-- /ko --></div><!-- /ko --><!-- ko if: hasToteDividends --><div class="resulted-runners"><div class="tote-header"><div class="tote-wrapper"><span class="tote-header-tote-type" data-bind="text: $root.toteHeadline"></span></div><div class="tote-item-wrapper"><div class="tote-multi-leg-text-wrapper"><span class="tote-pool-value-headline" data-bind="text: $root.locale.t(\'totepool.racecard-pool\')"></span></div><div class="tote-multi-leg-text-wrapper"><span class="tote-pool-dividend" data-bind="text: $root.locale.t(\'totepool.racecard-dividends\')"></span></div></div></div><!-- ko foreach: {data: toteDividends, as: \'items\'} --><div class="item tote-item-extras"><div class="tote-wrapper"><span class="tote-type" data-bind="text: $root.getToteType(items)"></span></div><div class="tote-item-wrapper"><div class="tote-multi-leg-text-wrapper"><span class="tote-pool-value" data-bind="text: $root.getFormattedPoolValue(items.poolValue)"></span></div><div class="tote-multi-leg-text-wrapper"><span class="tote-pool-dividend-value" data-bind="text: $root.getFormattedPoolValue(items.dividends[0].value)"></span></div></div></div><!-- /ko --></div><!-- /ko --><!-- ko if: nonRunners && nonRunners.length > 0 --><div class="resulted-runners"><div class="race-card-header"><span class="runner-header" data-bind="text: $root.locale.t(\'racing.results.nonrunners\')"></span></div><!-- ko foreach: nonRunners --><div class="item"><div class="name" data-bind="text: name"></div><span class="result"><span data-bind="text: $root.getRootContext($element).showResult(result)"></span></span></div><!-- /ko --></div><!-- /ko --><!-- ko if: resultedMessage() && resultedMessage().length > 0 --><div class="resulted-runners"><span class="runner-header" data-bind="text: resultedMessage()"></span></div><!-- /ko --></div>'}),require.register("pages/event-details/left-side-view-model-sport",function(e,t,a){var o=e("./Competition-group"),s=function(e,t,a){if(a>=e.length)for(var o=a-e.length;o--+1;)e.push(void 0);return e.splice(a,0,e.splice(t,1)[0]),e};a.exports=function(){var e=this;e.selectedCompetitionGroup=ko.observable(),e.selectedCompetition=ko.observable(),e.competitionGroups=ko.observableArray(),e.currentClass=ko.observable(),e.currentEventId=ko.observable(),e.dispose=function(){e.competitionGroups.dispose(),e.getCompetitionGroups.dispose()},e.getCompetitionGroups=ko.computed(function(){var t=-1,a=e.competitionGroups(),o=e.selectedCompetition(),i=e.selectedCompetitionGroup();return a.forEach(function(a,s){a.competitions.forEach(function(a){o===a.urlNamePart()&&i===a.urlParentPart()&&(t=s,a.eventGroupWithOutright()||(e.selectedCompetitionGroup(a.urlParentPart()),a.loadEventsForCompetition(a)))})}),t>-1&&(a=s(a,t,0)),a}),e.navigate=function(t,a){var o,s=ko.contextFor(a.currentTarget);o=t.rootVM?t:s.$parents.find(function(e){return e.rootVM}),e.selectedCompetitionGroup(o.urlParentPart()),e.selectedCompetition(o.urlNamePart())},e.update=function(t){e.competitionGroups.updateArrayWithOrder(t.linkGroupsForClasses||[],function(t){return new o(t,{currentClass:e.currentClass,selectedCompetitionGroup:e.selectedCompetitionGroup,selectedCompetition:e.selectedCompetition})},"title")},e.startTimeContextualMenu=function(e){var t,a,o=ko.unwrap(e),s=moment(o).startOf("day").isSame(moment().startOf("day")),i=moment(o).startOf("isoWeek").isSame(moment().startOf("isoWeek"));return s?t=moment(o).format("HH:mm"):i?(t=moment.weekdaysShort(parseInt(moment(o).format("e"))),a=moment(o).format("HH:mm")):(t=moment(o).format("DD/MM"),a=moment(o).format("HH:mm")),{date:t,time:a}}}}),require.register("pages/racing-details/sidebar",function(e,t,a){a.exports='<div class="wrapper sidebar"><!-- ko if: id --><next-races params="id: id, type: \'menu\', sportName: sportName"></next-races><!-- /ko --><!-- ko foreach: Object.keys(meetings) --><!-- ko with: $parent.meetings[$data] --><!-- ko with: data --><header class="meeting-header" data-bind="toggle, visible: hasMeetings, css: { expanded: isSelected }"><span class="icon-arrow white-arrow"></span> <span class="title" data-bind="textAndTooltip: $parent.menuTitle"></span></header><div class="dn meetings-group" data-bind="visible: hasMeetings, css: { dn: !isSelected() }"><div data-bind="foreach: meetings"><!-- ko if: list().length --><h2 class="meetings" data-bind="toggle, css: { expanded: isSelected }"><span class="icon-arrow small-expand"></span> <span class="title" data-bind="textAndTooltip: $root.locale.t(title)"></span><!-- ko if: hasStreams--> <span data-bind="hoverTooltip: { text: $root.streamingTooltipRacing, skin: \'black\'}"><span class="icon-stream"></span></span><!-- /ko --></h2><!-- /ko --><div class="meetings-container" data-bind="foreach: { data: list }, css: { dn: !isSelected() }"><a class="meetings-link" data-bind="text: name, href: $root.venueLink($data), css: { \'finished\': finished, selected: isSelected }"></a></div></div></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko foreach: specialGroups --><header class="specials" data-bind="toggle, css: { expanded: isSelected }"><span class="icon-arrow white-arrow"></span> <span class="title" data-bind="textAndTooltip: $root.locale.t(title)"></span></header><div class="future-group" data-bind="foreach: list, css: { dn: !isSelected() }"><a class="sidebar-racing-link" data-bind="href: href, css: { selected: isSelected }"><span class="name-wrapper"><span class="time" data-bind="text: dateTime()"></span> <span class="name" data-bind="html: name"></span></span> <span class="icon-arrow white-arrow"></span></a></div><!-- /ko --><!-- ko if: totePoolsActive --><!-- ko with: meetings[\'today\'].data --><!-- ko if: selectedIds.length < 2 --><tote-contextual-menu params="classId: $parent.id, urlCtx: $parent.urlCtx"></tote-contextual-menu><!-- /ko --><!-- /ko --><!-- /ko --></div>'}),require.register("pages/event-details/scorecast-view-model",function(e,t,a){function o(e){var t=this;t.scorecastMarket=e.data,t.scorecastSelectedId=ko.observable(""),t.scorecastSelectedScoreId=ko.observable(""),t.scorecastScores=ko.observableArray(),t.isCashOutAvailable=t.scorecastMarket.isCashOutAvailable,t.event=t.scorecastMarket.event,t.getScorecastPlayers=function(e){for(var t=0;t<e.length;t++)"No Scorer"===e[t].nameRaw&&e.splice(t,1);return e},t.loadScorecastScores=function(e,a){t.scorecastSelectedId()&&void 0!==t.scorecastSelectedId()&&$.getJSON("/"+i.value()+"/get_scorecast/"+e+"/"+t.scorecastSelectedId()+"/"+a,function(e){var o=e.correctScore1Selections.concat(e.correctScoreXSelections,e.correctScore2Selections);t.scorecastScores(ko.utils.arrayMap(o||[],function(e){return e.scorecastScorer=t.getScorecastScorer(),e.secondaryScorecastOutcomeId=e.id,e.outcomeId=t.scorecastSelectedId(),e.id=a+"_"+e.outcomeId+"_"+e.secondaryScorecastOutcomeId,e.maxAcc=1,new s(e,{name:"scorecast",event:t.event})}))})},t.getScorecastScorer=ko.pureComputed(function(){for(var e,a=t.scorecastSelectedId(),o=document.getElementById(t.scorecastMarket.id).options,s=0;s<o.length;s++)a&&o[s].value===a&&(e=o[s].firstChild.nodeValue);return e}),t.getScorecastSelection=ko.pureComputed(function(){for(var e,a=t.scorecastSelectedScoreId(),o=t.scorecastScores(),s=0;s<o.length;s++)o[s].id===a&&(e=o[s]);return ko.unwrap(e)})}var s=e("domain-model/models/selection"),i=e("locale");a.exports=o}),require.register("pages/racing-details/spotlight-form",function(e,t,a){a.exports='<span><span class="spotlights" data-bind="css: { dn: $parents[1].spotlightOpenIds().indexOf($parents[1].cleanPropertyName(nameRaw)) === -1 && $parents[1].showAllSpotlight() === false }"><!-- ko if: $parents[1].racepost && $parents[1].getRacepostRunner(name) --><span data-bind="text: $parents[1].getRacepostRunner(name).runnerSpotlight ? $parents[1].getRacepostRunner(name).runnerSpotlight : $parents[1].locale.t(\'racing.no-spotlight\') "></span><!-- /ko --><!-- ko ifnot: $parents[1].racepost && $parents[1].getRacepostRunner(name) --> <span data-bind="text: $parents[1].locale.t(\'racing.no-spotlight\')"></span><!-- /ko --></span> <span class="forms" data-bind="css: { dn: $parents[1].formOpenIds().indexOf($parents[1].cleanPropertyName(nameRaw)) === -1 && $parents[1].showAllForm() === false }, if: $parents[1].getRacepostRunnerForms(name)"><ul><li><div class="date">Date</div><div class="conditions">Race conditions</div><div class="weight">Weight</div><div class="analysis">Analysis</div><div class="jockey">Jockey</div><div class="or">OR</div><div class="ts">TS</div><div class="rpr">RPR</div></li><!-- ko if: $parents[1].getRacepostRunnerForms(name) && $parents[1].getRacepostRunnerForms(name).length > 0 --><!-- ko foreach: $parents[1].getRacepostRunnerForms(name) --><li><div class="date" data-bind="text: moment(date).format(\'DD/MM/YY\')"></div><div class="conditions" data-bind="text: raceConditions"></div><div class="weight" data-bind="text: weight"></div><div class="analysis" data-bind="text: analysis"></div><div class="jockey" data-bind="text: jockey"></div><div class="or" data-bind="text: or"></div><div class="ts" data-bind="text: ts"></div><div class="rpr" data-bind="text: rpr"></div></li><!-- /ko --><!-- /ko --><!-- ko ifnot: $parents[1].getRacepostRunnerForms(name) && $parents[1].getRacepostRunnerForms(name).length > 0 --><li>No Form information available at this time.</li><!-- /ko --></ul></span></span>'}),require.register("pages/event-details/view-model",function(e,t,a){var o=e("locale"),s=e("message-bus"),i=e("domain-model/helper"),r=e("pages/cmsData"),n=e("domain-model/models/event"),l=e("pages/event-details/aggregated-view-model"),d=e("../shared/eachwayFormat"),c=e("gear-disposable-mixin"),p=e("domain-model/helpers/tracking");ko.components.register("generic-stats",{viewModel:e("pages/event-details/scoreboards/generic/view-model"),template:e("pages/event-details/scoreboards/generic/template"),synchronous:!0}),ko.components.register("rugby-union-stats",{viewModel:e("pages/event-details/scoreboards/rugby-union/view-model"),template:e("pages/event-details/scoreboards/rugby-union/template"),synchronous:!0}),ko.components.register("tennis-stats",{viewModel:e("pages/event-details/scoreboards/tennis/view-model"),template:e("pages/event-details/scoreboards/tennis/template"),synchronous:!0}),ko.components.register("basketball-stats",{viewModel:e("pages/event-details/scoreboards/basketball/view-model"),template:e("pages/event-details/scoreboards/basketball/template"),synchronous:!0}),ko.components.register("football-stats",{viewModel:e("pages/event-details/scoreboards/football/view-model"),template:e("pages/event-details/scoreboards/football/template"),synchronous:!0}),ko.components.register("cricket-stats",{viewModel:e("pages/event-details/scoreboards/cricket/view-model"),template:e("pages/event-details/scoreboards/cricket/template"),synchronous:!0}),ko.components.register("scorecast-component",{viewModel:e("pages/event-details/scorecast-view-model"),template:e("pages/event-details/market-templates/scorecast-market"),synchronous:!0});var u={EVENT_TAB_POPULAR_MARKETS:"Popular Markets",EVENT_TAB_MAIN_MARKETS:"Main Markets",EVENT_TAB_GOAL_MARKETS:"Goal Markets",EVENT_TAB_PLAYER_MARKETS:"Player Markets",EVENT_TAB_OTHER_MARKETS:"Other Markets"},m={NO_LIMIT:9999};a.exports=function(e){var t=this;t.dispose=function(){e&&e(),t.reset(),s.publish("stats:hide"),t.marketGroups.dispose()},c.mixin(t),t.currentEventSportName=ko.observable(""),t.currentEventId=ko.observable(),t.correctScore1Selections=ko.observableArray(),t.correctScoreXSelections=ko.observableArray(),t.correctScore2Selections=ko.observableArray(),t.event=ko.observable(),t.stats=ko.observable(),t.locale=o,t.selectedGroup=ko.observable(),t.scoreBoardUrl="",t.eventDetailsUrl="",t.inplayNowSubscribtion=null,t.correctScoreTwisteeExpanded=ko.observable(!0),t.settings=ko.observable({}),t.aggregatedGroups=ko.observable(""),t.activeTab=ko.observable("undecided"),t.smallerScreenSize=ko.observable(window.innerWidth<1280),t.legalInformation=ko.observable(),t.initialized=!1,t.scoreboardComponent=ko.observable(!1),t.scoreboardData=ko.observable(null),t.basicStats=ko.observable(null),t.visualisationStats=ko.observable(!1),t.eventId=null,r(["links"],function(e){t.legalInformation(i.getDeepProperty(e,"links.legalInformation")||{})}),t.getRootContext=function(e){return t},t.formatStartTime=function(e){var t=ko.unwrap(e);return moment(t).format("ddd DD/MM HH:mm")},t.popupUrl=ko.pureComputed(function(){var e=t.legalInformation(),a="";return e&&(a=e.termsConditions),a}),t.showTeamName=function(e){return"team-1"===e?t.event().participants[0].name:"team-2"===e?t.event().participants[1].name:e},t.showIncidents=function(e,t){return t>e().length-4},t.marketGroups=ko.pureComputed(function(){var e={},a=ko.unwrap(t.event);if(!a)return[];ko.utils.arrayForEach(ko.unwrap(a.markets),function(t,a){t.marketGroups&&t.marketGroups.length<=0&&(t.marketGroups=[u.EVENT_TAB_OTHER_MARKETS]),ko.utils.arrayForEach(t.marketGroups||[],function(t,a){e[t]=null})}),e=Object.keys(e);var s=t.removeItemFromArray(e,u.EVENT_TAB_MAIN_MARKETS),i=t.removeItemFromArray(e,u.EVENT_TAB_POPULAR_MARKETS),r=t.removeItemFromArray(e,u.EVENT_TAB_OTHER_MARKETS);return e.sort(),e=[].concat(s,i,e,r),e.map(function(e){var t=o.t("event.details.tabs.markets."+e.toLowerCase().replace(/ /g,"_").replace(/&/g,"and"));return t.indexOf("event.details")<0?t:e})},t),t.removeItemFromArray=function(e,t){var a=ko.utils.arrayIndexOf(e,t);return a>-1?e.splice(a,1):[]},t.onMarketGroupsChanged=function(e){0===e.length?t.selectedGroup(null):null!==t.selectedGroup()&&e.indexOf(t.selectedGroup())!==-1||t.selectedGroup(e[0])},t.toDispose(t.marketGroups.subscribe(t.onMarketGroupsChanged));var a=function(e,t){var a=new RegExp(e.marketName,"g");return t.marketMinorCode&&e.minorCodes.indexOf(t.marketMinorCode)!==-1&&(""===e.marketName||e.marketName&&t.nameRaw.match(a));
};t.marketRows=this.toDispose(ko.observableArray([]).extend({deferred:!0})),t.loadMarkets=this.toDispose(ko.computed(function(){var e,s,r,n,d,c=t.selectedGroup(),p=[];if(e=ko.unwrap(t.event),!e)return void t.marketRows([]);s=ko.unwrap(e.markets).filter(function(e,a,s){e.limit=t.settings().verticalMarketLimit||m.NO_LIMIT,"CORRECT_SCORE"===e.marketSort&&(e.limit=t.settings().verticalMarketLimitCorrectScore||m.NO_LIMIT,e.isMoreThanLimit=e.correctScore1Selections().length>e.limit||e.correctScoreXSelections().length>e.limit||e.correctScore2Selections().length>e.limit),e.showMore||(e.showMore=ko.observable(!(e.selections().length>e.limit))),e.toggle||(e.toggle=function(){e.showMore(!e.showMore())}),e.selectionsWithLimit||(e.selectionsWithLimit=ko.pureComputed(function(){return e.showMore()?e.selections:e.selections().slice(0,e.limit)}));for(var i=!1,r=0;r<e.marketGroups.length;r++){var n=e.marketGroups[r],l=o.t("event.details.tabs.markets."+n.toLowerCase().replace(/ /g,"_").replace(/&/g,"and"));if(l.indexOf(c)!==-1||n.indexOf(c)!==-1){i=!0;break}}return i});var u=[],h=new Uint32Array(s.length);for(ko.utils.arrayForEach(t.aggregatedGroups()||[],function(e){var o=i.camelize(e.name)+e.minorCodes.replace(",",""),r=[];ko.utils.arrayForEach(s||[],function(t,o){a(e,t)&&(r.push(t),h[o]++)}),r.length>0&&u.push(new l({id:o,name:e.name,isHorizontal:e.isHorizontal,markets:r,limit:e.isHorizontal?t.settings().horizontalMarketLimitAggregated:t.settings().verticalMarketLimitAggregated}))}),ko.utils.arrayForEach(h,function(e,t){e<=0&&u.push(s[t])}),u.sort(function(e,t){var a=e instanceof l?e.markets[0].order:e.order,o=t instanceof l?t.markets[0].order:t.order,s=0;return a>o?s=1:a<o&&(s=-1),s}),s=u,u=[];s.length;)r=s.shift(),r.expanded=ko.observable(!0),t.isMarketToBeDisplayedWide(r)?p.push({markets:[r]}):(d=t.findNextThinMarketIndex(s),null!==d?(n=s.splice(d,1)[0],n.expanded=ko.observable(!0),p.push({markets:[r,n]})):p.push({markets:[r]}));t.marketRows(p)},t)),t.findNextThinMarketIndex=function(e){for(var a=0;a<e.length;a++)if(!t.isMarketToBeDisplayedWide(e[a]))return a;return null},t.isMarketToBeDisplayedWide=function(e){return"CORRECT_SCORE"===e.marketSort||"AGGREGATED_VERTICAL"===e.marketSort||"AGGREGATED_HORIZONTAL"===e.marketSort},t.getMarketTemplate=function(e){return t.isMarketToBeDisplayedWide(e)?"AGGREGATED_VERTICAL"===e.marketSort?"pages/event-details/market-templates/aggregated-market-vertical":"AGGREGATED_HORIZONTAL"===e.marketSort?"pages/event-details/market-templates/aggregated-market-horizontal":"pages/event-details/market-templates/correct-score":e.selections().length>5||t.marketGroups().length<=1?"pages/event-details/market-templates/vertical-market":"pages/event-details/market-templates/generic-market"},t.marketIsAsian=function(e){return"ASIAN_HANDICAP"===e||"GOAL_LINE"===e},t.breadcrumbs=function(){var e=ko.observableArray(),a=ko.unwrap(t.event)||new n;return a.inplayNow()&&e.push({title:o.t("page.inplay.title"),href:"/bet-in-play/"}),e.push({title:(a.sport||{}).name,href:a.sport.href}),a.sportsBookClass&&!a.sportsBookClass.accomodated&&e.push({title:(a.sportsBookClass||{}).name,href:a.sportsBookClass.url}),a.sportsBookType&&e.push({title:(a.sportsBookType||{}).name,href:a.sportsBookType.url}),e.push({title:a.name,href:null}),e},t.ewText=d["default"],t.visualisationVisible=this.toDispose(ko.computed(function(){var e=t.activeTab();if(t.event()&&"Football"===t.event().sport.nameRaw){if(t.basicStats())return s.publish("stats:hide",t.visualisationStats()),!1;if("visual"===e||"scoreboard"===e&&!t.smallerScreenSize()&&!t.event().hasStream())return s.publish("stats:show",t.visualisationStats()),!0;s.publish("stats:hide",t.visualisationStats())}return!1})),t.streamingVisible=this.toDispose(ko.computed(function(){var e=t.activeTab();if(t.event()){if("stream"===e&&t.event().hasStream())return!0;if("scoreboard"===e&&!t.smallerScreenSize()&&t.event()&&t.event().hasStream())return!0}return!1})),t.scoreboardVisible=this.toDispose(ko.computed(function(){var e=t.activeTab();if(!t.smallerScreenSize())return!0;var a=ko.unwrap(t.event);return("scoreboard"===e||"undecided"===e)&&a&&a.inplayNow()})),t.isVisualisationAvailable=ko.pureComputed(function(){return"Football"===t.event().sport.nameRaw&&t.visualisationStats()}),t.setActiveTab=function(e,a,o){var i=p.findPositionHirarchy(o.target);t.activeTab()!==e&&s.publish("track:scoreboard",{action:e,position:i}),t.activeTab(e)},ko.utils.registerEventHandler(window,"resize",function(){t.smallerScreenSize(window.innerWidth<1280)}),t.showSportbackground=function(){return t.event()&&t.event().inplayNow()&&(t.event().hasStream()||"Football"===t.event().sport.nameRaw&&t.visualisationStats())?"scoreboard "+t.event().sport.nameRaw.replace(" ","-"):"sport-background scoreboard "+t.event().sport.nameRaw.replace(" ","-")},t.showGenericNoScores=function(){var e=!1;return t.event()&&t.event().inplay()&&(t.event().inplay().score&&t.event().inplay().score.length?10!==t.event().sport.id||""===t.event().inplay().score[0]&&""===t.event().inplay().score[1]?""!==t.event().inplay().score[0]&&""!==t.event().inplay().score[1]||(e=!0):e=!1:e=!0),e},t.trackFilterChange=function(e,a){a!==t.selectedGroup()&&s.publish("track:filter",{action:a,element:e})},t.updateStats=function(e){var a,o=t.event().sport.nameRaw;if(e){if(a=t.basicStats()!==(e.basicStats||!1)||t.eventId!==e.eventId,t.scoreboardData(e),t.visualisationStats(t.scoreboardData()),a)if(t.basicStats(e.basicStats||!1),t.eventId=e.eventId,e.basicStats)"Cricket"===o?t.scoreboardComponent("cricket-stats"):t.scoreboardComponent("generic-stats");else switch(o){case"Football":t.scoreboardComponent("football-stats");break;case"Tennis":t.scoreboardComponent("tennis-stats");break;case"Basketball":t.scoreboardComponent("basketball-stats");break;case"Cricket":t.scoreboardComponent("cricket-stats");break;case"Rugby Union":t.scoreboardComponent("rugby-union-stats");break;default:t.scoreboardComponent("generic-stats")}s.publish("scoreboard:data",e),t.activeTab()&&"undecided"!==t.activeTab()||(t.event()&&t.event().hasStream()?t.activeTab("stream"):t.activeTab("scoreboard"))}},t.reset=function(e){t.eventSubscription&&t.eventSubscription.dispose(),t.scoreboardTimer&&clearTimeout(t.scoreboardTimer),t.scoreboardSubscription&&t.scoreboardSubscription.dispose(),t.markets&&ko.utils.arrayForEach(t.markets,function(e){e&&e.selectionsWithLimit&&e.selectionsWithLimit.dispose()}),s.publish("stats:hide"),t.stats()&&t.stats().dispose&&t.stats().dispose(),t.stats(null),t.event()&&t.event().dispose&&t.event().dispose(),t.event(null),t.activeTab("undecided"),t.selectedGroup(null),t.correctScore1Selections.dispose(),t.correctScoreXSelections.dispose(),t.correctScore2Selections.dispose(),t.inplayNowSubscribtion&&t.inplayNowSubscribtion.dispose()}}}),require.register("pages/racing-details/template",function(e,t,a){a.exports='<div><!-- ko if: removed--><div class="racing-page" data-bind="attr: { id: \'racing-page-\' + id }"><breadcrumbs params="breadcrumbs: $root.breadcrumbs()"></breadcrumbs><div data-bind="text: locale.t(\'event.details.race_unavailable.title\')"></div></div><!--/ko --><!-- ko ifnot: removed--><!-- ko ifnot: isEventDetails --><div class="racing-page" data-bind="attr: { id: \'racing-page-\' + id }"><!-- ko if: !$root.eventIds --><breadcrumbs params="breadcrumbs: $root.breadcrumbs()"></breadcrumbs><!-- /ko --><!-- ko ifnot: renderResultedRace --><!-- ko template: { name: \'/pages/racing-details/racecard\' } --><!-- /ko --><!-- /ko --><!-- ko if: renderResultedRace --><!-- ko template: { name: \'/pages/racing-details/resulted\' } --><!-- /ko --><!-- /ko --></div><!-- /ko --><!-- ko if: isEventDetails --><!-- ko with: race --><div class="details"><div class="container"><!-- ko if: !$root.eventIds --><breadcrumbs params="breadcrumbs: $root.breadcrumbs()"></breadcrumbs><!-- /ko --><header class="sport-background scoreboard"><!-- ko template: { name: \'pages/event-details/scoreboards/generic/generic-no-scores\' } --><!-- /ko --></header><div class="market-row"><!-- ko with: markets()[0] --><div class="market vertical expandable-below expanded" data-bind="css: { live: $root.getRootContext($element).race.inplayNow() }, attr:{ \'data-expandable-below\': true  }"><header class="expand-list market-header" data-bind="toggle, css: {\'expanded\': $root.getRootContext($element).expanded()}"><div class="icon-arrow small-expand"></div><span class="title" data-bind="text: name"></span></header><div class="market-content" data-bind="visible: true"><!-- ko foreach: { data: selections(), as: \'selection\' } --><div class="selection"><div class="selection-name" data-bind="text: selection.getTitle()"></div><selection-button params="caption: selection.name, selection: selection, event: $root.getRootContext($element).race, captionAbove: false, live: $root.getRootContext($element).race.inplayNow"></selection-button></div><!-- /ko --></div></div><!-- /ko --></div><!-- /ko --></div></div><!-- /ko --><!-- /ko --><!--/ko --></div>'}),require.register("pages/index/controller",function(e,t,a){function o(e){return e}function s(e){return e.dispose&&e.dispose.bind(e)||e.abort&&e.abort.bind(e)}function i(e){e()}var r=e("./view-model"),n=e("./template"),l=e("ladbrokes-router"),d=e("layout-engine"),c=e("./featured-view-model"),p=e("domain-model/models/event-group-list-se"),u=e("message-bus"),m=e("web-storage-extender"),h=e("locale"),v=e("pages/cmsData"),b=e("seo"),g=e("websocket");t.init=function(){function e(){var e=[];N&&(e.push(N.featuredInPlay()),e.push(N.highLightEventGroupList())),e.push(P),e.push(A),e.push(G),e.filter(o).map(s).filter(o).forEach(i),t(),N=null}function t(){S=g.unsubscribe(S),E=g.unsubscribe(E),C=g.unsubscribe(C)}function a(){var e=g.subscribeWithPromise("event-group-list","LIVE",function(t){N.featuredInPlay(new p),N.featuredInPlay().populate(t.itemIds).done(function(){N&&e&&e.initialize()}).fail(function(e){})},function(e){N.featuredInPlay().update(e.itemIds)},function(){N.featuredInPlay(null)},function(){return N});return S=e.subscription||null,e.promise||$.Deferred().promise()}function f(){var e=h.locale();e&&(e=e.split("-"),e=e[0]+"-"+e[1].toUpperCase());var t=g.subscribeWithPromise("event-group-list","Highlights-"+e,function(e){N.highLightEventGroupList(new p),N.highLightEventGroupList().populate(e.itemIds).done(function(){N&&t&&t.initialize()}).fail(function(e){})},function(e){N.highLightEventGroupList().update(e.itemIds)},function(){E&&([N.highLightEventGroupList(),E].filter(o).map(s).filter(o).forEach(i),N.highLightEventGroupList(null))},function(){return N});return E=t.subscription||null,t.promise||$.Deferred().promise()}function k(){var e=g.subscribeWithPromise("featured","HomePage",function(t){N.featured(new c(t)),N&&e&&e.initialize()},function(e){N.featured().update(e)},function(){N.featured(null)},function(){return N});return C=e.subscription||null,e.promise||$.Deferred().promise()}function w(){return N.nextRaces(null),I.promise()}function y(){return v(["heroMVP.settings","heroMVP.indexPage","startpage.nextraces_visible","festival_single.index_module"]).done(function(e){try{if(N.heroMVP.setup(e["heroMVP.settings"]||{},e["heroMVP.indexPage"]||[]),0!==h.value().indexOf("de")){if(e&&e["festivalSingle.indexModule"]){var t=e["festivalSingle.indexModule"];N.festivalIndexModuleEventId(t.festivalIndexModuleEventId),N.festivalIndexModuleEnable(t.festivalIndexModuleEnable)}e["startpage.nextracesVisible"]&&(N.hasNextRaces(!0),A=w(N))}else A=!0}catch(a){}})}function T(t,o){N&&e(),t.deactivate=e;var s,i=m.retrieve("local","homepage:personalHomePage")||"";if(u.publish("track:query-params"),u.publish("track:page"),t.firstRoute&&i)switch(i){case"horse-racing":if("de-de"!==h.value())return s="horse-racing","sv-se"===h.value()&&(s="hstkapplpning"),void l.navigate("/"+h.value()+"/racing/"+s+"/");break;case"football":return s="football","sv-se"===h.value()?s="fotboll":"de-de"===h.value()&&(s="fuball"),void l.navigate("/"+h.value()+"/betting/"+s+"/")}u.publish("breadcrumbs",[]),u.publish("activeSport",""),N=new r(a,f,k,w),P=u.subscribe("next-races:loaded",function(e){N&&(I&&I.resolve&&I.resolve(),N.nextRaces(!0))}),G=y(),x=a(N),M=f(N),R=k(N),$.when(G,x,M,R,A).done(function(){try{var e={pageType:"index",page:"index"};b.pageRenderComplete(e)}catch(t){}}).fail(b.pageRenderFailed),d.render(n,N,"content"),o()}var x,S,C,R,M,E,P,A,G,N,I=$.Deferred();l.on("/",T)}}),require.register("pages/racing-index/template",function(e,t,a){a.exports='<div><breadcrumbs params="breadcrumbs: $root.breadcrumbs(), fullPage: true"></breadcrumbs><div class="row" xmlns="http://www.w3.org/1999/html"><div class="left-column"><banner-carousel class="racing-banner-carousel" params="data: heroMVP"></banner-carousel><!-- next races--><!-- ko if: isReady --><next-races params="id: id, type: \'horizontal\', sportName: sportName"></next-races><!-- /ko --><load-handler params="trigger: meetingsLoaded, data: $data"><div class="racing-card-container" data-bind="css: { \'footer-is-fixed\': footerIsFixed }"><!-- racing today and tomorrow --><!-- ko foreach: Object.keys(meetings) --><!-- ko with: $parent.meetings[$data] --><!-- ko with: data --><div class="module" data-bind="visible: hasMeetings" data-t-position="racing-today-module"><h1 class="expand-list expanded" data-bind="toggle"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="html: $root.locale.t($parent.title)"></span><div class="expand-list-controllers" data-bind="click: $root.disableExpandedList"><nav class="tabs"><ul><!-- ko if: $parents[1] === \'today\' && $root.totePoolsActive() --><!-- ko if: $root.toteScoop6PoolKey --><li class="tote-button scoop" data-bind="click: function(){ $root.toteButtonClick($element) },\n                                                        attr: { \'tote-key\': $root.toteScoop6PoolKey }"><span class="tote-button-prefix" data-bind="text: $root.locale.t(\'totepool.tote\')"></span> <span class="text" data-bind="text: $root.locale.t(\'totepool.scoop6\')"></span></li><!-- /ko --><!-- ko if: $root.toteJackpotPoolKey --><li class="tote-button jackpot" data-bind="click: function(){ $root.toteButtonClick($element) },\n                                                        attr: { \'tote-key\': $root.toteJackpotPoolKey }"><span class="tote-button-prefix" data-bind="text: $root.locale.t(\'totepool.tote\')"></span> <span data-bind="text: $root.locale.t(\'totepool.jackpot\')"></span></li><!-- /ko --><!-- /ko --><!-- ko foreach: $root.meetingsPopups --><!-- ko if: enabled --><li data-bind="popupLink: { type: \'popup\', url: url, options: { toolbar: \'no\', scrollbars: \'yes\', resizable: \'yes\', width: width, height: \'400\'}  }"><div data-bind="text: $root.locale.t(\'racing.link.\' + title)"></div></li><!-- /ko --><!-- /ko --></ul></nav><!-- ko if: $root.id === \'21\' --><select data-bind="value: filter, options: $root.meetingsFilter, optionsText: \'title\', optionsValue: \'value\', click: $root.disableExpandedList, event: { change: $root.trackFilterChange }"></select><!-- /ko --></div></h1><div><div class="racing-scheduled" data-bind="foreach: meetings"><div class="racing-scheduled-meeting"><div class="racing-scheduled-meeting-left"><!-- ko if: list().length && !finished() --><a class="racing-scheduled-meeting-name" data-bind="text: title, click: $root.saveAllRacingMeetingEventsForRacecard, href: meetingLink"></a><!-- /ko --><!-- ko if: list().length && finished() --> <span class="racing-scheduled-meeting-name" data-bind="text: title"></span><!-- /ko --><!-- ko if: hasStreams--> <a class="racing-scheduled-meeting-streaming" data-bind="\n                                                                href: $root.venueLink($root.getNextEvent(list())),\n                                                                hoverTooltip: { text: $root.streamingTooltipRacing, skin: \'black\'}"><span class="icon-stream"></span></a><!-- /ko --></div><div class="racing-scheduled-meeting-right"><div class="racing-scheduled-meeting-right-top"><div class="racing-scheduled-meeting-race-times"><!-- ko foreach: { data: list } --><span class="racing-scheduled-meeting-race-time" data-bind="css: { \'finished\': finished }"><a data-bind="text: name, href: $root.venueLink($data)"></a><!-- ko ifnot: finished --> <input type="checkbox" data-bind="checked: isChecked"><!-- /ko --></span><!-- /ko --> <span class="racing-scheduled-meeting-race-time-totes-divider"></span><!-- ko if: totePoolsActive() --><!-- ko if: jackpotEventId --> <span class="racing-scheduled-meeting-race-time totes-button"><a data-bind="translateText: \'totepool.jackpot\', href: jackpotMeetingLink"></a></span><!-- /ko --><!-- ko if: placepotEventId --> <span class="racing-scheduled-meeting-race-time totes-button"><a data-bind="translateText: \'totepool.placepot\', href: placepotMeetingLink"></a></span><!-- /ko --><!-- ko if: quadpotEventId --> <span class="racing-scheduled-meeting-race-time totes-button"><a data-bind="translateText: \'totepool.quadpot\', href: quadpotMeetingLink"></a></span><!-- /ko --><!-- /ko --></div><div class="racing-scheduled-meeting-race-times-all" data-bind="css: { \'disabled\': finished}"><label data-bind="translateText: \'racecard.builder.checkall\', attr: { for: titleAsId } "></label><input type="checkbox" data-bind="attr: { id: titleAsId }, checked: isCheckedAll, enable: !finished()"></div></div><div class="racing-scheduled-meeting-links" data-bind="foreach: $root.aggAndFavEventIds"><!-- ko foreach: list --><!-- ko if: name == $parents[1].title--><a href="" data-bind="text: $parent.title, href: href"></a><!-- /ko --><!-- /ko --></div></div></div></div></div></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- future & specials--><!-- ko foreach: specialGroups --><div class="module" data-bind="attr:{\'data-t-position\':setGAPosition}"><h1 class="expand-list expanded" data-bind="toggle"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="text: $root.locale.t(title)"></span></h1><div><div class="racing-upcoming" data-bind="foreach: list"><div class="racing-upcoming-meeting"><a class="racing-upcoming-meeting-info" data-bind="href: href ? href : location.pathname"><span class="racing-upcoming-meeting-date" data-bind="text: dateTime()"></span> <span class="racing-upcoming-meeting-name" data-bind="html: name"></span></a> <input type="checkbox" data-bind="checked: isChecked"></div></div></div></div><!-- /ko --><div class="racing-card-footer" data-bind="css: { \'fixed\': footerIsFixed }"><div class="racing-card-footer-content"><!-- ko ifnot: checkedNumber().length --><span data-bind="text: $root.locale.t(\'racecard.builder.info\')"></span><!-- /ko --><!-- ko if: checkedNumber().length --><!-- ko if: checkedNumber().length == 1 --> <a class="button action" data-t-name="Racecard Builder" data-bind="attr: { href: raceCardUrl, \'data-t-value\': checkedNumber().length },\n                                                                            html: $root.locale.t(\'racecard.builder.build\',\n                                                                            checkedNumber().length)"></a><!-- /ko --><!-- ko if: checkedNumber().length > 1 --> <a class="button action" data-t-name="Racecard Builder" data-bind="attr: { href: raceCardUrl, \'data-t-value\': checkedNumber().length },\n                                                                                    html: $root.locale.t(\'racecard.builder.build.plural\',\n                                                                                    checkedNumber().length)"></a><!-- /ko --> <a href="#" class="racing-card-footer-clear" data-bind="click: clearAll, text: $root.locale.t(\'racecard.builder.clearall\')"></a><!-- /ko --></div></div></div></load-handler></div></div></div>'}),require.register("pages/index/featured-view-model",function(e,t,a){var o=e("domain-model/models/event"),s=e("gear-disposable-mixin"),i=e("domain-model/helper"),r=function(e){s.mixin(this),this.getSilkUrls=function(e){e=e||{};for(var t in e)e.hasOwnProperty(t)&&e[t]?e[t]=i.fixPropertyNames(e[t]):delete e[t];return e},this.featuredEvents=this.toDispose(ko.observableArray(ko.utils.arrayMap(e.featuredEvents,function(e){return new o(e)}))),this.numberOfMarkets=e.numberOfMarkets||1,this.numberOfSelections=e.numberOfSelections||5,this.silkUrls=ko.observable(this.getSilkUrls(e.silkUrls||{}))};r.prototype.update=function(e){this.featuredEvents.updateArrayWithOrder(e.featuredEvents||[],function(e){return new o(e)},"id"),this.silkUrls.updateObject(this.getSilkUrls(e.silkUrls||{}),function(e){return e})},a.exports=r}),require.register("pages/results/template",function(e,t,a){a.exports='<div><results-container params="{selectedSport: selectedSport, headerTabs: headerTabs}"></results-container></div>'}),require.register("pages/index/view-model",function(e,t,a){function o(e,t,a,d){function c(){r.fetchPrivateMarkets(function(e){u.privateMarkets(e)})}n.mixin(this),this.loadFeaturedInPlay=e,this.loadFeaturedHighlights=t,this.loadFeatured=a,this.loadNextRaces=d,this.streamingTooltip=ko.observable(),this.streamingTooltip(s.t("streaming.tooltip")),this.streamingTooltipRacing=ko.observable(),this.streamingTooltipRacing(s.t("streaming.tooltip.racing.default")),this.festivalIndexModuleEnable=ko.observable(!1),this.festivalIndexModuleEventId=ko.observable(""),this.featuredInPlay=ko.observable(null),this.featuredInPlayVisible=ko.pureComputed(function(){return null===this.featuredInPlay()||this.featuredInPlay()&&this.featuredInPlay().eventGroups()&&this.featuredInPlay().eventGroups().length},this).extend({throttle:500}),this.highLightEventGroupList=ko.observable(),this.highLightEventGroupListVisible=ko.pureComputed(function(){return null===this.highLightEventGroupList()||this.highLightEventGroupList()&&this.highLightEventGroupList().eventGroups()&&this.highLightEventGroupList().eventGroups().length},this).extend({throttle:500}),this.featured=ko.observable(null),this.hasNextRaces=ko.observable(null),this.nextRaces=ko.observable(null),this.locale=s,this.bannerClassName=ko.observable("hidden"),this.heroMVP=new l("aemHomePage","homepage",this.bannerVisible),this.trackExpansion=o.trackExpansion;var p=function(e){e&&e.banners>0?this.bannerClassName(""):this.bannerClassName("hidden")}.bind(this);this.toDispose(i.subscribe("aem-carousel:init",p)),this.toDispose(i.subscribe("aem-carousel:update",p)),this.privateMarkets=ko.observableArray();var u=this;this.isPrivateMarketsEmpty=ko.pureComputed(function(){return 0===u.privateMarkets().length}),c(),this.toDispose(i.subscribe("^authentication:update$",function(){c()})),this.toDispose(i.subscribe("^authentication:logged-in$",function(){c()})),this.toDispose(i.subscribe("^authentication:logged-out$",function(){u.privateMarkets.removeAll()}))}var s=e("locale"),i=e("message-bus"),r=e("private-market").service,n=e("gear-disposable-mixin"),l=e("hero-mvp/controller");o.prototype={trackExpansion:function(e,t){var a={};a.target=t.target,this.expanded?(this.contract(),a.expanded="Collapse"):(this.expand(),a.expanded="Expand"),a.action=e,i.publish("track:collapse-expand",a)},dispose:function(){this.nextRaces()&&this.nextRaces(null),this.featuredInPlayVisible.dispose(),this.highLightEventGroupListVisible.dispose(),this.featuredInPlay()&&(this.featuredInPlay().dispose(),this.featuredInPlay(null)),this.highLightEventGroupList()&&(this.highLightEventGroupList().dispose(),this.highLightEventGroupList(null)),this.featured()&&(this.featured().dispose(),this.featured(null))}},a.exports=o}),require.register("pages/totepools/template",function(e,t,a){a.exports='<tote-page params="urlData: urlData, toteKey: toteKey"></tote-page>'}),require.register("pages/promotions/controller",function(e,t,a){var o=e("seo"),s=e("./view-model"),i=e("./details-view-model"),r=e("./template"),n=e("./details-template"),l=e("ladbrokes-router"),d=e("layout-engine"),c=e("locale"),p=e("message-bus");t.init=function(){l.on("/promotions/",function(e,t){$.getJSON("/"+e.params.locale+"/promotionsData",function(e){d.render(r,new s(e),"content"),p.publish("track:query-params"),p.publish("track:page")}).done(function(){var e={pageType:"promotions",page:"promotions"};o.pageRenderComplete(e)}).fail(o.pageRenderFailed),t()}),l.on("/promotions/:urlOfPromotion/",function(e,t){d.render(n,i,"content"),p.publish("track:query-params"),p.publish("track:page");var a="/promotions/"+e.params.urlOfPromotion+"/";$.getJSON("/"+e.params.locale+"/promotionsData",function(t){var s;t.promotions.forEach(function(e){decodeURIComponent(e.url)===a&&(s=e)}),"undefined"!=typeof s?(i.promotion(s),i.selectedTabIndex(0),i.breadcrumbs([{title:c.t("generic.promotions.title"),href:"/promotions/"},{title:s.title,href:null}]),i.loaded(!0),o.pageRenderComplete({pageType:"promotions/promotion",id:s.id,eventName:s.title,description:s.descriptionFull,page:"promotions"})):(o.pageRenderFailed({url:a}),l.redirect("/"+e.params.locale+"/promotions/"))}),t()})}}),require.register("pages/virtuals/template",function(e,t,a){a.exports='<virtuals-container params="classId: classId, cmsData: cmsData"></virtuals-container>'}),require.register("pages/promotions/details-view-model",function(e,t,a){var o=e("locale"),s={loaded:ko.observable(!1),locale:o,promotion:ko.observable(),breadcrumbs:ko.observableArray(),tabs:function(){var e=ko.observableArray(),t={title:s.promotion().descriptionLabel,index:0};if(e.push(t),s.promotion().showAdditionalText){var a={title:s.promotion().additionalTextLabel,index:1};e.push(a)}return e},selectedTabIndex:ko.observable(0)};a.exports=s}),require.register("pages/event-details/market-templates/aggregated-market-horizontal",function(e,t,a){a.exports='<!-- ko if: $root.event() --><div class="market aggregated expanded" data-bind="css: { live: $root.event().inplayNow(), \'expandable-below\': showMoreNeeded }, attr:{ \'data-expandable-below\': showMoreNeeded  }"><header class="expand-list market-header" data-bind="toggle, css: {\'expanded\': expanded}"><div class="icon-arrow small-expand"></div><span class="title" data-bind="text: name"></span><!-- ko template: \'/pages/event-details/templates/cash-out-badge\' --><!-- /ko --></header><div class="market-content horizontal" data-bind="visible: expanded"><div class="aggregated-market"><header><span class="blurb" data-bind="text: markets[0].blurbTranslations.get"></span></header><div class="selections"><!-- ko foreach: { data: aggregatedTitles, as: \'name\' } --><div class="selection"><span class="title" data-bind="text: name"></span></div><!-- /ko --></div></div><!-- ko foreach: {data: markets, as: \'market\'} --><div class="aggregated-market"><header><!-- ko if: market.handicapParsed --><span class="title" data-bind="text: market.handicapParsed"></span><!-- /ko --><!-- ko ifnot: market.handicapRawOpenbet --> <span class="title" data-bind="text: market.nameTranslations.get"></span><!-- /ko --></header><div class="selections"><!-- ko foreach: { data: $parent.getSelections(selections()), as: \'selection\' } --><div class="selection"><!-- ko if: $root.marketIsAsian($parent.marketSort) --><selection-button params="\n                                    selection: selection,\n                                    event: $root.event(),\n                                    live: $root.event().inplayNow,\n                                    forcePrice: \'decimalOdds\'\n                                "></selection-button><!-- /ko --><!-- ko if: !$root.marketIsAsian($parent.marketSort) --><selection-button params="\n                                    selection: selection,\n                                    event: $root.event(),\n                                    live: $root.event().inplayNow\n                                "></selection-button><!-- /ko --></div><!-- /ko --></div></div><!-- /ko --><!-- ko if: showMoreNeeded && expanded --><div class="expandable-below-container"><div class="expandable-below-container-button" data-bind="click: toggle"><!-- ko if: showMoreSelections() --><span data-bind="text: $root.locale.t(\'js.score.button.less\')"></span><div class="arrow arrow-more"></div><!-- /ko --><!-- ko ifnot: showMoreSelections() --><span data-bind="text: $root.locale.t(\'js.score.button.more\')"></span><div class="arrow arrow-less"></div><!-- /ko --></div></div><!-- /ko --></div></div><!-- /ko -->'}),require.register("pages/promotions/view-model",function(e,t,a){function o(e){function t(){r.fetchPrivateMarkets(function(e){a.privateMarkets(e)},3)}n.mixin(this);var a=this;this.locale=s,this.privateMarkets=ko.observableArray(e.privateMarkets),this.promotions=e.promotions,this.hasPromotions=0!==e.length,this.isPrivateMarketsEmpty=ko.pureComputed(function(){return 0===a.privateMarkets().length}),this.toDispose(i.subscribe("^authentication:update$",function(){t()})),this.toDispose(i.subscribe("^authentication:logged-in$",function(){t()})),this.toDispose(i.subscribe("^authentication:logged-out$",function(){a.privateMarkets.removeAll()})),this.breadcrumbs=function(){return[{title:s.t("generic.promotions.title"),href:null}]}}var s=e("locale"),i=e("message-bus"),r=e("private-market").service,n=e("gear-disposable-mixin");a.exports=o}),require.register("pages/event-details/market-templates/aggregated-market-vertical",function(e,t,a){a.exports='<!-- ko if: $root.event() --><div class="market aggregated expanded" data-bind="css: { live: $root.event().inplayNow(), \'expandable-below\': showMoreNeeded }, attr:{ \'data-expandable-below\': showMoreNeeded  }"><header class="expand-list market-header" data-bind="toggle, css: {\'expanded\': expanded}"><div class="icon-arrow small-expand"></div><span class="title" data-bind="text: name"></span><!-- ko template: \'/pages/event-details/templates/cash-out-badge\' --><!-- /ko --></header><div class="market-content vertical" data-bind="visible: expanded"><!-- ko foreach: {data: marketsWithLimit(), as: \'market\'} --><div class="aggregated-market"><header><span class="title"></span><!-- ko foreach: { data: $parent.aggregatedTitles, as: \'title\' } --> <span data-bind="text: title"></span><!-- /ko --></header><div class="selections"><span class="title" data-bind="text: market.nameTranslations.get"></span><!-- ko foreach: { data: $parent.getSelections(selections()), as: \'selection\' } --><!-- ko if: $data.status !== \'NO_DISPLAY\' --><div class="selection" data-bind="attr: { handicap: market.handicapMarket, asian: $root.marketIsAsian($parent.marketSort) }"><!-- ko if: market.handicapMarket --><!-- ko if: $root.marketIsAsian($parent.marketSort) --><selection-button params="\n                                    selection: selection,\n                                    event: $root.event(),\n                                    live: $root.event().inplayNow,\n                                    forcePrice: \'decimalOdds\',\n                                    leftCaption: handicapDisplay\n                                "></selection-button><!-- /ko --><!-- ko ifnot: $root.marketIsAsian($parent.marketSort) --><selection-button params="\n                                    selection: selection,\n                                    event: $root.event(),\n                                    live: $root.event().inplayNow,\n                                    leftCaption: handicapDisplay\n                                "></selection-button><!-- /ko --><!-- /ko --><!-- ko ifnot: market.handicapMarket --><selection-button params="\n                                selection: selection,\n                                event: $root.event(),\n                                live: $root.event().inplayNow\n                            "></selection-button><!-- /ko --></div><!-- /ko --><!-- ko if: $data.status === \'NO_DISPLAY\' --><div class="selection"></div><!-- /ko --><!-- /ko --></div></div><!-- /ko --><!-- ko if: $data.markets.length > $data.limit && expanded --><div class="show-more"><div class="show-more-link" data-bind="click: toggle"><div><!-- ko if: $data.showMore() --><span data-bind="text: $root.locale.t(\'js.score.button.less\')"></span><div class="arrow arrow-more"></div><!-- /ko --><!-- ko ifnot: $data.showMore() --><span data-bind="text: $root.locale.t(\'js.score.button.more\')"></span><div class="arrow arrow-less"></div><!-- /ko --></div></div></div><!-- /ko --></div></div><!-- /ko -->';
}),require.register("pages/race-card/controller",function(e,t,a){var o,s=e("locale"),i=e("message-bus"),r=e("./template"),n=e("./view-model"),l=e("pages/racing-details/view-model"),d=e("pages/event-details/view-model"),c=e("domain-model/models/event"),p=e("repository"),u=e("layout-engine"),m=e("ladbrokes-router"),h=e("web-storage-extender"),v=e("service").azService,b=e("./utils"),g=e("shared-functions").sharedSidbar,f=e("pages/cmsData"),k=function(e,t){f(["links.popup"],function(a){e.cmsData=a||{},t()})},w=function(e,t){function a(e,t){i.publish("leftsidebar:hideextramenu"),u.destroyRegion("left-sidebar-details-menu-region"),w=!1,f&&f()}var f,k,w=!1,y=(h.retrieve("local","racecard")||[]).map(function(e){return{id:e.id,name:e.name,nameDetails:e.nameDetails,type:e.type,meeting:e.meeting,subscription:null,viewModel:null,fetched:ko.observable(!1)}});return e.deactivate=a,y.length?(o=new n({eventIds:y,pageDone:function(){i.publish("track:page")}}),o.sportMeta.href(e.params.sportName),v.getByUrlPart(o.sportMeta.href(),function(t,a){var s;!t&&a&&a.text&&(o.sportMeta.name(a.text),i.publish("activeSport",a.text),s=g.leftSidebar(e,a.id,y.map(function(e){return e.id})),f=s.dispose,k=s.promises)}),y.sort(function(e,t){var a,o;return"eventDetails"===t.type?-1:(a=b.getMomentTime(e.nameDetails),o=b.getMomentTime(t.nameDetails),a-o)}).forEach(function(t){var a;"racingEventDetails"===t.type?t.subscription=p.subscribe("races",t.id,function(a,s,i){a||(t.fetched()?t.viewModel.update(s):(t.viewModel=new l(s||{},e.cmsData,t.subscription),o.addRace(t.viewModel,function(){t.fetched(!0)})))}):(a=new d,a.reset(),a.currentEventId(t.id),a.eventDetailsUrl="/"+s.value()+"/event_details/"+t.id+"?t="+Date.now(),a.eventSubscription=p.subscribe("events",t.id,function(e,s){e||(a.initialized?a.event().update(s):(a.event(new c(s)),a.currentEventSportName(a.event().sport.name),a.event().hasStream?i.publish("streaming:show",a.event().id):i.publish("streaming:hide",a.event().id),i.publish("activeSport",a.currentEventSportName()),o.addSpecial(a,function(){t.fetched(!0)})))}))}),u.render(r,o,"content"),w=!0,void t()):(m.navigate("/"+e.params.locale+"/racing/"+e.params.sportName+"/"),!1)};t.init=function(){m.on("/racing/:sportName/build_your_own_racecard/",k,w),m.on("/racing/:sportName/:meetingName/build_your_own_racecard/",k,w),m.on("/racing/:sportName/:className/:venueName/",function(e,t){if("build_your_own_racecard"!==e.params.venueName){var a="/"+e.params.locale+"/racing/"+e.params.sportName+"/";m.redirect(a)}})}}),require.register("pages/event-details/market-templates/correct-score",function(e,t,a){a.exports='<!-- ko if: $root.event() --><div class="market expandable-below expanded" data-bind="css: { live: $root.event().inplayNow() }, attr:{ \'data-expandable-below\': $data.selections().length > $data.limit && $root.correctScoreTwisteeExpanded() }"><header class="expand-list market-header" data-bind="toggle, css: {\'expanded\': expanded}"><div class="icon-arrow small-expand"></div><span class="title" data-bind="text: nameTranslations.get"></span> <span class="blurb" data-bind="text: blurbTranslations.get, visible: shouldShowBlurb"></span><!-- ko template: \'/pages/event-details/templates/cash-out-badge\' --><!-- /ko --></header><div class="market-content" data-bind="visible: $root.correctScoreTwisteeExpanded()"><div class="correct-score"><div class="column"><!-- ko foreach: { data: correctScore1Selections(), as: \'selection\' } --><!-- ko if: $index() < $parent.limit || $parent.showMore()  --><div class="correct-score-selection"><selection-button params="caption: selection.name, selection: selection, event: $root.event(), captionAbove: false, leftCaption: selection.sort, live: $root.event().inplayNow"></selection-button></div><!-- /ko --><!-- /ko --></div><div class="column"><!-- ko foreach: { data: correctScoreXSelections(), as: \'selection\' } --><!-- ko if: $index() < $parent.limit || $parent.showMore() --><div class="correct-score-selection"><selection-button params="caption: selection.name, selection: selection, event: $root.event(), captionAbove: false, leftCaption: selection.sort, live: $root.event().inplayNow"></selection-button></div><!-- /ko --><!-- /ko --></div><div class="column"><!-- ko foreach: { data: correctScore2Selections(), as: \'selection\' } --><!-- ko if: $index() < $parent.limit || $parent.showMore()  --><div class="correct-score-selection"><selection-button params="caption: selection.name, selection: selection, event: $root.event(), captionAbove: false, leftCaption: selection.sort, live: $root.event().inplayNow"></selection-button></div><!-- /ko --><!-- /ko --></div></div><!-- ko if: $data.isMoreThanLimit && $root.correctScoreTwisteeExpanded() --><div class="expandable-below-container"><div class="expandable-below-container-button" data-bind="click: toggle"><!-- ko if: $data.showMore() --><span data-bind="text: $root.locale.t(\'js.score.button.less\')"></span><div class="arrow arrow-more"></div><!-- /ko --><!-- ko ifnot: $data.showMore() --><span data-bind="text: $root.locale.t(\'js.score.button.more\')"></span><div class="arrow arrow-less"></div><!-- /ko --></div></div><!-- /ko --></div></div><!-- /ko -->'}),require.register("pages/race-card/utils",function(e,t,a){t.getMomentTime=function(e){var t=(e||"00:00").split(":"),a=moment().second(0);return t[0]&&a.hour(parseInt(t[0])),t[1]&&a.minute(parseInt(t[1])),a.valueOf()},t.getRaceName=function(e){return e.race&&e.race.name&&e.race.name()}}),require.register("pages/event-details/market-templates/generic-market",function(e,t,a){a.exports='<!-- ko if: $root.event() --><div class="market" data-bind="css: { live: $root.event().inplayNow() }"><header class="expand-list market-header" data-bind="toggle, css: {\'expanded\': expanded}"><div class="icon-arrow small-expand"></div><span class="title" data-bind="text: nameTranslations.get"></span> <span class="blurb" data-bind="text: blurbTranslations.get, visible: shouldShowBlurb"></span><!-- ko template: \'/pages/event-details/templates/cash-out-badge\' --><!-- /ko --></header><div class="market-content" data-bind="visible: expanded"><!-- ko foreach: { data: selections, as: \'selection\' } --><div class="selection"><div class="selection-name" data-bind="html: selection.getTitle()"></div><selection-button params="\n                    caption: selection.name,\n                    selection: selection,\n                    event: $root.event(),\n                    captionAbove: false,\n                    live: $root.event().inplayNow,\n                    forcePrice: $root.marketIsAsian($parent.marketSort) ? \'decimalOdds\': null"></selection-button></div><!-- /ko --></div></div><!-- /ko -->'}),require.register("pages/race-card/view-model",function(e,t,a){function o(e,t){var a=t.currentIteration||0,s=t.length,i=!0;for(a;a<s&&(i||a%2!==0);a++)i=!1,e.push(t[a].race),t[a].callback&&t[a].callback();return a<s?(t.currentIteration=a,void(t.timer=setTimeout(function(){o(e,t)},1e3))):(clearTimeout(t.timer),void delete t.timer)}function s(e){e=e||{};var t=this;this.locale=i,this.eventIds=ko.observableArray(e.eventIds||[]),this.pendingRaces=[],this._races=ko.observableArray(e.races||[]),this._races.extend({rateLimit:1}),this.pendingSpecials=[],this._specialRaces=ko.observableArray(e.specialRaces||[]),this._specialRaces.extend({rateLimit:1}),this.pageDone=ko.computed(function(){var t=this.eventIds().every(function(e){return e.fetched()});return!!t&&(this.pageDone.dispose(),e.pageDone&&e.pageDone(),!0)},this),this.races=ko.pureComputed(function(){var e=this._races();return e.sort(function(e,t){var a=r.getMomentTime(n(e)),o=r.getMomentTime(n(t));return a-o}),e},this),this.races.extend({rateLimit:200}),this.specialRaces=ko.pureComputed(function(){var e=this._specialRaces();return e.sort(function(e,t){return e.event().startTime-t.event().startTime}),e},this),this.specialRaces.extend({rateLimit:200}),this.sportMeta={href:ko.observable(e.sportName),name:ko.observable()},this.breadcrumbs=ko.pureComputed(function(){var e=[];return e.push({title:t.sportMeta.name(),href:"/"+t.locale.value()+"/racing/"+t.sportMeta.href()+"/"}),e.push({title:t.locale.t("racecard.builder.build_your_own_racecard"),href:""}),e}),this.getRootContext=function(e){var a=ko.contextFor(e),o=a&&a.$parents||null;return o&&o.length&&o[o.length-2]?o[o.length-2]:t},this.update=function(e){},this.dispose=function(){var e=function(e){e.dispose()};this.pageDone&&this.pageDone.dispose&&this.pageDone.dispose(),this.races.dispose(),this.specialRaces.dispose(),this._races().forEach(e),this._specialRaces().forEach(e),this.pendingSpecials.timer&&clearTimeout(this.pendingSpecials.timer)}}var i=e("locale"),r=e("./utils"),n=function(e){return e.race&&e.race.name&&e.race.name()};s.prototype.addRace=function(e,t){this.pendingRaces.timer?this.pendingRaces.push({race:e,callback:t}):(this.pendingRaces=[{race:e,callback:t}],this.pendingRaces.timer=setTimeout(function(){o(this._races,this.pendingRaces)}.bind(this),100))},s.prototype.addSpecial=function(e,t){this.pendingSpecials.timer?this.pendingSpecials.push({race:e,callback:t}):(this.pendingSpecials=[{race:e,callback:t}],this.pendingSpecials.timer=setTimeout(function(){o(this._specialRaces,this.pendingSpecials)}.bind(this),100))},a.exports=s}),require.register("pages/event-details/market-templates/scorecast-market",function(e,t,a){a.exports='<!-- ko if: $root.event() --><div class="market vertical" data-bind="css: { live: $root.event().inplayNow() }"><header class="expand-list market-header" data-bind="toggle, css: {\'expanded\': $parent.expanded}"><div class="icon-arrow small-expand"></div><span class="title" data-bind="text: $parent.nameTranslations.get"></span> <span class="blurb" data-bind="text: $parent.blurbTranslations.get, visible: $parent.shouldShowBlurb"></span><!-- ko template: \'/pages/event-details/templates/cash-out-badge\' --><!-- /ko --></header><div class="market-content" data-bind="visible: $parent.expanded"><div class="selection scorecast"><div><!-- ko if: market.marketMinorCode === \'LC\' --><span class="small-header" data-bind="text: \'Last goalscorer\'"></span><!-- /ko --><!-- ko ifnot: market.marketMinorCode === \'LC\' --> <span class="small-header" data-bind="text: \'First goalscorer\'"></span><!-- /ko --><select data-bind="attr:{id: market.id},options: $data.getScorecastPlayers(market.selections()), optionsText: \'name\', optionsValue: \'id\', value: $data.scorecastSelectedId, event: { change: $data.loadScorecastScores($root.event().id, market.marketMinorCode) }"></select></div><div><span class="small-header" data-bind="text: \'Correct score\'"></span><select id="scorecastScores" data-bind="options: $data.scorecastScores(), optionsText: \'name\', optionsValue: \'id\', value: $data.scorecastSelectedScoreId"></select></div><div><!-- ko if: $data.getScorecastSelection() && $root.event() --><!-- ko template: { name: \'scorecast-selection-button\', data: { selection: $data.getScorecastSelection(), event: $root.event() } } --><!-- /ko --><!-- /ko --></div></div></div><script type="text/html" id="scorecast-selection-button"><selection-button params="selection: selection, event: event, live: event.inplayNow"></selection-button></script></div><!-- /ko -->'}),require.register("pages/racing-details/controller",function(e,t,a){var o=e("seo"),s=e("./view-model"),i=e("./template"),r=e("ladbrokes-router"),n=e("layout-engine"),l=e("message-bus"),d=e("domain-model/models/nextRaceViewModel"),c=e("repository"),p=e("shared-functions").sharedSidbar,u=e("pages/cmsData"),m=function(e,t){u(["links.popup","bet-assistance","festival_single"],function(a){e.cmsData=a||{},t()})},h=function(e){e=e||{};var t={inplay:e.inplayNow(),streaming:e.hasStream()};l.publish("track:page",t)};t.init=function(){function e(e,t){l.publish("leftsidebar:hideextramenu"),n.destroyRegion("left-sidebar-details-menu-region"),a=null,f=!1,v&&v()}function t(t,a){var m,b,g,k="/"+t.params.locale+"/racing/"+t.params.sportName+"/";t.deactivate=e,n.destroyRegion("content"),l.publish("track:query-params"),m=c.subscribe("races",t.params.id,function(e,a,c){if(e)return void r.redirect(k);if(b)b.update(a);else{a=a||{};var w=t.params.toteType||null;b=new s(a,t.cmsData,m,w);var y=null;if(n.render(i,b,"content"),b.race&&(y=d.prototype.venueLink(b.race)),l.publish("breadcrumbs",[{title:b.race.sport.nameRaw,href:"/betting/"+b.race.sport.id+"/"},{title:b.race.sportsBookType.name,href:y},{title:b.race.name,href:null}]),l.publish("activeSport",b.race.sport.nameRaw),f){l.publish("event:id",t.params.id);var T={pageType:"event",id:t.params.id,sportName:b.race.sport.name,sportNameRaw:b.race.sport.nameRaw,eventName:b.race.name(),page:"racing-details"};o.pageRenderComplete(T),h(b.race)}else g=p.leftSidebar(t,b.race.sport.nameRaw,[t.params.id]),v=g.dispose,u=g.promises,f=!0,$.when($,u).done(function(){var e={pageType:"event",id:t.params.id,sportName:b.race.sport.name,sportNameRaw:b.race.sport.nameRaw,eventName:b.race.name(),page:"racing-details"};o.pageRenderComplete(e),h(b.race)}).fail(function(e,t,a){404===e.status||410===e.status?r.redirect(k):o.pageRenderFailed({promise:"sideBarPromise",textStatus:t,error:a})})}}),a()}var a,u,v,b="/racing/:sportName/:className/:venueName/:time/:id/",g="/racing/:sportName/:venueName/:toteType/:id/",f=!1;r.on(b,m,t),r.on(g,m,t)}}),require.register("pages/event-details/market-templates/vertical-market",function(e,t,a){a.exports='<!-- ko if: $root.getRootContext($element).event() --><div class="market vertical expandable-below expanded" data-bind="css: { live: $root.getRootContext($element).event().inplayNow() }, attr:{ \'data-expandable-below\': $data.selections().length > $data.limit && expanded()  }"><header class="expand-list market-header" data-bind="toggle, css: {\'expanded\': expanded}"><div class="icon-arrow small-expand"></div><span class="title" data-bind="text: nameTranslations.get"></span> <span class="blurb" data-bind="text: blurbTranslations.get, visible: shouldShowBlurb"></span><!-- ko template: \'/pages/event-details/templates/cash-out-badge\' --><!-- /ko --></header><div class="market-content" data-bind="visible: expanded"><div class="eachway" data-bind="visible: eachWayAvailable"><span data-bind="text: $root.getRootContext($element).ewText($data)"></span></div><!-- ko foreach: { data: selectionsWithLimit(), as: \'selection\' } --><div class="selection"><div class="selection-name" data-bind="text: selection.getTitle()"></div><selection-button params="caption: selection.name, selection: selection, event: $root.getRootContext($element).event(), captionAbove: false, live: $root.getRootContext($element).event().inplayNow"></selection-button></div><!-- /ko --><!-- ko if: $data.selections().length > $data.limit && expanded() --><div class="expandable-below-container"><div class="expandable-below-container-button" data-bind="click: toggle"><!-- ko if: $data.showMore() --><span data-bind="text: $root.getRootContext($element).locale.t(\'js.score.button.less\')"></span><div class="arrow arrow-more"></div><!-- /ko --><!-- ko ifnot: $data.showMore() --><span data-bind="text: $root.getRootContext($element).locale.t(\'js.score.button.more\')"></span><div class="arrow arrow-less"></div><!-- /ko --></div></div><!-- /ko --></div></div><!-- /ko -->'}),require.register("pages/racing-details/special-groups",function(e,t,a){a.exports=["210004770","210003415","210004771"]}),require.register("pages/event-details/templates/cash-out-badge",function(e,t,a){a.exports="<!-- ko if: isCashOutAvailable --><div class=\"cash-out-container\"><a data-bind=\"attr: { href: '' }, popupLink: { type: 'popup', url: $root.getRootContext($element).popupUrl, options: { toolbar: 'no', scrollbars: 'yes', resizable: 'yes', width: '900', height: '400'  }}\"><div class=\"cash-out-badge\" data-bind=\"attr: { title : 'Cash out available' }\"></div></a></div><!-- /ko -->"}),require.register("pages/racing-details/view-model",function(e,t,a){function o(e,t,a,o){t=t||{};var h=this;this.locale=n,w.mixin(this),this.id=e.id,this.toteEventId=e.race.siblingToteEventKey,this.totePoolsActive=ko.observable(!0),this.sportId=e.race.sport.id,this.isHorseRacing=this.sportId===k.HORSE_RACING,this.isGreyhoundRacing=this.sportId===k.GREYHOUNDS,f.isActive(this.sportId,this.totePoolsActive);var y=p.getDeepProperty(t,"festivalSingle.settings.isEnabled")||!1,R=p.getDeepProperty(t,"festivalSingle.settings.eventId")||"",M=p.getCookie("MB_FIRSTVISIT");this.detailedRacecardAvailable=ko.observable(y===!0&&""!==R&&R===this.id&&void 0!==M),this.showDetailedRacecard=ko.observable(!this.detailedRacecardAvailable());var E=p.getDeepProperty(t,"bet-assistance.bet-instructions.events")||[];E.forEach(function(t){e.id===t.id&&v.publish("how-to-bet:show",!0)});var P=p.getDeepProperty(t,"bet-assistance.glossary.events")||[];P.forEach(function(t){e.id===t.id&&v.publish("glossary:show",!0)});var A=t["links.popup"]||{};if(h.greyhoundsFormsUrl=p.getDeepProperty(A,"formGreyhood")||"http://ladbrokes.365dm.com/greyhounds",h.greyhoundsResultsUrl=p.getDeepProperty(A,"resultsGreyhound")||"http://ladbrokes.365dm.com/greyhounds/fast-results",this.cleanPropertyName=p.cleanPropertyName,this.showAllSpotlight=ko.observable(!1),this.showAllForm=ko.observable(!1),this.currentType=e.currentType,this.forcedId=e.forcedId,this.favorite=e.favorite,this.secondfavorite=e.secondfavorite,this.mainMarket=e.mainMarket,this.tricastDividends=ko.observableArray(e.tricastDividends),this.forecastDividends=ko.observableArray(e.forecastDividends),this.toteDividends=ko.observable(s(e.totePoolDividends,[g.toteTypes.QUADPOT,g.toteTypes.PLACEPOT,g.toteTypes.JACKPOT])),this.singleLegDividends=ko.observable(),this.toteHeadline=this.isHorseRacing?n.t("totepool.racecard-multi-legs"):n.t("totepool.placepot"),this.winDividends=ko.observable(s(e.totePoolDividends,["UWIN"])),this.placeDividends=ko.observable(s(e.totePoolDividends,["UPLC"])),this.nonRunners=e.nonRunners,this.raceId=e.id,this.raceResults=ko.observableArray((e.raceResults||[]).map(function(e){return new l(e)})),this.renderResultedRace=ko.observable(e.renderResultedRace),this.hasRule4=e.hasRule4,this.theRule4=e.theRule4,this.race=new c(e.race),this.isEventDetails=ko.observable(S(e)),this.forecastTricastPlacementStarted=ko.observable(!1),this.forecastTricastPlacementValid=ko.observable(!1),this.hasStream=ko.observable(!!this.race.hasStream()&&this.race.hasStream()),this.showVideo=ko.observable(!1),this.toFixed=p.toFixed,this.raceExtra=e.raceExtra,this.racepost=null,this.racetips=null,this.distance=null,this.going=null,this.raceTitle=null,this.removed=ko.observable(e.race.removed===!0),this.expanded=ko.observable(!0),this.resultedMessage=ko.observable(e.resultedMessage),this.resultsFromCMS=ko.observable(e.resultsFromCMS===!0),this.toteTabMarketGroups=ko.observableArray(),this.widthClass=ko.pureComputed(function(){return this.showVideo()?"fix-width":"flex-width"},this),this.spotlightKey=ko.observable("spotlight"),this.spotlightName=ko.pureComputed(function(){return n.t("racing.horse."+h.spotlightKey())}),this.expandedFormAvailable=ko.observable(!1),this.expandedSpotlightAvailable=ko.observable(!1),this.showRatings=ko.observable(!1),this.runners={},h.raceExtra){var G=h.raceExtra.runnersDistanceGoing;G&&(this.distance=G.distance,this.going=G.going,this.runners=p.fixPropertyNames(G.runners)),this.racetips=h.raceExtra.raceTips,this.racepost=h.raceExtra.racePost,this.racepost&&(this.racepost.runners&&(this.racepost.runners=p.fixPropertyNames(this.racepost.runners)),this.racepost.runnerForm&&(this.racepost.runnerForm=p.fixPropertyNames(this.racepost.runnerForm)),this.racepost.raceTitle&&(this.raceTitle=this.racepost.raceTitle),this.racepost.going&&(this.going=this.racepost.going),this.racepost.distance&&(this.distance=this.racepost.distance))}this.marketGroups=ko.observableArray(ko.utils.arrayMap(e.marketGroups,function(e){return new d(x(e),h.race)})),this.marketGroups.extend({rateLimit:1}),this.mainTabMarketGroups=ko.observableArray([]),this.otherTabMarketGroups=ko.observableArray([]),this.sortMarketGroups=function(){var e=[],t=[];h.marketGroups().forEach(function(a){T(a)?e.push(a):t.push(a)}),this.mainTabMarketGroups(e),this.otherTabMarketGroups(t)},this.sortMarketGroups(),this.selectedTab=ko.observable("MAIN"),this.selectedMarketGroup=ko.observable(h.mainTabMarketGroups()[0]),this.setSelectedMarketGroup=function(e){e.toteEvents?(e.openLegId="",v.publish("tote:selected-leg",{id:e.toteEvents[0].id,toteType:e.typeCode}),v.publish("tote:selected-market-group",{venueName:h.race.sportsBookType.name,toteType:e.typeCode})):v.publish("tote:clear"),e||(e=h.mainTabMarketGroups()[0]),h.selectedMarketGroup(e)},this.hasToteDividends=ko.pureComputed(function(){return this.toteDividends().length>0},this),h.toteEventId&&b.get("toteevent",h.toteEventId,function(e,t){if(!e&&t.totePools){var a=[];t.totePools.forEach(function(e){if(C(e))if(e.marketGroupType="TOTE",e.name=g.toteNames[e.typeCode],e.isSingleLeg=r(e),"UWIN"===e.typeCode||"UPLC"===e.typeCode){var t="UWIN"===e.typeCode?"UPLC":"UWIN";i(a,t)&&a.push(e)}else a.push(e),o&&e.typeCode.toUpperCase()===o.toUpperCase()&&(h.selectedTab("TOTE"),h.selectedMarketGroup(e),o=null)}),h.toteTabMarketGroups(a)}}.bind(this)),h.toDispose(v.subscribe("tote:selected-leg",function(e){if(e.data.toteType&&h.selectedMarketGroup().typeCode!==e.data.toteType){h.selectedTab("TOTE");for(var t=0;t<h.toteTabMarketGroups().length;t++)h.toteTabMarketGroups()[t].typeCode===e.data.toteType&&(h.toteTabMarketGroups()[t].openLegId=e.data.id,h.selectedMarketGroup(h.toteTabMarketGroups()[t]))}})),this.shouldShowTotesTab=ko.pureComputed(function(){return h.toteTabMarketGroups().length>0&&h.totePoolsActive()}),this.marketGroupsForSelectedTab=ko.pureComputed(function(){switch(h.selectedTab()){case"MAIN":return h.mainTabMarketGroups();case"OTHER":return h.otherTabMarketGroups();case"TOTE":return h.toteTabMarketGroups();default:return h.mainTabMarketGroups()}}),this.selectedTemplate=ko.pureComputed(function(){switch(h.selectedMarketGroup().marketGroupType){case"RACE_WINNER":return"pages/racing-details/market-templates/race-winner";case"MATCH_BETTING":return"pages/racing-details/market-templates/match-betting";case"FC_TC":return"pages/racing-details/market-templates/forecast-tricast";case"TOTE":return"pages/racing-details/market-templates/totepool";default:return"pages/racing-details/market-templates/race-winner"}}),h.currentlySorting=ko.observable(!1),h.sortingScheme=ko.observable("asc"),this.isGpAvailable=function(){return h.mainMarket.isGpAvailable()},h.getRootContext=function(e){return h},h.getWinValue=function(e){if(0===e){var t=h.winDividends();if(t[0].dividends&&t[0].dividends.length>0)return""+t[0].dividends[0].value}},h.getPlaceDividend=function(e){if(0===h.placeDividends().length)return"";var t=h.raceResults()[e].number.toString(),a=h.placeDividends()[0].dividends;return $.grep(a,function(e){return e.runnerNumbers===t})[0].value},h.getWinPlacePos=function(e){var t="W";return e>1&&(t="P"),t},h.getSwingerRunnerNumbers=function(e){if(e)return e.replace(",","&")};var N=s(e.totePoolDividends,["UEXA"]);N=N.concat(s(e.totePoolDividends,["UTRI"])),h.singleLegDividends(N),h.parseRaceWinner=function(e,t){return e&&e[t]?e[t].name:""},h.getFormattedPoolValue=function(e){return""+e},h.getToteType=function(e){return g.toteNames[e.poolType]},h.getRunnersFromIds=function(e){return h.raceResults().filter(function(t){return $.inArray(t.id,e)!==-1}).sort(function(t,a){return e.indexOf(t.id)<e.indexOf(a.id)?-1:1})},h.breadcrumbs=function(){var e=ko.observableArray();return e.push({title:h.race.sport.name,href:h.race.sport.href}),e.push({title:h.getTitle,href:null}),e},h.getTitle=ko.pureComputed(function(){var e=h.race.name(),t=h.race.sportsBookType.name;return e+" "+t}),this.getFormUrl=function(e){var t="";if(h.isHorseRacing){var a=h.trackCountry();"UK"===a||"IE"===a?t="http://syn.racingpost.com/popupsite/horses/home.sd?bookmaker=lb&meeting="+e.sportsBookType.name+"&r_date="+moment().format("YYYY-MM-DD")+"&r_time="+e.name():"US"===a&&(t="http://ladbrokes.teamtalk.com/Ladbrokes/US_Pop_up/Ladbrokes_US_Popup_Home/")}else h.isGreyhoundRacing&&(t=h.greyhoundsFormsUrl);return t},this.getResultsUrl=function(e){var t="";if(h.isHorseRacing){var a=h.trackCountry();"UK"===a||"IE"===a?t="http://syn.racingpost.com/popupsite/horses/home.sd?bookmaker=lb&meeting="+e.sportsBookType.name+"&r_date="+moment().format("YYYY-MM-DD")+"&r_time="+e.name():"US"===a&&(t="http://ladbrokes.teamtalk.com/Ladbrokes/Pop_Up/Ladbrokes_Popup_Results/0,7731,,00.html?w_id=20130215160344")}else h.isGreyhoundRacing&&(t=h.greyhoundsResultsUrl);return t},this.getCommentaryUrl=function(){var e="";return h.isHorseRacing?e="http://commentariesv4.mediaondemand.net/?c=ladbrokes&cl=ladbrokes&menu=true&channel=horses":h.isGreyhoundRacing&&(e="http://commentariesv4.mediaondemand.net/?c=ladbrokes&cl=ladbrokes&menu=true&channel=greyhound"),e},this.showExpandedAllButtons=ko.pureComputed(function(){return h.isHorseRacing&&(this.expandedSpotlightAvailable()||this.expandedFormAvailable())},this),this.showResultPlace=function(e){if(1===e)return this.locale.t("racing.results.horse.first");if(2===e)return this.locale.t("racing.results.horse.second");if(3===e)return this.locale.t("racing.results.horse.third");if(e>3){var t=this.locale.t("racing.results.horse.x_th");return t.replace("{}",e)}},this.showResult=function(e){return"Win"===e?this.locale.t("racing.results.w"):"Place"===e?this.locale.t("racing.results.p"):"Void"===e?this.locale.t("racing.results.v"):void 0},this.isFavorite=function(e){return e=Number(e),e===Number(h.favorite)||e===Number(h.secondfavorite)},this.showFavorite=function(e){var t=Number(this.favorite),a=Number(this.secondfavorite);return e=Number(e),e===t&&e===a?this.locale.t("racing.results.jtfav"):e===t?this.locale.t("racing.results.fav"):e===a?this.locale.t("racing.results.2ndfav"):void 0}.bind(this),this.spotlightOpenIds=ko.observableArray([]),this.toggleSpotlight=function(e,t){var a=p.cleanPropertyName(e.nameRaw);h.spotlightOpenIds().indexOf(a)===-1?h.spotlightOpenIds.push(a):h.spotlightOpenIds.splice(h.spotlightOpenIds().indexOf(a),1)},this.formOpenIds=ko.observableArray([]),this.toggleForm=function(e,t){var a=p.cleanPropertyName(e.nameRaw);h.formOpenIds().indexOf(a)===-1?h.formOpenIds.push(a):h.formOpenIds.splice(h.formOpenIds().indexOf(a),1)},this.racepostLabels=function(e){var t=[];if(e){var a=this.getRacepostRunner(e.name);if(a){var o=this,s=function(e){t.push({"short":o.locale.t("racing.racingpost."+e+".short"),"long":o.locale.t("racing.racingpost."+e+".long")})};a.isPastCourseAndDistanceWinner?s("courseAndDistanceWinner"):(a.isPastCourseWinner&&s("courseWinner"),a.isPastDistanceWinner&&s("distanceWinner")),a.beatenFavourite&&s("beatenFavourite")}}return t},this.silkUrl=function(e){var t="/img/generic/icons/silk.png";return e&&(null!=this.runners||null!=this.racepost)&&this.getRacepostRunner(e.name)&&(t=this.getRacepostRunner(e.name).absoluteSilkUrl||"/img/generic/icons/silk.png"),t},this.getRacepostRunner=function(e){var t=this.racepost&&this.racepost.runners?this.racepost.runners:this.runners;if(t&&t.hasOwnProperty(p.cleanPropertyName(e))){var a=t[p.cleanPropertyName(e)];return a.runnerSpotlight&&this.expandedSpotlightAvailable(!0),a.rpRating&&this.showRatings(!0),a}return null},this.getRunnerForm=function(e){return this.runners[p.cleanPropertyName(e)]&&this.runners[p.cleanPropertyName(e)].form?this.runners[p.cleanPropertyName(e)].form:null},this.getRacepostRunnerForms=function(e){return this.racepost&&this.racepost.runnerForm&&this.racepost.runnerForm.hasOwnProperty(p.cleanPropertyName(e))?(this.expandedFormAvailable(!0),this.racepost.runnerForm[p.cleanPropertyName(e)]):null},this.getRunner=function(e){return this.runners&&this.runners.hasOwnProperty(p.cleanPropertyName(e))?this.runners[p.cleanPropertyName(e)]:null};var I=p.ignoreFavourite;h.sortByNumber=function(){var e=h.selectedMarketGroup().market.selections;h.currentlySorting("number"),e.sort(I(function(e,t){return"asc"===h.sortingScheme()?e.number-t.number:t.number-e.number})),"asc"===h.sortingScheme()?h.sortingScheme("desc"):h.sortingScheme("asc")},h.sortByRunner=function(){var e=h.selectedMarketGroup().market.selections;h.currentlySorting("runner"),e.sort(I(function(e,t){return e.name<t.name?"asc"===h.sortingScheme()?-1:1:e.name>t.name?"asc"===h.sortingScheme()?1:-1:0})),"asc"===h.sortingScheme()?h.sortingScheme("desc"):h.sortingScheme("asc")},h.sortByRating=function(){var e=h.selectedMarketGroup().market.selections,t=[];h.currentlySorting("rating");for(var a=0;a<e().length;a++){var o,s=h.getRacepostRunner(e()[a].name);o=s?s.rpRating:0,e()[a].rpRating=o,t.push(e()[a])}t.sort(I(function(e,t){return"asc"===h.sortingScheme()?e.rpRating-t.rpRating:t.rpRating-e.rpRating})),"asc"===h.sortingScheme()?h.sortingScheme("desc"):h.sortingScheme("asc"),e(t)},h.sortByOdds=function(){var e=h.selectedMarketGroup().market.selections;h.currentlySorting("odds"),e.sort(p.byOddsSortFunction("asc"===h.sortingScheme())),"asc"===h.sortingScheme()?h.sortingScheme("desc"):h.sortingScheme("asc")},h.selectedMarketGroup()&&h.selectedMarketGroup().market&&"TOTE"!==h.selectedMarketGroup().marketGroupType&&h.sortByOdds(),h.numberOfRunners=ko.pureComputed(function(){for(var e=h.mainMarket.selections,t=0,a=0;a<e.length;a++)e[a].nonRunner||null===e[a].number||(t+=1);return t}),this.trackCountry=function(){return e.trackCountry?e.trackCountry:"NA"},this.toggleAllSpotlight=function(e,t){h.showAllSpotlight()?(h.spotlightOpenIds([]),h.showAllSpotlight(!1)):h.showAllSpotlight(!0),v.publish("tote:spotlight-all",{show:h.showAllSpotlight()})},this.toggleAllSpotlightTitle=function(){var e=h.spotlightKey();return h.showAllSpotlight()?n.t("racing.horse.hide.all."+e):n.t("racing.horse.show.all."+e)},this.toggleAllForm=function(e,t){h.showAllForm()?(h.formOpenIds([]),h.showAllForm(!1)):h.showAllForm(!0),v.publish("tote:forms-all",{show:h.showAllForm()})},this.toggleAllFormTitle=function(){return h.showAllForm()?n.t("racing.horse.hide.all.form"):n.t("racing.horse.show.all.form")},this.toggleDetailedRacecard=function(e,t){var a=$(t.target),o={};o.action=a.text(),o.target=t.target,h.showDetailedRacecard()?(h.showDetailedRacecard(!1),a.removeClass("active"),o.expanded="Toggle Off"):(h.showDetailedRacecard(!0),a.addClass("active"),o.expanded="Toggle On"),v.publish("track:collapse-expand",o)},this.toggleDetailedRacecardTitle=function(){return h.showDetailedRacecard()?n.t("racing.horse.hide.details"):n.t("racing.horse.show.details")},this.trackRacepost=function(e,t){"use strict";v.publish("track:racepost",{action:e,element:t||null})},this.toggleHeader=function(e,t,a){var o="#racing-page-"+h.raceId,s=$(".main-header .verdict-track",o),i=$(".main-header .verdict",o),r=$(".main-header .tips",o),n=$(".main-header .race-info",o),l=$(".main-header",o),d=$(a.target);l.removeClass("dn"),d.hasClass("active")||h.trackRacepost(e,a.target),d.hasClass("active")?(l.toggleClass("dn"),d.removeClass("active")):($(".header-navigation .small-button",o).removeClass("active"),d.addClass("active")),"verdict"===e&&i?(i.removeClass("dn"),s.removeClass("dn"),n.removeClass("dn"),h.showVideo(!1),r.addClass("dn"),$(".left-column",o).css("padding",""),$(".main-header",o).css("display","")):"tips"===e&&r?(i.addClass("dn"),s.removeClass("dn"),n.removeClass("dn"),n.addClass("dn"),r.removeClass("dn"),h.showVideo(!1),$(".left-column",o).css("padding",""),$(".main-header",o).css("display","")):"video"===e&&(i.removeClass("dn"),n.removeClass("dn"),s.addClass("dn"),h.showVideo(!0),r.addClass("dn"),$(".left-column").css("padding","0"))},this.eachWayText=ko.pureComputed(function(){if(h.selectedMarketGroup().market){var e=h.selectedMarketGroup().market;if(e.eachWayAvailable()){for(var t="",a=0;a<e.eachWayPlaces();a++)t+=a+1!==e.eachWayPlaces()?a+1+"-":a+1;return h.locale.t("bet.legtype.EachWay")+" "+e.eachWayFactor()+" "+t}}return""}),this.allSelections=ko.observableArray(),this.storeSelectionsForecastTricast=function(e){
var t,a=e.selection,o=e.position,s=e.type;h.allSelections().forEach(function(e,i){parseInt(a.id)===e.id&&o===e.position&&s===e.type&&(t=i)}),t>=0?h.allSelections.remove(function(e){return parseInt(a.id)===e.id&&o===e.position&&s===e.type}):h.allSelections.push({id:parseInt(a.id),position:o,type:s})};var L=0;this.afterRenderForecastTricast=function(e,t){L++,ko.contextFor(e[0]).$parent.market.selections().length===L&&(h.allSelections().forEach(function(e,t){var a=document.querySelector("#racing-page-"+h.raceId+' input[type="checkbox"][data-type="'+e.type+'"][data-position="'+e.position+'"][value="'+e.id+'"]');a.checked=!0,h.handleForecastTricastCallback(a)}),h.handleForecastTricastCombinations(),L=0)},this.handleForecastTricastCallback=function(e){var t,a,o,s,i=document.querySelectorAll("#racing-page-"+h.raceId+' .forecast-radio[name="'+e.name+'"]'),r=e.getAttribute("data-row"),n=e.getAttribute("data-col"),l=e.getAttribute("data-position");if("any"===l){for(s=document.querySelectorAll("#racing-page-"+h.raceId+' .forecast-radio[name="'+e.name+'"]:checked'),t=0;t<s.length;t++)"any"!==s[t].getAttribute("data-position")&&(s[t].checked=!1);for(t=0;t<i.length;t++)"any"!==i[t].getAttribute("data-position")?e.checked===!0?i[t].setAttribute("disabled","disabled"):s.length<1&&"SUSPENDED"!==i[t].getAttribute("data-status")&&i[t].removeAttribute("disabled"):"SUSPENDED"!==i[t].getAttribute("data-status")&&i[t].removeAttribute("disabled")}else for(t=0;t<i.length;t++)a=i[t].getAttribute("data-row"),o=i[t].getAttribute("data-col"),i[t].checked!==!0&&(a!==r&&o!==n||(e.checked===!0?i[t].setAttribute("disabled","disabled"):this.removeForecastTricastSelection(i[t])));this.handleForecastTricastCombinations()}.bind(this),this.handleForecastTricast=function(e,t){var a=t.target;h.storeSelectionsForecastTricast({selection:e,position:a.getAttribute("data-position"),type:a.getAttribute("data-type")}),this.handleForecastTricastCallback(a)}.bind(this),this.removeForecastTricastSelection=function(e){var t,a,o=document.querySelectorAll("#racing-page-"+h.raceId+' .forecast-radio[name="'+e.name+'"]:checked'),s=e.getAttribute("data-row"),i=e.getAttribute("data-col");if(o.length<1)"SUSPENDED"!==e.getAttribute("data-status")&&e.removeAttribute("disabled");else{for(var r=!1,n=0;n<o.length;n++){if(t=o[n].getAttribute("data-row"),a=o[n].getAttribute("data-col"),t===s||a===i){r=!1;break}r=!0}r===!0&&"SUSPENDED"!==e.getAttribute("data-status")&&e.removeAttribute("disabled")}},this.clearForecastTricastSelections=function(){for(var e=document.querySelectorAll("#racing-page-"+h.raceId+" .forecast-radio"),t=0;t<e.length;t++)"SUSPENDED"!==e[t].getAttribute("data-status")&&e[t].removeAttribute("disabled"),e[t].checked=!1;this.allSelections.removeAll(),this.handleForecastTricastCombinations()}.bind(this),this.handleForecastTricastCombinations=function(){var e,t=document.querySelectorAll("#racing-page-"+h.raceId+" .forecast-radio:checked"),a=[],o=!0,s="",i=[],r=!0,l="",d="";if(h.forecastTricastPlacementStarted(!1),h.forecastTricastPlacementValid(!1),t.length>0){for(var c=0;c<t.length;c++){var p=$(t[c]);"forecast"===p.attr("data-type")?a.push(p.attr("data-position")):"tricast"===p.attr("data-type")&&i.push(p.attr("data-position"))}o=0===a.length||a.length>=2,r=0===i.length||i.length>=3,o&&r&&h.forecastTricastPlacementValid(!0)}(a.length>0||i.length>0)&&(h.forecastTricastPlacementStarted(!0),2===a.length?s="any"===a[0]?"1 "+n.t("racing.horse.horseracing.RF"):"1 "+n.t("racing.horse.horseracing.SF"):a.length>2&&(e=a.length*(a.length-1),s=e+" "+n.t("racing.horse.horseracing.CF")),i.length>2&&("any"===i[0]?(e=i.length*(i.length-1)*(i.length-2),l=e+" "+n.t("racing.horse.horseracing.CT")):l="1 "+n.t("racing.horse.horseracing.TC"))),d+=s,s.length>0&&l.length&&(d+=" "+n.t("bethistory.display.and")+" "),d+=l,document.querySelector("#racing-page-"+h.raceId+" .forecastTricastCombo").innerHTML=d},this.addForecastTricastToSlip=function(){var e,t,a=document.querySelectorAll("#racing-page-"+h.raceId+" .forecast-radio:checked"),o=[],s=[],i="",r="",l="",d="",c=h.getTitle();if(a.length>0)for(var p=0;p<a.length;p++){var m=$(a[p]),v={selectionId:a[p].value,selectionName:m.attr("data-name")};"forecast"===m.attr("data-type")?"any"===m.attr("data-position")?(i="RF",o.push(v)):(i="SF",e=parseInt(m.attr("data-position"))-1,o.splice(e,0,v)):"tricast"===m.attr("data-type")&&("any"===m.attr("data-position")?(r="CT",s.push(v)):(r="TC",e=parseInt(m.attr("data-position"))-1,s[e]=v))}o.length>2&&(i="CF"),(o.length>0||s.length>0)&&(2===o.length?l=n.t("betslip.bettype."+i):o.length>2&&(t=o.length*(o.length-1),l=n.t("betslip.bettype."+i)+" ("+t+")"),s.length>2&&("CT"===r?(t=s.length*(s.length-1)*(s.length-2),d=n.t("betslip.bettype.CT")+" ("+t+")"):d=n.t("betslip.bettype.TC"))),o.length>0&&(u.getBetslip().addForecastTricast(h.raceId,c,l,o,i),h.clearForecastTricastSelections()),s.length>0&&(u.getBetslip().addForecastTricast(h.raceId,c,d,s,r),h.clearForecastTricastSelections())},h.update=function(e){e=e||{},h.resultedMessage(e.resultedMessage),h.resultsFromCMS(e.resultsFromCMS===!0);var t=e.marketGroups||[];if(h.marketGroups(t.map(function(e){return new d(x(e),h.race)})),h.raceResults.updateArrayWithOrder(e.raceResults||[],function(e){return new l(e)},"id"),h.removed(e.race.removed===!0),h.tricastDividends(e.tricastDividends||[]),h.forecastDividends(e.forecastDividends||[]),h.renderResultedRace(e.renderResultedRace||!1),h.race.update(e.race),h.hasStream(!!h.race.hasStream()&&h.race.hasStream()),h.sortMarketGroups(),"TOTE"!==h.selectedMarketGroup().marketGroupType){var a="";h.marketGroups().forEach(function(e){e.id===h.selectedMarketGroup().id&&(a=e)}),h.setSelectedMarketGroup(a)}},this.raceLink=function(e){return m.prototype.venueLink(e)},this.trackTabChange=function(e,t,a){"use strict";a!==h.selectedTab()&&v.publish("track:filter",{action:t,element:e})},this.dispose=function(){a&&a.dispose(),this.race.dispose(),this.raceResults().forEach(function(e){e.dispose()}),this.raceResults.removeAll(),this.marketGroups.dispose(),this.spotlightOpenIds.dispose(),this.formOpenIds.dispose(),this.allSelections.dispose(),this.getTitle.dispose(),v.publish("how-to-bet:show",!1),v.publish("glossary:show",!1)}}function s(e,t){var a=[];return e&&e.forEach(function(e){$.inArray(e.poolType,t)!==-1&&a.push(e)}),a}function i(e,t){var a=!0;return e.forEach(function(e){e.typeCode===t&&(a=!1)}),a}function r(e){return"UTRI"===e.typeCode||"UWIN"===e.typeCode||"UPLC"===e.typeCode||"UEXA"===e.typeCode||"USW"===e.typeCode}var n=e("locale"),l=e("domain-model/models/selection"),d=e("domain-model/models/market-group"),c=e("domain-model/models/event"),p=e("domain-model/helper"),u=e("betslip"),m=e("domain-model/models/nextRaceViewModel"),h=e("./special-groups"),v=e("message-bus"),b=e("repository"),g=e("tote/tote-helper"),f=e("tote/tote-cms-helper"),k=e("domain-model/helpers/sport-types"),w=e("gear-disposable-mixin"),y=["RACE_WINNER","Top_X_Finish","FC_TC"],T=function(e){var t=String(e.marketGroupType),a=t.replace(/[0-9]/g,"X");return y.indexOf(a)>-1},x=function(e){return e&&(e.name=n.t(e.translationKey)||e.name),e},S=function(e){var t=e&&e.race&&e.race.sportsBookType&&e.race.sportsBookType.id;return!!t&&h.indexOf(String(e.race.sportsBookType.id))!==-1},C=function(e){var t=!e.toteEvents||e.toteEvents.some(R),a=e.typeCode!==g.toteTypes.SCOOP6;return t&&a},R=function(e){return e.started===!1&&"ACTIVE"===e.status};a.exports=o}),require.register("pages/event-details/templates/event-link",function(e,t,a){a.exports='<li><a class="event-link" data-bind="href: href, click: $root.navigate, css: { active: id === $root.currentEventId() }"><!-- ko if: participants --><span class="teams" data-bind="attr: { hasScoreTitle: showScoreTitle }"><span class="name" data-bind="textAndTooltip: participants[0].name"></span> <span class="name" data-bind="textAndTooltip: participants[1].name"></span></span><!-- /ko --><!-- ko ifnot: participants --><!-- ko if: teamsName --> <span class="teams"><span class="name" data-bind="text: teamsName.home"></span> <span class="name" data-bind="text: teamsName.away"></span></span><!-- /ko --><!-- ko ifnot: teamsName --> <span class="outright-name" data-bind="html: name"></span><!-- /ko --><!-- /ko --> <span class="stream-icon-sidebar" data-bind="if: hasStream"><span class="icon-stream"></span></span><!-- ko if: inplayNow() --> <span class="scores"><!-- ko if: showScoreTitle --><span class="score-title" data-bind="text: scoreTitle"></span><!-- /ko --><!-- ko if: showScoreTemplate() --> <span class="score" data-bind="text: homeTeamScore"></span> <span class="score" data-bind="text: awayTeamScore"></span><!-- /ko --></span><!-- /ko --><!-- ko ifnot: inplayNow() --> <span class="start-time" data-bind="with: $root.startTimeContextualMenu.bind(null, startTime)"><!-- ko if: date --><span class="date" data-bind="text: date"></span><!-- /ko --><!-- ko if: time --> <span class="time" data-bind="text: time"></span><!-- /ko --></span><!-- /ko --></a></li>'}),require.register("pages/racing-index/controller",function(e,t,a){var o=e("seo"),s=e("./view-model"),i=e("./template"),r=e("ladbrokes-router"),n=e("layout-engine"),l=e("message-bus"),d=e("pages/cmsData"),c=e("locale"),p=e("service").sportService,u=e("domain-model/helpers/sport-types"),m=e("utils/debug"),h=m("racing-index"),v=function(e,t){h("request CMS data..."),d(["links.popup","heroMVP.settings","heroMVP.horseIndexPage","heroMVP.greyhoodIndexPage"],function(a){h("%cCMS(%o)","color:#000066;font-weight:bold",a),e.cmsData=a||{},t()})};t.init=function(){function e(){h("deactivate racing page"),t&&t.dispose&&t.dispose()}var t;r.on("/racing/:sportName",v,function(a,r){h("%cracing %s","font-weight:bold",a.params.sportName),a.deactivate=e;var d,m,v=$.Deferred(),b=$.Deferred(),g=a.params.sportName,f=new s(a.cmsData,g);l.publish("leftsidebar:hideextramenu"),n.destroyRegion("left-sidebar-details-menu-region"),$("#content").addClass("no-right-column"),l.publish("track:query-params"),l.publish("track:page"),"horse-racing"===g?(h("CMS data (%o, %o)",a.cmsData["heroMVP.settings"],a.cmsData["heroMVP.horseIndexPage"]),f.heroMVP.setup(a.cmsData["heroMVP.settings"]||{},a.cmsData["heroMVP.horseIndexPage"]||[])):(h("CMS data (%o, %o)",a.cmsData["heroMVP.settings"],a.cmsData["heroMVP.greyhoodIndexPage"]),f.heroMVP.setup(a.cmsData["heroMVP.settings"]||{},a.cmsData["heroMVP.greyhoodIndexPage"]||[])),d=v.promise(),p.getByUrlPart(g,function(e,t){h("get by url part (%o, %o)",e,t);var a=t.text,o=t.id;f.subscribe(o).done(function(e){h("view model subscribe(%o)",e),f.meetingsLoaded(!0),f.sportNameTranslated(a),o===u.HORSE_RACING?(l.publish("activeSport",a),f.meetings.today.title(c.t("racing.horse.today")),f.meetings.tomorrow.title(c.t("racing.horse.tomorrow"))):e.sport.id===u.GREYHOUNDS&&(l.publish("activeSport",a),f.meetings.today.title(c.t("racing.greyhound.today")),f.meetings.tomorrow.title(c.t("racing.greyhound.tomorrow"))),v.resolve()})}),m=b.promise(),t=l.subscribe("next-races:loaded",function(e){b.resolve(),f.nextRaces(!0)}),$.when(d,m).done(function(){h("done (%o)",f);var e;e=f.sportNameTranslated()?f.sportNameTranslated():f.sportName,e=f.sportName;var t={pageType:"class",id:f.id,sportName:e,page:"racing-index"};h("SEO (%o)",t),o.pageRenderComplete(t)}).fail(o.pageRenderFailed),n.render(i,f,"content"),r()})}}),require.register("pages/event-details/templates/left-sidebar-inplay",function(e,t,a){a.exports='<inplay-menu params="currentEventId: currentEventId,\n             firstLoadEventInPlay: firstLoadEventInPlay,\n            firstLoadEventSportName: firstLoadEventSportName"></inplay-menu>'}),require.register("pages/racing-index/view-model",function(e,t,a){function o(e){return e===m.HORSE_RACING||"horse-racing"===e||"galopp"===e}function s(e,t){g("%s {%o}",t,e),e=e["links.popup"]||{};var a=this;this.locale=h,i=function(){var e=$("#footer").offset().top,t=$(window).scrollTop()+$(window).height(),o=e>t;o!==a.footerIsFixed()&&a.footerIsFixed(o)},r=function(){$(".racing-card-footer").width($(".racing-card-container").width())-20},c.store("local","racecard",[]),n.apply(this,[t]);var s="horse-racing"===t?"aemHorceRacing":"aemGrayhoundRacing";this.heroMVP=new v(s,t),this.streamingTooltipRacing=ko.observable(),this.footerIsFixed=ko.observable(!0),this.meetingsLoaded=ko.observable(null),this.toteButtonClick=function(e){p.navigate("/"+a.locale.value()+"/racing/"+t+"/totes/"+e.getAttribute("tote-key"))},"horse-racing"===t?this.streamingTooltipRacing(h.t("streaming.tooltip.racing.default")):this.streamingTooltipRacing(h.t("streaming.tooltip.racing.greyhound")),this.toDispose(this.meetingsLoaded.subscribe(function(e){e&&(setTimeout(function(){r(),i()},100),$(window).on("scroll",i),$(window).on("resize",r))})),this.checkedNumber=this.toDispose(ko.pureComputed(function(){var e,t,a={racingEventDetails:[],eventDetails:[]};return Object.keys(this.meetings).forEach(function(e){var t=this.meetings[e];a.racingEventDetails=a.racingEventDetails.concat(t.data()&&t.data().checkedEvents&&t.data().checkedEvents())||[]}.bind(this)),this.specialGroups().forEach(function(e){var t=e.checkedEvents&&e.checkedEvents()||[],o=function(e){return e.href.indexOf("/racing/")===-1};t.length>0&&(t.some(o)?a.eventDetails=a.eventDetails.concat(t)||[]:a.racingEventDetails=a.racingEventDetails.concat(t)||[])}),e=(a.racingEventDetails||[]).map(function(e){return e=e||{},{id:e.id,name:e.name,nameDetails:e.nameDetails,meeting:e.meeting,type:"racingEventDetails"}}),t=(a.eventDetails||[]).map(function(e){return e=e||{},{id:e.id,name:e.name,nameDetails:e.nameDetails,meeting:e.meeting,type:"eventDetails"}}),a=e.concat(t),c.store("local","racecard",a),a},this)),this.saveAllRacingMeetingEventsForRacecard=function(e,t){t.preventDefault(),t.stopPropagation();var o=e.list().filter(function(e){return!e.finished()});c.store("local","racecard",o.map(function(e){return{id:ko.unwrap(e.id),name:ko.unwrap(e.sportsBookClass&&e.sportsBookClass.name?e.sportsBookClass.name:""),nameDetails:ko.unwrap(e.name),type:"racingEventDetails"}})),p.navigate("/"+a.locale.value()+e.meetingLink)},this.clearAll=function(e,t){t.preventDefault(),t.stopPropagation(),Object.keys(a.meetings).forEach(function(e){var t=this.meetings[e];t.data()&&t.data().checkedEvents&&t.data().checkedEvents()&&t.data()._meetings().forEach(function(e){e._list().forEach(function(e){e.isChecked(!1)})})}.bind(a)),a.specialGroups().forEach(function(e){e&&e._list&&(e._list()||[]).forEach(function(e){e.isChecked(!1)})}),c.store("local","racecard",[])},this.raceCardUrl=this.toDispose(ko.pureComputed(function(){var e,o=this.specialGroups().some(function(e){return e.checkedEvents&&e.checkedEvents()&&e.checkedEvents().length>0}.bind(this)),s="/"+a.locale.value()+"/racing/"+t+"/build_your_own_racecard/",i=[];return this.checkedNumber(),o?s:(e=c.retrieve("local","racecard"),e.forEach(function(e){var t=e.meeting&&e.meeting&&e.meeting.url;t&&i.indexOf(t)===-1&&i.push(e.meeting.url)}),1===i.length?"/"+a.locale.value()+"/racing/"+t+"/"+i[0]+"/build_your_own_racecard/":s)},this)),this.getNextEvent=function(e){e=e||[];var t;return e.forEach(function(e){e.finished||t||(t=e)}),t||e[0]},this.meetingsPopups=[{title:"results",enabled:!0,url:o(t)?d.getDeepProperty(e,"results"):d.getDeepProperty(e,"resultsGreyhound"),width:500},{title:"form",enabled:!0,url:o(t)?d.getDeepProperty(e,"formHorce"):d.getDeepProperty(e,"formGreyhood"),width:600}],this.meetingsFilter=[{title:a.locale.t("racing.filter.all"),value:"all"},{title:a.locale.t("racing.filter.ukirish"),value:"uk"}],this.trackFilterChange=function(e,t){u.publish("track:filter",{action:e.filter(),element:t?t.target:null})},this.aggAndFavEventIds=this.toDispose(ko.computed(function(){var e=[];return(a.aggAndFavEventGroups()||[]).forEach(function(t){var a=t.list||[],o=a.map(function(e){e=e||{};var t=e.event||{};return new l(t)});e.push({title:t.title,list:o})}),e})),this.disableExpandedList=function(e,t){t.stopPropagation()},a.breadcrumbs=function(){var e=ko.observableArray();return e.push({title:a.sportNameTranslated()||t,href:null}),e}}var i,r,n=e("domain-model/models/RacingViewModel"),l=e("domain-model/models/RacingMeetingEvent"),d=e("domain-model/helper"),c=e("web-storage-extender"),p=e("ladbrokes-router"),u=e("message-bus"),m=e("domain-model/helpers/sport-types"),h=e("locale"),v=e("hero-mvp/controller"),b=e("utils/debug"),g=b("racing-index/view-model");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.dispose=function(){$("#content").removeClass("no-right-column"),$(window).off("scroll",i),$(window).off("resize",r),n.prototype.dispose.call(this)},a.exports=s}),require.register("pages/event-details/templates/left-sidebar-sport",function(e,t,a){a.exports='<div id="sport-sidebar" class="wrapper sidebar expanded"><!-- ko foreach: { data: getCompetitionGroups, as: \'competitionGroup\'} --><!-- ko if: competitionGroup.title !== competitionGroup.competitions[0].title --><header data-bind="toggleWithUpdate: isExpanded"><span class="icon-arrow white-arrow"></span> <span class="title" data-bind="html: title"></span></header><!-- /ko --><div class="sport-wrapper"><!-- ko foreach: competitions --><!-- ko if: event --><ul class="events"><li><a class="event-link" data-bind="href: href, click: $root.navigate, css: { active: isSelected }"><span class="outright-name" data-bind="html: title"></span></a></li></ul><!-- /ko --><!-- ko ifnot: event --><h2 class="sport" data-bind="toggleWithUpdate: isSelected, click: loadEventsForCompetition"><span class="icon-arrow small-expand"></span> <span class="title" data-bind="textAndTooltip: title"></span></h2><div class="event-container"><load-handler params="trigger: eventGroupWithOutright, data: $data"><!-- ko if: isSelected --><ul class="events"><!-- ko foreach: eventGroupWithOutright().allEventsGroup.list --><!-- ko with: event --><!-- ko template: { name: \'pages/event-details/templates/event-link\' } --><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko foreach: eventGroupWithOutright().outrightEvents --><!-- ko with: $data --><!-- ko template: { name: \'pages/event-details/templates/event-link\' } --><!-- /ko --><!-- /ko --><!-- /ko --></ul><!-- /ko --></load-handler></div><!-- /ko --><!-- /ko --></div><!-- /ko --></div>'}),require.register("pages/results/controller",function(e,t,a){function o(e,t){return e.name<t.name?-1:e.name>t.name?1:0}function s(e,t){e.forEach(function(e){var a,o=t.find(function(t,o){return a=o,t.id===e});o&&(t.splice(a,1),t.unshift(o))})}var i=e("./template"),r=e("ladbrokes-router"),n=e("layout-engine"),l=e("domain-model/helpers/sport-types"),d=e("repository"),c=e("locale");a.exports.init=function(){r.on("results/:sportName",function(e){var t=e.params.sportName,a=ko.observableArray(),r=ko.observable();d.get("results-header","resultedSports",function(e,i){if(i){var n=i.sports.sort(o),d=[l.GREYHOUNDS,l.HORSE_RACING,l.FOOTBALL];s(d,n),n.forEach(function(e){var o=e.name.toLowerCase().replace(" ","-"),s="/"+c.value()+"/results/"+o,i={id:e.id,title:e.name,href:s};a.push(i),o===t&&r(i)})}}),n.render(i,{selectedSport:r,headerTabs:a},"content")})}}),require.register("pages/event-details/templates/scoreboard",function(e,t,a){a.exports='<div class="header-wrapper"><div class="background-wrapper"><div class="scoreboard-container"><header data-bind="attr: { class: $root.showSportbackground() }"><!-- ko ifnot: $root.showGenericNoScores() --><div data-t-position="scorecard-module" class="scorecard-module"><!-- ko if: $root.scoreboardComponent() --><!-- ko component: { name: $root.scoreboardComponent(), params: { data: {} } } --><!-- /ko --><!-- /ko --></div><!-- /ko --><!-- ko if: $root.showGenericNoScores() --><!-- ko template: { name: \'pages/event-details/scoreboards/generic/generic-no-scores\' } --><!-- /ko --><!-- /ko --></header></div><div data-t-position="streaming-module" data-bind="attr: { class: $root.streamingVisible ? \'animation-wrapper stream\' : \'animation-wrapper visualisation\' }, visible: inplayNow() && ( $root.visualisationVisible() || $root.streamingVisible())"><div id="visualisation" data-bind="visible: $root.visualisationVisible"></div><!-- ko if: $root.streamingVisible --><stream params="eventId: $root.currentEventId(), type:\'sport\', width: 395, height: 225, element: $element"></stream><!-- /ko --></div></div><!-- ko if: inplayNow() && (hasStream() || $root.isVisualisationAvailable()) --><div class="header-tabs-container"><div class="visualisation-tabs"><!-- ko if: hasStream --><div data-t-position="streaming-module" class="tab stream-tab" data-bind="click: $root.setActiveTab.bind(null, \'stream\'), css: { active: $root.activeTab() === \'stream\' }"><span class="icon-stream"></span></div><!-- /ko --><!-- ko if: $root.isVisualisationAvailable --><div data-t-position="scorecard-module" class="tab visuals-tab" data-bind="click: $root.setActiveTab.bind(null, \'visual\'), css: { active: $root.activeTab() === \'visual\' }"><div class="visualisation-icon"><span class="middle-section"></span></div></div><!-- /ko --><div data-t-position="scorecard-module" class="tab scoreboard-tab" data-bind="click: $root.setActiveTab.bind(null, \'scoreboard\'), css: { active: $root.activeTab() === \'scoreboard\' || $root.activeTab() === \'undecided\' }"><div class="stats-icon"><span class="extra-bar"></span> <span class="scoreboard-icon"></span></div></div></div></div><!-- /ko --></div>'}),require.register("pages/shared/eachwayFormat",function(e,t,a){var o=e("locale");t["default"]=function(e){if(e.eachWayAvailable()){for(var t="",a=0;a<e.eachWayPlaces();a++)t+=a+1!==e.eachWayPlaces()?a+1+"-":a+1;return o.t("bet.legtype.EachWay")+" "+e.eachWayFactor()+" "+t}}}),require.register("pages/event-details/templates/template",function(e,t,a){a.exports='<div class="details"><div class="container" data-bind="with: event"><breadcrumbs params="breadcrumbs: $root.breadcrumbs()"></breadcrumbs><!-- ko template: { name: \'pages/event-details/templates/scoreboard\' } --><!-- /ko --><!-- ko if: displayed --><nav class="filter-menu" data-bind="visible: $root.marketGroups().length > 1"><ul data-bind="foreach: $root.marketGroups()"><li><div class="button" data-bind="text: $data, click: function(){ $root.trackFilterChange($element, $data); $root.selectedGroup($data) }, css: { active: $data === $root.selectedGroup() }"></div></li></ul><!--<h1 class="markets" data-bind="text: $root.selectedGroup()"></h1>--></nav><div data-t-position="market-module"><!-- ko foreach: $root.marketRows --><div class="market-row"><!-- ko foreach: {data: $data.markets, as: \'market\'} --><!-- ko if: market.marketSort === \'SCORECAST\' || market.marketSort === \'LAST_SCORECAST\' --><!-- ko component: {\n                            name: \'scorecast-component\',\n                            params: { data: market }\n                        } --><!-- /ko --><!-- /ko --><!-- ko if: market.marketSort !== \'SCORECAST\' && market.marketSort !== \'LAST_SCORECAST\' --><!-- ko template: {\n                            name: $root.getMarketTemplate(market)\n                        } --><!-- /ko --><!-- /ko --><!-- /ko --></div><!-- /ko --></div><!-- /ko --></div></div>'}),require.register("pages/shared-view-models/competitions-view-model",function(e,t,a){var o=e("domain-model/models/competition-group");a.exports=function(e){var t=this;t.sport=ko.observable(),t.selectedCompetition=ko.observable(),t.selectedCompetitionGroup=ko.observable(),t.competitionGroups=ko.observableArray(),t.competitionGroupsState=ko.observable(),t.sportClassName=ko.observable("filter-header"),t.sportNameRaw=ko.pureComputed(function(){if(this.sport()){var a=!1;return this.selectedCompetitionGroup()&&(a=this.selectedCompetitionGroup().title.toLowerCase().indexOf("euro 2016")>=0||this.selectedCompetitionGroup().title.toLowerCase().indexOf("fotbolls-em 2016")>=0),e&&("euro-2016"===e.classUrlPart()||"fotbolls-em-2016"===e.classUrlPart())&&a?t.sportClassName("filter-header euro-2016"):t.sportClassName("filter-header "+this.sport().nameRaw.replace(" ","-")),this.sport().nameRaw}return""},this),t.title=ko.pureComputed(function(){return this.selectedCompetition()?this.selectedCompetition().title:this.selectedCompetitionGroup()?this.selectedCompetitionGroup().title:this.sport()?this.sport().name:""},this),t.showMore=function(){var e=document.querySelector(".more"),t=document.querySelector(".dropdown");e.classList.contains("dn")?(e.classList.remove("dn"),t.classList.add("active")):e.classList.add("dn")},t.setSelectedCompetitionGroup=function(e){t.selectedCompetitionGroup(e)},t.setSelectedCompetition=function(e){t.selectedCompetition(e)},t.dispose=function(){t.selectedCompetition(null),t.selectedCompetitionGroup(null),t.competitionGroups.dispose(),t.title.dispose(),t.sportNameRaw.dispose()},t.update=function(e){t.sport(e.sport),t.competitionGroups.updateArrayWithOrder(e.linkGroupsForClasses||[],function(e){return new o(e)},"id")}}}),require.register("pages/racing-details/market-templates/forecast-tricast",function(e,t,a){a.exports='<div data-bind="attr: {class: \'race-card \' + marketGroupType}"><header class="race-card-header"><span class="number-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'number\' ? \'number-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'number-header sortable\'},\n            click: $root.getRootContext($element).sortByNumber">No</span> <span class="runner-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'runner\' ? \'runner-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'runner-header sortable\'},\n            click: $root.getRootContext($element).sortByRunner">Runner</span> <span class="selections-header"><span class="odds-in-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'odds\' ? \'odds-in-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'odds-in-header sortable\'},\n            click: $root.getRootContext($element).sortByOdds">Odds</span></span> <span class="forecast-header">Forecast</span><!-- ko if: market.tricastMarket --> <span class="tricast-header">Tricast</span><!-- /ko --></header><header class="race-card-header small"><span class="number-header"></span> <span class="runner-header"></span> <span class="selections-header"></span> <span class="forecast-header"><span>1st</span> <span>2nd</span> <span>Any order</span></span><!-- ko if: market.tricastMarket --> <span class="tricast-header"><span>1st</span> <span>2nd</span> <span>3rd</span> <span>Any order</span></span><!-- /ko --></header><div class="runners"><!-- ko foreach: { data: market.selections, afterRender: $root.getRootContext($element).afterRenderForecastTricast } --><!-- ko if: nameRaw.toLowerCase().indexOf(\'unnamed\') === -1 --><div class="item"><span class="number"><!-- ko if: $root.getRootContext($element).isHorseRacing --><span data-bind="text: number !== 0 ? number : \'\'"></span> <span data-bind="if: $root.getRootContext($element).getRunner(name)"><span data-bind="text: $root.getRootContext($element).getRunner(name).drawNumber != 0 && $root.getRootContext($element).getRunner(name).drawNumber !== null ? \'(\' + $root.getRootContext($element).getRunner(name).drawNumber + \')\' : \'\'"></span></span><!-- /ko --><!-- ko ifnot: $root.getRootContext($element).isHorseRacing --> <span data-bind="attr: { class: \'trap trap-\' + number }"><span data-bind="text: number !== 0 ? number : \'\'"></span></span><!-- /ko --></span><!-- ko if: $root.getRootContext($element).isHorseRacing --><!-- ko template: { name: \'/pages/racing-details/horse\' } --><!-- /ko --><!-- /ko --><!-- ko if: $root.getRootContext($element).isGreyhoundRacing --><!-- ko template: { name: \'/pages/racing-details/dog\' } --><!-- /ko --><!-- /ko --> <span class="selections"><!-- ko if: $data.prices().length --><span data-bind="text: $data.prices()[0].odds"></span><!-- /ko --><!--<selection-button params="caption: $data.name, selection: $data, event: $root.getRootContext($element).race, captionAbove: false, live: $root.getRootContext($element).inplayNow"></selection-button>--></span> <span class="forecast"><span><input type="checkbox" class="forecast-radio" name="forecast[]" data-type="forecast" data-position="1" data-col="0" data-bind="\n                                enable: status !== \'SUSPENDED\',\n                                attr: {\n                                    id: \'forecast_\' + id + \'_1\',\n                                    \'data-row\': $index(),\n                                    \'data-status\': status,\n                                    \'data-name\': name\n                                },\n                                value: id,\n                                event: { change: $root.getRootContext($element).handleForecastTricast.bind($parent) }\n                            "></span> <span><input type="checkbox" class="forecast-radio" name="forecast[]" data-type="forecast" data-position="2" data-col="1" data-bind="\n                                enable: status !== \'SUSPENDED\',\n                                attr: {\n                                    id: \'forecast_\' + id + \'_2\',\n                                    \'data-row\': $index(),\n                                    \'data-status\': status,\n                                    \'data-name\': name\n                                },\n                                value: id,\n                                event: { change: $root.getRootContext($element).handleForecastTricast.bind($parent) }\n                            "></span> <span><input type="checkbox" class="forecast-radio" name="forecast[]" data-type="forecast" data-position="any" data-col="2" data-bind="\n                                enable: status !== \'SUSPENDED\',\n                                attr: {\n                                    id: \'forecast_\' + id + \'_any\',\n                                    \'data-row\': $index(),\n                                    \'data-status\': status,\n                                    \'data-name\': name\n                                },\n                                value: id,\n                                event: { change: $root.getRootContext($element).handleForecastTricast.bind($parent) }\n                            "></span></span><!-- ko if: $parent.market.tricastMarket --> <span class="tricast"><span><input type="checkbox" class="forecast-radio" name="tricast[]" data-type="tricast" data-position="1" data-col="0" data-bind="\n                                            enable: status !== \'SUSPENDED\',\n                                            attr: {\n                                                id: \'forecast_\' + id + \'_1\',\n                                                \'data-row\': $index(),\n                                                \'data-status\': status,\n                                                \'data-name\': name\n                                            },\n                                            value: id,\n                                            event: { change: $root.getRootContext($element).handleForecastTricast.bind($parent) }\n                                        "></span> <span><input type="checkbox" class="forecast-radio" name="tricast[]" data-type="tricast" data-position="2" data-col="1" data-bind="\n                                            enable: status !== \'SUSPENDED\',\n                                            attr: {\n                                                id: \'forecast_\' + id + \'_2\',\n                                                \'data-row\': $index(),\n                                                \'data-status\': status,\n                                                \'data-name\': name\n                                            },\n                                            value: id,\n                                            event: { change: $root.getRootContext($element).handleForecastTricast.bind($parent) }\n                                        "></span> <span><input type="checkbox" class="forecast-radio" name="tricast[]" data-type="tricast" data-position="3" data-col="2" data-bind="\n                                            enable: status !== \'SUSPENDED\',\n                                            attr: {\n                                                id: \'forecast_\' + id + \'_3\',\n                                                \'data-row\': $index(),\n                                                \'data-status\': status,\n                                                \'data-name\': name\n                                            },\n                                            value: id,\n                                            event: { change: $root.getRootContext($element).handleForecastTricast.bind($parent) }\n                                        "></span> <span><input type="checkbox" class="forecast-radio" name="tricast[]" data-type="tricast" data-position="any" data-col="3" data-bind="\n                                            enable: status !== \'SUSPENDED\',\n                                            attr: {\n                                                id: \'forecast_\' + id + \'_any\',\n                                                \'data-row\': $index(),\n                                                \'data-status\': status,\n                                                \'data-name\': name\n                                            },\n                                            value: id,\n                                            event: { change: $root.getRootContext($element).handleForecastTricast.bind($parent) }\n                                        "></span></span><!-- /ko --></div><!-- ko template: { name: \'/pages/racing-details/spotlight-form\' } --><!-- /ko --><!-- /ko --><!-- /ko --><div class="forecast-tricast-place"><div class="container"><div class="info"><span class="forecastTricastBetInfo"></span> <span class="forecastTricastCombo"></span></div><div class="buttons"><!-- ko if: $root.getRootContext($element).forecastTricastPlacementStarted() --><span class="forecastTricastClearButton button" data-bind="click: $root.getRootContext($element).clearForecastTricastSelections">Clear</span><!-- /ko --><!-- ko if: $root.getRootContext($element).forecastTricastPlacementValid() --> <span class="forecastTricastBetButton button action" data-bind="click: $root.getRootContext($element).addForecastTricastToSlip">Add to betslip</span><!-- /ko --></div></div></div></div></div>';
}),require.register("pages/shared-view-models/event-group-with-outright-view-model",function(e,t,a){function o(e,t){var a=this;e=e||[],a._url=t+"?t="+Date.now(),a.allEventsGroup=new s(e.allEventsGroup),a.outrightEvents=ko.observableArray(ko.utils.arrayMap(e.outrightEvents,function(e){return new i(e)})),a.title=e.title,a.update=function(e){e=e||[],a.allEventsGroup.update(e.allEventsGroup),a.outrightEvents.updateArrayWithOrder(e.outrightEvents||[],function(e){return new i(e)},"id")},r.subscribe(a._url,a.update),a.dispose=function(){a.allEventsGroup.dispose(),a.outrightEvents.dispose(),r.unsubscribe(a._url)}}var s=e("domain-model/models/event-group"),i=e("domain-model/models/event"),r=e("comet");a.exports=o}),require.register("pages/racing-details/market-templates/match-betting",function(e,t,a){a.exports='<div data-bind="attr: {class: \'race-card \' + marketGroupType}"><header class="race-card-header"><span class="number-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'number\' ? \'number-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'number-header sortable\'},\n            click: $root.getRootContext($element).sortByNumber,\n            text: $root.locale.t(\'racing.header.number\')"></span> <span class="runner-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'runner\' ? \'runner-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'runner-header sortable\'},\n            click: $root.getRootContext($element).sortByRunner,\n            text: $root.locale.t(\'racing.header.runner\')"></span><!-- ko if: $root.getRootContext($element).isHorseRacing && $root.showRatings && $root.showDetailedRacecard--> <span class="rating-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'rating\' ? \'rating-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'rating-header sortable\'},\n            click: $root.getRootContext($element).sortByRating,\n            text: $root.locale.t(\'racing.header.rating\')"></span><!-- /ko --> <span class="previous-odds-header" data-bind="text: $root.locale.t(\'racing.header.previousOdds\')"></span> <span class="selections-header"><span class="odds-in-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'odds\' ? \'odds-in-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'odds-in-header sortable\'},\n            click: $root.getRootContext($element).sortByOdds,\n            text: $root.locale.t(\'racing.header.odds\')"></span> <span class="each-way" data-bind="html: $root.getRootContext($element).eachWayText()"></span></span></header><div class="runners"><!-- ko foreach: market.selections --><div class="item"><span class="number"><span data-bind="text: number != 0 ? number : \'\'"></span> <span data-bind="if: $root.getRootContext($element).getRunner(name)"><span data-bind="text: $root.getRootContext($element).getRunner(name).drawNumber != 0 && $root.getRootContext($element).getRunner(name).drawNumber != null ? \'(\' + $root.getRootContext($element).getRunner(name).drawNumber + \')\' : \'\'"></span></span></span><!-- ko if: $root.getRootContext($element).isHorseRacing --><!-- ko template: { name: \'/pages/racing-details/horse\' } --><!-- /ko --><!-- /ko --><!-- ko if: $root.getRootContext($element).isGreyhoundRacing --><!-- ko template: { name: \'/pages/racing-details/dog\' } --><!-- /ko --><!-- /ko --> <span class="rating" data-bind="if: $root.getRootContext($element).racepost && $root.getRootContext($element).getRacepostRunner(name) && $root.getRootContext($element).getRacepostRunner(name).rpRating"><span class="rating-circle" data-bind="text: $root.getRootContext($element).getRacepostRunner(name).rpRating"></span></span> <span class="previous-odds" data-bind="text: previousPrice"></span> <span class="selections"><selection-button params="caption: $data.name, selection: $data, event: $root.getRootContext($element).race, captionAbove: false, live: $root.getRootContext($element).inplayNow, onRacingPage: true"></selection-button></span></div><!-- ko if: nameRaw.toLowerCase().indexOf(\'unnamed\') === -1 --><!-- ko template: { name: \'/pages/racing-details/spotlight-form\' } --><!-- /ko --><!-- /ko --><!-- /ko --></div></div>'}),require.register("pages/sport/controller",function(e,t,a){function o(e){G("%cinitialize %o","color:#000066;font-style:italic",e),e.init&&e.init()}function s(e){G("%cstart %o","color:#000066;font-style:italic",e),e.start&&e.start()}var i=e("seo"),r=e("ladbrokes-router"),n=e("layout-engine"),l=e("message-bus"),d=e("locale"),c=e("service").sportService,p=e("service").classService,u=e("service").typeService,m=e("websocket"),h=e("domain-model/helpers/sport-types"),v=e("domain-model/helpers/virtual-sports"),b=e("pages/cmsData"),g=e("./landing/view-model"),f=e("./landing/date-event-count-view-model"),k=e("./landing/date-view-model"),w=e("./landing/leagues-view-model"),y=e("./subtype/view-model"),T=e("pages/shared-view-models/event-group-with-outright-view-model"),x=e("./shared/template"),S=e("./shared/view-model"),C=e("./shared/featured-view-model"),R=e("./shared/live-template"),M=e("./shared/live-view-model"),E=e("../virtuals/controller"),P=e("utils/extend"),A=e("utils/debug"),G=A("sport/controller"),N=e("./components/controller"),I=function(e,t){G("request CMS data..."),G("%ccontext: %o","color:#006600;font-weight:bold;font-size:16px",e),b(["heroMVP.settings"],function(a){G("%cCMS(%o)","color:#000066;font-weight:bold",a),e.cmsData=a||{},t()})};t.init=function(){function e(e,o){e.deactivate=t.deactivate,t.abortAnyOngoingRequests();var n=e.params.locale,l=e.params.sportUrlPart,m=e.params.classUrlPart,h=e.params.typeUrlPart;c.getByUrlPart(l,function(t,o){t||m?500===t?i.pageRenderFailed({url:l,error:t}):t&&"object"==typeof t&&"Error: object not found"===t.toString()?r.redirect("/"+d.value()+"/"):p.getByUrlPart(o.id,m,function(t,s){if(t||h)500===t?i.pageRenderFailed({url:m,error:t}):t&&"object"==typeof t&&"Error: object not found"===t.toString()?r.redirect(o.href):u.getByUrlPart(o.id,s.id,h,function(t,l){t?500===t?i.pageRenderFailed({url:h,error:t}):404===t&&r.redirect(s.href):(a.urlUpcomingWithOutright="/"+n+"/events/type/"+o.id+"/"+s.id+"/"+l.id,a.urlFeatured="/"+n+"/featured/type/"+o.id+"/"+s.id+"/"+l.id,a.activate(e,n,o,s,l))});else{if(v.isVirtualClass(s.id))return void E.loadVirtualSport(s.id,e.cmsData);a.urlUpcomingWithOutright="/"+n+"/events/class/"+o.id+"/"+s.id,a.urlFeatured="/"+n+"/featured/class/"+o.id+"/"+s.id,a.activate(e,n,o,s,null)}},h):s.activate(e,n,o)}),o()}var t,a,s;N.controllers.forEach(o),a={routePathClass:"/betting/:sportUrlPart/:classUrlPart",routePathType:"/betting/:sportUrlPart/:classUrlPart/:typeUrlPart/",urlUpcomingWithOutright:null,urlFeatured:null,activate:function(e,o,s,c,p){var u,m,h,v,b="class",g="classId",f=!1;s.id!==t.sportId&&(f=!0,t.changeSport(s)),null!==p&&(b="type",g="typeId"),t.active?e.previousRoutePath!==a.routePathType?(t.viewModel.contentViewModel(null),t.viewModel.contentTemplatePath("pages/sport/subtype/template"),t.viewModel.contentViewModel(new y),t.viewModel.typeUrlPart(p?p.urlPart:null),t.viewModel.classUrlPart(c.urlPart)):(t.viewModel.typeUrlPart(p?p.urlPart:null),t.viewModel.classUrlPart(c.urlPart),t.viewModel.contentViewModel().upcomingEventGroupWithOutrightState("pending"),t.viewModel.contentViewModel().upcomingEventGroupWithOutright(null),t.viewModel.contentViewModel()._featuredEventListState("pending"),t.viewModel.contentViewModel()._featuredEventList(null)):(t.active=!0,t.viewModel=new S(p?p.urlPart:null,c.urlPart,"pages/sport/subtype/template",e.cmsData),t.viewModel.contentViewModel(new y),n.render(x,t.viewModel,"content"));var k=t.viewModel.contentViewModel().heroMVP;f&&k.reset(),p&&t.viewModel.contentViewModel().upcomingTitle(d.t("sports.sports_level.featured.inplay_and_upcoming_sports")),u=t.loadCompetitions(o,s,c,p),m=t.loadFeaturedInPlay(o),h=$.getJSON(a.urlFeatured).done(function(a){var s=P({},e.cmsData["heroMVP.settings"],{delay:a.rotationPeriod});t.viewModel.contentViewModel()._featuredEventList(new C(a,"/"+d.value()+"/featured/"+b+"/"+a[g])),t.viewModel.contentViewModel()._featuredEventListState("resolved"),s.aemSports?k.setup(s):t.requests.push($.getJSON("/"+o+"/hero-banners/"+g+"/"+a[g]).done(function(e){G("hero banners: %o",e),e=e||{},k.setup(s,e.banners)}).fail(function(){k.setup(s)}))}).fail(function(){t.active&&t.viewModel.contentViewModel()._featuredEventListState&&t.viewModel.contentViewModel()._featuredEventListState("rejected")}),v=$.getJSON(a.urlUpcomingWithOutright).done(function(e){e.hasOwnProperty("allEventsGroup")?e.allEventsGroup.showExpanded=!0:e.allEventsGroup={showExpanded:!0},t.viewModel.contentViewModel().upcomingEventGroupWithOutright(new T(e,"/"+d.value()+"/events/"+b+"/"+e[g])),t.viewModel.contentViewModel().upcomingEventGroupWithOutrightState("resolved")}).fail(function(){t.active&&t.viewModel.contentViewModel().upcomingEventGroupWithOutrightState&&t.viewModel.contentViewModel().upcomingEventGroupWithOutrightState("rejected")}),t.requests.push(h),t.requests.push(v),l.publish("track:query-params"),l.publish("track:page"),$.when(u,m,h,v).done(function(){var e,a,o,s;p?(e="subtype",a=t.viewModel.headerViewModel.selectedCompetition().id,s=t.viewModel.headerViewModel.selectedCompetitionGroup().title,o=t.viewModel.headerViewModel.selectedCompetition().title):(e="type",a=t.viewModel.headerViewModel.selectedCompetitionGroup().id,s=t.viewModel.headerViewModel.selectedCompetitionGroup().title);var r={pageType:e,id:a,sportName:t.viewModel.headerViewModel.sport().name,sportNameRaw:t.viewModel.headerViewModel.sport().nameRaw,typeName:s,subTypeName:o,page:"sport"};i.pageRenderComplete(r)}).fail(function(e,t,a){var o,n="";return u&&404===u.status?(o="/"+d.value()+"/",void r.redirect(o)):h&&404===h.status||v&&404===v.status?(o=p?c.href:s.href,void r.redirect(o)):(e===u&&(n="loadCompetitionsPromise"),e===m&&(n="loadFeaturedInPlayPromise"),e===h&&(n="featuredRequest"),e===v&&(n="upcomingRequest"),void i.pageRenderFailed({promise:n,textStatus:t,error:a}))})}},t={active:!1,viewModel:null,sportId:null,requests:[],featuredInplaySubscription:null,_competitionPromise:null,_loadFeaturedInPlayDeferred:null,_featuredPromise:null,_cmsDataPromise:null,loadCompetitions:function(e,a,o,s){return(!t._competitionPromise||t._competitionPromise&&"rejected"===t._competitionPromise.state())&&(t._competitionPromise=$.getJSON("/"+e+"/sport_competition_links/"+a.id),t.requests.push(t._competitionPromise)),t.viewModel.headerViewModel.competitionGroupsState(t._competitionPromise.state()),t._competitionPromise.done(function(e){t.onCompetitionsLoaded(e,o,s)}),t._competitionPromise.fail(function(){t.active&&t.viewModel.headerViewModel.competitionGroupsState("rejected")}),t._competitionPromise},loadFeaturedInPlay:function(e){var a;if(!t._loadFeaturedInPlayDeferred&&t.active&&t.viewModel&&t.viewModel.liveViewModel){var o=d.t("streaming.tooltip");t.viewModel.liveViewModel(new M(o)),t.viewModel.streamingTooltip(o),n.render(R,t.viewModel.liveViewModel(),"sidebar-content"),t._featuredPromise&&"rejected"!==t._featuredPromise.state()||(a=m.subscribeWithPromise("event-group-list","FEATURED-LIVE",function(e){t.viewModel.liveViewModel().populate(e.itemIds).done(function(){t.viewModel&&a&&a.initialize()}).fail(function(e){t.viewModel&&a&&a.initialize()})},function(e){t.viewModel.liveViewModel().update(e.itemIds)},function(){},function(){return t.viewModel}),t.featuredInplaySubscription=a.subscription||null,t._loadFeaturedInPlayDeferred=a.promise||$.Deferred().promise())}return t._loadFeaturedInPlayDeferred},deactivate:function(e,o){if(t.abortAnyOngoingRequests(),o!==s.routePath&&o!==a.routePathType){t.active=!1,t._competitionPromise&&t._competitionPromise.abort(),t.featuredInplaySubscription=m.unsubscribe(t.featuredInplaySubscription),t.abortAnyOngoingRequests(),n.destroyRegion("sidebar-content");var i=n.getRegionHandler("content");i&&i.clearRegion(),t.viewModel&&t.viewModel.dispose(),t.viewModel=null,t.sportId=null,t._competitionPromise=null,t._loadFeaturedInPlayDeferred=null,t._featuredPromise=null,t._cmsDataPromise=null}},changeSport:function(e){t._competitionPromise&&t._competitionPromise.abort(),t._competitionPromise=null,t.sportId=e.id},onCompetitionsLoaded:function(e,a,o){var s,i,r;try{if(t.viewModel.headerViewModel.update(e),t.viewModel.headerViewModel.competitionGroupsState("resolved"),a)for(s=0;s<t.viewModel.headerViewModel.competitionGroups().length;s++)if(r=t.viewModel.headerViewModel.competitionGroups()[s],r.isActive(a.urlPart)){t.viewModel.headerViewModel.setSelectedCompetitionGroup(r);break}if(o)for(s=0;s<r.competitions.length;s++)if(i=r.competitions[s],i.isActive(o.urlPart)){t.viewModel.headerViewModel.setSelectedCompetition(i);break}}catch(n){}},abortAnyOngoingRequests:function(){t.requests.forEach(function(e){e.abort()}),t.requests.splice(0,t.requests.length)}},s={routePath:"/betting/:sportUrlPart/",previousPageWasVirtualSports:!1,pageRenderComplete:function(){var e=t.viewModel.contentViewModel().sport(),a={pageType:"class",id:e.id,sportName:e.name,sportNameRaw:e.nameRaw,page:"sport"};i.pageRenderComplete(a)},activate:function(e,a,o){var r,c,p,u,m,b=this,y="/"+a+"/featured/sport/"+o.id,T="/"+a+"/events/sport/"+o.id+"/count";try{if(v.isVirtualCategory(o.id))return s.previousPageWasVirtualSports=!0,E.loadVirtualSport(o.id,e.cmsData),void l.publish("activeSport",o.text);t.active&&t.viewModel&&!s.previousPageWasVirtualSports||(t.active=!0,t.viewModel=new S(null,null,"pages/sport/subtype/template",e.cmsData),n.render(x,t.viewModel,"content")),e.previousRoutePath!==s.routePath||s.previousPageWasVirtualSports?(t.viewModel.headerViewModel.selectedCompetition(null),t.viewModel.contentViewModel(null),t.viewModel.contentTemplatePath("pages/sport/landing/template"),t.viewModel.typeUrlPart(null),t.viewModel.contentViewModel(new g),t.viewModel.contentViewModel().dateTabs.push(new k("","/"+a+"/events/sport/"+o.id+"/today")),t.viewModel.contentViewModel().dateTabs.push(new k("","/"+a+"/events/sport/"+o.id+"/tomorrow")),t.viewModel.contentViewModel().dateTabs.push(new k("","/"+a+"/events/sport/"+o.id+"/future"))):t.viewModel&&(t.viewModel.contentViewModel().dateTabs()[0].setUrl("/"+a+"/events/sport/"+o.id+"/today"),t.viewModel.contentViewModel().dateTabs()[1].setUrl("/"+a+"/events/sport/"+o.id+"/tomorrow"),t.viewModel.contentViewModel().dateTabs()[2].setUrl("/"+a+"/events/sport/"+o.id+"/future")),t.viewModel.headerViewModel.selectedCompetitionGroup(null),s.previousPageWasVirtualSports=!1;var R=t.viewModel.contentViewModel().heroMVP;o.id!==t.sportId&&(t.changeSport(o),R&&R.reset(),t.viewModel.contentViewModel().featured(null)),t.viewModel.contentViewModel().dateEventCountViewModel(new f(null,T)),t.viewModel.contentViewModel().leagues()&&t.viewModel.contentViewModel().leagues().dispose(),t.viewModel.contentViewModel().leagues(new w("/"+a+"/events/sport/"+o.id+"/leagues")),r=t.loadCompetitions(a,o),c=t.loadFeaturedInPlay(a),r.done(function(o){try{t.viewModel.contentViewModel().sport(o.sport);var s=P({},e.cmsData["heroMVP.settings"],{delay:o.rotationPeriod});R&&(s.aemSports||o.sport.id!==h.FOOTBALL?R.setup(s):t.requests.push($.getJSON("/"+a+"/sport_coupons_banners",function(e){e=e||{},e.banners=e.banners||[];var t=e.banners.map(function(e){return e.openNewWindow=!1,e});R.setup(s,t)}))),l.publish("activeSport",t.viewModel.contentViewModel().sport().name),t.viewModel.contentViewModel().dateTabs()[0].title(d.t("sport.filter.todays",o.sport.name)),t.viewModel.contentViewModel().dateTabs()[1].title(d.t("sport.filter.tomorrows",o.sport.name)),t.viewModel.contentViewModel().dateTabs()[2].title(d.t("sport.filter.future",o.sport.name))}catch(i){}}),p=$.getJSON(T,function(e){try{var a=t.viewModel.contentViewModel().dateEventCountViewModel(),o=t.viewModel.contentViewModel().selectedDateTab,s=t.viewModel.contentViewModel().dateTabs();a.update(e),t.viewModel.contentViewModel().showFilters(!1),e.showCompetitions&&t.viewModel.contentViewModel().setActiveFilter&&!e.isBoxing?t.viewModel.contentViewModel().setActiveFilter("leagues"):(t.viewModel.contentViewModel().showFilters(!0),a.today()?o()!==s[0]&&o(s[0]):a.tomorrow()?o()!==s[1]&&o(s[1]):a.future()&&o()!==s[2]&&o(s[2]))}catch(i){}}),u=$.getJSON(y,function(e){try{t.viewModel.contentViewModel().featured(new C(e,y))}catch(a){}}),t.requests.push(p),t.requests.push(u),l.publish("track:query-params"),l.publish("track:page"),$.when(c,r,p,u).done(function(){var e=t.viewModel.contentViewModel().selectedDateTab();m=e&&e.activateRequest,m?(e.state()&&"not-started"===e.state()&&m.resolve(),m.done(function(){try{b.pageRenderComplete()}catch(e){}}).fail(function(e,t,a){i.pageRenderFailed({promise:"dateTabActivateRequest",textStatus:t,error:a})})):e?i.pageRenderFailed({promise:"dateTabActivateRequest",error:"no dateTabActiveRequest"}):b.pageRenderComplete()}).fail(function(){b.pageRenderFailed(c,r,p,u,m)})}catch(M){}},pageRenderFailed:function(e,t,a,o,s){var n;return t&&404===t.status?(n="/"+d.value()+"/",void r.redirect(n)):void i.pageRenderFailed({error:"sport pageRenderFailed for one of featuredInPlayPromise, loadCompetitionsPromise, countRequest, featuredRequest, dateTabActivateRequest"})}},r.on(s.routePath,I,e),r.on(a.routePathClass,I,e),r.on(a.routePathType,I,e)},t.start=function(){N.controllers.forEach(s)}}),require.register("pages/racing-details/market-templates/race-winner",function(e,t,a){a.exports='<header class="w-o" data-bind="visible: marketGroupType === \'WITHOUT\', text: market.name"></header><div data-bind="attr: {class: \'race-card \' + marketGroupType}"><header class="race-card-header"><span class="number-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'number\' ? \'number-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'number-header sortable\'},\n            click: $root.getRootContext($element).sortByNumber,\n            text: $root.locale.t(\'racing.header.number\')"></span> <span class="runner-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'runner\' ? \'runner-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'runner-header sortable\'},\n            click: $root.getRootContext($element).sortByRunner,\n            text: $root.locale.t(\'racing.header.runner\')"></span><!-- ko if: $root.getRootContext($element).isHorseRacing && $root.showRatings && $root.showDetailedRacecard --> <span class="rating-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'rating\' ? \'rating-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'rating-header sortable\'},\n            click: $root.getRootContext($element).sortByRating,\n            text: $root.locale.t(\'racing.header.rating\')"></span><!-- /ko --> <span class="previous-odds-header" data-bind="text: $root.locale.t(\'racing.header.previousOdds\')"></span> <span class="selections-header"><span class="odds-in-header sortable" data-bind="\n            attr: { class: $root.getRootContext($element).currentlySorting() === \'odds\' ? \'odds-in-header sortable sorting-\' + $root.getRootContext($element).sortingScheme() : \'odds-in-header sortable\'},\n            click: $root.getRootContext($element).sortByOdds,\n            text: $root.locale.t(\'racing.header.odds\')"></span> <span class="each-way" data-bind="html: $root.getRootContext($element).eachWayText()"></span></span></header><div class="runners"><!-- ko foreach: market.selections --><div class="item"><span class="number"><!-- ko if: $root.getRootContext($element).isHorseRacing --><span data-bind="text: number != 0 ? number : \'\'"></span><!-- ko if: $root.getRootContext($element).showDetailedRacecard() --> <span data-bind="if: $root.getRootContext($element).getRunner(name)"><span data-bind="text: $root.getRootContext($element).getRunner(name).drawNumber != 0 && $root.getRootContext($element).getRunner(name).drawNumber != null ? \'(\' + $root.getRootContext($element).getRunner(name).drawNumber + \')\' : \'\'"></span></span><!-- /ko --><!-- /ko --><!-- ko ifnot: $root.getRootContext($element).isHorseRacing --> <span data-bind="attr: { class: \'trap trap-\' + number }"><span data-bind="text: number != 0 ? number : \'\'"></span></span><!-- /ko --></span><!-- ko if: $root.getRootContext($element).isHorseRacing --><!-- ko template: { name: \'/pages/racing-details/horse\' } --><!-- /ko --><!-- /ko --><!-- ko if: $root.getRootContext($element).isGreyhoundRacing --><!-- ko template: { name: \'/pages/racing-details/dog\' } --><!-- /ko --><!-- /ko --><!-- ko if: $root.getRootContext($element).isHorseRacing && $root.showRatings && $root.showDetailedRacecard --> <span class="rating" data-bind="if: $root.getRootContext($element).racepost && $root.getRootContext($element).getRacepostRunner(name) && $root.getRootContext($element).getRacepostRunner(name).rpRating"><span class="rating-circle" data-bind="text: $root.getRootContext($element).getRacepostRunner(name).rpRating"></span></span><!-- /ko --> <span class="previous-odds" data-bind="text: previousPrice"></span> <span class="selections"><!-- ko if: prices().length --><!-- ko if: market.marketMinorCode !== "XW" --><selection-button params="\n                                        price: prices()[0],\n                                        caption: $data.name,\n                                        selection: $data,\n                                        event: $root.getRootContext($element).race,\n                                        captionAbove: false,\n                                        live: $root.getRootContext($element).inplayNow,\n                                        onRacingPage: true\n                    "></selection-button><!-- /ko --><!-- ko if: market.marketMinorCode === "XW" --><selection-button params="\n                                    price: prices()[0],\n                                    caption: $data.name,\n                                    selection: $data,\n                                    event: $root.getRootContext($element).race,\n                                    captionAbove: false,\n                                    live: $root.getRootContext($element).inplayNow,\n                                    onRacingPage: true,\n                                    forcePrice: \'decimalOdds\'\n                    "></selection-button><!-- /ko --><!-- /ko --></span></div><!-- ko if: nameRaw.toLowerCase().indexOf(\'unnamed\') === -1 --><!-- ko template: { name: \'/pages/racing-details/spotlight-form\' } --><!-- /ko --><!-- /ko --><!-- /ko --></div></div>'}),require.register("pages/sport/view-model",function(e,t,a){function o(e){var t=this;t.streamingTooltip=ko.observable(),t.dateEventCountViewModel=e,t.competitions=ko.observable(),t.sport=ko.observable(""),t.dateTabs=ko.observableArray(),t.leagues=ko.observable(""),t.featured=ko.observable(""),t.activeFilter=ko.observable("time"),t.locale=s,t.showMoreLeagues=ko.observable(!1),t.slider=null,t.couponBanners={rotationPeriod:0,banners:ko.observableArray()},t.subscriptions=[],t.hasUpcomingByTime=ko.pureComputed(function(){var e;for(e=0;e<t.dateTabs().length;e++)if(t.dateTabs()[e].numberOfEvents()>0)return!0}),t.hasUpcomingByLeague=ko.pureComputed(function(){return this.sport().id!==r.BOXING},t),t.setActiveFilter=function(e){t.activeFilter(e),"time"===t.activeFilter()?t.leagues().deactivate():t.leagues().activate(t.sport().id)},t.competitionUrl=function(e){return"/type/"===e.url.substr(0,6)?"/betting/"+ko.unwrap(t.sport).id+"/"+e.url.replace("/type/",""):e.url},this.subscriptions.push(t.sport.subscribe(function(e){switch(this.sport().id){case r.CRICKET:case r.GOLF:this.setActiveFilter("leagues");break;default:this.setActiveFilter("time")}},t)),this.subscriptions.push(t.dateEventCountViewModel.today.subscribe(function(e){this.dateTabs()[0].numberOfEvents(e)},t)),this.subscriptions.push(t.dateEventCountViewModel.tomorrow.subscribe(function(e){this.dateTabs()[1].numberOfEvents(e)},t)),this.subscriptions.push(t.dateEventCountViewModel.future.subscribe(function(e){this.dateTabs()[2].numberOfEvents(e)},t)),this.leagueIndexLimitForStartExpanded=3,t.dispose=function(){var e;for(e=0;e<t.subscriptions.length;e++)t.subscriptions[e].dispose();t.leagues()&&(t.leagues().dispose(),t.leagues(null)),t.featured()&&(t.featured().dispose(),t.featured(null)),t.competitions()&&(t.competitions().dispose(),t.competitions(null)),t.dateEventCountViewModel.dispose(),t.dateTabs.dispose(),t.couponBanners.banners.dispose(),t.hasUpcomingByTime.dispose(),t.hasUpcomingByLeague.dispose(),i.destroyRegion("sidebar-content")}}var s=e("locale"),i=e("layout-engine"),r=e("domain-model/helpers/sport-types");a.exports=o}),require.register("pages/racing-details/market-templates/totepool",function(e,t,a){a.exports='<!-- ko if: $data.isSingleLeg --><tote-single-leg params="\n                tote: $data,\n                toteEventId: $parent.toteEventId,\n                raceExtra: $parent.raceExtra,\n                isHorseRacing: $parent.isHorseRacing,\n                expandedSpotlights: $parent.expandedSpotlightAvailable,\n                showAllForms: $parent.showAllForm,\n                expandAllSpotlight: $parent.showAllSpotlight"></tote-single-leg><!-- /ko --><!-- ko ifnot: $data.isSingleLeg --><tote-multi-leg params="\n                tote: $data,\n                isHorseRacing: $parent.isHorseRacing,\n                showAllForms: $parent.showAllForm,\n                expandAllSpotlight: $parent.showAllSpotlight"></tote-multi-leg><!-- /ko -->'}),require.register("pages/totepools/controller",function(e,t,a){var o=e("./template"),s=e("ladbrokes-router"),i=e("layout-engine"),r=e("service").sportService,n=e("shared-functions").sharedSidbar,l=e("message-bus"),d=e("pages/cmsData"),c=function(e,t){d(["links.popup","bet-assistance","festival_single"],function(a){e.cmsData=a||{},t()})};t.init=function(){function e(e,t){t.indexOf(d)===-1&&(l.publish("leftsidebar:hideextramenu"),i.destroyRegion("left-sidebar-details-menu-region"))}function t(t,a){t.deactivate=e,r.getByUrlPart(t.params.sportName,function(e,a){i.render(o,{urlData:a,toteKey:t.params.toteKey},"content"),n.leftSidebar(t,a.id,[t.params.id])}),a()}var a="/racing/:sportName/totes/:toteKey",d="/racing/:sportName/";s.on(a,c,t)}}),require.register("pages/sport/components/football-carousel.template",function(e,t,a){a.exports='<div class="module" data-bind="if: heroMVP.enabled, css: css"><h1 class="expand-list expanded" data-bind="toggle"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="translateText: \'sport.tabs.coupons\'"></span> <a data-bind="translateText: \'generic.more.more\', attr: attr" class="more"><div class="more"></div></a></h1><div><banner-carousel params="data: heroMVP, className: \'coupon-banners\'"></banner-carousel></div></div>'}),require.register("pages/virtuals/controller",function(e,t,a){var o=e("./template"),s=e("layout-engine");a.exports.loadVirtualSport=function(e,t){t=t||{},s.render(o,{classId:e,cmsData:t},"content")}}),require.register("pages/sport/components/sport-carousel.template",function(e,t,a){a.exports='<div class="banner-module" data-bind="if: heroMVP.enabled, css: css"><banner-carousel params="data: heroMVP"></banner-carousel></div>'}),require.register("pages/sport/components/controller",function(e,t,a){function o(e){return{name:e,init:function(){ko.components.isRegistered(e)||(r("%cknockout.register(%s)","color:#660000;font-style:italic",e),ko.components.register(e,{template:"<div></div>"}))}}}function s(t){var a=e("./"+t+".view-model"),o=e("./"+t+".template"),s={viewModel:a,template:o};return{name:t,init:function(e){r("%cknockout.register(%s)","color:#660000;font-style:italic",t),ko.components.register(t,s)}}}var i=e("utils/debug"),r=i("sport/landing/components/controller"),n=["football-carousel","sport-carousel"];t.controllers=["empty"].map(o).concat(n.map(s))}),require.register("pages/sport/landing/template",function(e,t,a){a.exports='<script type="text/html" id="sport-upcoming-event-group-simple"><!-- ko if: state() === \'resolved\' -->\n    <event-group-simple params="\n        eventGroup: $data.eventGroup,\n        showDateHeaders: true,\n        showHeader: false,\n        startExpanded: $index() < 3"></event-group-simple>\n    <!-- /ko -->\n\n    <!-- ko if: state() === \'pending\' -->\n        <spinner></spinner>\n    <!-- /ko -->\n\n    <!-- ko if: state() === \'rejected\' -->\n        <div class="load-failed">\n            <p>Load failed</p>\n            <div class="button" data-bind="click: activate">Retry</div>\n        </div>\n    <!-- /ko --></script><!-- ko with: contentViewModel() --><div class="row"><div class="left-column" data-t-position="col-1"><!-- ko component: heroMVP --><!-- /ko --><div class="module" data-t-position="upcoming-module"><h1 class="expand-list expanded" data-bind="toggle:keepExpanded"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="text: locale.t(\'sports.sports_level.featured.upcoming_sports\')"></span><!-- ko if: showFilters --><div data-bind="\n                        css: { \'filter-button\': true, active: activeFilter() === \'time\'},\n                        click: function(el, ev) { trackFilter(\'time\', ev); setActiveFilter(\'time\'); ev.stopPropagation(); },\n                        text: locale.t(\'filter.time\'),\n                        visible: hasUpcomingByTime() && hasUpcomingByLeague()"></div><div data-bind="\n                        css: { \'filter-button\': true, active: activeFilter() === \'leagues\'},\n                        click: function(el, ev) { trackFilter(\'leagues\', ev); setActiveFilter(\'leagues\'); ev.stopPropagation(); },\n                        text: locale.t(\'sport.tabs.competition\'),\n                        visible: hasUpcomingByTime() && hasUpcomingByLeague()"></div><!-- /ko --></h1><div style="position: relative"><!-- ko if: hasContent --><!-- ko if: !hasUpcomingByTime() && !hasUpcomingByLeague() --><div class="no-events" data-bind="text: locale.t(\'content.sport.no_events_available\')"></div><!-- /ko --><!-- ko if: hasUpcomingByTime() && activeFilter() === \'time\' --><tabs params="\n                            tabs: dateTabs,\n                            listPropertyName: \'eventGroup\',\n                            contentClass: \'expanded\',\n                            contentTemplate: \'sport-upcoming-event-group-simple\',\n                            showListCountInTabTitle: true,\n                            selectedTab: selectedDateTab"></tabs><!-- /ko --><!-- ko if: showLeague() && leagues() --><load-handler params="trigger: leagues().state(), retryHandler: leagues().activate, data: $data"><!-- ko foreach: { data: getLeagueGroups(), as: \'eventGroup\' } --><event-group-simple params="\n                                eventGroup: eventGroup,\n                                showNumberOfEvents: 20,\n                                showMoreButton: true,\n                                startExpanded: $index() < $parent.leagueIndexLimitForStartExpanded"></event-group-simple><!-- /ko --></load-handler><!-- /ko --><!-- /ko --><!-- ko ifnot: hasContent --><div class="no-events" data-bind="text: locale.t(\'content.sport.no_events_available\')"></div><!-- /ko --></div></div></div><!-- ko with: featured --><!-- ko if: list().length > 0 --><div class="right-column" data-t-position="col-2"><div class="future"><!-- ko foreach: list --><event-group params="event: $data, numberOfMarkets: $parent.numberOfMarkets, numberOfSelections: $parent.numberOfSelections" data-t-position="event-module"></event-group><!-- /ko --></div></div><!-- /ko --><!-- /ko --></div><!-- /ko -->';
}),require.register("pages/sport/components/football-carousel.view-model",function(e,t,a){function o(e,t){function a(t){e.css(t.data&&t.data.banners>0?"":"hidden")}d("view-model(%o)",t),e.heroMVP=new n("aemSports",t.sportName),e.heroMVP.setup(t.settings,t.banners),e.attr={href:"/"+s.locale()+"/coupons/"},e.css=ko.observable("hidden"),t.settings.aemSports?(e.toDispose(r.subscribe("aem-carousel:init",a)),e.toDispose(r.subscribe("aem-carousel:update",a))):Array.isArray(t.banners)&&t.banners.length>0&&e.css("")}var s=e("locale"),i=e("gear-disposable-mixin"),r=e("message-bus"),n=e("hero-mvp/controller"),l=e("utils/debug"),d=l("sport/landing/components/football-carousel"),c={};a.exports=function(e){var t=Object.create(c);return i.mixin(t),o(t,e),t}}),require.register("pages/sport/shared/live-template",function(e,t,a){a.exports='<div class="module" data-bind="if: loaded"><h1 class="expand-list expanded live" data-bind="toggle"><div class="min-height"></div><div class="icon-arrow expand"></div><span data-bind="text: $root.locale.t(\'page.inplay.title\')"></span></h1><div data-bind="with: featuredInPlay"><!-- ko foreach: { data: eventGroups, as: \'eventGroup\' } --><event-group-simple params="\n            eventGroup: eventGroup,\n            ignoreLimit: true,\n            showDateHeaders: false,\n            showHeader: true,\n            showEventCounter: true,\n            showSelections: false"></event-group-simple><!-- /ko --></div></div>'}),require.register("pages/sport/components/sport-carousel.view-model",function(e,t,a){function o(e,t){function a(t){l("%ctoggle visible(%o)","font-weight:bold",t),e.css(t.data&&t.data.banners>0?"":"hidden")}l("view-model(%o)",t),e.heroMVP=new r("aemSports",t.sportName),e.heroMVP.setup(t.settings,t.banners),e.css=ko.observable("hidden"),t.settings.aemSports&&(e.toDispose(i.subscribe("aem-carousel:init",a)),e.toDispose(i.subscribe("aem-carousel:update",a)))}var s=e("gear-disposable-mixin"),i=e("message-bus"),r=e("hero-mvp/controller"),n=e("utils/debug"),l=n("sport/landing/components/sport-carousel"),d={};a.exports=function(e){var t=Object.create(d);return s.mixin(t),o(t,e),t}}),require.register("pages/sport/shared/template",function(e,t,a){a.exports="<div><script type=\"text/html\" id=\"sport-competition\"><div class=\"links\">\n        <!-- ko foreach: competitions -->\n        <!-- ko ifnot: event -->\n        <a data-bind=\"visible: !$parent.isOneLevelClass, css: { active: urlNamePart() === $root.typeUrlPart()}, href: deepLinkHref, html: title + ' &raquo;'\"></a>\n        <!-- /ko -->\n        <!-- /ko -->\n    </div></script><breadcrumbs params=\"breadcrumbs: $root.breadcrumbs(), fullPage: true\"></breadcrumbs><div class=\"sport-page sport-subtype-page\"><header data-bind=\"css: headerViewModel.sportClassName()\" data-t-position=\"sports-menu\"><!-- ko if: headerViewModel.competitionGroupsState() === 'resolved' --><h1 data-bind=\"text: headerViewModel.title()\"></h1><div class=\"competition\"><tabs params=\"\n                        tabs: headerViewModel.competitionGroups,\n                        listPropertyName: 'competitions',\n                        contentClass: 'expanded',\n                        contentTemplate: 'sport-competition',\n                        showListCountInTabTitle: true,\n                        selectFirstTab: false,\n                        isTypePage: true,\n                        selectedTab: headerViewModel.selectedCompetitionGroup\"></tabs></div><!-- /ko --><!-- ko if: headerViewModel.competitionGroupsState() === 'pending' --><header class=\"filter-header\"><spinner params=\"light: true\"></spinner></header><!-- /ko --><div class=\"external-links\"><!-- ko if: headerViewModel.sportNameRaw() === 'Football'  --><a class=\"tab\" data-bind=\"visible: sportPoolsLink, hoverTooltip: { text: $root.locale.t('external.links.football.pools'), skin: 'black'},\n                                      popupLink: { type: 'popup', url: sportPoolsLink, options: { toolbar: 'no', scrollbars: 'yes', resizable: 'yes', width: '1010', height: '400'  }}\"><span class=\"icon-check\"></span></a> <a class=\"tab\" data-bind=\"hoverTooltip: { text: $root.locale.t('external.links.statistics'), skin: 'black'},\n                                      popupLink: { type: 'popup', url: sportStatisticsLink, options: { toolbar: 'no', scrollbars: 'yes', resizable: 'yes', width: '900', height: '400'  }}\"><span class=\"icon-stats\"></span></a><!-- /ko --> <a class=\"tab results\" data-bind=\"hoverTooltip: { text: $root.locale.t('external.links.results'), skin: 'black'}, attr : {href: goResults()}\"><span class=\"icon-results\"></span> <span class=\"results-text\" data-bind=\"text: $root.locale.t('external.links.results')\"></span></a><!-- ko if: headerViewModel.sportNameRaw() === 'Football' && sportAudioStreamingLink !== '' --> <a class=\"tab\" data-bind=\"hoverTooltip: { text: $root.locale.t('external.links.audio.streaming'), skin: 'black'},\n                                      popupLink: { type: 'popup', url: sportAudioStreamingLink, options: { toolbar: 'no', scrollbars: 'yes', resizable: 'yes', width: '900', height: '400'  }}\"><span class=\"icon-audio\"></span></a><!-- /ko --></div></header><!-- ko if: contentTemplatePath() --><!-- ko template: contentTemplatePath() --><!-- /ko --><!-- /ko --></div></div>"}),require.register("pages/sport/landing/date-event-count-view-model",function(e,t,a){function o(e,t){var a=this;e=e||{today:0,tomorrow:0,future:0},a._url=t+"?t="+Date.now(),a.today=ko.observable(e.today),a.tomorrow=ko.observable(e.tomorrow),a.future=ko.observable(e.future),a.update=function(e){a.today(e.today),a.tomorrow(e.tomorrow),a.future(e.future)},s.subscribe(a._url,a.update),a.dispose=function(){s.unsubscribe(a._url)}}var s=e("comet");a.exports=o}),require.register("pages/sport/subtype/template",function(e,t,a){a.exports='<script type="text/html" id="sport-subtype-outright-event-market"><div class="market-container">\n        <div class="eachway" data-bind="visible: eachWayAvailable">\n            <span data-bind="text: $parents[5].ewFormat($data)"></span>\n        </div>\n\n        <!-- ko if: selections().length > 5 -->\n        <div class="show-more">\n            <div class="show-more-link">\n                <div data-bind="click: function (el, ev) { showMore(!showMore()); }">\n                    <!-- ko if: !showMore() -->\n                    <span data-bind="text: $root.locale.t(\'js.score.button.more\')"></span>\n                    <div class="arrow arrow-more"></div>\n                    <!-- /ko -->\n                    <!-- ko if: showMore() -->\n                    <span data-bind="text: $root.locale.t(\'js.score.button.less\')"></span>\n                    <div class="arrow arrow-less"></div>\n                    <!-- /ko -->\n                </div>\n            </div>\n        </div>\n        <!-- /ko -->\n        <!-- ko foreach: { data: selections, as: \'selection\' } -->\n        <!-- ko if: $parent.showMore() || !$parent.showMore() && $index() < 5 -->\n        <div class="selection">\n            <!-- ko if: $parents.length > 6 && $parents[6].selectionClass -->\n            <div data-bind="attr: { class: $parents[6].selectionClass($data)}"></div>\n            <!-- /ko -->\n            <div class="selection-name" data-bind="text: selection.name"></div>\n            <selection-button params="selection: selection, event: $parents[2], captionAbove: true, live: $root.inplayNow"></selection-button>\n        </div>\n        <!-- /ko -->\n        <!-- /ko -->\n    </div></script><!-- ko with: contentViewModel --><div class="row"><div class="left-column"><!-- ko if: showHeroBanners --><banner-carousel params="data: heroMVP, className: \'hero-banner, pager: true\'"></banner-carousel><!-- /ko --><div class="module"><h1 class="expand-list expanded" data-bind="toggle"><div class="min-height"></div><div class="sprite-arrow expand-arrow"></div><span data-bind="text: upcomingTitle"></span></h1><div><!-- ko if: upcomingEventGroupWithOutrightState() === \'resolved\' --><!-- ko with: upcomingEventGroupWithOutright --><event-group-simple params="eventGroup: allEventsGroup, showDateHeaders: true, showHeader: false, showIfEmpty: true"></event-group-simple><!-- /ko --><!-- /ko --><!-- ko if: upcomingEventGroupWithOutrightState() === \'pending\' --><spinner></spinner><!-- /ko --><!-- ko if: upcomingEventGroupWithOutrightState() === \'rejected\' --><div class="load-failed"><p>Load failed</p></div><!-- /ko --></div></div><div class="outright" data-bind="with: upcomingEventGroupWithOutright"><!-- ko foreach: outrightEvents --><div class="event" data-bind="with: $data"><header class="event-header" data-bind="attr: { class: $parents[3].bannerClass($data) }"><a data-bind="href: href"><div class="class"><span data-bind="html: sportsBookClass.name"></span></div><div class="name"><span data-bind="html: name"></span></div><div class="more" data-bind="text: marketCount() + \' \' + $root.locale.t(\'generic.more.more\')"></div></a></header><tabs params="\n                    tabs: markets,\n                    enableAll: false,\n                    contentTemplate: \'sport-subtype-outright-event-market\',\n                    showListCountInTabTitle: false,\n                    listPropertyName: \'selections\',\n                    haveRightColumn: true"></tabs></div><!-- /ko --></div></div><!-- ko if: showFeaturedEventList --><div class="right-column"><div class="future" data-bind="with: featuredEventList"><!-- ko foreach: list --><event-group params="event: $data, numberOfMarkets: $parent.numberOfMarkets, numberOfSelections: $parent.numberOfSelections"></event-group><!-- /ko --></div></div><!-- /ko --></div><!-- /ko -->'}),require.register("pages/sport/landing/date-view-model",function(e,t,a){function o(e,t){var a=this;a.title=ko.observable(e),a.url=t+"?t="+Date.now(),a.state=ko.observable("not-started"),a.activateRequest=jQuery.Deferred(),a.sportId=ko.observable(),a.eventGroup=new s,a.titleCount=ko.observable(0),a.display=ko.pureComputed(function(){return a.titleCount()>0}),a.setUrl=function(e){a.deactivate(),a.url=e+"?t="+Date.now()},a.update=function(e){e.eventGroup?(e.eventGroup.showExpanded=!0,a.eventGroup.update(e.eventGroup)):a.eventGroup.populate(),a.sportId(e.sportId)},a.activate=function(){!a.state()||"not-started"!==a.state()&&"resolved"!==a.state()||(a.state("pending"),$.getJSON(a.url).done(function(e){e.eventGroup.showExpanded=!0,a.eventGroup.populate(e.eventGroup,function(){i.subscribe(a.url,a.update)}),a.sportId(e.sportId),a.state("resolved"),a.activateRequest.resolve()}).fail(function(){a.state("rejected"),a.activateRequest.reject()}))},a.deactivate=function(){i.unsubscribe(a.url),a.eventGroup.populate()},a.dispose=function(){a.deactivate(),a.eventGroup.dispose(),a.display.dispose()}}var s=e("domain-model/models/event-group"),i=e("comet");a.exports=o}),require.register("pages/event-details/scoreboards/basketball/template",function(e,t,a){a.exports='<div class="basket-container" id="scoreboard-tracking" data-bind="attr: { hasStream: $root.streamingVisible() }"><div class="faded-part"><div class="basket-limit-width"><div class="game-title"><span data-bind="text: gameStatus"></span></div><div class="current-standings"><span class="team-name" data-bind="textAndTooltip: $root.showTeamName(\'team-1\')"></span> <span class="score" data-bind="text: homeTeamScore"></span> <span class="score" data-bind="text: awayTeamScore"></span> <span class="team-name" data-bind="textAndTooltip: $root.showTeamName(\'team-2\')"></span></div></div></div><div data-bind="visible: $root.scoreboardVisible" style="width: 100%"><div class="timeline"><div class="basket-limit-width"><div class="previous-scores first"><div class="team-name" data-bind="textAndTooltip: $root.showTeamName(\'team-1\')"></div><!-- ko foreach: homeTeamDisplayScores --><div class="score-container"><div class="timeline-title" data-bind="text: title, css: cssClass"></div><div class="scorebox" data-bind="text: score, css: cssClass"></div></div><!-- /ko --></div><div class="previous-scores"><div class="team-name" data-bind="textAndTooltip: $root.showTeamName(\'team-2\')"></div><!-- ko foreach: awayTeamDisplayScores --><div class="score-container"><div class="scorebox" data-bind="text: score, css: cssClass"></div></div><!-- /ko --></div></div></div><!-- ko if: statsBars() --><div id="stats-container"><stats-bars params="stats: statsBars(), sport: $root.event().sport.nameRaw"></stats-bars></div><!-- /ko --></div></div>'}),require.register("pages/sport/landing/heroMVPSportsController",function(e,t,a){function o(e,t,a){s.mixin(e),e.settingsKey=t,e.name=ko.observable(),e.params=ko.observable(),e.toDispose(ko.computed(function(){var o=e.sportName=ko.unwrap(a)||"";if(r("%csport name: %s","color:#006600;font-weight:bold",o),o){var s=ko.unwrap(e.params);s&&(s.sportName=o,e.params(s),s.settings[t]?e.name("sport-carousel"):e.name("football-carousel"))}else e.name("empty")}))}var s=e("gear-disposable-mixin"),i=e("utils/debug"),r=i("sport/landing/herMVP/controller"),n={setup:function(e,t){r("%csetup(%o, %o)","color:#006600;font-weight:bold",e,t),this.params({sportName:this.sportName,settings:e,banners:t}),this.sportName&&this.settingsKey&&e.hasOwnProperty(this.settingsKey)?e[this.settingsKey]?this.name("sport-carousel"):this.name("football-carousel"):this.name("empty")},reset:function(){this.name("empty"),this.params(null),this.sportName=null}};a.exports=function(e,t){r("%cheroMVP controller(%o, %o)","color:#006600;font-weight:bold",e,t);var a=Object.create(n);return o(a,e,t),a}}),require.register("pages/event-details/scoreboards/cricket/template",function(e,t,a){a.exports='<div class="generic-scoreboard cricket" id="scoreboard-tracking"><div class="score-container-basic fade"><!-- ko if: timeElapsedString() === \'\' --><span class="elapsed-time" data-bind="text: startTime"></span><!-- /ko --><!-- ko ifnot: timeElapsedString() === \'\' --> <span class="elapsed-time" data-bind="text: timeElapsedString"></span><!-- /ko --><div class="board"><div class="cricket-score-title"><!-- ko if: displayTwoCricketInnings() --><div class="score-title" data-bind="text: $root.locale.t(\'eventGroup.cricket.first\')"></div><div class="score-title" data-bind="text: $root.locale.t(\'eventGroup.cricket.second\')"></div><!-- /ko --></div><div class="cricket-score"><span class="cricket-score-team-name" data-bind="text: homeTeamName"></span><div class="cricket-score-box" data-bind="text: homeTeamScoreA">219/4</div><!-- ko if: displayTwoCricketInnings() --><div class="cricket-score-box" data-bind="text: homeTeamScoreB"></div><!-- /ko --></div><div class="cricket-score"><span class="cricket-score-team-name" data-bind="text: awayTeamName"></span><div class="cricket-score-box" data-bind="text: awayTeamScoreA">219/4</div><!-- ko if: displayTwoCricketInnings() --><div class="cricket-score-box" data-bind="text: awayTeamScoreB"></div><!-- /ko --></div></div></div></div>'}),require.register("pages/sport/landing/leagues-view-model",function(e,t,a){function o(e){var t=this;t.eventGroupList=ko.observable(new s),t.url=e+"?t="+Date.now(),t.state=ko.observable(),t.activate=function(){t.state("pending"),$.getJSON(e).done(function(e){t.eventGroupList().populate(e.eventGroups,function(){i.subscribe(t.url,t.update)}),t.state("resolved")}).fail(function(){t.state("rejected")})},t.update=function(e){t.eventGroupList().update(e.eventGroups)},t.deactivate=function(){i.unsubscribe(t.url),t.eventGroupList().eventGroups.removeAll()},t.dispose=function(){t.deactivate(),t.eventGroupList().dispose()}}var s=e("domain-model/models/event-group-list"),i=e("comet");a.exports=o}),require.register("pages/event-details/scoreboards/football/template",function(e,t,a){a.exports='<div class="football-scoreboard-wrapper" id="scoreboard-tracking"><!-- ko if: gameStatus() --><div class="elapsed-time" data-bind="html: gameStatus()"></div><!-- /ko --><section class="board"><!-- ko if: $root.event().participants --><span class="team" data-bind="textAndTooltip: $root.showTeamName(\'team-1\')"></span> <span class="score" data-bind="text: $root.event().inplay().score[0]"></span> <span class="divider">-</span> <span class="score" data-bind="text: $root.event().inplay().score[1]"></span> <span class="team" data-bind="textAndTooltip: $root.showTeamName(\'team-2\')"></span><!-- /ko --><!-- ko ifnot: $root.event().participants --> <span class="event-name" data-bind="text: name"></span><!-- /ko --></section><div data-bind="visible: $root.scoreboardVisible"><!-- ko if: incidents --><div class="stats"><div><span class="incident yellowcard"></span> <span class="yellow" data-bind="text: homeTotalYellowCards"></span> <span class="incident redcard"></span> <span class="red" data-bind="text: homeTotalRedCards"></span> <span class="incident cornerkick"></span> <span class="corners" data-bind="text: homeTotalCorners"></span></div><div><span class="incident yellowcard"></span> <span class="yellow" data-bind="text: awayTotalYellowCards"></span> <span class="incident redcard"></span> <span class="red" data-bind="text: awayTotalRedCards"></span> <span class="incident cornerkick"></span> <span class="corners" data-bind="text: awayTotalCorners"></span></div></div><!-- /ko --><!-- ko if: currentHalf() !== \'5\' && statsTimeline() --><div class="timeline-container"><timeline params="stats: statsTimeline()"></timeline></div><!-- /ko --><!-- ko if: currentHalf() === \'5\' && statsPenalties() --><div id="penalties"><penalty params="stats: statsPenalties()"></penalty></div><!-- /ko --><!-- ko if: statsBars() --><div id="stats-container"><stats-bars params="stats: statsBars(), sport: $root.event().sport.nameRaw"></stats-bars></div><!-- /ko --></div></div>'}),require.register("pages/sport/landing/view-model",function(e,t,a){function o(){var e=this;e.streamingTooltip=ko.observable(),e.dateEventCountViewModel=ko.observable(),e.sport=ko.observable(""),e.dateTabs=ko.observableArray(),e.selectedDateTab=ko.observable(),e.leagues=ko.observable(""),e.featured=ko.observable(""),e.showFilters=ko.observable(!0),e.activeFilter=ko.observable("time"),e.keepExpanded=ko.observable(!0),e.locale=s,e.slider=null,e.subscriptions=[];var t=ko.computed(function(){var t=ko.unwrap(e.sport)||{};return d("%csport name %s","color:#006600;font-weight:bold",t.name),t.name});e.subscriptions.push(t),e.heroMVP=new n("aemSports",t),e.subscriptions.push(this.heroMVP),e.hasUpcomingByTime=ko.pureComputed(function(){var t;for(t=0;t<e.dateTabs().length;t++)if(e.dateTabs()[t].titleCount()>0)return!0}),e.hasUpcomingByLeague=ko.pureComputed(function(){return e.sport().id!==r.BOXING},e),e.setActiveFilter=function(t){e.activeFilter()!==t&&(e.activeFilter(t),"time"===e.activeFilter()?(e.leagues().deactivate(),e.selectedDateTab()&&e.selectedDateTab().activate()):(e.selectedDateTab()&&e.selectedDateTab().deactivate(),e.leagues().activate(e.sport().id)))},e.trackFilter=function(t,a){e.activeFilter()!==t&&i.publish("track:filter",{action:t,element:a?a.target:null})},e.competitionUrl=function(t){return"/type/"===t.url.substr(0,6)?"/sport/"+ko.unwrap(e.sport).id+"/"+t.url.replace("/type/",""):t.url},e.subscriptions.push(e.sport.subscribe(function(t){d("sport (%o)",t),e.setActiveFilter("time"),e.keepExpanded(!e.keepExpanded())},e)),e.subscriptions.push(e.dateEventCountViewModel.subscribe(function(t){e.todaySubscription&&e.todaySubscription.dispose(),e.tomorrowSubscription&&e.tomorrowSubscription.dispose(),e.futureSubscription&&e.futureSubscription.dispose(),e.dateTabs()[0].titleCount(e.dateEventCountViewModel().today()),e.dateTabs()[1].titleCount(e.dateEventCountViewModel().tomorrow()),e.dateTabs()[2].titleCount(e.dateEventCountViewModel().future()),e.todaySubscription=e.dateEventCountViewModel().today.subscribe(function(t){e.dateTabs()[0].titleCount(t)},e),e.tomorrowSubscription=e.dateEventCountViewModel().tomorrow.subscribe(function(t){e.dateTabs()[1].titleCount(t)},e),e.futureSubscription=e.dateEventCountViewModel().future.subscribe(function(t){e.dateTabs()[2].titleCount(t)},e)},e)),e.hasContent=ko.computed(function(){var t=!1,a=e.dateEventCountViewModel();return a&&(a.today()||a.tomorrow()||a.future())&&(t=!0),t}),this.onBeforeViewModelChange=function(e){e&&e.dispose()},this.subscriptions.push(this.dateEventCountViewModel.subscribe(this.onBeforeViewModelChange,this,"beforeChange")),this.subscriptions.push(this.featured.subscribe(this.onBeforeViewModelChange,this,"beforeChange")),e.leagueIndexLimitForStartExpanded=5,e.showLeague=function(){return e.hasUpcomingByLeague()&&"leagues"===e.activeFilter()},e.getLeagueGroups=function(){return ko.utils.arrayFilter(e.leagues().eventGroupList().eventGroups(),function(e){return e.list().length>0})},e.dispose=function(){var t;for(e.todaySubscription&&e.todaySubscription.dispose(),e.tomorrowSubscription&&e.tomorrowSubscription.dispose(),e.futureSubscription&&e.futureSubscription.dispose(),t=0;t<e.subscriptions.length;t++)e.subscriptions[t].dispose();e.leagues()&&e.leagues().dispose(),e.leagues(null),e.featured()&&e.featured().dispose(),e.featured(null),e.dateEventCountViewModel()&&e.dateEventCountViewModel().dispose(),e.dateEventCountViewModel(null),e.dateTabs.dispose(),e.hasUpcomingByTime.dispose(),e.hasUpcomingByLeague.dispose(),e.hasContent.dispose()}}var s=e("locale"),i=e("message-bus"),r=e("domain-model/helpers/sport-types"),n=e("./heroMVPSportsController"),l=e("utils/debug"),d=l("sport/landing/view-model");a.exports=o}),require.register("pages/event-details/scoreboards/generic/generic-no-scores",function(e,t,a){a.exports='<!-- ko if: inplayNow() && (hasStream() || $root.isVisualisationAvailable()) --><div class="basic-scoreboard basic-scoreboard-live" data-t-position="banner"><div class="inplay-wrapper-scoreboard"><span class="date-live" data-bind="text: moment(startTime()).format(\'ddd DD/MM HH:mm\')"></span><div class="live-badge"><span class="live-badge-text">LIVE</span></div></div><span class="name name-live" data-bind="html: nameTranslations.get"></span><div class="league-wrapper"><span class="league league-live" data-bind="html: sportsBookType.name"></span></div></div><!-- /ko --><!-- ko ifnot: inplayNow() && (hasStream() || $root.isVisualisationAvailable()) --><div class="basic-scoreboard" data-t-position="banner"><div class="date"><span data-bind="text: moment(startTime()).format(\'ddd DD/MM HH:mm\')"></span> <span data-bind="visible: inplayNow()" class="live-badge__no-stream">LIVE</span></div><span class="name" data-bind="html: nameTranslations.get"></span> <span class="league" data-bind="html: sportsBookType.name"></span></div><!-- /ko -->'}),require.register("pages/sport/shared/featured-view-model",function(e,t,a){function o(e,t){var a=this;a._url=t+"?t="+Date.now(),a.numberOfMarkets=e.numberOfMarkets,a.numberOfSelections=e.numberOfSelections,a.list=ko.observableArray(ko.utils.arrayMap(e.highlightedEvents,function(e,t){return new s(e)})),a.list.extend({rateLimit:1}),i.subscribe(a._url,function(e){a.list.updateArrayWithOrder(e.highlightedEvents||[],function(e){return new s(e)},"id")}),a.dispose=function(){i.unsubscribe(a._url),a.list.dispose()}}var s=e("domain-model/models/event"),i=e("comet");a.exports=o}),require.register("pages/event-details/scoreboards/generic/template",function(e,t,a){a.exports='<div class="generic-scoreboard" id="scoreboard-tracking"><div class="fade"><!-- ko if: timeElapsedString() === \'\' --><span class="elapsed-time" data-bind="text: startTime"></span><!-- /ko --><!-- ko ifnot: timeElapsedString() === \'\' --> <span class="elapsed-time" data-bind="text: timeElapsedString"></span><!-- /ko --><div class="board"><span class="team" data-bind="text: homeTeamName"></span> <span class="score" data-bind="text: homeTeamScore"></span> <span class="divider">-</span> <span class="score" data-bind="text: awayTeamScore"></span> <span class="team" data-bind="text: awayTeamName"></span></div></div><div data-bind="visible: $root.scoreboardVisible"><!-- ko if: isSetScoreboard() --><div class="timeline"><div class="limit-width"><div class="previous-scores first"><div class="team-name" data-bind="textAndTooltip: homeTeamName"></div><div class="score-container"><div class="timeline-title" data-bind="text: setsTitle"></div><div class="scorebox" data-bind="text: homeTeamSetScore()"></div></div><!-- ko ifnot: homeTeamGameScore() === \'\' --><div class="score-container"><div class="timeline-title" data-bind="text: gamesTitle"></div><div class="scorebox" data-bind="text: homeTeamGameScore()"></div></div><!-- /ko --><div class="score-container"><div class="timeline-title" data-bind="text: pointsTitle"></div><div class="scorebox" data-bind="text: homeTeamPointsScore() ? homeTeamPointsScore() : $root.event().stats().ptsScoreA"></div></div></div><div class="previous-scores"><div class="team-name" data-bind="textAndTooltip: awayTeamName"></div><div class="score-container"><div class="scorebox" data-bind="text: awayTeamSetScore()"></div></div><!-- ko ifnot: awayTeamGameScore() === \'\' --><div class="score-container"><div class="scorebox" data-bind="text: awayTeamGameScore()"></div></div><!-- /ko --><div class="score-container"><div class="scorebox" data-bind="text: awayTeamPointsScore() ? awayTeamPointsScore() : $root.event().stats().ptsScoreB"></div></div></div></div></div><!-- /ko --></div></div>'}),require.register("pages/sport/shared/live-view-model",function(e,t,a){var o=e("domain-model/models/event-group-list-se"),s=e("locale"),i=function(e,t){this.streamingTooltip=ko.observable(e||null),this.featuredInPlay=ko.observable(t||null),this.locale=s,this.loaded=ko.observable(!1)};i.prototype.populate=function(e){return this.featuredInPlay(new o),this.featuredInPlay().populate(e).done(function(){this.loaded(!0)}.bind(this)).fail(function(e){})},i.prototype.update=function(e){return this.featuredInPlay().update(e)},i.prototype.dispose=function(){this.featuredInPlay()&&this.featuredInPlay().dispose&&this.featuredInPlay().dispose()},a.exports=i}),require.register("pages/event-details/scoreboards/rugby-union/template",function(e,t,a){a.exports='<div class="scoreboard-overlay" id="scoreboard-tracking"><div class="info" data-bind="hoverTooltip: { text: $root.locale.t(\'scoreboard.rugby.info.text\'), skin: \'black\'}">i</div><div class="rugby-scoreboard"><div class="fade"><!-- ko if: gameStatusCalc() --><span class="elapsed-time" data-bind="text: gameStatusCalc()"></span><!-- /ko --><!-- ko ifnot: gameStatusCalc() --><!-- ko if: timeElapsedString() === \'\' --> <span class="elapsed-time" data-bind="text: startTime()"></span><!-- /ko --><!-- ko ifnot: timeElapsedString() === \'\' --> <span class="elapsed-time" data-bind="text: timeElapsedString()"></span><!-- /ko --><!-- /ko --><div class="board"><span class="team" data-bind="textAndTooltip: $root.showTeamName(\'team-1\')"></span> <span class="score" data-bind="text: homeTeamScore()"></span> <span class="divider">(<span data-bind="text: halfTimePointsHT()"></span>-<span data-bind="text: halfTimePointAT()"></span>)</span> <span class="score" data-bind="text: awayTeamScore()"></span> <span class="team" data-bind="textAndTooltip: $root.showTeamName(\'team-2\')"></span></div></div></div><div data-bind="visible: $root.scoreboardVisible"><!-- ko if: $root.smallerScreenSize() || $root.streamingVisible --><ul class="scoreboard-tabs"><li class="scoreboard-tab active" data-bind="css: { active: activeTab() === \'stats\' }, click: function(){setActiveTab(\'stats\')}"><span data-bind="text: $root.locale.t(\'scoreboard.rugby.match-stats\')"></span></li><li class="scoreboard-tab" data-bind="css: { active: activeTab() === \'commentary\' }, click: function(){setActiveTab(\'commentary\')}"><span data-bind="text: $root.locale.t(\'scoreboard.rugby.commentary\')"></span></li></ul><!-- /ko --><div class="rugby-scoreboard-wrapper" data-bind="css: { stacked: $root.smallerScreenSize() || $root.streamingVisible() }"><div class="stats-wrapper" data-bind="css: { dn: ($root.smallerScreenSize() && activeTab() !== \'stats\') || ($root.streamingVisible() && activeTab() !== \'stats\') }"><!-- ko if: statsBars() --><stats-bars params="stats: statsBars(), sport: $root.event().sport.nameRaw"></stats-bars><!-- /ko --></div><!-- ko if: commentary() --><div class="commentary-wrapper" data-bind="css: { dn: ($root.smallerScreenSize() && activeTab() !== \'commentary\') || ($root.streamingVisible() && activeTab() !== \'commentary\') }"><ul data-bind="foreach: commentary().sort(function (a, b) { return parseInt(a.id, 10) < parseInt(b.id, 10) ? 1 : -1 })"><!-- ko ifnot: $parent.isHighlighted($index) --><li><span class="icon"><i class="icon-110000007" data-bind="attr: { class: \'icon-scoreboard-\' + type }"></i></span> <span class="time" data-bind="text: $parent.commentTime(clockTime)"></span> <span class="divider">-</span> <span class="comment"><span class="team" data-bind="textAndTooltip: $parent.commentTeam(team, $root.event().participants)"></span> <span class="type" data-bind="text: $parent.commentType(type)"></span></span> <span class="divider">-</span> <span class="score" data-bind="text: score"></span></li><!-- /ko --><!-- ko if: $parent.isHighlighted($index) --><li class="hightlighted"><span data-bind="text: $parent.commentType(type)"></span></li><!-- /ko --></ul></div><!-- /ko --></div></div></div>'}),require.register("pages/sport/shared/view-model",function(e,t,a){function o(e,t,a,o){d("view model(%o)",o),this.locale=s,this.contentViewModel=ko.observable(null),this.classUrlPart=ko.observable(t),this.typeUrlPart=ko.observable(e),this.contentTemplatePath=ko.observable(a),this.streamingTooltip=ko.observable(),this.liveViewModel=ko.observable(null),this.headerViewModel=new i(this),this.disposables=[],this.teamBanners=ko.observableArray([]),this.sportPoolsLink=ko.observable(""),this.sportStatisticsLink=ko.observable(""),this.sportResultsLink=ko.observable(""),this.sportAudioStreamingLink=ko.observable(""),this.getCMS(),this.onBeforeContentViewModelChange=function(e){e&&e.dispose()},this.disposables.push(this.contentViewModel.subscribe(this.onBeforeContentViewModelChange,this,"beforeChange")),this.breadcrumbs=ko.pureComputed(function(){var e=[],t=!1;if(this.headerViewModel.sport()&&e.push({title:this.headerViewModel.sport().name,href:this.headerViewModel.sport().url}),this.headerViewModel.selectedCompetitionGroup()){t=this.headerViewModel.selectedCompetition()&&this.headerViewModel.selectedCompetitionGroup().competitions.indexOf(this.headerViewModel.selectedCompetition())!==-1;var a=t?this.breadCrumbExists(e,this.headerViewModel.selectedCompetition().title):t;e.push({title:this.headerViewModel.selectedCompetitionGroup().title,href:t&&a?this.headerViewModel.selectedCompetitionGroup().href:null}),t&&!this.breadCrumbExists(e,this.headerViewModel.selectedCompetition().title)&&e.push({title:this.headerViewModel.selectedCompetition().title,href:null})}return e},this),this.goResults=function(){if(this.headerViewModel.sport()){var e=this.headerViewModel.sport().name.toLowerCase();return e=e.replace(" ","-"),"/"+s.value()+"/results/"+e}},this.disposables.push(this.breadcrumbs)}var s=e("locale"),i=e("../../shared-view-models/competitions-view-model"),r=e("domain-model/helper"),n=e("pages/cmsData"),l=e("utils/debug"),d=l("sport/shared/view-model"),c={Albania:"albania",Austria:"austria",Belgium:"belgium",Croatia:"croatia","Czech Republic":"czech-republic",England:"england",France:"france",Germany:"germany",Hungary:"hungary",Iceland:"iceland",Italy:"italy","Northern Ireland":"northern-ireland",Poland:"poland",Portugal:"portugal","Republic of Ireland":"ireland",Romania:"romania",Russia:"russia",Slovakia:"slovakia",Spain:"spain",Sweden:"sweden",Switzerland:"switzerland",Turkey:"turkey",Ukraine:"ukraine",Wales:"wales"};o.prototype={dispose:function(){this.disposables.forEach(function(e){e.dispose()}),this.disposables.length=0,this.contentViewModel()&&this.contentViewModel().dispose(),this.contentViewModel(null),this.headerViewModel&&this.headerViewModel.dispose(),
this.headerViewModel=null,this.liveViewModel()&&this.liveViewModel().dispose(),this.liveViewModel(null)},getCMS:function(){var e=this;n(["tournament.teamBanners","links.popup"]).done(function(t){t["tournament.teamBanners"]&&e.teamBanners(t["tournament.teamBanners"]),t["links.popup"]&&(e.sportPoolsLink(r.getDeepProperty(t["links.popup"],"sportPools")||""),e.sportStatisticsLink(r.getDeepProperty(t["links.popup"],"sportStatistics")||""),e.sportResultsLink(r.getDeepProperty(t["links.popup"],"sportResults")||""),e.sportAudioStreamingLink(r.getDeepProperty(t["links.popup"],"sportAudioStreaming")||""))})},bannerClass:function(e){for(var t=0;t<this.teamBanners().length;t++)if(e.id===this.teamBanners()[t].eventId)return"event-header euros "+this.teamBanners()[t].bannerIcon+"-banner";return e.href.indexOf("/euro-2016/")>0||e.href.indexOf("/fotbolls-em-2016/")>0?"event-header euros euros-outrights":"event-header "+e.sport.nameRaw},breadCrumbExists:function(e,t){var a=!1;return e&&e.length>0&&e.forEach(function(e){e.title===t&&(a=!0)}),a},selectionClass:function(e){if(!(e.market.event.sportsBookClass.nameRaw.toLowerCase().indexOf("euro 2016")>=0))return"";var t=c[e.nameRaw];return t&&t.length>0?"tournament-flags tournament-flags--space-right "+t:void 0}},a.exports=o}),require.register("pages/event-details/scoreboards/tennis/template",function(e,t,a){a.exports='<div class="tennis-container" id="scoreboard-tracking"><div class="tennis-stats"><table><tr><td class="top-title">Previous sets</td><td class="game-title" data-bind="css: { noStream: !$parent.hasStream() }"><span data-bind="text: $root.locale.t(\'market.best.of\') + \' \' + numberOfSetsInMatch()"></span></td><td></td><td class="top-title"><span class="abbr-set" data-bind="text: setAbbreviated"></span> <span class="abbr-game" data-bind="text: gameAbbreviated"></span> <span class="abbr-point" data-bind="text: pointsAbbreviated"></span></td></tr><tr><td class="previous-sets scores"><!-- ko foreach: previousSets --><div class="sets"><span class="score" data-bind="text: homeTeamSetScore"></span> <span class="score" data-bind="text: awayTeamSetScore"></span></div><!-- /ko --></td><td><span class="participant"><span data-bind="html: $root.event().participants[0].name, attr: { title: $root.event().participants[0].name }"></span></span> <span class="participant"><span data-bind="html: $root.event().participants[1].name, attr: { title: $root.event().participants[1].name }"></span></span></td><td><span class="home-serve" data-bind="visible: homeTeamServe"></span> <span class="away-serve" data-bind="visible: awayTeamServe"></span></td><td class="scores"><div class="sets"><span class="score" data-bind="text: homeTeamSetScore"></span> <span class="score" data-bind="text: awayTeamSetScore"></span></div><div class="games"><span class="score" data-bind="text: homeTeamGameScore"></span> <span class="score" data-bind="text: awayTeamGameScore"></span></div><div class="points"><span data-bind="html: homeTeamPointScore, attr: { class: (homeTeamPointScore === \'ADV\') ? \'score last adv\' : \'score last\' }"></span> <span data-bind="html: awayTeamPointScore, attr: { class: (awayTeamPointScore === \'ADV\') ? \'score last adv\' : \'score last\' }"></span></div></td></tr></table></div><div data-bind="visible: $root.scoreboardVisible" style="width: 100%"><div class="statistics"><div class="stats-titles"><section class="width-limiter"><div><span data-bind="text: acesTitle"></span></div><div><span data-bind="text: doubleFaultsTitle"></span></div><div><span data-bind="text: serviceBreaksTitle"></span></div><div><span data-bind="text: totalPointsTitle"></span></div></section></div><div class="width-limiter vertical"><div class="home-team"><div class="team-name" data-bind="textAndTooltip: $root.event().participants[0].name"></div><div><span data-bind="text: homeTeamAces"></span></div><div><span data-bind="text: homeTeamDoubleFaults"></span></div><div><span data-bind="text: homeTeamServiceBreaks"></span></div><div><span data-bind="text: homeTeamTotalPoints"></span></div></div><div class="away-team"><div class="team-name" data-bind="textAndTooltip: $root.event().participants[1].name"></div><div><span data-bind="text: awayTeamAces"></span></div><div><span data-bind="text: awayTeamDoubleFaults"></span></div><div><span data-bind="text: awayTeamServiceBreaks"></span></div><div><span data-bind="text: awayTeamTotalPoints"></span></div></div></div></div></div></div>'}),require.register("pages/sport/subtype/view-model",function(e,t,a){function o(){function e(e){d("%ctoggle visible(%o)","font-weight:bold",e),a(e.data&&e.data.banners>0)}this.subscriptions=[],d("view model content:",this),this.upcomingTitle=ko.observable(r.t("sports.sports_level.featured.upcoming_sports")||""),this.upcomingEventGroupWithOutright=ko.observable(),this.upcomingEventGroupWithOutrightState=ko.observable("pending"),this._featuredEventList=ko.observable(null),this._featuredEventListState=ko.observable("pending");var t=ko.computed(function(){var e=ko.unwrap(self.sport)||{};return d("Sport: %o",e),e.name});this.subscriptions.push(t),this.heroMVP=new s("aemSports",t),this.ewFormat=i["default"];var a=ko.observable(!1);this.subscriptions.push(n.subscribe("aem-carousel:init",e)),this.subscriptions.push(n.subscribe("aem-carousel:update",e)),this.showHeroBanners=ko.pureComputed(function(){return this.heroMVP.enabled&&ko.unwrap(a)},this),this.featuredEventList=ko.pureComputed(function(){var e=[];return this._featuredEventList()&&0===this._featuredEventList().list().length?(this.upcomingEventGroupWithOutright()&&this.upcomingEventGroupWithOutright().hasOwnProperty("allEventsGroup")&&(e=ko.utils.arrayMap(this.upcomingEventGroupWithOutright().allEventsGroup.list(),function(e){if(e.event.mainMarket&&e.event.mainMarket.selections().length)return e.event}),e=e.filter(function(e){return"undefined"!=typeof e})),{numberOfMarkets:3,numberOfSelections:5,list:ko.observable(e.slice(0,Math.min(e.length,3)))}):this._featuredEventList()},this),this.showFeaturedEventList=ko.pureComputed(function(){var e=this.featuredEventList();return e&&ko.unwrap(e.list).length>0},this),this.selectionClass=function(e){if(!(e.market.event.sportsBookClass.nameRaw.toLowerCase().indexOf("euro 2016")>=0))return"";var t=c[e.nameRaw];return t&&t.length>0?"tournament-flags tournament-flags--space-right "+t:void 0},this.onBeforeViewModelChange=function(e){e&&e.dispose()},this.subscriptions.push(this._featuredEventList.subscribe(this.onBeforeViewModelChange,this,"beforeChange")),this.subscriptions.push(this.upcomingEventGroupWithOutright.subscribe(this.onBeforeViewModelChange,this,"beforeChange")),this.dispose=function(){this.subscriptions.forEach(function(e){e.dispose()}),this.subscriptions=[],this._featuredEventList()&&this._featuredEventList().dispose(),this._featuredEventList(null),this.upcomingEventGroupWithOutright()&&this.upcomingEventGroupWithOutright().dispose(),this.upcomingEventGroupWithOutright(null),this.featuredEventList.dispose(),this.showFeaturedEventList.dispose()}}var s=e("hero-mvp/controller"),i=e("../../shared/eachwayFormat"),r=e("locale"),n=e("message-bus"),l=e("utils/debug"),d=l("sport/subtype/view-model"),c={Albania:"albania",Austria:"austria",Belgium:"belgium",Croatia:"croatia","Czech Republic":"czech-republic",England:"england",France:"france",Germany:"germany",Hungary:"hungary",Iceland:"iceland",Italy:"italy","Northern Ireland":"northern-ireland",Poland:"poland",Portugal:"portugal","Republic of Ireland":"ireland",Romania:"romania",Russia:"russia",Slovakia:"slovakia",Spain:"spain",Sweden:"sweden",Switzerland:"switzerland",Turkey:"turkey",Ukraine:"ukraine",Wales:"wales"};a.exports=o}),require.register("pages/event-details/scoreboards/basketball/view-model",function(e,t,a){function o(e,t){e=e||{},r.mixin(this),"-"===e.score&&(e.score=""),this.score=ko.observable(e.score||""),this.matchType=t||"4 quarters",this.type=e.type||"",this.session=e.session||"",this.toDispose(this.title=ko.computed(function(){return"2 quarters"===this.matchType&&"overtime"!==this.type?i.t("scoreboard.basketball.half"+this.session):"4 quarters"===this.matchType&&"quarter"===this.type?i.t("scoreboard.basketball.quarter"+this.session):"quarter"===this.session&&"overtime"===this.type?i.t("scoreboard.basketball.currentperiod"):"totalscore"===this.session&&"overtime"===this.type?i.t("scoreboard.basketball.overtime"):"totalscore"===this.type?i.t("scoreboard.basketball.totalscores"):"highlight"===this.type?i.t("scoreboard.basketball.halftime"):""},this)),this.toDispose(this.cssClass=ko.computed(function(){return"2 quarters"===this.matchType?"ncaa":"highlight"===this.type||"overtime"===this.type?this.type:"totalscore"===this.type?"highlight":""},this))}function s(e){e=e.data||{};var t=this;this.threePointersTitle=i.t("scoreboard.basketball.three.points"),this.twoPointersTitle=i.t("scoreboard.basketball.two.points"),this.freeThrowsTitle=i.t("scoreboard.basketball.free.throws"),this.homeTeamName=e.homeTeamName||"",this.awayTeamName=e.awayTeamName||"",this.awayTeamFirst=e.awayTeamFirst||!1,this.inplay=ko.observable(e.inplay||!1),this.homeTeamScore=ko.observable(e.homeTeamScore||0),this.awayTeamScore=ko.observable(e.awayTeamScore||0),this.homeTeamThreePointers=ko.observable(e.homeTeamThreePointers||0),this.awayTeamThreePointers=ko.observable(e.awayTeamThreePointers||0),this.homeTeamTwoPointers=ko.observable(e.homeTeamTwoPointers||0),this.awayTeamTwoPointers=ko.observable(e.awayTeamTwoPointers||0),this.homeTeamFreeThrows=ko.observable(e.homeTeamFreeThrows||0),this.awayTeamFreeThrows=ko.observable(e.awayTeamFreeThrows||0),this.matchType=ko.observable(e.matchType||"4 quarters"),this.gameClock=ko.observable(e.gameClock||"00:00"),this.gameSession=ko.observable(parseInt(e.gameSession)||1),this.isOverTime=ko.observable(e.isOverTime||!1),this.statsBars=ko.observable(),this.homeTeamSessionScores=ko.observableArray(ko.utils.arrayMap(e.homeTeamSessionScores||[],function(e){return new o(e,t.matchType())})),this.awayTeamSessionScores=ko.observableArray(ko.utils.arrayMap(e.awayTeamSessionScores||[],function(e){return new o(e,t.matchType())})),s.prototype.sortSessionScores(this.homeTeamSessionScores),s.prototype.sortSessionScores(this.awayTeamSessionScores),this.homeTeamOTScores=ko.observableArray(ko.utils.arrayMap(e.homeTeamOTScores||[],function(e){return new o(e,t.matchType())})),this.awayTeamOTScores=ko.observableArray(ko.utils.arrayMap(e.awayTeamOTScores||[],function(e){return new o(e,t.matchType())})),this.homeTeamDisplayScores=ko.pureComputed(function(){return this.isOverTime()?this.homeTeamOTScores():this.homeTeamSessionScores()},this),this.awayTeamDisplayScores=ko.pureComputed(function(){return this.isOverTime()?this.awayTeamOTScores():this.awayTeamSessionScores()},this),this.gameStatus=ko.pureComputed(function(){var e="";return e="2 quarters"===this.matchType()?this.isOverTime()?i.t("scoreboard.basketball.overtime.short"):i.t("scoreboard.basketball.half"+this.gameSession()):this.isOverTime()?i.t("scoreboard.basketball.overtime.short"):i.t("scoreboard.basketball.quarter"+this.gameSession()),e+" "+this.gameClock()},this),this.sub=n.subscribe("^scoreboard:data$",function(e){t.update(e.data)})}var i=e("locale"),r=e("gear-disposable-mixin"),n=e("message-bus");o.prototype.update=function(e){e=e||{},"-"===e.score&&(e.score=""),this.score(e.score||"")},s.prototype.convertSessionScores=function(e){return 1===e.session?1:2===e.session?2:"halftime"===e.session?3:3===e.session?4:4===e.session?5:"totalscore"===e.session?6:void 0},s.prototype.sortSessionScores=function(e){e.sort(function(e,t){var a=s.prototype.convertSessionScores(e),o=s.prototype.convertSessionScores(t);return a===o?0:a<o?-1:1})},s.prototype.update=function(e){function t(e){var t=e.session,a=e.type;return"quarter"===a?parseInt(t,10):t}e=e||{};var a=this;this.inplay(e.inplay||!1),this.homeTeamScore(e.homeTeamScore||0),this.awayTeamScore(e.awayTeamScore||0),this.homeTeamThreePointers(e.homeTeamThreePointers||0),this.awayTeamThreePointers(e.awayTeamThreePointers||0),this.homeTeamTwoPointers(e.homeTeamTwoPointers||0),this.awayTeamTwoPointers(e.awayTeamTwoPointers||0),this.homeTeamFreeThrows(e.homeTeamFreeThrows||0),this.awayTeamFreeThrows(e.awayTeamFreeThrows||0),this.matchType(e.matchType||"4 quarters"),this.gameClock(e.gameClock||"00:00"),this.gameSession(parseInt(e.gameSession)||1),this.isOverTime(e.isOverTime||!1),this.statsBars({homeTeamThreePointers:this.homeTeamThreePointers,threePointersTitle:this.threePointersTitle,awayTeamThreePointers:this.awayTeamThreePointers,homeTeamTwoPointers:this.homeTeamTwoPointers,twoPointersTitle:this.twoPointersTitle,awayTeamTwoPointers:this.awayTeamTwoPointers,homeTeamFreeThrows:this.homeTeamFreeThrows,freeThrowsTitle:this.freeThrowsTitle,awayTeamFreeThrows:this.awayTeamFreeThrows}),this.isOverTime()?(this.homeTeamOTScores.updateArray(e.homeTeamOTScores||[],function(e){return t(e)===this.session&&e.type===this.type},function(e){return new o(e,a.matchType())}),this.awayTeamOTScores.updateArray(e.awayTeamOTScores||[],function(e){return t(e)===this.session&&e.type===this.type},function(e){return new o(e,a.matchType())})):(this.homeTeamSessionScores.updateArray(e.homeTeamSessionScores||[],function(e){return t(e)===this.session&&e.type===this.type},function(e){return new o(e,a.matchType())}),this.awayTeamSessionScores.updateArray(e.awayTeamSessionScores||[],function(e){return t(e)===this.session&&e.type===this.type},function(e){return new o(e,a.matchType())})),s.prototype.sortSessionScores(this.homeTeamSessionScores),s.prototype.sortSessionScores(this.awayTeamSessionScores)},s.prototype.dispose=function(){this.sub.dispose(),this.homeTeamSessionScores.dispose(),this.awayTeamSessionScores.dispose(),this.homeTeamOTScores.dispose(),this.awayTeamOTScores.dispose(),this.homeTeamDisplayScores.dispose(),this.awayTeamDisplayScores.dispose(),this.gameStatus.dispose()},a.exports=s}),require.register("pages/event-details/scoreboards/cricket/view-model",function(e,t,a){function o(e){e=e.data||{};var t=this;this.awayTeamName=ko.observable(e.awayTeamName||""),this.awayTeamScore=ko.observable(e.awayTeamScore||""),this.awayTeamScoreA=ko.observable(e.awayTeamScoreA||""),this.awayTeamScoreB=ko.observable(e.awayTeamScoreB||""),this.basicStats=ko.observable(e.basicStats||!1),this.displayTwoCricketInnings=ko.observable(e.displayTwoCricketInnings||!1),this.eventId=ko.observable(e.eventId||""),this.eventName=ko.observable(e.eventName||""),this.hasStream=ko.observable(e.hasStream||!1),this.homeTeamName=ko.observable(e.homeTeamName||""),this.homeTeamScore=ko.observable(e.homeTeamScore||""),this.homeTeamScoreA=ko.observable(e.homeTeamScoreA||""),this.homeTeamScoreB=ko.observable(e.homeTeamScoreB||""),this.inplay=ko.observable(e.inplay||!1),this.period=ko.observable(e.period||0),this.sportId=ko.observable(e.sportId||""),this.sportName=ko.observable(e.sportName||""),this.sportNameRaw=ko.observable(e.sportNameRaw||""),this.startTime=ko.observable(e.startTime||""),this.timeElapsedString=ko.observable(e.timeElapsedString||""),this.sub=s.subscribe("^scoreboard:data$",function(e){t.update(e.data)})}var s=e("message-bus");o.prototype.update=function(e){e=e||{};for(var t in e)this.hasOwnProperty(t)&&e[t]&&this[t](e[t])},o.prototype.dispose=function(){this.sub.dispose()},a.exports=o}),require.register("pages/event-details/scoreboards/football/view-model",function(e,t,a){function o(e){var t=this;t.currentHalf=ko.observable(e.currentHalf),t.type=ko.observable(e.type),t.time=ko.observable(e.time),t.team=e.team,t.matchIsExtraTime=ko.pureComputed(function(){return c.indexOf(t.currentHalf())>-1}),t.incidentTime=ko.pureComputed(function(){var e=t.time();return t.matchIsExtraTime()&&parseInt(e)>=90&&(e=parseInt(e)-90),e}),t.clockTime=ko.pureComputed(function(){var e=90;return t.matchIsExtraTime()&&(e=30),e}),t.position=ko.pureComputed(function(){return 100*(t.incidentTime()/t.clockTime()).toFixed(3)-2+"%"}),t.incidentStyle=ko.pureComputed(function(){return"incident "+t.type()+" "+t.team})}function s(e){var t=this;t.type=e;var a="";"1"===t.type?a=" penalty tick":"0"===t.type&&(a=" penalty cross"),t.penaltyType="incident-icon "+a}function i(e){var t=this;e=e.data||{},this.eventId=e.eventId||"",this.homeTeamName=e.homeTeamName||"",this.awayTeamName=e.awayTeamName||"",this.eventName=e.eventName||"",this.activity=ko.observable(e.activity||"no-activity"),this.inplay=ko.observable(e.inplay||!1),this.homeTeamScore=ko.observable(e.homeTeamScore||0),this.awayTeamScore=ko.observable(e.awayTeamScore||0),this.homeTotalCorners=ko.observable(e.homeTotalCorners||0),this.awayTotalCorners=ko.observable(e.awayTotalCorners||0),this.homeTotalYellowCards=ko.observable(e.homeTotalYellowCards||0),this.awayTotalYellowCards=ko.observable(e.awayTotalYellowCards||0),this.homeTotalRedCards=ko.observable(e.homeTotalRedCards||0),this.awayTotalRedCards=ko.observable(e.awayTotalRedCards||0),this.currentSession=ko.observable(e.currentSession||""),this.clockTime=ko.observable(e.clockTime||""),this.activityName=ko.observable(e.activityName||""),this.attackTeamA=ko.observable(e.attackTeamA||0),this.attackTeamB=ko.observable(e.attackTeamB||0),this.danAttackTeamA=ko.observable(e.danAttackTeamA||0),this.danAttackTeamB=ko.observable(e.danAttackTeamB||0),this.onTargetTeamA=ko.observable(e.onTargetTeamA||0),this.onTargetTeamB=ko.observable(e.onTargetTeamB||0),this.offTargetTeamA=ko.observable(e.offTargetTeamA||0),this.offTargetTeamB=ko.observable(e.offTargetTeamB||0),this.ipLocation=d.getCookie("user_location"),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStreaming=this.streamAvailableInCountries.indexOf(this.ipLocation)!==-1,this.currentHalf=ko.observable(e.currentHalf||""),this.awayTeamPenaltyScore=ko.observable(e.awayTeamPenaltyScore||0),this.homeTeamPenaltyScore=ko.observable(e.homeTeamPenaltyScore||0),this.homeTeamET1Score=ko.observable(e.homeTeamET1Score||0),this.homeTeamET2Score=ko.observable(e.homeTeamET2Score||0),this.awayTeamET1Score=ko.observable(e.awayTeamET1Score||0),this.awayTeamET2Score=ko.observable(e.awayTeamET2Score||0),this.statsTimeline=ko.observable(!1),this.statsPenalties=ko.observable(!1),this.statsBars=ko.observable(!1),this.sub=l.subscribe("^scoreboard:data$",function(e){t.update(e.data)}),this.matchIsExtraTime=ko.pureComputed(function(){return c.indexOf(t.currentHalf())>-1}),this._incidents=ko.observableArray(ko.utils.arrayMap(e.incidents||[],function(e){return new o(r(e,{matchIsExtraTime:t.matchIsExtraTime()}))})),this.extraTimeIncidents=ko.observableArray(ko.utils.arrayMap(e.extraTimeIncidents||[],function(e){return new o(r(e,{matchIsExtraTime:t.matchIsExtraTime()}))})),this.incidents=ko.pureComputed(function(){var e=t.matchIsExtraTime()?this.extraTimeIncidents().slice():this._incidents().slice();return e.sort(function(e,t){return parseInt(t.incidentTime(),10)-parseInt(e.incidentTime(),10)}),e},this),this.incidentsByTime=ko.pureComputed(function(){var e=this.incidents()||[],t=e.slice(0).reverse();return t},this),this.awayTeamPenaltyShootOut=ko.observableArray(ko.utils.arrayMap(e.awayTeamPenaltyShootOut||[],function(e){return new s(e)})),this.homeTeamPenaltyShootOut=ko.observableArray(ko.utils.arrayMap(e.homeTeamPenaltyShootOut||[],function(e){return new s(e)})),this.gameStatus=ko.computed(function(){var e=t.currentHalf(),a=t.clockTime(),o=n.t("js.controller.minute");return"'"!==o&&(o=" "+o),"1"===e?n.t("js.controller.1st-half")+" "+a+o:"2"===e?n.t("js.controller.2nd-half")+" "+a+o:"3"===e?n.t("js.controller.et-1")+" "+a+o:"4"===e?n.t("js.controller.et-2")+" "+a+o:"5"===e?n.t("js.controller.penalties"):"6"===e?n.t("js.controller.half-time"):"7"===e?n.t("js.controller.full-time"):"8"===e?n.t("js.controller.et-half-time"):"9"===e?n.t("js.controller.et-full-time"):""})}var r=e("utils/extend"),n=e("locale"),l=e("message-bus"),d=e("domain-model/helper"),c=["3","4","8","9"];o.prototype.update=function(e){var t=this;t.currentHalf(e.currentHalf),t.type(e.type),t.time(e.time)},o.prototype.dispose=function(e){var t=this;t.incidentTime.dispose(),t.clockTime.dispose(),t.position.dispose(),t.incidentStyle.dispose()},s.prototype.update=function(e){},i.prototype.update=function(e){e=e||{},this.activity(e.activity||"no-activity"),this.inplay(e.inplay||!1),this.homeTeamScore(e.homeTeamScore||0),this.awayTeamScore(e.awayTeamScore||0),this.homeTotalCorners(e.homeTotalCorners||0),this.awayTotalCorners(e.awayTotalCorners||0),this.homeTotalYellowCards(e.homeTotalYellowCards||0),this.awayTotalYellowCards(e.awayTotalYellowCards||0),this.homeTotalRedCards(e.homeTotalRedCards||0),this.awayTotalRedCards(e.awayTotalRedCards||0),this.currentSession(e.currentSession||""),this.clockTime(e.clockTime||""),this.activityName(e.activityName||""),this.attackTeamA(e.attackTeamA||0),this.attackTeamB(e.attackTeamB||0),this.danAttackTeamA(e.danAttackTeamA||0),this.danAttackTeamB(e.danAttackTeamB||0),this.onTargetTeamA(e.onTargetTeamA||0),this.onTargetTeamB(e.onTargetTeamB||0),this.offTargetTeamA(e.offTargetTeamA||0),this.offTargetTeamB(e.offTargetTeamB||0),this.currentHalf(e.currentHalf||""),this.awayTeamPenaltyScore(e.awayTeamPenaltyScore||0),this.homeTeamPenaltyScore(e.homeTeamPenaltyScore||0),this.homeTeamET1Score(e.homeTeamET1Score||0),this.homeTeamET2Score(e.homeTeamET2Score||0),this.awayTeamET1Score(e.awayTeamET1Score||0),this.awayTeamET2Score(e.awayTeamET2Score||0),this.statsTimeline({currentHalf:this.currentHalf,clockTime:this.clockTime,incidents:this.incidents}),this.statsPenalties({homeTeamName:this.homeTeamName,homeTeamPenaltyShootOut:this.homeTeamPenaltyShootOut,homeTeamPenaltyScore:this.homeTeamPenaltyScore,awayTeamName:this.awayTeamName,awayTeamPenaltyShootOut:this.awayTeamPenaltyShootOut,awayTeamPenaltyScore:this.awayTeamPenaltyScore}),this.statsBars({attackTeamA:this.attackTeamA,attackTeamB:this.attackTeamB,danAttackTeamA:this.danAttackTeamA,danAttackTeamB:this.danAttackTeamB,onTargetTeamA:this.onTargetTeamA,onTargetTeamB:this.onTargetTeamB,offTargetTeamA:this.offTargetTeamA,offTargetTeamB:this.offTargetTeamB}),this._incidents.updateArray(e.incidents||[],function(e){return this.time()===e.time&&this.team===e.team},function(t){return new o(r(t,{currentHalf:e.currentHalf}))}),this.extraTimeIncidents.updateArray(e.extraTimeIncidents||[],function(e){return this.incidentTime===e.incidentTime&&this.team===e.team},function(t){return new o(r(t,{currentHalf:e.currentHalf}))}),this.awayTeamPenaltyShootOut(e.awayTeamPenaltyShootOut.map(function(e){return new s(e)})),this.homeTeamPenaltyShootOut(e.homeTeamPenaltyShootOut.map(function(e){return new s(e)}))},i.prototype.dispose=function(){this.incidents.dispose(),this.incidentsByTime.dispose(),this.gameStatus.dispose(),this._incidents.dispose(),this.extraTimeIncidents.dispose(),this.awayTeamPenaltyShootOut.dispose(),this.homeTeamPenaltyShootOut.dispose(),this.sub.dispose()},a.exports=i}),require.register("pages/event-details/scoreboards/generic/view-model",function(e,t,a){function o(e){e=e.data||{};var t=this;this.awayTeamName=ko.observable(e.awayTeamName||""),this.awayTeamScore=ko.observable(e.awayTeamScore||""),this.basicStats=ko.observable(e.basicStats||!1),this.eventId=ko.observable(e.eventId||""),this.eventName=ko.observable(e.eventName||""),this.ipLocation=i.getCookie("user_location"),this.streamAvailableInCountries=e.streamAvailableInCountries||[],this.hasStream=this.streamAvailableInCountries.indexOf(this.ipLocation)!==-1,this.homeTeamName=ko.observable(e.homeTeamName||""),this.homeTeamScore=ko.observable(e.homeTeamScore||""),this.inplay=ko.observable(e.inplay||!1),this.period=ko.observable(e.period||0),this.sportId=ko.observable(e.sportId||""),this.sportName=ko.observable(e.sportName||""),this.sportNameRaw=ko.observable(e.sportNameRaw||""),this.startTime=ko.observable(e.startTime||""),this.timeElapsedString=ko.observable(e.timeElapsedString||""),this.awayTeamFirst=e.awayTeamFirst||!1,this.homeTeamSetScore=ko.observable(e.homeTeamSetScore||""),this.awayTeamSetScore=ko.observable(e.awayTeamSetScore||""),this.homeTeamGameScore=ko.observable(e.homeTeamGameScore||""),this.awayTeamGameScore=ko.observable(e.awayTeamGameScore||""),this.homeTeamPointsScore=ko.observable(e.homeTeamPointsScore||""),this.awayTeamPointsScore=ko.observable(e.awayTeamPointsScore||""),this.pointsTitle=ko.observable(s.t("sport.tennis.points")),this.setsTitle=s.t("sport.tennis.sets"),this.gamesTitle=s.t("sport.tennis.game"),this.timeUnits=s.t("generic.minutesShort"),this.isSetScoreboard=ko.observable(""!==this.homeTeamPointsScore()&&""!==this.homeTeamSetScore()),this.isTennisScoreboard=ko.observable(""!==this.homeTeamGameScore()),this.sub=r.subscribe("^scoreboard:data$",function(e){t.update(e.data)})}var s=e("locale"),i=e("domain-model/helper"),r=e("message-bus");o.prototype.update=function(e){e=e||{};for(var t in e)this.hasOwnProperty(t)&&ko.isObservable(this[t])&&this[t](e[t]);this.isTennisScoreboard(""!==this.homeTeamGameScore()),this.isSetScoreboard(""!==this.homeTeamPointsScore()&&""!==this.homeTeamSetScore()),this.isSetScoreboard()&&"Darts"===this.sportNameRaw()&&this.pointsTitle(s.t("sport.darts.legs"))},o.prototype.dispose=function(){this.sub.dispose()},a.exports=o}),require.register("pages/event-details/scoreboards/rugby-union/view-model",function(e,t,a){function o(e){e=e.data||{};var t=this;this.clockStatus=ko.observable(e.clockStatus||null),this.gameState=ko.observable(e.gameState||null),this.awayTeamScore=ko.observable(e.awayTeamScore||"0"),this.homeTeamScore=ko.observable(e.homeTeamScore||"0"),this.timeElapsedString=ko.observable(e.timeElapsedString||""),this.eventId=ko.observable(e.eventId||""),this.eventName=ko.observable(e.eventName||""),this.inplay=ko.observable(e.inplay||!1),this.period=ko.observable(e.period||0),this.sportId=ko.observable(e.sportId||""),this.sportName=ko.observable(e.sportName||""),this.sportNameRaw=ko.observable(e.sportNameRaw||""),this.startTime=ko.observable(e.startTime||""),this.commentary=ko.observableArray(e.commentary||[]),this.conversionsAT=ko.observable(e.conversionsAT||0),this.conversionsHT=ko.observable(e.conversionsHT||0),this.dropsAT=ko.observable(e.dropsAT||0),this.dropsHT=ko.observable(e.dropsHT||0),this.halfTimePointAT=ko.observable(e.halfTimePointAT||"0"),this.halfTimePointsHT=ko.observable(e.halfTimePointsHT||"0"),this.pensAT=ko.observable(e.pensAT||0),this.pensHT=ko.observable(e.pensHT||0),this.triesAT=ko.observable(e.triesAT||0),this.triesHT=ko.observable(e.triesHT||0),this.activeTab=ko.observable("stats"),this.statsBars=ko.observable(),this.gameStatusCalc=ko.computed(function(){return"HalfTime"===t.gameState()?s.t("scoreboard.rugby.half-time"):"FullTime"===t.gameState()?s.t("scoreboard.rugby.full-time"):"1"===t.period()?s.t("scoreboard.rugby.first-half")+" "+t.timeElapsedString()+"":"2"===t.period()&&s.t("scoreboard.rugby.second-half")+" "+t.timeElapsedString()+""}),this.sub=i.subscribe("^scoreboard:data$",function(e){t.update(e.data)})}var s=e("locale"),i=e("message-bus");o.prototype={update:function(e){e=e||{};for(var t in e)this.hasOwnProperty(t)&&e[t]&&this[t](e[t]);this.statsBars({triesHT:this.triesHT,triesAT:this.triesAT,conversionsAT:this.conversionsAT,conversionsHT:this.conversionsHT,pensAT:this.pensAT,pensHT:this.pensHT,dropsAT:this.dropsAT,dropsHT:this.dropsHT})},setActiveTab:function(e){this.activeTab()!==e&&(i.publish("track:scoreboard",{action:e}),this.activeTab(e))},commentTeam:function(e,t){var a;switch(e){case"HT":a=t[0].name;break;case"AT":a=t[1].name;break;default:a=e}return a},commentType:function(e){var t;switch(e){case"Pen":t=s.t("scoreboard.rugby.abbr.penalties");break;case"Conv":t=s.t("scoreboard.rugby.abbr.conversions");break;case"Drop":t=s.t("scoreboard.rugby.abbr.drop-goals");break;case"Try":t=s.t("scoreboard.rugby.abbr.try");break;case"HalfTime":t=s.t("scoreboard.rugby.half-time");break;case"FullTime":t=s.t("scoreboard.rugby.full-time");break;case"EndMatch":t=s.t("scoreboard.rugby.end-match");break;default:t=e}return t},commentTime:function(e){return e?"0"===e?"1":"0"===e.substring(0,1)?e.substring(1):e:""},isHighlighted:function(e){return!this.commentary()[e()]||!this.commentary()[e()].team},dispose:function(){this.gameStatusCalc.dispose(),this.sub.dispose()}},a.exports=o}),require.register("pages/event-details/scoreboards/tennis/view-model",function(e,t,a){function o(e,t){e=e||{},this.currentSet=ko.observable(t||1),this.homeTeamScore=ko.observable(e.homeTeamSetScore||0),this.awayTeamScore=ko.observable(e.awayTeamSetScore||0),this.setNumber=e.setNumber||"",this.homeTeamSetScore=ko.pureComputed(function(){return this.setNumber>=this.currentSet()?"0":this.homeTeamScore()},this),this.awayTeamSetScore=ko.pureComputed(function(){return this.setNumber>=this.currentSet()?"0":this.awayTeamScore()},this)}function s(e){e=e.data||{};var t=this;this.basicStats=e.basicStats||!1,this.isAcesProvided=ko.observable(e.isAcesProvided||!1),this.isDoubleFaultsProvided=ko.observable(e.isDoubleFaultsProvided||!1),this.homeTeamAces=ko.observable(e.homeTeamAces||""),this.awayTeamAces=ko.observable(e.awayTeamAces||""),this.homeTeamTotalPoints=ko.observable(e.homeTeamTotalPoints||""),this.awayTeamTotalPoints=ko.observable(e.awayTeamTotalPoints||""),this.homeTeamDoubleFaults=ko.observable(e.homeTeamDoubleFaults||""),this.awayTeamDoubleFaults=ko.observable(e.awayTeamDoubleFaults||""),this.homeTeamServiceBreaks=ko.observable(e.homeTeamServiceBreaks||""),this.awayTeamServiceBreaks=ko.observable(e.awayTeamServiceBreaks||""),this.server=ko.observable(e.server||""),this.homeTeamSetScore=ko.observable(e.homeTeamSetScore||0),this.awayTeamSetScore=ko.observable(e.awayTeamSetScore||0),this.homeTeamGameScore=ko.observable(e.homeTeamGameScore||0),this.awayTeamGameScore=ko.observable(e.awayTeamGameScore||0),this.homeTeamPointScore=ko.observable(e.homeTeamPointScore||"00"),this.awayTeamPointScore=ko.observable(e.awayTeamPointScore||"00"),this.currentSet=ko.observable(e.currentSet||1),this.numberOfSetsInMatch=ko.observable(e.numberOfSetsInMatch||""),this.homeTeamId=ko.observable(e.homeTeamId||""),this.awayTeamId=ko.observable(e.awayTeamId||""),this.awayTeamName=e.awayTeamName||"",this.homeTeamName=e.homeTeamName||"",this.setAbbreviated=i.t("scoreboard.tennis.set.abbreviated"),this.gameAbbreviated=i.t("scoreboard.tennis.game.abbreviated"),this.pointsAbbreviated=i.t("scoreboard.tennis.points.abbreviated"),this.previousSetsTitle=i.t("scoreboard.tennis.previous.sets"),this.acesTitle=i.t("scoreboard.tennis.aces"),this.doubleFaultsTitle=i.t("scoreboard.tennis.double.faults"),this.serviceBreaksTitle=i.t("scoreboard.tennis.service.breaks"),this.totalPointsTitle=i.t("scoreboard.tennis.total.points"),this.previousSets=ko.observableArray(ko.utils.arrayMap(e.previousSets||[],function(e){return new o(e,t.currentSet())})),this.homeTeamServe=ko.pureComputed(function(){return this.server()&&this.server()===this.homeTeamId()},this),this.awayTeamServe=ko.pureComputed(function(){return this.server()&&this.server()===this.awayTeamId()},this),this.sub=r.subscribe("^scoreboard:data$",function(e){t.update(e.data)})}var i=e("locale"),r=e("message-bus");o.prototype.update=function(e,t){e=e||{},this.currentSet(t||1),this.homeTeamScore(e.homeTeamSetScore||0),this.awayTeamScore(e.awayTeamSetScore||0)},o.prototype.dispose=function(){this.homeTeamSetScore.dispose(),this.awayTeamSetScore.dispose()},s.prototype.update=function(e){var t=this;e=e||{};for(var a in e)this.hasOwnProperty(a)&&ko.isObservable(this[a])&&e[a]&&this[a](e[a]);this.previousSets(ko.utils.arrayMap(e.previousSets||[],function(e){return new o(e,t.currentSet())}))},s.prototype.dispose=function(){this.previousSets.dispose(),this.homeTeamServe.dispose(),this.awayTeamServe.dispose(),this.sub.dispose()},a.exports=s}),window.cogwheels.addGear({name:"pages",version:"0.0.1"});