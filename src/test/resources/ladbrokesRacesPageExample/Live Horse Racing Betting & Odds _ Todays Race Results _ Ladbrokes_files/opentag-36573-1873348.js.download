/*
 * Opentag, a tag deployment platform
 * Copyright 2011-2016, Qubit Group
 * http://opentag.qubitproducts.com
 */
(function(){var B=function(){return this}();B.qubit=B.qubit||{};B.qubit.SYSTEM_DEFAULTS={pingServerUrl:"opentag-stats.qubit.com/ping",tellLoadTimesProbability:1}})();(function(){var B={"id":"36573"};try{var a=function(){return this}();if(!a.qubit)a.qubit={};var A=a.qubit;if(!A.cs)A.cs={};A.CLIENT_CONFIG=B;var H=B.id||"efault";H="d"+H;if(!A.cs[H])A.cs[H]={};A.cs[H].ClientConfig=B;if(A.SYSTEM_DEFAULTS)A.cs[H].SystemDefaults=A.SYSTEM_DEFAULTS}catch(F){}})();
(function(){(function(){function B(){return da.uv}function a(){var l=B();if(!l||!l.emit)return false;if(!S){S=true;for(var b=0;b<T.length;b++){var z=T[b];if(z.on)l.on.apply(l,z.on);else if(z.emit)l.emit.apply(l,z.emit)}l.on(/.*/,function(r){var y=r.meta.type;var f=P[y];if(!f)P[y]={current:r,history:[r]};else{f.current=r;f.history.push(r)}}).replay();V=true}return true}(function(){if(!Function.prototype.bind)Function.prototype.bind=function(l){if(typeof this!=="function")throw new TypeError("Function.prototype.bind - what is trying "+
"to be bound is not callable");var b=Array.prototype.slice.call(arguments,1);var z=this;var r=function(){};var y=function(){return z.apply(this instanceof r?this:l,b.concat(Array.prototype.slice.call(arguments)))};r.prototype=this.prototype;y.prototype=new r;return y}})();var A={__anonymous__:true};var H=null;try{H=(false||eval)("this")}catch(l){}if(!H)try{var F=function(){return this};H=F()}catch(l){}A=H;var k=A.qubit||{};if(!A.qubit)A.qubit=k;var J="3.3.0";if(k.VERSION&&k.VERSION!==J)try{console.warn("There is already 'qubit.VERSION' set to: "+
k.VERSION)}catch(l){}k.VERSION=J;try{if(typeof module==="object")module.exports=A}catch(l){}var K=function(){};var L;(function(){function l(){}function b(y,f,q,d,u){var v=y.split(".");var w=l.NAMESPACE_BASE||A;var D=null;var g=null;var x;if(u)w=H;var E=w;w=q||w;for(x=0;x<v.length-1;x+=1){D=w;g=v[x];w[g]=w[g]||{};w=w[g]}D=w;g=v[v.length-1];if(H.TAGSDK_NS_OVERRIDE)d=false;if(H.TAGSDK_NS_FORCED_OVERRIDE_OPTION!==undefined)d=!H.TAGSDK_NS_FORCED_OVERRIDE_OPTION;if(f!==undefined){if(D[g]===undefined||!d)D[g]=
f}else D[g]=D[g]||{};if(f){f.CLASSPATH=v.join(".");v.splice(v.length-1,1);f.PACKAGE_NAME=v.join(".")}return{root:E,object:D,instance:D[g]}}l.global=function(){return H};l.STANDARD_CS_NS="qubit.cs";l.clientSpaceClasspath=function(){if(window.qubit.CLIENT_CONFIG)return"qubit.cs.d"+window.qubit.CLIENT_CONFIG.id;return l.STANDARD_CS_NS};l.globalNamespace=function(y,f,q,d){return b(y,f,q,d,true)};l.namespace=function(y,f,q,d){return b(y,f,q,d,false)};l.clientNamespace=function(y,f,q,d){return l.namespace(l.clientSpaceClasspath()+
"."+y,f,q,d)};l.clazz=function(y,f,q,d,u){l.namespace(y,f,d,true);if(typeof q==="function"){f.SUPER=q;f.superclass=q;f.prototype=new q(u);f.prototype.SUPER=q;f.prototype.CLASS=f}var v=y.split(".");if(f.prototype){f.prototype.CLASSPATH=v.join(".");f.prototype.CLASS_NAME=v[v.length-1];v.splice(v.length-1,1);f.prototype.PACKAGE_NAME=v.join(".")}else{f.CLASSPATH=v.join(".");f.STATIC_NAME=v[v.length-1];v.splice(v.length-1,1);f.PACKAGE_NAME=v.join(".")}return f};l.clazz("qubit.Define",l);l.clientClazz=
function(y,f,q,d,u){return l.clazz(l.clientSpaceClasspath()+"."+y,f,q,d,u)};l.STANDARD_VS_NS="qubit.vs";l.vendorsSpaceClasspath=function(y){var f=k.VENDOR_SPACE_CP;var q=f===undefined||f===null?l.STANDARD_VS_NS:f;if(y)if(q)return q+"."+y;else return y;return q};var z=l.vendorsSpaceClasspath();var r;if(z)r=l.namespace(z,{},null,true).instance;else r=l.global();l.getVendorSpace=function(){return r};l.vendorNamespace=function(y,f,q,d){y=l.vendorsSpaceClasspath(y);return l.namespace(y,f,q,d)};l.vendorClazz=
function(y,f,q,d,u){y=l.vendorsSpaceClasspath(y);return l.clazz(y,f,q,d,u)}})();(function(){function l(y){}var b="abcdefghijklmnopqrstuvwxyz"+"0123456789"+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"*!-#$\x26+()@"+"'%./:\x3c\x3e?["+'"]^_`{|}~'+"\\"+";\x3d";var z={};for(var r=0;r<b.length;r++)z[b.charAt(r)]=r;k.Define.clazz("qubit.Cookie",l);l.cookieAlphabet=b;l.cookieAlphabetMap=z;l.decode=function(y){return unescape(y)};l.encode=function(y){return escape(y)};l.set=function(y,f,q,d,u){var v;if(q){var w=new Date;
w.setTime(w.getTime()+q*24*60*60*1E3);v="; expires\x3d"+w.toGMTString()}else v="";if(!u){y=l.encode(y);f=l.encode(f)}var D=y+"\x3d"+f+v+"; path\x3d/;";if(d)D+=" domain\x3d"+d;document.cookie=D};l.get=function(y,f){var q=y+"\x3d";var d=document.cookie.split(";");for(var u=0;u<d.length;u++){for(var v=d[u];v.charAt(0)===" ";)v=v.substring(1,v.length);if(v.indexOf(q)===0){var w=v.substring(q.length,v.length);if(!f)w=l.decode(w);return w}}return null};l.getAllForName=function(y,f){if(!y)return[];var q=
y+"\x3d";var d=document.cookie.split(";");var u=[];for(var v=0;v<d.length;v++){for(var w=d[v];w.charAt(0)===" ";)w=w.substring(1,w.length);if(w.indexOf(q)===0){var D=w.substring(q.length,w.length);if(f)D=l.decode(D);u.push(D)}}return u};l.getAll=function(y){var f=document.cookie.split(";");var q=[];for(var d=0;d<f.length;d++){for(var u=f[d];u.charAt(0)===" ";)u=u.substring(1,u.length);var v=u.substring(0,u.indexOf("\x3d"));var w=u.substring(v.length+1,u.length);if(y)w=l.decode(w);q.push([v,w])}return q};
l.rm=function(y,f){l.set(y,"",-1,f)}})();(function(){function l(g,x,E){this.collectLogs=!!l.isCollecting();this.collectLocally=E;this.collection=[];this.getPrefix=function(){var G="";if(x){if(typeof x==="function")G=x(this.ref);else if(x.CLASS_NAME)G=x.CLASS_NAME;else if(x.constructor&&x.constructor.name)G=x.constructor.name;if(G)G+=" -\x3e "}return(g||"")+G}}function b(g,x,E,G,n,m,t,e){var c;var h=y>=e;if(l.getCollectLevel()>=0||h){if(n)c=[G,t,E];else c=[x+g.getPrefix()+G,m,E];c[3]=e;g.collect(c,
e);if(h)g.printMessage.apply(g,c)}}var z=k.Define;var r=null;z.clazz("qubit.opentag.Log",l);l.LEVEL_FINEST=4;l.LEVEL_FINE=3;l.LEVEL_INFO=2;l.LEVEL_WARN=1;l.LEVEL_ERROR=0;l.LEVEL_NONE=-1;l.MAX_LOG_LEN=1E4;l.prototype.MAX_LOG_LEN=-1;var y=l.LEVEL_NONE;var f=l.LEVEL_NONE;var q=true;l.setLevelFromCookie=function(){var g=k.Cookie.get("qubit.opentag.Log.LEVEL");if(g){g=+g;if(!isNaN(g))if(g>0){var x=l.LEVEL_FINE;l.setCollectLevel(g>x?g:x);l.setLevel(+g)}}};l.setCollecting=function(g){q=!!g};l.isCollecting=
function(){return q||l.COLLECT};l.setLevel=function(g){y=+g};l.setCollectAndLevel=function(g){l.setLevel(g);l.setCollectLevel(g)};l.getLevel=function(){return y};l.setCollectLevel=function(g){f=+g};l.getCollectLevel=function(){return f};var d=[];l.logsCollection=d;l.rePrintAll=function(g,x,E,G){var n=y;if(g!==undefined)y=g;try{if(l.isCollecting()){try{if(!E)r.clear()}catch(c){}var m=G||l.logsCollection;var t=0;for(var e=0;e<m.length;e++)(function(c){var h=m[c];var p=h[3];if(p!==undefined&&y>=p){t++;
if(!x)l.print.apply(l,h);else k.opentag.Timed.setTimeout(function(){if(g!==undefined)y=g;try{l.print.apply(l,h)}finally{y=n}},t*x)}})(e)}}catch(c){}finally{y=n}};var u=z.global();var v=!!(u.webkitMediaStream||u.webkitURL||u.mozContact);l.isStyleSupported=function(){return v};var w={};l.setConsole=function(g){r=g||w;return r};l.delayPrint=-1;var D=(new Date).valueOf();l.prototype.printMessage=function(g,x,E,G){if(l.delayPrint>0){var n=l.delayPrint;var m=D-(new Date).valueOf();if(m>0)n+=m;try{k.opentag.Timed.setTimeout(function(){this.print(g,
x,E,G)}.bind(this),n)}catch(t){setTimeout(function(){this.print(g,x,E,G)}.bind(this),n)}D=(new Date).valueOf()+n}else this.print(g,x,E,G)};l.prototype.print=function(g,x,E,G){l.print(g,x,E,G)};l.print=function(g,x,E,G){if(G!==undefined&&y<G)return;try{if(r&&r.log)if(x&&l.isStyleSupported())if(E&&r[E])r[E]("%c"+g,x);else r.log("%c"+g,x);else if(E&&r[E])r[E](g);else r.log(g)}catch(n){}};l.prototype.collect=function(g,x){if(x===undefined)x=l.getCollectLevel();var E=false;var G=this.collectLogs&&l.isCollecting()&&
l.getCollectLevel()>=+x;if(G){d.push(g);E=true}if(this.collectLocally&&G){this.collection.push(g);E=true}if(l.MAX_LOG_LEN>0)if(d.length>l.MAX_LOG_LEN)d.splice(0,d.length-l.MAX_LOG_LEN);if(l.MAX_LOG_LEN>0||this.MAX_LOG_LEN>0){var n=l.MAX_LOG_LEN;if(this.MAX_LOG_LEN>0)n=this.MAX_LOG_LEN;if(this.collection.length>n)this.collection.splice(0,this.collection.length-n)}return E?g:null};l.clearAllLogs=function(){try{r.clear()}catch(g){}finally{d.splice(0,d.length)}};l.getCollectedByLevel=function(g,x){x=
x||d;var E=[];for(var G=0;G<x.length;G++){var n=x[G];var m=n[0];var t=m[4];if(t===g)E.push(n)}return E};l.prototype.rePrint=function(g,x,E){l.rePrintAll(g,x,!E,this.collection)};l.prototype.FINEST=function(g,x){b(this,"FINEST: ",false,g,x,"color:#CCCCCC;",false,l.LEVEL_FINEST)};l.prototype.FINE=function(g,x){b(this,"FINE: ",false,g,x,"color:#999999;",false,l.LEVEL_FINE)};l.prototype.INFO=function(g,x,E){b(this,"INFO: ","info",g,x,E,E,l.LEVEL_INFO)};l.prototype.WARN=function(g,x){b(this,"WARN: ","warn",
g,x,"color:#26A110;",false,l.LEVEL_WARN)};l.prototype.ERROR=function(g,x){b(this,"ERROR: ","error",g,x,"color:red;",false,l.LEVEL_ERROR)};l.setConsole(z.global().console);l.setLevelFromCookie()})();(function(){function l(c){return u.addToArrayIfNotExist(u.ANON_VARS,c)}function b(c){return c.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function z(c,h){var p=w.length;for(var C=0;C<p;C++)if(c===w[C][0])return w[C][1];w[w.length]=[c,h];return false}function r(c,h,p,C,N){var O=false;var Q=false;var R=
false;var U=false;var W=false;var ba=false;var Y=false;if(h){W=!!h.all;O=W||h.nodes;U=W||h.win;Q=W;Y=!!h.emptyForMaxDeep;R=h.noFunctions&&!W;if(h.noOwn!==undefined)Q=!!h.noOwn;if(h.noFunctions!==undefined)R=!!h.noFunctions;if(h.win!==undefined)U=!!h.win;if(h.nodes!==undefined)O=!!h.nodes;ba=!!h.copyReference}if(p!==undefined&&!p){if(Y)return;return c}else if(p!==undefined)p--;if(!c||!(c instanceof Object))return c;if(!O){try{if(c instanceof Node)return c}catch(ja){if(c instanceof ActiveXObject&&c.nodeType!==
undefined)return c}if(c===document)return c}if(!U)if(c===v)return c;var X=c instanceof Array?[]:{};if(c instanceof Date)X=new Date(c);if(!R&&c instanceof Function){var ca=String(c).replace(/\s+/g,"");if(ca.indexOf("{[nativecode]}")+14===ca.length)X=function(){return c.apply(N||this,arguments)};else X=function(){return c.apply(this,arguments)}}if(C===undefined){w=[];C=0}var ea=z(c,X);if(ea)return ea;var Z;if(X instanceof Array)for(Z=0;Z<c.length;Z++)if(c[Z]===c[Z])X[X.length]=r(c[Z],h,p,C+1,c);else X[X.length]=
c[Z];else{Z=0;for(var aa in c){if(Q||c.hasOwnProperty(aa))if(c[aa]===c[aa])X[aa]=r(c[aa],h,p,C+1,c);else X[aa]=c[aa];Z++}}if(h.proto)X.prototype=r(c.prototype,h,p,C+1,c);if(ba)X.___copy_ref=c;return X}function y(c,h){for(var p=0;p<h&&p<D.length;p++)if(c===D[p])return true;return false}function f(c,h,p,C,N,O,Q,R){p=p||{};if(p.hasOwn===undefined)p.hasOwn=true;if(p.objectsOnly&&!(c instanceof Object))return;if(R!==undefined&&!R)return;else if(R!==undefined)R--;if(!p||!p.nodes)try{if(c instanceof Node)return}catch(ca){if(c instanceof
ActiveXObject&&c.nodeType!==undefined)return}if(c===v)return;if(C===undefined){D=[];C=0}if(y(c,C))return;D[C]=c;N=N||c;if(N&&O&&N[O]!==N[O])return;var U=h(c,N,O,Q);if(U)return;var W=0;var ba="";for(var Y in c){if(!p.hasOwn||c.hasOwnProperty(Y))try{var X=c[Y];if(p.track)ba=Q?Q+"."+Y:Y;f(X,h,p,C+1,N,Y,ba,R)}catch(ca){}W++}}var q=k.Define;var d=k.Cookie;var u=function(){};var v=q.global();q.clazz("qubit.opentag.Utils",u);u.global=q.global;u.namespace=q.namespace;u.clazz=q.clazz;u.getObjectUsingPath=
function(c,h){h=h||v;var p=c.split(".");for(var C=0;C<p.length;C++)if(h&&p[C])h=h[p[C]];return h};u.getParentObject=function(c){var h=c.lastIndexOf(".");var p=c.substring(0,h);return u.getObjectUsingPath(p)};u.variableExists=function(c){return c!==undefined&&c!==null};u.ANON_VARS=[];u.getAnonymousAcessor=function(c){var h=u.indexInArray(c,u.ANON_VARS);if(h===-1)h=l(c);return"qubit.opentag.Utils.ANON_VARS["+h+"]"};u.replaceAll=function(c,h,p){return c.replace(new RegExp(b(h),"g"),p)};u.secureText=
function(c){if(typeof c!=="string")c+="";c=c.replace(/</g,"\x26lt;");c=c.replace(/>/g,"\x26gt;");return c};u.getUrl=function(){return document.location.href};u.getQueryParam=function(c){var h;var p;var C;var N;var O;var Q;var R;N=u.getUrl();if(N.indexOf("?")>0){Q=N.substring(N.indexOf("?")+1).split("\x26");for(h=0,p=Q.length;h<p;h+=1){O=Q[h];if(O.indexOf("\x3d")>0){R=O.split("\x3d");if(R.length===2&&R[0]===c)return R[1]}}}return null};u.getElementValue=function(c){var h=document.getElementById(c);
if(h)return h.textContent||h.innerText;return null};var w=[];u.objectCopy=function(c,h){h=h||{};var p=r(c,h,h.maxDeep);w=[];return p};var D=[];u.traverse=function(c,h,p){var C;f(c,h,p,C,C,C,C,p.maxDeep)};u.prepareQuotedString=function(c){if(typeof c==="string")return'"'+c.replace(/\"/g,'\\"')+'"';else return c};u.expressionToFunction=function(c,h){h=h||"";var p="function ("+h+") {"+c+"}";return u.gevalAndReturn(p).result};u.defineWrappedClass=function(c,h,p,C,N){var O=function(){if(N)return N.apply(this,
arguments);else return h.apply(this,arguments)};q.clazz(c,O,h,C);for(var Q in p)if(p.hasOwnProperty(Q)&&Q!=="CONSTRUCTOR")O.prototype[Q]=p[Q];return O};u.copyAandAddFromB=function(c,h,p){p=p||8;var C=this.objectCopy(c,{maxDeep:p});for(var N in h)if(h.hasOwnProperty(N))C[N]=h[N];return C};u.keys=function(c){if(c instanceof Object){if(Object.keys)return Object.keys(c);var h=[];for(var p in c)if(c.hasOwnProperty(p))h[h.length]=p;return h}else throw"keys() called on non-object!";};u.getSrcElement=function(c){var h;
c=c||window.event;if(c.srcElement)h=c.srcElement;else if(c.target)h=c.target;return h};u.addToArrayIfNotExist=function(c,h,p){var C=0;for(var N=false;C<c.length;C+=1){var O=p&&p(c[C],h);if(O||c[C]===h){N=true;break}}if(!N){c[c.length]=h;C=-1}return C};u.indexInArray=function(c,h){for(var p=0;p<c.length;p++)if(c[p]===h)return p;return-1};u.existsInArray=function(c,h){for(var p=0;p<c.length;p++)if(c[p]===h)return true;return false};u.removeFromArray=function(c,h){var p=0;for(var C=0;p<c.length;)if(c[p]===
h){c.splice(p,1);C++}else p++;return C};u.addClass=function(c,h){var p;try{c.classList.add(h)}catch(C){if(c.className===null){c.className=h;return}p=c.className.split(" ");u.addToArrayIfNotExist(p,h);c.className=p.join(" ")}};u.removeClass=function(c,h){var p;try{c.classList.remove(h)}catch(C){if(c.className===null){c.className="";return}p=c.className.split(" ");u.removeFromArray(p,h);c.className=p.join(" ")}};var g="try{this.qubitopentagutilsgevalandreturn__var_test__\x3d(";var x=");}catch(ex){"+
"this.qubitopentagutilsgevalandreturn__var_test__error \x3d ex;}";u.gevalAndReturn=function(c){var h=H;h.qubitopentagutilsgevalandreturn__var_test__=undefined;h.qubitopentagutilsgevalandreturn__var_test__error=undefined;c=g+c+x;u.geval(c);var p=h.qubitopentagutilsgevalandreturn__var_test__;var C=h.qubitopentagutilsgevalandreturn__var_test__error;try{h.qubitopentagutilsgevalandreturn__var_test__=L;h.qubitopentagutilsgevalandreturn__var_test__error=L;delete h.qubitopentagutilsgevalandreturn__var_test__;
delete h.qubitopentagutilsgevalandreturn__var_test__error}catch(N){}return{result:p,error:C}};u.trim=function(c){try{return String(c).trim()}catch(h){return String(c).replace(/^\s+|\s+$/g,"")}};u.setIfUnset=function(c,h){if(c&&h)for(var p in h)if(h.hasOwnProperty(p)&&!c.hasOwnProperty(p))c[p]=h[p]};var E=Math.floor(Math.random()*1E12);u.UUID=function(){if(!v.__qubit_uuid_cnt_43567bdfhgtb4vt5yeh978__)v.__qubit_uuid_cnt_43567bdfhgtb4vt5yeh978__=(new Date).valueOf();return E+"."+ ++v.__qubit_uuid_cnt_43567bdfhgtb4vt5yeh978__};
u.overrideFromLeftToRight=function(c,h){if(c&&h)for(var p in h)if(h.hasOwnProperty(p))c[p]=h[p];return c};u.geval=function(c){if(window&&window.execScript)return window.execScript(c===""?" ":c);else return function(){return v["eval"].call(v,c)}()};var G=[];u.bodyAvailable=function(c){var h=!!document.body;if(h){if(G){for(var p=0;p<G.length;p++)try{G[p]()}catch(C){}G=false}c()}else G.push(c)};u.rmCookiesMatching=function(c){var h=d.getAll();for(var p=0;p<h.length;p++){var C=h[p][0];if(C.match(c)===
0)d.rm(C)}};var n=[];var m=false;var t=false;u.bodyReady=function(c){if(t){if(c)c();return true}m=m||!!(document.body&&document.readyState==="complete");if(m){t=true;for(var h=0;h<n.length;h++)try{n[h]()}catch(p){}if(c)c()}else if(c)n.push(c);return m};var e=v.onload;v.onload=function(c){try{u.bodyReady()}catch(p){try{window.qubit.opentag.Utils.bodyReady()}catch(C){}}var h=false;try{h=e}catch(p){}if(h)h(c)};(function(){var c;var h=false;var p=1;var C;var N;var O;var Q;N=function(U){var W;if(U===true)p-=
1;if(!p||U!==true&&!h){if(!document.body)return setTimeout(N,1);h=true;if(U!==true){p-=1;if(p>0)return}for(;C.length>0;){W=C.shift();W()}}};Q=function(){if(h)return;try{document.documentElement.doScroll("left")}catch(U){setTimeout(Q,1);return}N()};O=function(){if(C)return;C=[];if(document.readyState==="complete")return setTimeout(N,1);if(document.addEventListener){document.addEventListener("DOMContentLoaded",c,false);window.addEventListener("load",N,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",
c);window.attachEvent("onload",N);var U=false;try{U=window.frameElement===null||window.frameElement===undefined}catch(W){}if(document.documentElement.doScroll&&U)Q()}};var R=function(U){O();if(h)setTimeout(U,1);else C.push(U)};if(document.addEventListener)c=function(){document.removeEventListener("DOMContentLoaded",c,false);N()};else if(document.attachEvent)c=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",c);N()}};R(function(){m=true;u.bodyReady()})})()})();
var I={};(function(){function l(w){return w<10?"0"+w:w}function b(w){f.lastIndex=0;return f.test(w)?'"'+w.replace(f,function(D){var g=u[D];return typeof g==="string"?g:"\\u"+("0000"+D.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+w+'"'}function z(w){return isFinite(w.valueOf())?w.getUTCFullYear()+"-"+l(w.getUTCMonth()+1)+"-"+l(w.getUTCDate())+"T"+l(w.getUTCHours())+":"+l(w.getUTCMinutes())+":"+l(w.getUTCSeconds())+"Z":null}function r(w,D){var g;var x;var E;var G;var n=q;var m;var t=D[w];if(t instanceof
Date)t=z(t);else if(t instanceof String||t instanceof Number||t instanceof Boolean)t=t.valueOf();if(typeof v==="function")t=v.call(D,w,t);switch(typeof t){case "string":return b(t);case "number":return isFinite(t)?String(t):"null";case "boolean":case "null":return String(t);case "object":if(!t)return"null";q+=d;m=[];if(Object.prototype.toString.apply(t)==="[object Array]"){G=t.length;for(g=0;g<G;g+=1)try{m[g]=r(g,t)||"null"}catch(e){m[g]='{"stack_exceeded": null}'}E=m.length===0?"[]":q?"[\n"+q+m.join(",\n"+
q)+"\n"+n+"]":"["+m.join(",")+"]";q=n;return E}if(v&&typeof v==="object"){G=v.length;for(g=0;g<G;g+=1)if(typeof v[g]==="string"){x=v[g];try{E=r(x,t)}catch(e){E='{"stack_exceeded": null}'}if(E)m.push(b(x)+(q?": ":":")+E)}}else for(x in t)if(Object.prototype.hasOwnProperty.call(t,x)){try{E=r(x,t)}catch(e){E='{"stack_exceeded": null}'}if(E)m.push(b(x)+(q?": ":":")+E)}E=m.length===0?"{}":q?"{\n"+q+m.join(",\n"+q)+"\n"+n+"}":"{"+m.join(",")+"}";q=n;return E}}var y=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
var f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var q;var d;var u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var v;if(typeof I.stringify!=="function")I.stringify=function(w,D,g){var x;q="";d="";if(typeof g==="number")for(x=0;x<g;x+=1)d+=" ";else if(typeof g==="string")d=g;v=D;if(D&&typeof D!=="function"&&(typeof D!=="object"||typeof D.length!=="number"))throw new Error("JSON.stringify");
return r("",{"":w})};if(typeof I.parse!=="function")I.parse=function(w,D){function g(E,G){var n;var m;var t=E[G];if(t&&typeof t==="object")for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){m=g(t,n);if(m!==undefined)t[n]=m;else delete t[n]}return D.call(E,G,t)}var x;w=String(w);y.lastIndex=0;if(y.test(w))w=w.replace(y,function(E){return"\\u"+("0000"+E.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(w.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){x=eval("("+w+")");return typeof D==="function"?g({"":x},""):x}throw new SyntaxError("JSON.parse");}})();var M={};M.html=M.html||{};(function(){function l(d){return d.replace(/^\s+/,"").replace(/\s+$/,"")}var b={callbacks:{},unfired_events:[],early_callbacks:null,currentUV:null};var z;var r="universal_variable";var y=0;var f=500;var q;b._isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"};b._targetChanged=function(d,u,v){var w;
var D;var g;if(v===null)if(u==="null")return false;else return true;else if(v===undefined)if(u===v)return false;else return true;else{w=I.parse(u);D=b._getNested(w,d);g=b._getNested(v,d);return!b._jsonIsEqual(D,g)}};b._processCallbacks=function(){var d;if(b.early_callbacks&&b.early_callbacks.length>0){for(d=0;d<b.early_callbacks.length;d+=1)b.push(b.early_callbacks[d]);b.early_callbacks=null}};b._keyStringToArr=function(d){d=l(d);if(d==="")return[];else{d=d.replace(/\[(\w+)\]/g,".$1");d=d.replace(/^\./,
"");return d.split(".")}};b._getNested=function(d,u){var v=b._keyStringToArr(u);for(var w;v.length>0;){w=v.shift();if(d.hasOwnProperty(w))d=d[w];else return}return d};b._jsonIsEqual=function(d,u){if(typeof d!=="string")d=I.stringify(d,b._stripEvents);if(typeof u!=="string")u=I.stringify(u,b._stripEvents);return d===u};b._stripEvents=function(d,u){if(d!=="events")return u;else return undefined};b._on=function(d,u){var v;var w;v=d.split(":");d=v[0];w=v[1];b.callbacks[d]=b.callbacks[d]||[];if(w)b.callbacks[d].push({keyString:w,
func:u});else b.callbacks[d].push({func:u})};b._trigger=function(d,u){var v;var w;if(b.callbacks[d])for(v=0;v<b.callbacks[d].length;v+=1)if(typeof b.callbacks[d][v].func==="function"){w=b.callbacks[d][v].keyString;if(w){if(d==="change"&&b._targetChanged(w,b.currentUV,z))b.callbacks[d][v].func(u)}else b.callbacks[d][v].func(u)}};b._eventsPush=function(d){var u;var v;z.events[z.events.length]=d;d.time=d.time||(new Date).getTime();if(b.callbacks.event){u=0;v=b.callbacks.event.length;for(u;u<v;u+=1)b.callbacks.event[u].func(d)}d.has_fired=
true};b._getUnfiredEvents=function(){var d=0;for(d=0;d<z.events.length;d+=1)if(!z.events[d].has_fired){b.unfired_events.push(z.events.splice(d,1)[0]);d-=1}};b._fireEvents=function(){for(;b.unfired_events.length>0;)z.events.push(b.unfired_events.shift())};b._resetEventsPush=function(){z.events=z.events||[];if(z.events.push.toString().indexOf("[native code]")!==-1){z.events.push=b._eventsPush;b._getUnfiredEvents();b._fireEvents()}};b._checkForChanges=function(){if(b.callbacks.change&&b.callbacks.change.length>
0)if(!b._jsonIsEqual(b.currentUV,z)){b._trigger("change",z);b.currentUV=I.stringify(z,b._stripEvents)}};b._setUVLocation=function(d){r=d;b._initUV()};b._initUV=function(){window[r]=window[r]||{events:[]};z=window[r];if(!z.events)z.events=[]};b.push=function(d){if(!b._isArray(d))return;if(d[0]==="on")b._on(d[1],d[2]);else if(d[0]==="trigger"&&d[1])b._trigger(d[1])};b.init=function(d,u){if(u)r=u;b._initUV();if(!window.uv_listener||b._isArray(window.uv_listener)){b.early_callbacks=window.uv_listener||
null;window.uv_listener=b;if(!d)b.start()}else if(u)window.uv_listener._setUVLocation(r)};b.start=function(){b.currentUV=I.stringify(z,b._stripEvents);q=setInterval(function(){b._initUV();b._resetEventsPush();b._checkForChanges()},f);b._processCallbacks()};M.html.UVListener=b})();(function(){function l(z){if(z){this._rate=z.rate||10;this._smallestRate=-1;if(z.start)this.startPooling();this.config=z}this.inervals=[];this._lck_obj={};this._binded_pool=this._pool.bind(this)}k.Define.clazz("qubit.opentag.Timer",
l);l.prototype.timers=[];l.prototype.startPooling=function(z){if(z&&this.config.dynamic)if(this._smallestRate<0||this._smallestRate>z)this._smallestRate=Math.min(Math.floor(z/2),1500);if(!this.started){this.started=true;setTimeout(this._binded_pool,0)}};l.prototype._pool=function(){this.maxFrequent(function(){var r="";if(this.config&&this.config.name)r="["+this.config.name+"]"},5E3,this._lck_obj);this.callTimers();if(this.timers.length!==0){var z=this._smallestRate>this._rate?this._smallestRate:this._rate;
setTimeout(this._binded_pool,z)}else{this.started=false;this._smallestRate=-1}};l.prototype.callTimers=function(){this.lastCalled=(new Date).valueOf();for(var z=0;z<this.timers.length;z++){var r=this.timers[z];var y=(new Date).valueOf();if(y>=r.time){try{r.execute()}catch(f){}this.timers.splice(z,1);--z}}};l.prototype.cancellAll=function(){this.timers=[]};l.prototype.setRate=function(z){this._rate=z};l.prototype.maxFrequent=function(z,r,y){if(!y){z.__maxFrequent__timer_opentag_qubit_=z.__maxFrequent__timer_opentag_qubit_||
{};y=z.__maxFrequent__timer_opentag_qubit_}var f=y.____last__timed__max__frequent____;if(!f||(new Date).valueOf()-f>r){f=(new Date).valueOf();y.____last__timed__max__frequent____=f;z()}};l.prototype.runIfNotScheduled=function(z,r,y){y=y||z;if(y.__lastRun__&&(new Date).valueOf()<r+y.__lastRun__)return this.schedule(z,r,y);else{y.__lastRun__=(new Date).valueOf();z();return true}};l.prototype.schedule=function(z,r,y){if(y.___scheduled___)return false;else{y.___scheduled___=(new Date).valueOf();this.setTimeout(function(){y.___scheduled___=
false;y.__lastRun__=(new Date).valueOf();z()},r);return true}};var b=1;l.prototype.setTimeout=function(z,r){var y={id:b++,time:(new Date).valueOf()+ +r,execute:z};this.timers.push(y);this.startPooling(r);return y};l.prototype.setInterval=function(z,r){var y=setInterval(z,r);this.inervals.push(y);return y}})();(function(){k.Define.namespace("qubit.opentag.Timed",new k.opentag.Timer({rate:37,dynamic:true}));var l=k.opentag.Timed;l.tillTrue=function(b,z,r){var y=function(){if(!b())l.setTimeout(y,r||
33);else z()};y()}})();M.html.fileLoader={};M.html.fileLoader.load=function(l,b,z,r,y,f){var q;var d;var u;var v;var w;w=false;v=function(D){return function(){if(!w){w=true;if(D&&!u)u={url:document.location.href};z(l,u,D)}}};try{if(b)d=b(l)}catch(D){d=false;z(l,"Exception loading pre",true)}finally{if(d!==false){q=M.html.fileLoader.createScriptEl(l,y,false,f);if(z){q.onload=v(false);q.onerror=v(true);q.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded")setTimeout(function(){v(false)()},
1)}}if(!r)r=window.document.getElementsByTagName("head")[0];r.appendChild(q)}}};M.html.fileLoader.createScriptEl=function(l,b,z,r){var y;var f=document.createElement("script");f.type="text/javascript";f.src=M.html.fileLoader.tidyUrl(l)+(z?"?"+(new Date).getTime():"");if(b!==false){f.async="true";f.defer="true"}else{f.async="false";if(f.async!==false)f.async=false;f.defer="false";if(f.defer!==false)f.defer=false}for(y in r)if(r.hasOwnProperty(y))f.setAttribute(y,r[y]);return f};M.html.fileLoader.tidyUrl=
function(l){if(l.substring(0,5)==="http:")return l;if(l.substring(0,6)==="https:")return l;return"//"+l};(function(){function l(r){this.calls={}}var b=k.Define;var z=k.opentag.Utils;l.prototype.on=function(r,y){if(!this.calls[r])this.calls[r]=[];return z.addToArrayIfNotExist(this.calls[r],y)};l.prototype.call=function(r,y){var f=this.calls[r];if(f)for(var q=0;q<f.length;q++)try{f[q](y)}catch(d){}};l.prototype.remove=function(r,y){if(this.calls[r])return z.removeFromArray(this.calls[r],y);return null};
l.prototype.removeAll=function(r){var y=0;for(var f in this.calls)if(this.calls.hasOwnProperty(f))y+=z.removeFromArray(this.calls[f],r);return y};l.prototype.clear=function(){this.calls={}};b.clazz("qubit.Events",l)})();(function(){function l(f){this.log=new k.opentag.Log("",function(){return this.CLASS_NAME+"["+this.config.name+"]"}.bind(this),"collectLogs");this.config={order:0,include:true,name:"Filter-"+z++,script:undefined,session:undefined,restartable:true};this.runtimeId=b.UUID();this.session=
null;if(f){for(var q in f)if(f.hasOwnProperty(q))this.config[q]=f[q];if(f.session)this.setSession(f.session);this.register(this)}this.events=new k.Events({})}var b=k.opentag.Utils;var z=0;var r=[];k.Define.clazz("qubit.opentag.filter.BaseFilter",l);l.state={DISABLED:-3,SESSION:-2,PASS:-1,FAIL:0};var y="restart";l.prototype.EVENT_TYPES={RESTART_EVENT:y};l.prototype.prepareForRestart=function(){if(this.config.restartable){this.events.call(y,this);this.reset()}};l.prototype.onRestart=function(f){this.events.on(y,
f)};l.prototype.reset=function(){this.runtimeId=b.UUID();this.enable()};l.prototype.disable=function(){this.config.disabled=true};l.prototype.enable=function(){this.config.disabled=false};l.prototype.match=function(){return true};l.prototype.setSession=function(f){this.session=f};l.prototype.getSession=function(){return this.session};l.prototype.getState=function(){var f=l.state.PASS;if(this.config.disabled)return l.state.DISABLED;if(this.config.script)f=this.config.script.call(this,f);if(isNaN(+f))f=
l.state.FAIL;this.lastState=+f;return f};l.getFilters=function(){return r};l.prototype.register=function(){l.register(this)};l.register=function(f){b.addToArrayIfNotExist(r,f)}})();(function(){var l=k.Define;var b={CONTAINS:"CONTAINS",MATCHES_EXACTLY:"MATCHES_EXACTLY",STARTS_WITH:"STARTS_WITH",ENDS_WITH:"ENDS_WITH",REGULAR_EXPRESSION:"REGULAR_EXPRESSION",ALL_URLS:"ALL_URLS"};l.namespace("qubit.opentag.filter.pattern.PatternType",b)})();(function(){function l(f){this._lockObject={};var q={patternType:y.CONTAINS,
pattern:""};if(f)for(var d in f)if(f.hasOwnProperty(d))q[d]=f[d];l.SUPER.call(this,q)}var b=k.opentag.Utils;var z=k.opentag.filter.BaseFilter;var r=k.opentag.Timed;var y=k.opentag.filter.pattern.PatternType;k.Define.clazz("qubit.opentag.filter.URLFilter",l,z);l.prototype.PATTERNS=y;l.prototype.getURL=function(f){return f||b.getUrl()};l.prototype.match=function(f){f=this.getURL(f);var q=true;var d=this.config.pattern;switch(this.config.patternType){case y.CONTAINS:q=f.toLowerCase().indexOf(d.toLowerCase())>=
0;break;case y.MATCHES_EXACTLY:q=f.toLowerCase()===this.config.pattern.toLowerCase();break;case y.STARTS_WITH:q=f.toLowerCase().indexOf(d.toLowerCase())===0;break;case y.ENDS_WITH:q=f.lastIndexOf(d.toLowerCase())+d.length===f.length;break;case y.REGULAR_EXPRESSION:q=(new RegExp(d)).test(f);break;case y.ALL_URLS:q=true;break}return q}})();(function(){function l(f){var q={};if(f){for(var d in f)if(f.hasOwnProperty(d)){if(d==="customStarter"&&f[d])this.customStarter=f[d];else if(d==="customScript"&&
f[d])this.customScript=f[d];q[d]=f[d]}this.uid="f"+y++}this.tagsToRun=[];l.SUPER.call(this,q)}var b=k.opentag.filter.BaseFilter;var z=k.opentag.filter.URLFilter;var r=k.opentag.Utils;var y=0;k.Define.clazz("qubit.opentag.filter.Filter",l,z);l.prototype.customStarter=function(f,q,d){q(false)};l.prototype.isSession=function(){if(this.config.sessionDisabled)return false;if(this.customStarter===null&&this.customScript===null)return false;return true};l.prototype.customScript=function(f){return true};
l.prototype.match=function(f){var q=true;try{if(this.customScript){if(this._matchState===undefined)this._matchState=!!this.customScript(this.getSession());q=this._matchState}}catch(d){q=false}return q&&l.SUPER.prototype.match.call(this,f)};l.prototype.runTag=function(f){r.addToArrayIfNotExist(this.tagsToRun,f);if(!this.starterExecuted){if(!this._starterWasRun){this._starterWasRun=true;var q=this.runtimeId;var d=function(u){if(q!==this.runtimeId)return;this.reRun=u;this.starterExecuted=(new Date).valueOf();
this._processQueuedTagsToRun()}.bind(this);if(this.customStarter)this.customStarter(this.getSession(),d,f);else l.prototype.customStarter.call(this,this.getSession(),d,f)}}else this._triggerTag(f)};l.prototype._processQueuedTagsToRun=function(){for(var f=0;f<this.tagsToRun.length;f++){var q=this.tagsToRun[f];this._triggerTag(q)}};l.prototype._triggerTag=function(f){if(this.reRun===true)f.run();else f.runOnce()};l.prototype.getState=function(f){if(f)this.setSession(f);var q=l.SUPER.prototype.getState.call(this);
if(q===b.state.DISABLED)return b.state.DISABLED;if(q===b.state.PASS)if(this.isSession())q=b.state.SESSION;if(this.config.script)q=this.config.script.call(this,q,this.getSession());this.lastState=q;return q};l.prototype.reset=function(){l.SUPER.prototype.reset.call(this);this._matchState=undefined;this._starterWasRun=undefined;this.starterExecuted=undefined;this.tagsToRun=[];this.reRun=undefined}})();M.html.GlobalEval={};M.html.GlobalEval.globalEval=function(l){if(window.execScript)window.execScript(l===
""?" ":l);else{var b=function(){window["eval"].call(window,l)};b()}};M.html.HtmlInjector={};M.html.HtmlInjector.inject=function(l,b,z,r,y){var f;var q;var d;var u;var v;var w;var D;if(z.toLowerCase().indexOf("\x3cscript")>=0){d=document.createElement("div");d.innerHTML="a"+z;u=d.getElementsByTagName("script");v=[];for(f=0,q=u.length;f<q;f+=1)v.push(u[f]);D=[];for(f=0,q=v.length;f<q;f+=1){w=v[f];var g={attributes:M.html.HtmlInjector.getAttributes(w)};if(w.src)g.src=w.src;else g.script=w.innerHTML;
D.push(g);w.parentNode.removeChild(w)}if(d.innerHTML)if(d.innerHTML.length>0)d.innerHTML=d.innerHTML.substring(1);M.html.HtmlInjector.doInject(l,b,d);M.html.HtmlInjector.loadScripts(D,0,r,l)}else{d=document.createElement("div");d.innerHTML=z;M.html.HtmlInjector.doInject(l,b,d);if(r)r()}};M.html.HtmlInjector.doInject=function(l,b,z){if(z.childNodes.length>0){for(var r=document.createDocumentFragment();z.childNodes.length>0;)r.appendChild(z.removeChild(z.childNodes[0]));if(b)M.html.HtmlInjector.injectAtStart(l,
r);else M.html.HtmlInjector.injectAtEnd(l,r)}};M.html.HtmlInjector.injectAtStart=function(l,b){if(l.childNodes.length===0)l.appendChild(b);else l.insertBefore(b,l.childNodes[0])};M.html.HtmlInjector.injectAtEnd=function(l,b,z){if(!z)z=1;if(l===document.body&&document.readyState!=="complete"&&z<50)setTimeout(function(){M.html.HtmlInjector.injectAtEnd(l,b,z+1)},100);else l.appendChild(b)};M.html.HtmlInjector.loadScripts=function(l,b,z,r){var y;var f;var q=false;for(y=l.length;b<y;b+=1){f=l[b];if(f.src){q=
true;break}else M.html.GlobalEval.globalEval(f.script)}if(q)M.html.fileLoader.load(f.src,null,function(){M.html.HtmlInjector.loadScripts(l,b+1,z,r)},r,false,f.attributes);if(z&&b===y)z()};M.html.HtmlInjector.getAttributes=function(l){var b;var z;var r;var y;var f;var q={};if(l){r=l.attributes;z=r.length;for(b=0;b<z;b++){y=r[b].value;f=r[b].name.toLowerCase();if(y!==""&&(f==="id"||f==="class"||f==="charset"||f.substr(0,5)==="data-"))q[f]=y}return q}};(function(){function l(){D=D||{write:document.write,
writeln:document.writeln}}function b(){document.write=D.write;document.writeln=D.writeln;D=null}var z=k.opentag.filter.BaseFilter;var r=k.opentag.Utils;var y=M.html.HtmlInjector;var f=M.html.fileLoader;var q=k.opentag.filter.Filter;var d=function(){};k.Define.clazz("qubit.opentag.TagsUtils",d);var u=false;d.bodyLoaded=function(){if(u)return true;u=!!(document.body&&document.readyState!=="loading");return u};d.bodyAvailable=function(e){return!!document.body};var v={};var w={SUCCESS:"success",FAIL:"failure",
INIT:"not started"};d.loadScript=function(e){var c=e.url;var h=function(N,O,Q){v[c].error=O;if(Q){v[c].state=w.FAIL;e.onerror()}else{v[c].state=w.SUCCESS;e.onsuccess()}};if(v[c]){if(e.noMultipleLoad)return h(c,v[c].error,v[c].state===w.FAIL);v[c].count+=1}else v[c]={count:1,state:null};var p=!e.async;var C=d.bodyLoaded();if(p&&C);p=p&&!C;if(p)d.writeScriptURL(c,function(N,O){h(c,O,!N)});else f.load(c,false,h,e.node,e.async)};var D=null;d.redirectDocumentWritesToArray=function(e,c){var h=e;l();document.write=
function(p){h.push(p)};document.writeln=function(p){h.push(p)}};d.flushDocWritesArray=function(e,c,h,p,C){var N=c;if(N&&e){var O=e.splice(0,e.length);try{d.injectHTML(N,h,O.join("\n"),C||K);return true}catch(R){}}else{var Q="Flushing location not found!";return false}if(C)C();return true};d.unlockDocumentWrites=function(){if(D)b()};var g=d.prototype.PACKAGE_NAME+".TagsUtils._writeScriptURL_callbacks";var x={};k.Define.namespace(g,x,H,true);var E=0;var G=(new Date).valueOf();d.writeScriptURL=function(e,
c){var h="_"+G+"_"+E++;var p=g+"."+h;var C=false;x[h]=function(W){if(C)return;C=true;if(W)c(false,"error while loading script "+e);else c(true);x[h]=undefined;delete d.writeScriptURL.callbacks[h]};var N='if(this.readyState \x3d\x3d\x3d "loaded" || '+'this.readyState \x3d\x3d\x3d "complete"){ try {'+p+"(true)"+"} catch (ex) {}}";var O="try{"+p+"(false)}catch(ex){}";var Q="try{"+p+"(true)}catch(ex){}";var R="scr";var U;e=f.tidyUrl(e);U="\x3c"+R+"ipt onload\x3d'"+O+"'  onerror\x3d'"+Q+"' onreadystatechange\x3d'"+
N+"' type\x3d'text/javascript' "+" src\x3d'"+e+"'\x3e"+"\x3c/"+R+"ipt\x3e";if(D){b();document.write(U);l()}else document.write(U);r.bodyReady(function(){if(!C){C=true;c(true)}})};d.writeScriptURL.callbacks={};var n=z.state.SESSION;var m=z.state.PASS;var t=z.state.FAIL;d.filtersState=function(e,c,h,p){e=e.sort(function(aa,ja){try{var ha=ja.config.order;var ia=aa.config.order;if(isNaN(-ia))ia=0;if(isNaN(-ha))ha=0;return ha-ia}catch(ka){return 0}});var C=m;if(!e||e.length===0)return C;var N=null;var O=
false;var Q=false;var R=0;var U;var W;var ba=[];var Y;var X;for(var ca=0;ca<e.length;ca++){Y=e[ca];Y.setSession(c);if(Y.match()){U=Y.getState();if(U>0){if(R===0||R>U)R=U}else if(U===z.state.DISABLED)O=true;else if(U===n){Q=true;N=Y;W=Y;ba.push(Y)}else N=Y}else X=Y}var ea=false;if(N===null){ea=true;if(!O)C=t;else C=m}else if(N.config.include)C=U;else C=U===m?t:m;if(R>0&&(C===m||ea))C=R;if(C===n||C===m&&Q){if(!W.config.include)return t;C=n;if(W instanceof q&&W.isSession())if(p)for(var Z=0;Z<ba.length;Z++)try{ba[Z].runTag(h)}catch(aa){}}if(h.config.dedupe&&
C===m)if(X&&X instanceof q&&X.isSession()){h.sendDedupePing=true;C=t}return C};d.injectHTML=function(e,c,h,p){return y.inject(e,!c?1:0,h,p||K)};d.getHTMLLocationForTag=function(e){var c;var h=e.prepareLocationObject(e.config.locationObject);switch(h){case "HEAD":c=document.getElementsByTagName("head")[0];break;case "BODY":c=document.body;break;default:if(h)c=document.getElementById(h);else c=document.body}return c}})();(function(){function l(d){this.config={};this.handlers=[];this.parameters=null;
this.callHandlersOnRead=false;if(d){this.uniqueId="BV"+y++;l.ALL_VARIABLES[this.uniqueId]=this;for(var u in d)if(d.hasOwnProperty(u)){this.config[u]=d[u];if(u==="value")this.value=d.value}var v=l.register(this);if(v&&v!==this);return v}}function b(){if(q)return false;for(var d=0;d<f.length;d++)try{var u=f[d];u.getValue()}catch(v){}r.setTimeout(b,l.CHECK_POLL_RATE);return true}var z=k.opentag.Utils;var r=k.opentag.Timed;var y=0;k.Define.clazz("qubit.opentag.pagevariable.BaseVariable",l);l.ALL_VARIABLES=
{};var f=[];l.OBSERVED_VARIABLES=f;l.pageVariables=[];l.register=function(d){if(d instanceof l){for(var u=0;u<l.pageVariables.length;u++){var v=l.pageVariables[u];if(d===v)return v}l.pageVariables.push(d);return d}return null};l.prototype.getValue=function(){this._updateCurrentValue(this.value);return this.currentValue};l.prototype._updateCurrentValue=function(d){if(!this.valuesAreEqual(d,this.currentValue)){this.oldValue=this.currentValue;this.currentValue=d;if(!q||this.callHandlersOnRead)this._handleValueChanged();
return true}return false};l.prototype.getDefaultValue=function(){return this.defaultValue};l.prototype.setDefaultValue=function(d){this.defaultValue=d};l.prototype.exists=function(d){var u=z.variableExists(this.getValue());if(d)u=u||z.variableExists(this.getDefaultValue());return u};l.prototype.getRelativeValue=function(d,u){var v=this.getValue();if(!z.variableExists(v))v=u;var w;if(d&&!z.variableExists(v)){w=this.getDefaultValue();if(z.variableExists(w))v=w}return v};l.prototype.replaceToken=function(d,
u,v,w){var D=this.exists();var g=D?this.getValue():v;d="\\$\\{"+d+"\\}";if(w||g instanceof Array){var x;if(D)x=this.getValueAccessorString();else x=z.getAnonymousAcessor(g);return u.replace(new RegExp(d,"g"),x)}else return u.replace(new RegExp(d,"g"),g)};l.prototype.getAccessorString=function(){return"qubit.opentag.pagevariable.BaseVariable.ALL_VARIABLES."+this.uniqueId};l.prototype.getValueAccessorString=function(){return this.getAccessorString()+".getValue()"};l.prototype.onValueChanged=function(d,
u){if(z.addToArrayIfNotExist(this.handlers,d)===-1);if(u!==false)this.startObservingForChanges()};l.prototype.deatchOnValueChanged=function(d){if(z.removeFromArray(this.handlers,d)>0);};l.prototype._handleValueChanged=function(){var d={oldValue:this.oldValue,newValue:this.currentValue,variable:this};for(var u=0;u<this.handlers.length;u++)try{this.handlers[u](d)}catch(v){}};var q=true;l.CHECK_POLL_RATE=333;l.prototype.startObservingForChanges=function(){this.addToObservedVariables();if(q){q=false;
b()}};l.prototype.stopObservingForChanges=function(){this.removeFromObservedVariables();if(f.length===0)q=true};l.prototype.addToObservedVariables=function(){z.addToArrayIfNotExist(f,this)};l.prototype.removeFromObservedVariables=function(){z.removeFromArray(f,this)};l.prototype.getObservedVariables=function(){return f};l.prototype.valuesAreEqual=function(d,u){return d===u}})();(function(){function l(r){this._lockExprObject={};l.SUPER.apply(this,arguments)}var b=k.opentag.Utils;var z=k.opentag.Timed;
k.Define.clazz("qubit.opentag.pagevariable.Expression",l,k.opentag.pagevariable.BaseVariable);l.prototype.getValue=function(){var r;var y;var f=this.value;try{if(f&&f.indexOf("[#]")===-1){var q=b.gevalAndReturn(f);r=q.result;this.failMessage=null;y=q.error}else r=l.parseUVArray(f)}catch(v){y=v}if(y){var d="could not read value of expression: \n"+f+"\nexact cause: "+y;if(this.failMessage!==d)this.failMessage=d;r=null}var u=this._updateCurrentValue(r);return r};l.parseUVArray=function(r){var y=r.split("[#]");
var f=b.gevalAndReturn(y[0]).result;var q=[];var d=y[1];if(d.indexOf(".")===0)d=d.replace(".","");for(var u=0;u<f.length;u++){var v=b.getObjectUsingPath(d,f[u]);q.push(v)}return q};l.prototype.replaceToken=function(r,y,f,q){if(this.getValue()instanceof Array)q=true;return l.SUPER.prototype.replaceToken.call(this,r,y,f,q)}})();(function(){function l(z){l.SUPER.apply(this,arguments)}var b=k.opentag.Utils;k.Define.clazz("qubit.opentag.pagevariable.DOMText",l,k.opentag.pagevariable.BaseVariable);l.prototype.getValue=
function(){var z=b.getElementValue(this.value);this._updateCurrentValue(z);return z}})();(function(){function l(b){l.SUPER.apply(this,arguments);this._lockObject={}}k.Define.clazz("qubit.opentag.pagevariable.Cookie",l,k.opentag.pagevariable.BaseVariable);l.prototype.getValue=function(){var b=k.Cookie.get(this.value);this._updateCurrentValue(b);return b}})();(function(){function l(z){l.SUPER.apply(this,arguments)}var b=k.opentag.Utils;k.Define.clazz("qubit.opentag.pagevariable.URLQuery",l,k.opentag.pagevariable.BaseVariable);
l.prototype.getValue=function(){var z=b.getQueryParam(this.value);this._updateCurrentValue(z);return z}})();(function(){function l(b){l.SUPER.apply(this,arguments)}k.Define.clazz("qubit.opentag.pagevariable.UniversalVariable",l,k.opentag.pagevariable.Expression)})();(function b(){function z(){function r(m){G.level=m}function y(m,t){G.info(m,"event emitted");t=w(t||{});t.meta=t.meta||{};t.meta.type=m;x.push(t);d();n.listeners=g(n.listeners,function(e){return!e.disposed})}function f(m,t,e){function c(){G.info("Replaying events");
q(function(){v(n.events,function(N){if(p.disposed)return;if(!D(m,N.meta.type))return;t.call(e,N)})});return C}function h(){G.info("Disposing event handler");p.disposed=true;return C}G.info("Attaching event handler for",m);var p={type:m,callback:t,disposed:false,context:e||window};n.listeners.push(p);var C={replay:c,dispose:h};return C}function q(m){G.info("Calling event handlers");E++;try{m()}catch(t){G.error("UV API Error",t.stack)}E--;d()}function d(){if(x.length===0)G.info("No more events to process");
if(x.length>0&&E>0)G.info("Event will be processed later");if(x.length>0&&E===0){G.info("Processing event");var m=x.shift();n.events.push(m);q(function(){v(n.listeners,function(t){if(t.disposed)return;if(!D(t.type,m.meta.type))return;try{t.callback.call(t.context,m)}catch(e){G.error("Error emitting UV event",e.stack)}})})}}function u(m,t,e){var c=n.on(m,function(){t.apply(e||window,arguments);c.dispose()});return c}function v(m,t){var e=m.length;for(var c=0;c<e;c++)t(m[c],c)}function w(m){var t={};
for(var e in m)if(m.hasOwnProperty(e))t[e]=m[e];return t}function D(m,t){return typeof m==="string"?m===t:m.test(t)}function g(m,t){var e=m.length;var c=[];for(var h=0;h<e;h++)if(t(m[h]))c.push(m[h]);return c}var x=[];var E=0;var G={info:function t(){if(G.level>r.INFO)return;if(console&&console.info)console.info.apply(console,arguments)},error:function e(){if(G.level>r.ERROR)return;if(console&&console.error)console.error.apply(console,arguments)}};r.ALL=0;r.INFO=1;r.ERROR=2;r.OFF=3;r(r.ERROR);var n=
{on:f,emit:y,once:u,events:[],listeners:[],logLevel:r};return n}if(typeof module==="object"&&module.exports)module.exports=z;else if(window&&window.uv===undefined)window.uv=z()})();var P={};var T=[];var S=false;var V=false;var da=k.Define.global();var fa={allEventsByType:P,subscribe:function(b,z){if(V){var r=B();r.on(b,z)}else T.push({on:[b,z]})},getEventHistory:function(b){return this.allEventsByType[b]},publish:function(b,z){if(V){var r=B();r.emit(b,z)}else T.push({emit:[b,z]})},connect:function(){a()}};
fa.connect();k.Define.namespace("qubit.qprotocol.PubSub",fa);(function(){function b(f){b.SUPER.apply(this,arguments)}var z=k.qprotocol.PubSub;var r=k.opentag.Utils;var y=":";k.Define.clazz("qubit.opentag.pagevariable.QProtocolVariable",b,k.opentag.pagevariable.BaseVariable);b.prototype.init=function(){if(this.initialized)return false;else this.initialized=(new Date).valueOf();this.callHandlersOnRead=true;if(!this.handlerAttached){var f=this;var q=this.getValueAndPath(this.value);this.eventName=q[0];
this.objectPath=q[1];this.updateValue();z.subscribe(this.eventName,function(d){f.updateValue(d)});this.handlerAttached=(new Date).valueOf()}};b.prototype.getValueAndPath=function(f){var q=f;var d;if(q){var u=f.indexOf(y);if(u!==-1){q=f.substring(0,u);d=f.substring(u+1)}}return[q,d]};b.prototype.getValue=function(){this.init();return this.currentValue};b.prototype.getEventsHistory=function(){return z.getEventHistory(this.eventName)};b.prototype.updateValue=function(f){if(!f){var q=this.getEventsHistory();
if(q)f=q.current}var d;var u=this.objectPath;if(f&&u)d=r.getObjectUsingPath(u,f);else d=f;this._updateCurrentValue(d);return d};b.prototype.startObservingForChanges=function(){};b.prototype.stopObservingForChanges=function(){}})();(function(){function b(){}function z(m,t){var e=[];try{var c=m.parameters;if(c)for(var h=0;h<c.length;h++)if(m.getVariableForParameter(c[h])===t)e.push(c[h])}catch(p){}return e}var r=k.opentag.Utils;var y=k.opentag.TagsUtils;var f=k.opentag.Timed;var q=k.opentag.pagevariable.BaseVariable;
var d=k.opentag.pagevariable.Expression;var u=k.opentag.pagevariable.UniversalVariable;var v=k.opentag.pagevariable.DOMText;var w=k.opentag.pagevariable.Cookie;var D=k.opentag.pagevariable.URLQuery;k.Define.clazz("qubit.opentag.TagHelper",b);b.injectHTMLForLoader=function(m,t,e,c){var h=c!==undefined?c:m.getHtml();if(h){var p=m.config.locationPlaceHolder==="END";var C=y.getHTMLLocationForTag(m);m.injectHTMLNotFinished=true;try{if(C)y.injectHTML(C,p,h,function(){m.injectHTMLNotFinished=false;if(t)try{t()}catch(N){}}.bind(m));
else if(e&&document.readyState==="loading"){document.write(h);m.injectHTMLNotFinished=false}else m.injectHTMLFailed=(new Date).valueOf()}catch(N){m.injectHTMLNotFinished=false;m.injectHTMLFailed=(new Date).valueOf()}}};b.getAllVariablesWithParameters=function(m){var t=m.getPageVariables();var e=[];for(var c=0;c<t.length;c++){var h=t[c];var p=z(m,h);for(var C=0;C<p.length;C++)e.push({parameter:p[C],variable:h})}return e};var g={};b.allParameterVariablesReadyForTag=function(m,t){var e=t;var c=true;
var h=m.getPageVariables();for(var p=0;p<h.length;p++){var C=h[p];try{var N=z(m,C);var O=C.exists();if(!O&&e){if(N.length>0)O=!!N[0].defaultValue;O=O||C.exists(true)}if(!O){c=false;break}}catch(Q){c=false;break}}return c};var x="2";var E="3";var G="4";var n="5";b.validateAndGetVariableForParameter=function(m){if(m.hasOwnProperty("variable")&&m.variable)m.variable=b.initPageVariable(m.variable);return m.variable};b.initPageVariable=function(m){if(!m||m instanceof q)return m;if(typeof m==="string"){var t=
r.getObjectUsingPath(m);if(t&&t instanceof q)return t}switch(m.type){case x:return new d(m);case E:return new D(m);case G:return new w(m);case n:return new v(m);case "EPRESSION":return new d(m);case "URL_PARAMETER":return new D(m);case "COOKIE_VALUE":return new w(m);case "DOM_VALUE":return new v(m);default:return new q(m)}}})();(function(){function b(g){this.log=new u("",function(){return this.CLASS_NAME+"["+this.config.name+"]"}.bind(this),"collectLogs");this.urlsLoaded=0;this.urlsFailed=0;this.runCounter=
0;this.events=new k.Events({});this._depLoadedHandler=function(){if(this.dependenciesLoaded()&&this.awaitingDependencies)this._triggerLoadingAndExecution()}.bind(this);this.config={name:"Tag-"+d++,async:true,usesDocumentWrite:false,timeout:this.LOADING_TIMEOUT,dependencies:[],url:null,urlLocation:null,locationPlaceHolder:"END",locationObject:null,dontWaitForInjectionLocation:false,noMultipleLoad:false,loadDependenciesOnLoad:false,restartable:true};this.restartCounter=0;this.cancelled=false;this.runtimeId=
r.UUID();this.delayDocWrite=false;this.dependencies=[];this._lockObject={count:0};this._lockObjectDepsLoaded={};this.genericDependencies=[];if(g){if(!g.name){var x="Tag-"+d++;this.config.name=x}this.addState("INITIAL");for(var E in g)this.config[E]=g[E];if(g.genericDependencies)this.genericDependencies=this.genericDependencies.concat(g.genericDependencies);if(g.dependencies)this.dependencies=g.dependencies.concat(this.dependencies);if(g.PACKAGE)this._package=g.PACKAGE;this.onInit()}}function z(){if(this.cancelled){this._handleCancel();
return}this.waitForDependenciesFinished=(new Date).valueOf();var g=this._fullBodyNeededAndUnLoaded();var x=this._bodyNeededButNotAvailable();if(g||x)this.waitForDependenciesFinished=false;else{if(!this.timeoutCountdownStart)this.timeoutCountdownStart=(new Date).valueOf();if(this.allDependenciesLoaded())this._markLoadedSuccesfuly();else if(this._loadingOutOfTimeFrames()){this.loadingTimedOut=(new Date).valueOf();if(this.allDependenciesLoaded(true))this._markLoadedSuccesfuly();else{this.addState("TIMED_OUT");
this._markLoadingDependenciesFailed();this._triggerOnLoadTimeout()}}else this.waitForDependenciesFinished=false}if(!this.waitForDependenciesFinished)this._setTimeout(z.bind(this),65);else this.addState("LOADED_DEPENDENCIES")}var r=k.opentag.Utils;var y=k.opentag.TagsUtils;var f=k.opentag.Timed;var q=k.opentag.TagHelper;var d=0;var u=k.opentag.Log;k.Define.clazz("qubit.opentag.GenericLoader",b);var v="after";var w="before";var D="restart";b.prototype.EVENT_TYPES={AFTER_EVENT:v,BEFORE_EVENT:w,RESTART_EVENT:D};
b.prototype.onInit=K;b.prototype.LOADING_TIMEOUT=5*1E3;b.prototype.getHtml=function(){if(this.config.html)return this.config.html;if(this.htmlContent)return r.trim(this.htmlContent);return null};b.prototype._executeScript=function(){var g=false;try{this.script();g=true}catch(x){this.addState("EXECUTED_WITH_ERRORS");this.executedWithErrors=(new Date).valueOf();this._onError(x)}finally{this._onExecute(g)}};b.prototype.getTimeout=function(){return this._getTimeout()};b.prototype._getTimeout=function(g){var x=
+this.config.timeout;var E=this.dependencies;if(x!==-1&&E.length>0){var G=0;g=g||[];var n=r.indexInArray(g,this)!==-1;if(!n){g[g.length]=this;for(var m=0;m<E.length;m++){var t=E[m]._getTimeout(g);if(t>G)G=t}if(G>0)x+=G}else return 0}return x};b.prototype._onExecute=function(g){this.onExecute(g)};b.prototype.onExecute=K;b.prototype._flushDocWrites=function(g){var x=true;this._docWriteNotFlushed=false;try{var E=y.getHTMLLocationForTag(this);if(E&&this._securedWrites&&this._securedWrites.length>0){var G=
this.config.locationPlaceHolder==="END";x=y.flushDocWritesArray(this._securedWrites,E,G,this.log,g);if(x)this._docWriteFlushed=(new Date).valueOf();else this._docWriteNotFlushed=(new Date).valueOf()}}catch(n){this._onError(n)}if(g)g();if(this._securedWrites&&this._securedWrites.length>0){x=false;this._docWriteNotFlushed=(new Date).valueOf()}return x};b.prototype.log=K;b.prototype.finished=function(){return!!this.runIsFinished};b.prototype.script=function(){};b.prototype.before=function(){this.beforeRun=
(new Date).valueOf();try{this.events.call(w,this)}catch(g){this._onError(g)}};b.prototype.onBefore=function(g){this.events.on(w,g)};b.prototype.after=function(g){this.afterRun=(new Date).valueOf();try{this.events.call(v,{success:g,tag:this})}catch(x){this._onError(x)}};b.prototype.onAfter=function(g){this.events.on(v,g)};b.prototype.runOnce=function(){if(!this._runOnceTriggered&&!this.scriptExecuted){this._runOnceTriggered=(new Date).valueOf();this.run()}};b.CANCEL_ALL=false;b.prototype.run=function(){if(!isNaN(this.config.runningLimit))if(this.config.runningLimit<=
this.runCounter)return false;if(this.cancelled||b.CANCEL_ALL){this._handleCancel();return false}if(this.isRunning)return false;if(this.lastRun)this.reset();this.lastRun=this.isRunning=(new Date).valueOf();this.runCounter++;this._ignoreDeps=!!this.ignoreDependencies;if(!this._ignoreDeps&&!this.dependenciesLoaded()){this._attachDepsEventsToContinue();return false}return this._triggerLoadingAndExecution()};b.prototype._triggerLoadingAndExecution=function(){this.awaitingDependencies=-(new Date).valueOf();
this.load();if(this._ignoreDeps)this.execute();else this.waitForDependenciesAndExecute();return true};b.prototype._attachDepsEventsToContinue=function(){this.awaitingDependencies=(new Date).valueOf();var g=this.dependencies;for(var x=0;x<g.length;x++)try{g[x].events.on("success",this._depLoadedHandler)}catch(E){}};b.prototype.dependenciesLoaded=function(){var g=this.dependencies;for(var x=0;x<g.length;x++)if(g[x]!==this){var E=+g[x].scriptExecuted>0;if(!E)return false}return true};b.prototype._setTimeout=
function(g,x){this._wasTimed=(new Date).valueOf();var E=this.runtimeId;var G=function(){if(this.runtimeId===E)return g()}.bind(this);return f.setTimeout(G,x)};b.prototype._handleCancel=function(){this.addState("CANCELLED");try{this.onCancel()}catch(g){this._onError(g)}};b.prototype.waitForDependenciesAndExecute=function(){if(this.loadedDependencies)this.execute();else if(this.loadingDependenciesFailed){this._markFailure();this._markFinished()}else this._setTimeout(this.waitForDependenciesAndExecute.bind(this),
30)};b.prototype.execute=function(){this._triggerExecution()};b.prototype._triggerExecution=function(){if(this.cancelled){this._handleCancel();return}if(this.scriptExecuted)return;var g=true;if(this.shouldWaitForDocWriteProtection())g=false;else{if(!this._beforeEntered){this._beforeEntered=(new Date).valueOf();var x=false;try{x=this.before()}catch(G){this._onError(G)}if(x){this._markFailure();this._markFinished();return}}g=this.loadExecutionURLsAndHTML(this._triggerExecution.bind(this))}if(this.scriptExecuted)return;
if(this.unexpectedFail)g=true;if(!g)this._setTimeout(this._triggerExecution.bind(this),30);else{this._flushDocWrites();if(this.scriptLoadingFailed||this.injectHTMLFailed||this.unexpectedFail)this._markFailure();else{this.scriptExecuted=(new Date).valueOf();this.addState("EXECUTED");this._executeScript()}if(this.cancelled){this._handleCancel();return false}else{var E=this.scriptExecuted>0;try{if(!this.afterRun){this.afterRun=(new Date).valueOf();this.after(E)}}catch(G){this.executedWithErrors=(new Date).valueOf()}if(!this.executedWithErrors)if(E)this.events.call("success")}this._flushDocWrites();
this._markFinished()}};b.prototype._markFailure=function(){this.scriptExecuted=-(new Date).valueOf();this.addState("FAILED_TO_EXECUTE")};b.prototype._markFinished=function(){this.runIsFinished=(new Date).valueOf();this.isRunning=false;if(b.LOCK_DOC_WRITE===this){this._flushDocWrites();y.unlockDocumentWrites();b.LOCK_DOC_WRITE=false}this.onFinished(true)};b.prototype.onFinished=K;b.prototype.onCancel=K;b.prototype.onFinished=K;b.prototype.shouldWaitForDocWriteProtection=function(){if(this.willSecureDocumentWrite())if(!b.LOCK_DOC_WRITE){b.LOCK_DOC_WRITE=
this;this._secureWriteAndCollectForExecution()}else if(b.LOCK_DOC_WRITE!==this){if(!this._lockedDocWriteInformed)this._lockedDocWriteInformed=(new Date).valueOf();return true}return false};b.prototype.runWithoutDependencies=function(){this.ignoreDependencies=true;this.run()};b.prototype.loadExecutionURLsAndHTML=function(g){if(this.cancelled){this._handleCancel();return true}if(!this._loadExecutionURLsAndHTMLInformed)this._loadExecutionURLsAndHTMLInformed=true;this._triggerURLsLoading(g);if(!this.loadURLsNotFinished){this._flushDocWrites();
this._triggerHTMLInjection();this._flushDocWrites();if(!this.injectHTMLNotFinished){this._flushDocWrites();if(!this._docWriteNotFlushed){if(this._docWriteFlushed);return true}}}return false};b.prototype._triggerURLsLoading=function(g){if(!this._urlLoadTriggered&&this.config.url){this._urlLoadTriggered=true;this.loadURLs(false,g)}};b.prototype._triggerHTMLInjection=function(){if(!this._injectHTMLTriggered&&this.getHtml()){this._injectHTMLTriggered=true;this.injectHTML()}};b.prototype.STATE={INITIAL:0,
STARTED:1,LOADING_DEPENDENCIES:2,LOADED_DEPENDENCIES:4,LOADING_URL:8,LOADED_URL:16,EXECUTED:32,EXECUTED_WITH_ERRORS:64,FAILED_TO_LOAD_DEPENDENCIES:128,FAILED_TO_LOAD_URL:256,FAILED_TO_EXECUTE:512,TIMED_OUT:1024,UNEXPECTED_FAIL:2048,CANCELLED:2048*2};b.prototype.addState=function(g){if(this.STATE.hasOwnProperty(g)){this.state=this.state|this.STATE[g];try{this.onStateChange(g)}catch(x){this._onError(x)}}};b.prototype.onStateChange=K;b.prototype.cancel=function(){this.cancelled=(new Date).valueOf()};
b.prototype.unCancel=function(){this.cancelled=false};b.prototype.state=b.prototype.STATE.INITIAL;b.prototype._markLoadedSuccesfuly=function(){this.loadedDependencies=(new Date).valueOf();this.onAllDependenciesLoaded()};b.prototype._secureWriteAndCollectForExecution=function(){if(!this._securedWrites){this._securedWrites=[];y.redirectDocumentWritesToArray(this._securedWrites,this.log)}};b.prototype._markLoadingDependenciesFailed=function(){this.addState("FAILED_TO_LOAD_DEPENDENCIES");this.loadingDependenciesFailed=
(new Date).valueOf()};b.prototype.allDependenciesLoaded=function(g,x){return this.getDependenciesToBeLoaded(g,x).length===0};b.prototype.getDependenciesToBeLoaded=function(g,x){var E=x||[];if(!this.injectionLocationReady())E.push("injection location");var G;var n=this.dependencies;for(G=0;G<n.length;G++)if(n[G]!==this){var m=+n[G].scriptExecuted>0;if(!m){var t=n[G].config?n[G].config.name:"anonymous";E.push("dependant Tag with name -\x3e "+t)}}for(G=0;G<this.genericDependencies.length;G++){var e=
this.genericDependencies[G](this);if(!e)E.push("this.genericDependencies["+G+"] (index: "+G+")")}if(E!=="");return E};b.prototype.docWriteAsksToWaitForBody=function(){return!!(this.delayDocWrite&&this.config.usesDocumentWrite)};b.prototype._bodyNeededButNotAvailable=function(){if(this._dontWaitForInjections())return false;return this._isBodyLocationNeeded()&&!y.bodyAvailable()};b.prototype._isBodyLocationNeeded=function(){if(!this.isLoadingAsynchronously())return false;if(this._isBodyLocationSet())return true;
else{var g=this.config.locationObject==="HEAD";return g&&this.config.locationPlaceHolder==="END"}};b.prototype._isBodyLocationSet=function(){var g=this.config.locationObject;return!g||g==="BODY"};b.prototype._fullBodyNeededAndUnLoaded=function(){if(this._dontWaitForInjections())return false;var g=false;if(this._isBodyLocationNeeded())g=this.config.locationPlaceHolder==="END";g=g||(this.fullbodyNeeded||this.docWriteAsksToWaitForBody());return g&&!r.bodyReady()};b.prototype._dontWaitForInjections=function(){return this.config.dontWaitForInjectionLocation||
this.dontWaitForInjectionLocation||b.dontWaitForInjectionLocation};b.prototype.injectionLocationReady=function(){if(this._dontWaitForInjections())return true;if(this._fullBodyNeededAndUnLoaded())return false;if(!this.isLoadingAsynchronously())return true;return!!y.getHTMLLocationForTag(this)};b.prototype._loadingOutOfTimeFrames=function(){if(this.getTimeout()<0)return false;return(new Date).valueOf()-this.timeoutCountdownStart>this.getTimeout()};b.prototype.loadDependencies=function(){this._loadDependencies()};
b.prototype.addClientDependenciesList=function(g,x){return this.addDependenciesList(g,k.Define.clientSpaceClasspath())};b.prototype.addDependenciesList=function(g,x){if(!g||g.length===0)return;if(!this.failedDependenciesToParse)this.failedDependenciesToParse=[];var E=this.dependencies;for(var G=0;G<g.length;G++){var n=g[G];var m=false;if(n instanceof b)E.push(n);else if(typeof n==="string"){var t=n;if(x)n=x+"."+n;var e=r.getObjectUsingPath(n);if(e)if(e instanceof b)E.push(e);else m=true;else this.failedDependenciesToParse.push(t)}else m=
true;if(m){this.badDepsObjects=this.badDepsObjects||[];r.addToArrayIfNotExist(this.badDepsObjects,n)}}};b.prototype._loadDependencies=function(g){g=g||[];var x=this.dependencies;var E=r.indexInArray(g,this)!==-1;if(!E){g[g.length]=this;for(var G=0;G<x.length;G++)x[G].load(g)}};b.prototype.onError=K;b.prototype._onError=function(g){try{this.onError(g)}catch(x){}};b.prototype._triggerOnLoadTimeout=function(){this.onLoadTimeout()};b.prototype.onLoadTimeout=K;b.prototype.onScriptsLoadSuccess=K;b.prototype.onScriptLoadError=
K;b.prototype.onAllDependenciesLoaded=K;b.prototype.onBeforeLoad=null;b.prototype.load=function(){if(this.loadStarted)return;else{this.loadStarted=(new Date).valueOf();try{if(this.onBeforeLoad)this.onBeforeLoad()}catch(g){this._onError(g)}}this.addState("LOADING_DEPENDENCIES");try{if(!this._ignoreDeps&&this.config.loadDependenciesOnLoad)this.loadDependencies()}catch(g){throw g;}z.call(this)};b.prototype._singleUrlLoadHandler=function(g,x,E){++this.urlsLoaded;if(!g)++this.urlsFailed;if(this.urlsLoaded===
x.length){this.loadURLsNotFinished=false;if(g&&this.urlsFailed===0){this.addState("LOADED_URL");this.urlsLoaded=(new Date).valueOf();try{if(E)E(true)}catch(n){this._onError(n)}finally{this.onScriptsLoadSuccess()}}else{var G="error loading urls. Failed "+this.urlsFailed;this._onError(G);this.addState("FAILED_TO_LOAD_URL");this.urlsLoaded=-(new Date).valueOf();try{this.scriptLoadingFailed=true;if(E)E(false)}catch(n){this._onError(n)}finally{this.onScriptLoadError(G)}}}};b.prototype.loadURLs=function(g,
x){var E=g||this.config.url;this.addState("LOADING_URL");try{if(E&&!(E instanceof Array))E=[E];for(var G=0;G<E.length;G++){this.loadURLsNotFinished=true;var n=E[G];n=this.prepareURL(n);this.loadURL(n,function(m){this._singleUrlLoadHandler(m,E,x)}.bind(this))}}catch(m){this.loadURLsNotFinished=false;this.addState("UNEXPECTED_FAIL");this.unexpectedFail=(new Date).valueOf();this._onError(m)}};b.prototype.prepareLocationObject=function(g){return g};b.prototype.prepareURL=function(g){return g};b.prototype.prepareHTML=
function(g){return g};b.prototype.loadURL=function(g,x,E){var G=g;this.addState("LOADING_URL");y.loadScript({onsuccess:function(){try{if(x)x(true)}catch(n){}}.bind(this),onerror:function(){try{if(x)x(false)}catch(n){}}.bind(this),url:G,node:E||this.config.urlLocation,async:this.isLoadingAsynchronously(),noMultipleLoad:this.config.noMultipleLoad})};b.prototype.onRestart=function(g){this.events.on(D,g)};b.prototype.prepareForRestart=function(){if(this.config.restartable){var g=this.restartCounter+1;
this.events.call(D,this);this.reset();this.restartCounter=g}};b.prototype.restart=function(){if(this.config.restartable){this.prepareForRestart();this.run()}};b.prototype.reset=function(){var g;this._injectHTMLTriggered=g;this._loadExecutionURLsAndHTMLInformed=g;this._lockedDocWriteInformed=g;this._runOnceTriggered=g;this._urlLoadTriggered=g;this.afterRun=g;this.beforeRun=g;this.filtersRunTriggered=g;this.injectHTMLFailed=g;this.loadStarted=g;this.loadURLsNotFinished=g;this.loadedDependencies=g;this.loadingDependenciesFailed=
g;this.loadingTimedOut=g;this.runIsFinished=g;this.scriptExecuted=g;this.scriptLoadingFailed=g;this.delayDocWrite=g;this._securedWrites=g;this.state=0;this.unexpectedFail=g;this.urlsFailed=0;this.urlsLoaded=0;this.waitForDependenciesFinished=g;this.isRunning=g;this.lastRun=g;this.cancelled=g;this._beforeEntered=g;this.awaitingDependencies=g;this.timeoutCountdownStart=g;this.restartCounter=0;this.runtimeId=r.UUID();this.addState("INITIAL")};b.prototype.isLoadingAsynchronously=function(){if(this._wasTimed)return true;
return!!(this.config.async||this.forceAsynchronous)};b.prototype.willSecureDocumentWrite=function(){return this.config.usesDocumentWrite&&this.isLoadingAsynchronously()};b.prototype.injectHTML=function(g){var x=!this.docWriteAsksToWaitForBody();var E=this.prepareHTML(this.getHtml());if(E)q.injectHTMLForLoader(this,g,x,E)};b.prototype.clone=function(){var g=new b(this.config);return g}})();(function(){function b(e){var c={filterTimeout:e&&e.filterTimeout||this.FILTER_WAIT_TIMEOUT,PACKAGE:e&&e.PACKAGE,
dedupe:false,needsConsent:false,inactive:false,variables:null,runner:null,disabled:false,locked:false,reRunOnVariableChange:false};r.setIfUnset(e,c);b.SUPER.apply(this,arguments);this.namedVariables={};this._runtimeMarkers={};this.parameters=[];this.filters=[];this.session=null;this.owningContainer=null;this.pingSent=false;this.oldPingSent=false;this.dedupePingSent=false;this.oldDedupePingSent=false;this.reRunCounter=0;if(e){this.addState("INITIAL");try{b.register(this)}catch(h){}this.setupConfig(e);
this.uniqueRefString=null;if(e.init)try{e.init.call(this,e)}catch(h){}this.onTagInit();this.handleVariableChange=this._handleVariableChange.bind(this)}}function z(e,c){var h=e.namedVariables;var p=u.initPageVariable(h[c]);h[c]=p;return p}var r=k.opentag.Utils;var y=k.opentag.TagsUtils;var f=k.opentag.Timed;var q=k.opentag.filter.BaseFilter;var d=k.opentag.GenericLoader;var u=k.opentag.TagHelper;var v=k.opentag.pagevariable.BaseVariable;var w=k.Cookie;var D=k.Define;D.clazz("qubit.opentag.BaseTag",
b,d);b.prototype.setupConfig=function(e){if(!e)return;if(e.filters)this.addFilters(e.filters);if(e.parameters)this.addParameters(e.parameters);if(e.variables)for(var c in e.variables)if(e.variables.hasOwnProperty(c)){var h=this.getParameterByTokenName(c);if(h){var p=e.variables[c];h.variable=p;if(p.defaultValue!==undefined)h.defaultValue=p.defaultValue;if(p.uv!==undefined)h.uv=p.uv}}if(e.locked)this.lock()};b.prototype.valueForToken=function(e,c){var h=this.getParameterByTokenName(e);if(h){if(c===
undefined)if(this.loadingTimedOut)c=true;return this.getParameterValue(h,c)}var p=this.namedVariables;if(p&&p[e]){var C=z(this,e);if(C)return C.getRelativeValue(c)}return undefined};b.prototype.addParameters=function(e){this.parameters=this.parameters.concat(e)};b.prototype.LOADING_TIMEOUT=5*1E3;b.prototype.FILTER_WAIT_TIMEOUT=-1;b.prototype._isVariable=function(e){return e!==null&&e!==undefined};b.prototype.run=function(){if(this.destroyed)throw"Tag is destroyed.";this.resolveAllDynamicData();this.runPostInitialisationSection();
var e=this.parameters;if(e)for(var c=0;c<e.length;c++){var h=this.getVariableForParameter(e[c]);if(!this._isVariable(h)){this._markLoadingDependenciesFailed();this._markFinished();return}}if(this.config.runner){var p=false;try{this.addState("AWAITING_CALLBACK");p=this._runner=(new Date).valueOf();this.config.runner.call(this)}catch(C){}return p}else{this._runner=false;return this.start()}};b.prototype.lock=function(){this.locked=true;this._unlock=null};b.prototype.unlock=function(){this.locked=false;
if(this._unlock){this._unlock();this._unlock=false}};b.prototype.start=function(){if(!this.locked)return b.SUPER.prototype.run.call(this);else{this._unlock=function(){return b.SUPER.prototype.run.call(this)}.bind(this);return false}};b.prototype.startOnce=function(){if(!this.locked)return b.SUPER.prototype.runOnce.call(this);else{this._unlock=function(){return b.SUPER.prototype.runOnce.call(this)}.bind(this);return false}};b.prototype.getFilters=function(){return this.filters};b.prototype.runOnceIfFiltersPass=
function(){if(!this._runOnceIfFiltersPassTriggered&&!this.scriptExecuted){this._runOnceIfFiltersPassTriggered=(new Date).valueOf();this.runIfFiltersPass()}};b.prototype.runIfFiltersPass=function(){if(this.destroyed)throw"Tag is destroyed.";this.resolveAllDynamicData();this.runPostInitialisationSection();var e=this.filtersState(true);this.addState("FILTER_ACTIVE");if(!this.filtersRunTriggered)this.filtersRunTriggered=(new Date).valueOf();if(e===q.state.SESSION){this.addState("AWAITING_CALLBACK");this.awaitingCallback=
(new Date).valueOf()}else if(e===q.state.PASS){this.filtersPassed=(new Date).valueOf();try{this.onFiltersPassed()}catch(h){}this.run()}else if(e===q.state.FAIL){this._markFiltersFailed();this._markFinished()}else if(e>0){var c=this.config.filterTimeout;if(c<0||(new Date).valueOf()-this.filtersRunTriggered>c){if(!this._awaitingForFilterInformed){this._awaitingForFilterInformed=(new Date).valueOf();try{this.onFiltersDelayed()}catch(h){}}this._setTimeout(this.runIfFiltersPass.bind(this),e)}else{this._markFiltersFailed();
this._markFinished();this.filtersRunTimedOut=(new Date).valueOf()}}try{this.onFiltersCheck(e)}catch(h){}return e};b.prototype._markFiltersFailed=function(){this.addState("FILTERS_FAILED");this.filtersPassed=-(new Date).valueOf()};b.prototype.STATE={INITIAL:0,FILTER_ACTIVE:1,AWAITING_CALLBACK:2,FILTERS_FAILED:4,STARTED:8,LOADING_DEPENDENCIES:16,LOADED_DEPENDENCIES:32,LOADING_URL:64,LOADED_URL:128,EXECUTED:256,EXECUTED_WITH_ERRORS:512,FAILED_TO_LOAD_DEPENDENCIES:1024,FAILED_TO_LOAD_URL:2048,FAILED_TO_EXECUTE:4096,
TIMED_OUT:4096*2,UNEXPECTED_FAIL:4096*2*2,CANCELLED:4096*2*2*2};b.prototype.addState=function(e){b.SUPER.prototype.addState.call(this,e);try{b.onStateChange(this)}catch(C){}this.stateStack=[];var c=this.STATE;var h=this.state;var p=this.stateStack;if(h&c.INITIAL)p.push("Initial state.");if(h&c.FILTER_ACTIVE)p.push("Tag running with filters pass triggered.");if(h&c.FILTERS_FAILED)p.push("Filters failed to pass.");if(h&c.AWAITING_CALLBACK)p.push("Awaiting callback to run this tag. Not pooling.");if(h&
c.STARTED)p.push("Tag is initialised and loading has been started.");if(h&c.LOADING_DEPENDENCIES)p.push("Dependencies are being loaded.");if(h&c.LOADED_DEPENDENCIES)p.push("Dependencies loading process has been finished.");if(h&c.LOADING_URL)p.push("External URL is being loaded.");if(h&c.LOADED_URL)p.push("External URL has been loaded.");if(h&c.EXECUTED)p.push("Main script has been executed.");if(h&c.EXECUTED_WITH_ERRORS)p.push("Main script has been executed but errors occured.");if(h&c.FAILED_TO_LOAD_DEPENDENCIES)p.push("Dependencies has failed to load.");
if(h&c.FAILED_TO_LOAD_URL)p.push("URL location failed to load.");if(h&c.FAILED_TO_EXECUTE)p.push("Script failed to execute.");if(h&c.TIMED_OUT)p.push("Script timed out awaiting for dependencies.");if(h&c.UNEXPECTED_FAIL)p.push("Script occured UNEXPECTED exception and is failed.");if(h&c.CANCELLED)p.push("Tag has been cancelled.")};b.prototype.onTagInit=K;b.prototype.postInitialisationSection=K;b.onStateChange=K;b.prototype.onFiltersDelayed=K;b.prototype.onFiltersPassed=K;b.prototype.onFiltersCheck=
K;b.prototype.state=b.prototype.STATE.INITIAL;b.prototype.arePageVariablesLoaded=function(e){return u.allParameterVariablesReadyForTag(this,e)};b.prototype.getDependenciesToBeLoaded=function(e,c){var h=c||[];if(!this.arePageVariablesLoaded(e))h.push("page variables");return b.SUPER.prototype.getDependenciesToBeLoaded.call(this,e,h)};b.prototype.resolveAllDynamicData=function(){this.resolvePageVariables();this.resolveDependencies();this.resolveFilters()};b.prototype.resolveDependencies=function(){var e=
this.failedDependenciesToParse;if(e){this.failedDependenciesToParse=null;this.addDependenciesList(e,D.clientSpaceClasspath())}return this.dependencies};b.prototype.addClientVariablesMap=function(e){this.unresolvedClientVariablesMap=this._addVariablesMap(e,D.clientSpaceClasspath());return this.unresolvedClientVariablesMap};b.prototype.resolvePageVariables=function(){var e=this.unresolvedClientVariablesMap;if(e){this.unresolvedClientVariablesMap=null;this.addClientVariablesMap(e)}e=this.unresolvedVariablesMap;
if(e){this.unresolvedVariablesMap=null;this.addVariablesMap(e)}return this.getPageVariables()};b.prototype.addVariablesMap=function(e){this.unresolvedVariablesMap=this._addVariablesMap(e);return this.unresolvedVariablesMap};b.prototype._addVariablesMap=function(e,c){if(!e)return;var h={};var p=this.namedVariables;for(var C in e)if(e.hasOwnProperty(C)){var N=e[C];if(N instanceof v)p[C]=N;else if(typeof N==="string"){var O=N;if(c)N=c+"."+N;var Q=r.getObjectUsingPath(N);if(Q)if(Q instanceof v)p[C]=Q;
else p[C]=N;else h[C]=O}else;}return h};b.prototype.prepareURL=function(e){return this.replaceTokensWithValues(e)};b.prototype.prepareLocationObject=function(e){return this.replaceTokensWithValues(e)};b.prototype.prepareHTML=function(e){if(e)e=this.replaceTokensWithValues(e);return e};b.prototype._executeScript=function(){if(this.config&&this.config.script)if(typeof this.config.script==="function")this.script=this.config.script;else{var e=this.replaceTokensWithValues(String(this.config.script));this.script=
r.expressionToFunction(e).bind(this)}b.SUPER.prototype._executeScript.call(this)};b.prototype.replaceTokensWithValues=function(e){if(!e||e.indexOf("${")===-1)return e;var c=this.parameters;if(c)for(var h=0;h<c.length;h++){var p=c[h];var C=this.getVariableForParameter(p);if(C){var N=c[h].token;var O=this.valueForToken(N);e=C.replaceToken(N,e,O)}}return e};b.prototype.getParameter=function(e){var c=this.parameters;var h=null;if(c)for(var p=0;p<c.length;p++)if(c[p].name===e)h=c[p];return h};b.prototype.setParameterValueByTokenName=
function(e,c){var h=this.getParameterByTokenName(e);if(h!==null){h.variable={value:c};return true}return false};b.prototype.getParameterValue=function(e,c){var h=typeof e==="string"?this.getParameter(e):e;if(h){var p=this.getVariableForParameter(h);if(p)try{var C;if(c&&h.defaultValue!=="")C=r.gevalAndReturn(h.defaultValue).result;C=p.getRelativeValue(c,C);return C}catch(N){return undefined}}return undefined};b.prototype.filtersState=function(e){var c=e;return y.filtersState(this.filters,this.session,
this,c)};b.prototype.addFilter=function(e){r.addToArrayIfNotExist(this.filters,e)};b.prototype.addFilters=function(e){for(var c=0;c<e.length;c++)this.addFilter(e[c])};b.prototype.addClientFiltersList=function(e){this.unresolvedClientFilterClasspaths=this.addFiltersList(e,D.clientSpaceClasspath());return this.unresolvedClientFilterClasspaths};b.prototype.resolveFilters=function(){var e=this.unresolvedClientFilterClasspaths;if(e){this.unresolvedClientFilterClasspaths=null;this.addClientFiltersList(e)}return this.filters};
b.prototype.addFiltersList=function(e,c){var h=[];for(var p=0;p<e.length;p++)try{var C=e[p];var N=C;var O=null;if(typeof C==="string"){O=C;if(c)C=c+"."+C;C=r.getObjectUsingPath(C)}if(typeof C==="function"){var Q=C;C=new Q}if(!C);if(!C instanceof q)C=null;if(C)this.addFilter(C);else if(O)r.addToArrayIfNotExist(h,O)}catch(R){this.failedFilters=this.failedFilters||[];this.failedFilters.push(e[p])}return h};b.prototype.reset=function(){b.SUPER.prototype.reset.call(this);var e;this.filtersPassed=e;this.dedupePingSent=
false;this.oldDedupePingSent=false;this.pingSent=false;this.oldPingSent=false;this._runOnceIfFiltersPassTriggered=e;this.filtersRunTriggered=e;this._runner=e;this.reRunCounter=0;this.detachVariablesChangedListeners()};b.prototype.resetFilters=function(){for(var e=0;e<this.filters.length;e++)this.filters[e].reset()};b.prototype.getParameterByTokenName=function(e){var c=null;if(this.parameters){var h=this.parameters;for(var p=0;p<h.length;p++)if(h[p].token===e)c=h[p]}return c};b.prototype.removeFilter=
function(e){r.removeFromArray(this.filters,e)};var g=0;var x=[];var E={};var G={};b.register=function(e){var c=r.addToArrayIfNotExist(x,e);if(c===-1)e._tagIndex=x.length-1;else e._tagIndex=c;if(e.config.id){var h="Q"+e.config.id;G[h]=e;e.uniqueId=h}else G[e.CLASSPATH]=e};b.getById=function(e){return G[String(e)]};b.prototype.getById=b.getById;b.prototype.unregister=function(e){b.unregister(e||this)};b.prototype.destroy=function(){this.destroyed=true;this.cancel();b.unregister(this)};b.unregister=
function(e){var c=r.removeFromArray(x,e);e._tagIndex=-1};b.getTags=function(){return x};b.getAccessorsMap=function(){return E};b.prototype.getTags=function(){return x};b.prototype.getPageVariables=function(){var e=this.parameters;var c=[];if(e)for(var h=0;h<e.length;h++){var p=this.getVariableForParameter(e[h]);if(this._isVariable(p))r.addToArrayIfNotExist(c,p)}if(this.namedVariables)for(var C in this.namedVariables)r.addToArrayIfNotExist(c,z(this,C));return c};b.prototype.getAccessorString=function(){if(!this._accessorsMapKey){this._accessorsMapKey=
"_"+g++;E[this._accessorsMapKey]=this}return"qubit.opentag.BaseTag.getAccessorsMap()."+this._accessorsMapKey};b.prototype.getVariableForParameter=function(e){var c;var h=this.namedVariables;if(h&&h[e.token])c=z(this,e.token);if(!c)c=u.validateAndGetVariableForParameter(e);return c};b.prototype.printVariablesState=function(){var e=[];var c=u.getAllVariablesWithParameters(this);for(var h=0;h<c.length;h++){var p=c[h].parameter;var C=c[h].variable;var N;if(p&&p.token)N=this.valueForToken(p.token);else N=
C.getRelativeValue(true);var O={name:C.config.name,exists:C.exists(),token:p?p.token:null,value:N,variable:C};e.push(O)}return e};b.prototype._triggerOnLoadTimeout=function(){this.onLoadTimeout()};b.prototype.getId=function(){return this._getUniqueId()};b.prototype._getUniqueId=function(){if(this.config.id)return this.config.id;if(String(this.CLASSPATH).indexOf(D.STANDARD_CS_NS)===0)return this.CLASSPATH.substring(D.STANDARD_CS_NS.length+1);else return this.CLASSPATH+"#"+this.config.name};var n="qubit.tag.forceRunning_";
var m="qubit.tag.disableRunning_";var t="qubit.tag.forceAllToRun";b.prototype.cookieSaysToRunEvenIfDisabled=function(){var e=this._getUniqueId();var c=!!w.get(t);if(!c)c=!!w.get(n+e);return c};b.prototype.setCookieForcingTagToRun=function(){var e=this._getUniqueId();w.set(n+e,"true")};b.setCookieForcingTagsToRun=function(){w.set(t,"true")};b.prototype.setCookieToDisable=function(){var e=this._getUniqueId();w.set(m+e,"true")};b.prototype.rmCookieToDisable=function(){var e=this._getUniqueId();w.rm(m+
e)};b.prototype.disabledByCookie=function(){var e=this._getUniqueId();return!!w.get(m+e)};b.rmCookieForcingTagsToRun=function(){w.rm(t)};b.prototype.rmCookieForcingTagToRun=function(){var e=this._getUniqueId();w.rm(n+e)};b.rmAllDisablingCookies=function(){r.rmCookiesMatching(m)};b.rmAllCookiesForcingTagToRun=function(){r.rmCookiesMatching(n);b.rmCookieForcingTagsToRun()};b.prototype.onVariableChanged=function(e){this.attachVariablesChangedListeners(true);this.events.on("variableChanged",e)};b.prototype._handleVariableChange=
function(e){this.events.call("variableChanged",e);if(!this.isRunning&&this.config.reRunOnVariableChange){if(!isNaN(this.config.reRunLimit))if(this.config.reRunLimit<=this.reRunCounter)return;var c=this.reRunCounter+1;this.reset();this.reRunCounter=c;this.resetFilters();this.runIfFiltersPass()}};b.prototype.attachVariablesChangedListeners=function(e){var c=this.getPageVariables();var h=!!(this.config.reRunOnVariableChange||this.config.observeVariables||e);if(h)for(var p=0;p<c.length;p++){var C=c[p];
C.onValueChanged(this.handleVariableChange,h)}};b.prototype.detachVariablesChangedListeners=function(){var e=this.getPageVariables();for(var c=0;c<e.length;c++){var h=e[c];h.deatchOnValueChanged(this.handleVariableChange)}};b.prototype._markFinished=function(){b.SUPER.prototype._markFinished.call(this);this.attachVariablesChangedListeners()};b.prototype.prepareForRestart=function(e){if(this.config.restartable){b.SUPER.prototype.prepareForRestart.call(this,false);if(!e){var c=this.getFilters();for(var h=
0;h<c.length;h++)c[h].prepareForRestart()}}};b.prototype.restart=function(e){if(this.config.restartable){this.prepareForRestart(e);this.runIfFiltersPass()}};b.prototype.runPostInitialisationSection=function(){if(!this._postInitialisationRun){this._postInitialisationRun=true;if(this.postInitialisationSection)try{this.postInitialisationSection()}catch(e){}}}})();(function(){function b(f){r.setIfUnset(f,b.defaultConfig);if(this.singleton){var q=this.PACKAGE_NAME+"."+this.CLASS_NAME;var d=k.opentag.Utils.getObjectUsingPath(q,
A);if(d.__instance)return d.__instance;d.__instance=this}b.SUPER.call(this,f)}function z(f,q){var d=f.toString();d=d.replace(/\s*function\s*\([\w\s,_\d\$]*\)\s*\{/,"");d=d.substring(0,d.lastIndexOf("}"));d=d.replace(/(["']\s*\+\s*)\s*_*\w+\s*\.\s*valueForToken\s*\(\s*'([^']*)'\s*\)/g,'$1"${$2}"');d=d.replace(/\s*_*\w+\s*\.\s*valueForToken\s*\(\s*'([^']*)'\s*\)(\s*\+\s*["'])/g,'"${$1}"$2');d=d.replace(/(["']\s*\+\s*)\s*_*\w+\s*\.\s*valueForToken\s*\(\s*"([^"]*)"\s*\)/g,'$1"${$2}"');d=d.replace(/\s*_*\w+\s*\.\s*valueForToken\s*\(\s*"([^"]*)"\s*\)(\s*\+\s*["'])/g,
'"${$1}"$2');d=d.replace(/(\s*)_*\w+\s*\.\s*valueForToken\s*\(\s*'([^']*)'(\s*)\)/g,"$1${$2}$3");d=d.replace(/(\s*)_*\w+\s*\.\s*valueForToken\s*\(\s*"([^"]*)"(\s*)\)/g,"$1${$2}$3");d=q.replaceTokensWithValues(d);r.geval(d)}var r=k.opentag.Utils;var y=k.Define;k.Define.clazz("qubit.opentag.LibraryTag",b,k.opentag.BaseTag);b.defaultConfig={vendor:null,imageUrl:null,description:"",async:false,isPrivate:false,upgradeable:true,html:"",parameters:[],prePostWindowScope:false};b.prototype.pre=function(){};
b.prototype.post=function(){};b.prototype.before=function(){b.SUPER.prototype.before.call(this);try{var f=this.config;if(f&&f.pre)if(typeof f.pre==="function")this.pre=f.pre;else{var q=this.replaceTokensWithValues(String(f.pre));this.pre=r.expressionToFunction(q).bind(this)}if(this.config.prePostWindowScope&&this.pre!==b.prototype.pre&&this.pre.toString)z(this.pre,this);else this.pre()}catch(d){return true}return false};b.prototype.after=function(f){b.SUPER.prototype.after.call(this,f);try{var q=
this.config;if(q&&q.post)if(typeof q.post==="function")this.post=q.post;else{var d=this.replaceTokensWithValues(String(q.post));this.post=r.expressionToFunction(d).bind(this)}if(this.config.prePostWindowScope&&this.post!==b.prototype.post&&this.post.toString)z(this.post,this);else this.post(f)}catch(u){}};b.define=function(f,q){f=f.replace(/^[\.]+/g,"").replace(/[\.]+$/g,"").replace(/\.+/g,".");f=k.Define.vendorsSpaceClasspath(f);var d={};if(q.getDefaultConfig)d=q.getDefaultConfig();var u=q.CONSTRUCTOR;
var v={};for(var w in q)if(w!=="config")v[w]=q[w];var D=function(E){E=E||{};E=r.overrideFromLeftToRight(d,E);var G=k.opentag.LibraryTag.call(this,E);if(u)u.call(this,E);if(G)return G};var g=k.opentag.Utils.defineWrappedClass(f,b,v,H,D);var x=y.STANDARD_VS_NS+".";if(f.indexOf(x)!==0)r.namespace(x+f,g);return g};b.getLibraryByClasspath=function(f){return r.getObjectUsingPath(f,k.Define.getVendorSpace())}})();(function(){function b(r){var y={url:null,html:"",locationPlaceHolder:"NOT_END",locationObject:"BODY",
async:true};z.setIfUnset(r,y);b.SUPER.call(this,r)}var z=k.opentag.Utils;k.Define.clazz("qubit.opentag.CustomTag",b,k.opentag.LibraryTag)})();(function(){var b=k.opentag.Utils;var z=k.opentag.filter.BaseFilter;var r=function(){};k.Define.clazz("qubit.opentag.Tags",r);r.getById=function(f){return k.opentag.BaseTag.getById(String(f))};r.getAllTagsByState=function(){return k.opentag.Container.getAllTagsByState(r.getTags())};r.findTagByName=function(f){var q=this.getTags();var d=[];for(var u=0;u<q.length;u++)if(q[u].config.name===
f)d.push(q[u]);return d};r.findTagByMatch=function(f){var q=this.getTags();var d=[];for(var u=0;u<q.length;u++)if(q[u].config.name.match(f))d.push(q[u]);return d};r.findTagContainers=function(f){var q=r.getContainers();var d=[];for(var u=0;u<q.length;u++){var v=q[u].tags;for(var w in v)if(v[w]===f){d.push(q[u]);break}}return d};r.getTags=function(){return k.opentag.BaseTag.getTags()};r.resetAllTags=function(f){var q=r.getTags();for(var d=0;d<q.length;d++){q[d].reset();if(!f)q[d].resetFilters()}};
r.getContainersPageVariables=function(){var f=r.getContainers();var q=[];for(var d=0;d<f.length;d++)q=q.concat(f.getPageVariables());return q};r.getAllPageVariables=function(){var f=r.getTags();var q=[];for(var d=0;d<f.length;d++)q=q.concat(f[d].getPageVariables());return q};r.cancelAll=function(){var f=r.getTags();for(var q=0;q<f.length;q++)f[q].cancel()};r.resetAll=function(f){var q=r.getTags();for(var d=0;d<q.length;d++){q[d].reset();if(!f)q[d].resetFilters()}};r.getPageVariableByName=function(f){var q=
r.getAllPageVariables();var d=[];for(var u=0;u<q.length;u++)if(q[u].config.name===f)d.push(q[u]);return d};r.getLoadTime=function(f){var q=f.beforeRun;var d=f.runIsFinished;if(isNaN(d))return{tag:f,loadTime:null};else return{tag:f,loadTime:d-q}};r.getLoadTimes=function(f){var q=[];if(f instanceof k.opentag.BaseTag){q.push([r.getLoadTime(f[v])]);return q}f=f||r.getTags();var d=f instanceof Array;if(d)for(var u=0;u<f.length;u++){if(f[u]instanceof k.opentag.BaseTag)q.push(r.getLoadTime(f[u]))}else for(var v in f)if(f[v]instanceof
k.opentag.BaseTag)q.push(r.getLoadTime(f[v]));return q};r.forceAllContainersAndTagsToRunIfDisabled=function(){k.opentag.Container.setCookieForDisabledContainersToRun();k.opentag.BaseTag.setCookieForcingTagsToRun()};r.rmAllContainersAndTagsForcingFlags=function(){k.opentag.Container.rmCookieForDisabledContainersToRun();k.opentag.BaseTag.rmAllCookiesForcingTagToRun()};r.getContainers=function(){return k.opentag.Container.getContainers()};r.findAllTagsByClassPath=function(f){var q=(new Date).valueOf();
var d=[];var u=[];try{u.push(k.opentag.CustomTag);u.push(k.opentag.LibraryTag)}catch(g){}var v=r.getTags();for(var w=0;w<v.length;w++){var D=v[w];if(b.indexInArray(u,D)<0&&D.PACKAGE_NAME.indexOf(f)===0)d.push(D)}return d};r.findAllTags=function(f,q){var d=k.opentag.BaseTag;var u;var v=[];var w=(new Date).valueOf();try{v.push(k.opentag.CustomTag);v.push(k.opentag.LibraryTag)}catch(D){}u=r.findAllInstances(f,d,v,q);return u};var y=function(f,q,d,u){var v=[];if(typeof f==="string")f=b.getObjectUsingPath(f);
if(f){var w={objectsOnly:true};if(u)w.maxDeep=true;var D=function(g,x,E,G){if(q(g)){for(var n=0;n<d.length;n++)if(d[n]===g)return true;b.addToArrayIfNotExist(v,g);return true}return false}.bind(this);b.traverse(f,D,w)}return v};r.findAllInstances=function(f,q,d,u){var v=function(w){return w instanceof q};return y(f,v,d,u)};r.findAllInheriting=function(f,q,d,u){var v=function(w){return w.prototype instanceof q};return y(f,v,d,u)};r.findAllFilters=function(f,q){var d=[];try{d.push(k.opentag.filter.Filter);
d.push(k.opentag.filter.URLFilter)}catch(u){}return r.findAllInheriting(f,z,d,q)}})();M.cookie={};M.cookie.PageView={};M.cookie.PageView.update=function(){var b;var z;z=function y(){return Math.floor(1+Math.random()*65536).toString(36).substring(1)};if(!window.__pageViewId__){b=(new Date).getTime().toString(36);window.__pageViewId__=b+z()+z()+z()}return window.__pageViewId__};M.html.PostData=function(b,z,r,y){var f;var q;var d;var u;var v;var w;var D;var g;var x;var E;E=2;x=5E3;D=false;g=function(){if(E>
0)setTimeout(function(){if(!D){E-=1;f()}},x)};q=navigator.userAgent.toLowerCase();d=q.indexOf("msie")!==-1;u=q.indexOf("msie 9")!==-1;v=q.indexOf("msie 7")!==-1||q.indexOf("msie 6")!==-1;w=("https:"===document.location.protocol?"https:":"http:")+b;r=r||"POST";f=function(){var G;try{G=null;try{G=new XMLHttpRequest}catch(n){}if(G&&!d)G.open(r,w,true);else if(typeof XDomainRequest!=="undefined"){G=new XDomainRequest;G.open(r,w)}else G=null;try{G.withCredentials=false}catch(n){}if(G.setRequestHeader)if(y)G.setRequestHeader("Content-Type",
y);else G.setRequestHeader("Content-Type","text/plain;charset\x3dUTF-8");G.onload=function(){D=true};G.onreadystatechange=function(){};G.ontimeout=function(){};G.onerror=function(){};G.onprogress=function(){};G.send(z)}catch(n){try{try{M.html.fileLoader.load(w)}catch(m){if(window.console&&window.console.log)window.console.log(n)}}catch(m){}}};if(v){M.html.fileLoader.load(w);return}else f()};(function(){function b(){}function z(y,f){var q={};q.clientId=""+f.clientId;q.containerId=""+y.getContainerId();
q.classpath=""+y.PACKAGE_NAME;q.opentagStats=true;if(y.sentPing)q.containerLoad=false;else{y.sentPing=(new Date).valueOf();q.containerLoad=true}q.isS3=false;q.pageViewId=M.cookie.PageView.update();q.tags=[];return q}var r="text/plain;charset\x3dUTF-8";k.Define.clazz("qubit.opentag.Ping",b);b.prototype.sendErrors=function(y,f){};b.getPingID=function(y){if(y.config.id)return y.config.id;var f=y.PACKAGE_NAME.lastIndexOf(".");if(f!==-1)return y.PACKAGE_NAME.substring(f+1);else return y.PACKAGE_NAME};
b.prototype.send=function(y,f){var q=y.config;var d=z(y,q);var u=d.tags;var v=q.pingServerUrl;for(var w=0;w<f.length;w++){var D=f[w].tag;var g=f[w].loadTime;if(g===null||isNaN(g))continue;var x={};var E=b.getPingID(D);if(!D.pingSent&&E&&g!==null)if(E!==undefined){x.tagId=E;x.loadTime=g;x.fired=true;u.push(x);D.pingSent=true}else;else if(D.pingSent);else if(g===null);}if(v&&(u.length>0||d.containerLoad)){var G=I.stringify(d);var n="//"+v;M.html.PostData(n,G,"POST",r)}else{if(!u.length);if(!v);}};b.prototype.sendDedupe=
function(y,f){var q=y.config;var d=z(y,q);var u=q.pingServerUrl;var v=d.tags;for(var w=0;w<f.length;w++){var D=f[w];var g=b.getPingID(D);var x={};if(g===undefined);else if(!D.dedupePingSent){x.tagId=""+g;x.fired=false;x.loadTime=0;v.push(x);D.dedupePingSent=true}}if(u&&(v.length>0||d.containerLoad)){var E=I.stringify(d);var G="//"+u;M.html.PostData(G,E,"POST",r)}else{if(!v.length);if(!u);}}})();M.cookie.SimpleSessionCounter={};M.cookie.SimpleSessionCounter._cookieName="_qst_s";M.cookie.SimpleSessionCounter._sessionCookie=
"_qsst_s";M.cookie.SimpleSessionCounter.update=function(b){var z;var r;var y;var f=30;z=k.Cookie.get(M.cookie.SimpleSessionCounter._cookieName);r=k.Cookie.get(M.cookie.SimpleSessionCounter._sessionCookie);if(!z)z=1;else{z=parseInt(z,10);if(!r||parseInt(r,10)<(new Date).getTime()-f*60*1E3)z+=1}k.Cookie.set(M.cookie.SimpleSessionCounter._cookieName,z,365,b);k.Cookie.set(M.cookie.SimpleSessionCounter._sessionCookie,(new Date).getTime().toString(),null,b);return z};(function(){function b(v){if(v)if(v.alphabet){this.alphabet=
v.alphabet;this.dict={};for(var w=0;w<this.alphabet.length;w++)this.dict[this.alphabet[w]]=w}else{this.alphabet=r;this.dict=q}}function z(v,w){for(var D in w)if(v===w[D])return D;return null}var r=[];var y=Math.pow(2,8);for(var f=0;f<y;f++)r.push(String.fromCharCode(f));var q={};for(var d=0;d<r.length;d++)q[r[d]]=d;var u=k.Define;u.clazz("qubit.compression.LZW",b);b.prototype.encode=function(v){var w=this.alphabet.length;var D={};var g=[];var x=0;var E=v.charAt(x++);var G;for(var n=this.dict;!!(G=
v.charAt(x++));){var m=E+G;if(n.hasOwnProperty(m)||D.hasOwnProperty(m))E=m;else{var t=n.hasOwnProperty(E)?n[E]:D[E];if(t===undefined)throw"Dictionary base is to small for those contents: "+E;g.push(t);D[m]=w++;E=G}}if(E!=="")g.push(D.hasOwnProperty(E)?D[E]:n[E]);return g};b.prototype.decode=function(v){var w=this.dict;var D=this.alphabet.length;var g;var x={};var E=z(v[0],w);var G=E;var n=[E];for(var m=1;m<v.length;m++){var t=v[m];g=z(t,w);if(g===null){if(x.hasOwnProperty(t))g=x[t];if(g===null)g=
G+E}n.push(g);E=g.charAt(0);x[D++]=G+E;G=g}return n.join("")}})();(function(){function b(n){var m=0;var t=n<0;if(t)n=-n;var e="";var c=true;do{m=n%x;if(c){e=w[g[m]];c=false}else e=g[m]+e;n=(n-m)/x}while(n>0);if(t)return"-"+e;return e}function z(n){var m=0;var t=0;var e=true;for(var c=0;c<n.length;c++){var h=n.charAt(n.length-1-c);if(e){e=false;h=y.charAt(u[h])}m+=q[h]*Math.pow(x,t++)}return m}function r(n){}var y="abcdefghijklmnopqrstuvwxyz"+"0123456789"+"'%./:\x3c\x3e?[";var f="ABCDEFGHIJKLMNOPQRSTUVWXYZ"+
"*!-+()@{|}"+'"]^_`~$\x26#';var q={};for(var d=0;d<y.length;d++)q[y.charAt(d)]=d;var u={};for(var v=0;v<y.length;v++)u[f.charAt(v)]=v;var w={};for(var D=0;D<y.length;D++)w[y.charAt(D)]=f.charAt(D);var g=y.split("");var x=g.length;var E=new k.compression.LZW({});var G=k.Define;G.clazz("qubit.compression.Compressor",r);r.prototype.compress=function(n,m){var t=(m||E).encode(n);var e=[];for(var c=0;c<t.length;c++)e.push(String.fromCharCode(t[c]));return e.join("")};r.prototype.compressAnsi=function(n,
m){var t=(m||E).encode(n);var e=[];for(var c=0;c<t.length;c++){var h=b(t[c]);e.push(h)}return e.join("")};r.prototype.decompressAnsi=function(n,m){var t=[];var e="";for(var c=0;c<n.length;c++){var h=n.charAt(c);if(u.hasOwnProperty(h)){var p=e+h;e="";p=z(p);t.push(p)}else e+=h}return(m||E).decode(t)};r.prototype.decompress=function(n,m){var t=[];for(var e=0;e<n.length;e++)t.push(n.charCodeAt(e));return(m||E).decode(t)}})();(function(){function b(t){var e=[];for(var c=0;c<t.length;c++){var h=q(t[c][0]);
e.push([new RegExp(h,"g"),"*"+t[c][1]])}return e}function z(t,e){for(var c=0;c<e.length;c++)if(e[c][1]===t)return e[c][0];return null}function r(t){this._regexDefs=g;this._defs=D;if(t)if(t.definitions){this._regexDefs=b(t.definitions);this._defs=t.definitions}}function y(t,e){var c=[];for(var h=0;h<t.length;h++){var p=true;if(e)p=t.charCodeAt(h)<=e;var C=w.cookieAlphabetMap.hasOwnProperty(t.charAt(h));if(p&&!C)c.push("*"+t.charCodeAt(h)+".");else c.push(t.charAt(h))}return c.join("")}function f(t,
e){e=e.replace(/@/g,"@@");var c=[];var h=0;for(var p=0;h<t.length;h++){var C=t[h][0];var N=new RegExp(q(C),"g");var O=e.replace(N,"@"+p+"-");if(O!==e){c.push(t[h][0]);p++;e=O}}return[e,c]}function q(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function d(t){var e={};var c="";for(var h=0;h<t.length;h++){var p=t.charAt(h);if(!E[p]){if(isNaN(e[c]))e[c]=t.split(c).length-1;c=""}else c+=p}var C=[];for(var N in e)if(e.hasOwnProperty(N)){var O=e[N];if(O>=m&&N.length>=n)C.push([N,O])}C=C.sort(function(Q,
R){if(Q[0].length===R[0].length)return 0;if(R[0].length>Q[0].length)return 1;else return-1});return C}function u(t,e){if(!e||e.length===0||!t)return t;var c="";var h=false;var p=false;var C="";for(var N=0;N<t.length;N++){var O=t.charAt(N);if(O==="@"||h||p)if(h||p){h=false;if(O==="@")c+="@";else if(!isNaN(+("-"+O))){p=true;C=C+O}else if(p){if(e&&O==="-"&&e[+C])c+=e[+C];else c+="@"+C+O;C="";p=false}else c+="@"+O}else h=true;else c+=O}if(C)c+="@"+C;if(h)c+="@";return c}var v=k.Define;var w=k.Cookie;
var D=[['","referrer":[{"url":"http://',"1-"],['","referrer":[{"url":"https://',"2-"],[',"referrer":[{"url":"http://',"3-"],[',"referrer":[{"url":"https://',"4-"],[',"sessionStartTime":',"5-"],["www.google.co.uk","6-"],["www.google.","7-"],['"sessionStartTime":',"8-"],['"landing":"',"9-"],["http%3A%2F%2Fwww","10-"],['"landing":',"L"],['"time":',"A"],['"pageViews":',"P"],['"sessionCount":',"B"],['"referrer":',"R"],['"url":"http://www.',"J"],['"url":"https://www.',"M"],['"url":"',"I"],['"url":',"U"],
["http://www.","W"],["https://www.","V"],["%2Fen%2Ftsuk%2F","K"],['"sessionLandingPage":',"F"],["http%3A%2F%2F","D"],["http://","H"],["https://","X"],['""',"O"],['",',"Y"],['":{}}',"z"],["\x3c","S"],["\x3e","G"],["[","Z"],["]","E"],["{","a"],["}","b"],["(","c"],[")","d"],["!","e"],["#","f"],["$","g"],["!","q"],["'","i"],[":","j"],["?","k"],["^","x"],["`","m"],["|","n"],["~","o"],["%","v"],[",","C"]];var g=b(D);v.clazz("qubit.opentag.compression.Encoder",r);r.prototype.encode=function e(c,h){var p=
c.replace(/\*/g,"**");var C=d(p);for(var N=0;N<this._regexDefs.length;N++){var O=this._regexDefs[N];p=p.replace(O[0],O[1])}p=p.replace(/;/g,"*-");p=p.replace(/&/g,"*.");p=p.replace(/\\/g,"*/");p=p.replace(/=/g,"*+");p=p.replace(/\n/g,"*N");p=p.replace(/ /g,"*_");p=p.replace(/\t/g,"*T");p=p.replace(/"/g,"*Q");var Q=d(p);Q.concat(C);var R=f(Q,p);var U=R[1];var W=U.length>0;if(W)p=R[0];if(!h)p=y(p);else p=y(p,h);if(W)return"Y"+U.join("*")+"@"+p;else return"N"+p};var x="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ+_.";
var E={};for(var G=0;G<x.length;G++)E[x.charAt(G)]=true;var n=4;var m=2;r.prototype.decode=function(e){var c=null;if(e.charAt(0)==="N")e=e.substring(1);else if(e.charAt(0)==="Y"){var h=e.indexOf("@");if(h>=0){c=e.substring(1,h);c=c.split("*");e=e.substring(h+1);e=u(e,c)}}var p="";var C=false;var N=false;var O="";for(var Q=0;Q<e.length;Q++){var R=e.charAt(Q);if(R==="*"||C||N)if(C||N){C=false;if(!isNaN(+("-"+R))){O=O+R;N=true}else if(N){if(R===".")p+=String.fromCharCode(+O);else if(R==="-"&&z(O+"-",
this._defs))p+=z(O+"-",this._defs);else p+="*"+O+R;O="";N=false}else if(R==="*")p+="*";else if(R==="-")p+=";";else if(R==="/")p+="\\";else if(R===".")p+="\x26";else if(R==="+")p+="\x3d";else if(R==="N")p+="\n";else if(R==="_")p+=" ";else if(R==="T")p+="\t";else if(R==="Q")p+='"';else if(z(R,this._defs)!==null){var U=z(R,this._defs);p+=U}else p+="*"+R}else C=true;else p+=R}if(O)p+="*"+O;if(C)p+="*";return p}})();(function(){function b(f){this.testBinary=false;this.binSupported=y;if(f){this.compressor=
new k.compression.Compressor;this.encoder=new k.opentag.compression.Encoder({})}}var z=k.Define;var r=k.Cookie;var y=false;z.clazz("qubit.opentag.compression.CookieCompressor",b);b.prototype.compress=function(f,q){if(typeof f!=="string"||f==="")return f;var d=this.encoder.encode(f);var u;if(this.binSupported||this.testBinary){var v=this.compressor.compress(d);u='"B'+this.encoder.encode(v,128)+'"';r.set("__qtag_test_bin__",u,undefined,undefined,true);var w=r.get("__qtag_test_bin__",true);r.rm("__qtag_test_bin__");
if(w&&w!==u)u=null}var D;var g=this.encoder.encode(this.compressor.compressAnsi(d));if(!q&&d.length<=g.length)D="E"+d;else D="C"+g;if(u&&u.length<D.length)return u;else return D};b.prototype.decompress=function(f){if(typeof f!=="string"||f==="")return f;if(f.charAt(0)==='"')f=f.substring(1,f.length-1);var q=f.charAt(0);f=f.substring(1);switch(q){case "E":return this.encoder.decode(f);case "C":var d=this.compressor.decompressAnsi(this.encoder.decode(f));return this.encoder.decode(d);case "B":var u=
this.compressor.decompress(this.encoder.decode(f));return this.encoder.decode(u);default:throw"This code is not supported! Code: "+q;}}})();(function(){var b=k.Cookie;var z=k.opentag.Utils;var r=function(){};k.Define.clazz("qubit.opentag.Session",r);var y=new k.opentag.compression.CookieCompressor({});r.readCompressedCookie=function(f){var q=b.get(f,true);return y.decompress(q)};r.setupSession=function(f){var q=f.config;var d;var u;var v;var w;var D;var g;d={};d.sessionCount=M.cookie.SimpleSessionCounter.update(q.cookieDomain);
D="qtag_"+f.getContainerId();var x="x_qtag_"+f.getContainerId();v=b.get(D);var E=!!v;if(v===null){v=b.get(x,true);v=y.decompress(v)}if(v)try{v=I.parse(v)}catch(n){v={sc:0,sessionCount:0,pageViews:0,sessionStartTime:0,referrer:[],sessionLandingPage:"",__v:{}}}else v={sc:0,sessionCount:0,pageViews:0,sessionStartTime:0,referrer:[],sessionLandingPage:"",__v:{}};g=(new Date).getTime();if(d.sessionCount!==parseInt(v.sc,10)){v.sessionStartTime=g;v.sc=d.sessionCount;v.sessionCount+=1;v.referrer.push({url:r.getReferrer(),
landing:z.getUrl().substring(0,300),time:g});v.sessionLandingPage=z.getUrl().substring(0,300)}else if(r.isReferrerDifferent())if(!r.referrerIsSameAsPrevious(v.referrer,g,30*60*1E3)){v.referrer.push({url:r.getReferrer(),landing:z.getUrl().substring(0,300),time:g});v.sessionLandingPage=z.getUrl().substring(0,300);v.sessionStartTime=g;v.sessionCount+=1}d.sessionCount=v.sessionCount;d.sessionStartTime=v.sessionStartTime;d.pageStartTime=g;v.pageViews+=1;d.pageViews=v.pageViews;d.sessionLandingPage=v.sessionLandingPage;
d.referrer=v.referrer;if(d.referrer.length>5)d.referrer.splice(2,d.referrer.length-5);w=I.stringify(v);for(u=0;y.compress(w).length>q.maxCookieLength&&u<5;){if(v.referrer.length>=3)v.referrer.splice(2,1);else if(v.referrer.length===2)v.referrer=[v.referrer[0]];else if(v.referrer.length===1)v.referrer=[];w=I.stringify(v);u+=1}d.referrer=v.referrer;if(E)b.rm(D);var G=y.compress(w);b.rm(x);if(q.maxCookieLength>0)b.set(x,G,365,q.cookieDomain,true);d.setVariable=function(n,m,t){var e=!!t?t:0;v.__v[n]=
[m,e];var c=y.compress(I.stringify(v));if(q.maxCookieLength>0)b.set(x,c,365,q.cookieDomain,true);else b.rm(x)};d.getCookie=function(n,m){var t=b.get(n,true);if(t&&(m||n.indexOf("x_")===0))try{t=y.decompress(t)}catch(e){}else if(t!==null)t=b.decode(t);return t};d.getVariable=function(n){var m;var t;var e;m=v.__v[n];if(m){t=m[1];if(t===0||t>(new Date).getTime())return m[0]}return null};d.on=function(n,m,t){if(m.attachEvent)m.attachEvent("on"+n,t);else if(m.addEventListener)m.addEventListener(n,t,false)};
d.getTagCookie=function(){return r.readCompressedCookie(x)};r.lastSession=d;return d};r.referrerIsSameAsPrevious=function(f,q,d){var u;var v;var w;if(f.length>0){u=r.getReferrer();v=z.getUrl().substring(0,300);w=f[f.length-1];return w.url===u&&w.landing===v&&w.time+d>q}return false};r.isReferrerDifferent=function(){var f;var q;var d;d=r.getReferrer();f=d.indexOf("://");if(f===-1)return true;f+=3;try{if(d.substring(f).indexOf(r.getDomain())!==0)return true;return false}catch(u){return true}};r.getReferrer=
function(){if(document.referrer)return document.referrer.substring(0,300);return"direct"};r.getDomain=function(){return document.location.host}})();(function(){function b(){}var z=k.opentag.LibraryTag;var r=k.Define;b.library=function(){return z.define.apply(z,arguments)};b.libraryRef=function(){return z.getLibraryByClasspath.apply(z.getLibraryByClasspath,arguments)};r.namespace("qubit.Quick",b)})();(function(){function b(n){this.runQueue=[];this.tags=[];this.config={cookieDomain:"",maxCookieLength:1E3,
gzip:true,delayDocWrite:false,clientId:"",name:"",tellLoadTimesProbability:null,pingServerUrl:null,trackSession:null,disabled:false,containerId:"",scanTags:false,noPings:false,restartable:true};this.ignoreTagsState=false;if(n){this.setConfig(n);if(!n.name)this.config.name="Cont-"+D++;b.register(this);if(b.NO_PINGS)this.config.noPings=true;this.ping=new k.opentag.Ping(this.config);this._sendPingsTrigger=this.sendPings.bind(this);if(n.init)try{n.init.call(this,n)}catch(t){}var m=this;this._tagLoadedHandler=
function(t){if(m._containerAlreadySentPings){m.sendPingsNotTooOften();if(t.success);}}}this.events=new k.Events({});return this}function z(n,m,t,e){if(n[t]){e[t]=e[t]+1||1;t+="("+e[t]+")"}n[t]=m}var r=k.opentag.Utils;var y=k.opentag.filter.BaseFilter;var f=k.opentag.filter.Filter;var q=k.opentag.BaseTag;var d=k.opentag.Timed;var u=k.opentag.Tags;var v=k.opentag.Session;var w=k.Cookie;var D=1;try{window.opentag_consentGiven=function(){b.consentIsGiven=true;var n=b.getContainers();for(var m=0;m<n.length;m++)try{n[m].run()}catch(t){}}.bind(this)}catch(n){}k.Define.clazz("qubit.opentag.Container",
b);var g=[];var x="restart";b.prototype.EVENT_TYPES={RESTART_EVENT:x};b.register=function(n){r.addToArrayIfNotExist(g,n)};b.prototype.isTellingLoadTimes=function(){var n=this.config.tellLoadTimesProbability;if(n===null)n=0;return n>Math.random()};b.prototype.destroy=function(n){this.destroyed=true;this.unregister();for(var m=0;m<this.tags.length;m++){var t=this.tags[m];if(t.owningContainer===this){t.owningContainer=null;if(n&&t instanceof q)t.destroy()}}this.tags=[]};b.destroyAll=function(n){var m=
b.getContainers();for(var t=0;t<m.length;t++)m[t].destroy(n)};b.findContainersByName=function(n){var m=b.getContainers();var t=[];for(var e=0;e<m.length;e++)if(m[e].config.name===n)t.push(m[e]);return t};b.getById=function(n){var m=b.getContainers();for(var t=0;t<m.length;t++)if(m[t].getContainerId()===n)return m[t];return null};b.prototype.unregister=function(n){b.unregister(this,n)};b.unregister=function(n,m){r.addToArrayIfNotExist(g,n);var t=r.removeFromArray(g,n);if(m){for(var e=0;e<n.tags.length;e++){var c=
n.tags[e];if(c.owningContainer===n){c.owningContainer=null;if(c instanceof q)c.unregister()}}n.tags=[]}if(!t||t.length===0);};b.prototype.hasConsent=function(){return w.get("qubitconsent")==="Accepted"};b.prototype.register=function(n){b.register(n||this)};b.getContainers=function(){return g};b.prototype.getContainers=function(){return b.getContainers()};b.prototype.onTagRegistered=function(n){};b.prototype.registerTag=function(n){if(n.owningContainer!==null)return false;else{this.tags.push(n);n.owningContainer=
this;n.onAfter(this._tagLoadedHandler);try{this.onTagRegistered(n)}catch(m){}}return true};b.prototype.unregisterTag=function(n){if(n.owningContainer===this)n.owningContainer=null;for(var m=0;m<this.tags.length;)if(this.tags[m]===n)this.tags.splice(m,1);else m++};b.prototype.registerTags=function(n){for(var m=0;m<n.length;m++)this.registerTag(n[m])};b.prototype.setConfig=function(n){for(var m in n)this.config[m]=n[m]};b.prototype.run=function(){this.runTags({command:"runOnceIfFiltersPass"})};b.prototype.runWithoutFilters=
function(){this.runTags({command:"run"})};b.prototype.containerScriptLoadedSynchronously=function(){var n;var m;var t;var e;var c;e=document.getElementsByTagName("script");for(n=0,m=e.length;n<m;n+=1){t=e[n];c=t.getAttribute("src");if(!!c&&c.indexOf(""+this.config.clientId+"-"+this.getContainerId()+".js")>0)return t.getAttribute("async")===null&&(t.getAttribute("defer")===false||t.getAttribute("defer")===""||t.getAttribute("defer")===null)}return true};b.prototype.prepareSessionIfNeeded=function(){var n=
this.config.trackSession;if(n!==true&&n!==false)for(var m=0;m<this.tags.length;m++){var t=this.tags[m];t.resolveAllDynamicData();var e=t.getFilters();for(var c=0;c<e.length;c++){var h=e[c];if(h instanceof f&&h.isSession()){this.trackSession=true;break}}if(this.trackSession)break}else this.trackSession=n;if(b.TRACK_SESSION)this.trackSession=true;if(this.trackSession)this.session=v.setupSession(this);if(this.session);};b.runtimeCounter=b.runtimeCounter||1;b.prototype.runTags=function(n,m){if(this.destroyed)throw"Container has been destroyed.";
if(!m)if(b.LOCKED||r.global().QUBIT_CONTAINERS_LOCKED)return;if(this.onBeforeRun)try{this.onBeforeRun()}catch(O){}var t=!this.containerScriptLoadedSynchronously();var e="runIfFiltersPass";if(n&&n.command)e=n.command;this.runningStarted=(new Date).valueOf();if(this.config.scanTags)if(!this._scanned){this.scanForTags();this._scanned=(new Date).valueOf()}this.prepareSessionIfNeeded();var c=this.getTagsInOrder();var h="___otctnmk"+b.runtimeCounter++;for(var p=0;p<c.length;p++)try{var C=c[p];if(this.includedToRun(C))this._checkAndRun(C,
e,t,h)}catch(O){}d.setTimeout(function(){this.sendPingsNotTooOften()}.bind(this),3100);this.waitForAllTagsToFinish();for(var N=0;N<c.length;N++){c[N]._runtimeMarkers[h]=undefined;delete c[N]._runtimeMarkers[h]}};b.prototype.getTagsInOrder=function(){var n=[];for(var m=0;m<this.tags.length;m++){var t=this.tags[m];var e=t.config.priority;if(+e>0){var c=0;for(var h=0;h<n.length;h++){var p=n[h];if(p){var C=+p.config.priority;if(C>0&&C>e)c++;else break}}n.splice(c,0,t)}else n.push(t)}return n};b.prototype._checkAndRun=
function(n,m,t,e){if(!n._runtimeMarkers[e])n._runtimeMarkers[e]=true;else return;var c=n.resolveDependencies();if(c.length>0)for(var h=0;h<c.length;h++)this._checkAndRun(c[h],m,t,e);this._tagRunner(n,m,t)};b.prototype._tagRunner=function(n,m,t){try{if(this.includedToRun(n)){if(t)n.forceAsynchronous=true;if(this.config.delayDocWrite)n.delayDocWrite=true;n.session=n.session||this.session;n[m]()}}catch(e){}};b.prototype.getContainerId=function(){if(this.config.containerId)return this.config.containerId;
else{if(this._pkgName)return this._pkgName;var n=this.PACKAGE_NAME.split(".");n=n[n.length-1];this._pkgName=n;return n}};b.prototype.includedToRun=function(n){if(!n)return false;var m=n.config;if(m.inactive)return false;if(m.disabled)if(!n.cookieSaysToRunEvenIfDisabled())return false;if(n.disabledByCookie())return false;var t=b.consentIsGiven||!m.needsConsent||this.hasConsent();var e=n.state===q.prototype.STATE.INITIAL;return this.ignoreTagsState||t&&e};b.prototype.scanForTags=function(n,m){if(n)this.tags=
[];var t;if(m&&typeof m==="object")t=this.findAllTags(m);else t=this.findAllTagsByClassPath();this.registerTags(t);return t};b.prototype.findAllTags=function(n,m){n=n||this.tagsPackageName||this.PACKAGE_NAME;return u.findAllTags(n,m)};b.prototype.findAllTagsByClassPath=function(n){n=n||this.PACKAGE_NAME;return u.findAllTagsByClassPath(n)};b.prototype.findAllFilters=function(n,m){n=n||this.tagsPackageName||this.PACKAGE_NAME;return u.findAllFilters(n,m)};b.prototype.waitForAllTagsToFinish=function(){if(this._waitForAllTagsToFinishWaiting)return;
if(!this._lastWaited)this._lastWaited=(new Date).valueOf();var n=(new Date).valueOf()-this._lastWaited>15*1E3;var m=this.allTagsFinished()||n;if(!this._showFinishedOnce&&m){this._lastWaited=null;if(n);this._showFinishedOnce=true;this.runningFinished=(new Date).valueOf();this._containerAlreadySentPings=(new Date).valueOf();this.sendPingsNotTooOften();if(this.onTagsInitiallyRun)this.onTagsInitiallyRun()}else if(!m){this._waitForAllTagsToFinishWaiting=true;this._showFinishedOnce=false;d.setTimeout(function(){this._waitForAllTagsToFinishWaiting=
false;this.waitForAllTagsToFinish()}.bind(this),100)}else;};b.prototype.onTagsInitiallyRun=K;b.prototype.resetAllTags=function(n){for(var m=0;m<this.tags.length;m++){this.tags[m].reset();if(!n)this.tags[m].resetFilters()}};b.prototype._prepareTagsToRestart=function(n){for(var m=0;m<this.tags.length;m++)this.tags[m].prepareForRestart(n)};b.prototype.reset=function(n,m){this.runningFinished=undefined;this._waitForAllTagsToFinishWaiting=undefined;this.runningStarted=undefined;this._showFinishedOnce=
undefined;if(!n)this.resetAllTags(m)};b.prototype.onRestart=function(n){this.events.on(x,n)};b.prototype.restart=function(n,m){if(this.config.restartable){this.events.call(x,this);this.reset(true,true);if(!n)this._prepareTagsToRestart(m);this.run()}};b.restartAll=function(n,m){var t=b.getContainers();for(var e=0;e<t.length;e++)try{t[e].restart(n,m)}catch(c){log.ERROR("Restart failed for container "+t[e].config.name,c)}};b.resetAll=function(n,m){var t=b.getContainers();for(var e=0;e<t.length;e++)try{t[e].reset(n,
m)}catch(c){log.ERROR("Reset failed for container "+t[e].config.name,c)}};b.prototype.sendPingsNotTooOften=function(){this._sndLck=this._sndLck||{};d.runIfNotScheduled(this._sendPingsTrigger,2E3,this._sndLck)};b.prototype.sendPings=function(){if(this.config.noPings)return;var n;if(this.isTellingLoadTimes()){var m=this.getAllTagsByState();var t=[];if(m.run)t=u.getLoadTimes(m.run);this.lastPingsSentTime=(new Date).valueOf();this.ping.send(this,t);t=u.getLoadTimes();var e=[];for(n=0;n<t.length;n++){var c=
t[n].tag;if(c.config.dedupe&&c.sendDedupePing)e.push(c)}if(e.length>0){this.lastDedupePingsSentTime=(new Date).valueOf();this.ping.sendDedupe(this,e)}if(m.other){t=u.getLoadTimes(m.other);var h=[];for(n=0;n<t.length;n++)h.push(t[n]);if(h.length>0)this.ping.send(this,h)}if(m.awaiting){t=u.getLoadTimes(m.awaiting);var p=[];for(n=0;n<t.length;n++)p.push(t[n]);if(p.length>0)this.ping.send(this,p)}}else this.ping.send(this,[])};b.prototype.getAllTagsByState=function(){return b.getAllTagsByState(this.tags)};
b.getAllTagsByState=function(n){var m=null;var t=null;var e=null;var c=null;var h=null;var p=null;var C={};var N=q.prototype.STATE.EXECUTED_WITH_ERRORS;for(var O=0;O<n.length;O++){var Q=n[O];if(Q instanceof q){var R=Q.config.name;if(Q.scriptExecuted>0){m=m||{};z(m,Q,R,C)}else if(Q.locked){p=p||{};z(p,Q,R,C)}else if(Q.scriptExecuted<0||Q.state>=N){c=c||{};z(c,Q,R)}else if(Q.filtersState()===y.state.SESSION||Q.filtersState()>0){e=e||{};z(e,Q,R,C)}else if(Q.config.needsConsent){h=h||{};z(h,Q,R,C)}else{t=
t||{};z(t,Q,R,C)}}}return{run:m,failed:c,awaiting:e,consent:h,locked:p,other:t}};b.prototype.allTagsFinished=function(){for(var n=0;n<this.tags.length;n++){var m=this.tags[n];if(m instanceof k.opentag.BaseTag){var t=m.filtersState();if(!m.config.disabled){var e=m.filtersState()<0&&!m.locked;var c=!(m.finished()||m.config.runner&&!m.isRunning);if(e&&c){var h=t!==y.state.SESSION;var p=+m.awaitingDependencies>0;if(h&&!p)return false}}}}return true};b.prototype.getPageVariables=function(){var n=[];for(var m=
0;m<this.tags.length;m++){var t=this.tags[m].getPageVariables();for(var e=0;e<t.length;e++)r.addToArrayIfNotExist(n,t[e])}return n};b.getPageVariableByName=function(n){var m=this.getAllPageVariables();var t=[];for(var e=0;e<m.length;e++)if(m[e].config.name===n)t.push(m[e]);return t};var E="qubit.opentag.disableContainerRunning_";var G="qubit.opentag.forceContainerRunning";b.prototype._getCookieNameForDisabling=function(){return E+this.getContainerId()+this.config.name};b.prototype.disabledByCookie=
function(){return!!w.get(this._getCookieNameForDisabling())};b.prototype.setCookieToDisable=function(){w.set(this._getCookieNameForDisabling(),"true")};b.prototype.rmCookieToDisable=function(){w.rm(this._getCookieNameForDisabling())};b.rmAllDisablingCookies=function(){r.rmCookiesMatching(E)};b.setCookieForDisabledContainersToRun=function(){w.set(G,"true")};b.rmCookieForDisabledContainersToRun=function(){w.rm(G)}})();(function(){function b(){}function z(){var w=false;if(u.get("opentag_debug")||document.location.href.indexOf("opentag_debug")>=
0)w=true;return w}function r(){var w=false;if(u.get("opentag_debug_tool")||document.location.href.indexOf("opentag_debug_tool")>=0)w=true;return w}function y(){try{var w=H.TAGSDK_MAIN_DISABLED_FUNCTION;if(w&&w())return true}catch(D){}if(document.location.href.indexOf("opentag_disabled\x3dtrue")>=0)return true;return false}function f(w,D,g){if(g&&(w[D]===undefined||w[D]===""||w[D]===null))w[D]=g}function q(w){var D=w.PACKAGE_NAME.split(".");D=D[D.length-1];var g=v.getParentObject(w.PACKAGE_NAME);g[D]=
null;delete g[D]}function d(w){var D=v.getParentObject(w.PACKAGE_NAME);var g=D.ClientConfig;if(g&&g.clientId)return g.clientId;else{var x=w.PACKAGE_NAME.split(".");return x[x.length-2].substring(1)}}var u=k.Cookie;var v=k.opentag.Utils;k.opentag.Log.setLevelFromCookie();b.run=function(){var w=false;if(y())return;var D=false;var g=r();var x=g||z();if(!D&&x){if(!k.DEBUG_MODE)H.TAGSDK_NS_OVERRIDE=true;else H.TAGSDK_NS_OVERRIDE=false;w=true}if(k.DEBUG_MODE)H.TAGSDK_NS_OVERRIDE=false;try{M.html.UVListener.init()}catch(E){}b.runAllContainers(w)};
b.runAllContainers=function(w){try{var D=k.opentag.Container.getContainers();for(var g=0;g<D.length;g++){var x=D[g];var E=x.config;if(!x.runningStarted&&!x.configuredInMain){E.scanTags=true;var G=v.getParentObject(x.PACKAGE_NAME).ClientConfig;if(G)f(x.config,"clientId",G.id);var n=v.getParentObject(x.PACKAGE_NAME).SystemDefaults;if(n){f(E,"pingServerUrl",n.pingServerUrl);f(E,"tellLoadTimesProbability",n.tellLoadTimesProbability)}x.configuredInMain=true;if(w){x.destroy(true);q(x);b.loadDebugVersion(x)}else if(!H.QUBIT_OPENTAG_STOP_MAIN_EXECUTION)x.run();
else(function(){var m=k.opentag.RUN_STOPPED_EXECUTON;k.opentag.RUN_STOPPED_EXECUTON=function(){try{if(m)m()}finally{x.run()}}})(x)}}}catch(m){}};b.loadDebugVersion=function(w){var D=document.createElement("script");var g;var x=w.config.scriptURL;var E=d(w);var G=w.getContainerId();if(x){g=x;var n="-debug.js".length;if(g.lastIndexOf("-debug.js")!==g.length-n){g=g.substring(0,g.length-".js".length);g+="-debug.js"}}var m="//d3c3cq33003psk.cloudfront.net/opentag-"+E+"-"+G+"-debug.js";if(g&&m!==g)D.src=
g;else D.src="//s3-eu-west-1.amazonaws.com/opentag/opentag-"+E+"-"+G+"-debug.js";document.getElementsByTagName("head")[0].appendChild(D)};k.Define.namespace("qubit.opentag.Main",b)})()})()})();(function(){})();(function(){var B=qubit.opentag.pagevariable.BaseVariable;var a=new B({"name":"regEventCategoryName"});var A="ladbrokesdesktopsportsbook.variables.RegEventCategoryName";qubit.Define.clientNamespace(A,a);a.value="Registered"})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"Dedupe","priority":2});var A="ladbrokesdesktopsportsbook.filters.Dedupe";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.getElementById("ecos_iframe")!==null)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Expose Session","priority":3});var A="ladbrokesdesktopsportsbook.filters.ExposeSession";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){window.qb_session=H;return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(10)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue10";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"name":"Sports Home Page Only","pattern":"https://sports.ladbrokes.com/en-gb/","patternType":"MATCHES_EXACTLY"});var A="ladbrokesdesktopsportsbook.filters.SportsHomePageOnly";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(5)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue5";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"Data Security Parameters","pattern":"\\?.*tbUsername\x3d|tbPassword\x3d|phoneNumber\x3d|email\x3d|username\x3d|password\x3d|PayerID\x3d|loginName\x3d","patternType":"REGULAR_EXPRESSION","priority":2});var A="ladbrokesdesktopsportsbook.filters.DataSecurityParameters";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"All Main Pages","pattern":"https?://(www|sports|bingo|casino|poker|games|slots|vegas|lottos|backgammon|livedealer)\\.ladbrokes\\.com","patternType":"REGULAR_EXPRESSION","priority":2});var A="ladbrokesdesktopsportsbook.filters.AllMainPages";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Mobenga Campaign Push UV Event override window.docURL","priority":2});var A="ladbrokesdesktopsportsbook.filters.MobengaCampaignPushUVEventOverrideWindowDocURL";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){try{var k=function(L){if(L&&L.action&&L.action.indexOf&&L.action.indexOf("Campaign Push")>=0)if(window.universal_variable&&window.universal_variable.page){var I=window.universal_variable.page;window.currentPage=
I.query!==null?document.location.pathname+window.universal_variable.page.query:document.location.pathname;window.docURL=document.URL+window.universal_variable.page.query;if(window.docURL.indexOf("new_mexos_test")<0)F(!false)}};var J=window.universal_variable.events||[];for(var K=0;K<J.length;K++)k(J[K]);window.uv_listener.push(["on","event",k])}catch(L){}};a.customScript=function(H){if(document.location.host.match(/(d(-preprod)?|(nelson)?sports)\.ladbrokes\.com/)!==null)return true};a.lexicalPattern=
""})();(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(7)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue7";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Default filter: Match all(1)","pattern":"aeidCookieTest","patternType":"ALL_URLS","priority":1});var A="ladbrokesdesktopsportsbook.filters.DefaultFilterMatchAll1";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(11)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue11";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F(false)};a.customScript=function(H){return(H.getCookie("disable_opentag")||"")==="true"};a.lexicalPattern='{\n    "rows": [{\n        "variables": [{\n            "type": "cookie",\n            "comparator": "1",\n            "value": [\n                "disable_opentag",\n                "true"\n            ]\n        }],\n        "starters": [],\n        "operators": []\n    }],\n    "operators": []\n}'})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"SIT / UAT / Perf / Preprod","pattern":"^https?://(www.)?(sit\\d?|uat|preprod|perf)-ecommerce(-leeds)?\\.ladbrokes\\.com","patternType":"REGULAR_EXPRESSION","priority":1});var A="ladbrokesdesktopsportsbook.filters.SITUATPerfPreprod";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Login Success UV Events","priority":2});var A="ladbrokesdesktopsportsbook.filters.LoginSuccessUVEvents";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){var k=function(L){if(L&&L.category&&L.category==="Login"&&L.action&&L.action==="Success")F(!false)};var J=window.universal_variable.events;for(var K=0;K<J.length;K++)k(J[K]);window.uv_listener.push(["on","event",k])};a.customScript=function(H){if(/^https?:\/\/(preprod-)?m\.ladbrokes\.com/.test(document.location.href))return true};
a.lexicalPattern=""})();(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Page load - Mobenga","pattern":"^https?://(d(-preprod)?|sports)\\.ladbrokes\\.com/","patternType":"REGULAR_EXPRESSION","priority":2});var A="ladbrokesdesktopsportsbook.filters.PageLoadMobenga";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"User Push Event","priority":3});var A="ladbrokesdesktopsportsbook.filters.UserPushEvent";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){window.uv_listener.push(["on","event",function(k){if(k&&k.action&&k.action==="User Push")F(!false)}])};a.customScript=function(H){return(new RegExp("^https?://ladbrokes-staging.mobenga.com/")).test(document.location.href)};a.lexicalPattern='{\n    "rows": [{\n        "variables": [{\n            "type": "currentUrl",\n            "comparator": "9",\n            "value": "^https?:\\/\\/ladbrokes-staging\\\\.mobenga\\\\.com\\/"\n        }],\n        "starters": [{\n            "type": "uvEvent",\n            "comparator": "1",\n            "value": [\n                "action",\n                "User Push"\n            ],\n            "bool": false\n        }],\n        "operators": ["and"]\n    }],\n    "operators": []\n}'})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(4)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue4";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"Exclude Mobenga","pattern":"^https?://d(-preprod)?\\.ladbrokes\\.com","patternType":"REGULAR_EXPRESSION","priority":1});var A="ladbrokesdesktopsportsbook.filters.ExcludeMobenga";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"name":"QA test","pattern":"qatest"});var A="ladbrokesdesktopsportsbook.filters.QATest";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"test new script","pattern":"http://www.ladbrokes.com/qa/en/test/","patternType":"CONTAINS","priority":1});var A="ladbrokesdesktopsportsbook.filters.TestNewScript";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"name":"new mexos","pattern":"new_mexos_test","patternType":"ALL_URLS"});var A="ladbrokesdesktopsportsbook.filters.NewMexosTest";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){var k=false;try{var J=function(I){if(k)return;if(I&&I.action&&I.action.indexOf&&I.action.indexOf("Campaign Push")>=0)if(window.universal_variable&&window.universal_variable.page){k=true;F(true)}};var K=window.universal_variable.events||[];for(var L=
0;L<K.length;L++)J(K[L]);window.uv_listener.push(["on","event",J])}catch(I){}};a.customScript=function(H){if(document.location.host.match(/(d(-preprod)?|(nelson)?sports)\.ladbrokes\.com/)!==null)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_ot_scripts","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_ot_scripts";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Login Success Event","priority":1});var A="ladbrokesdesktopsportsbook.filters.LoginSuccessEvent";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){if(document.getElementById("amazon_pxl")===null){var k=function(L){if(L&&L.category&&L.category==="Login"&&L.action&&L.action==="Success"||L&&L.category&&L.category==="HTML Content"&&L.action==="User Push")if(window.universal_variable&&window.universal_variable.user&&
window.universal_variable.user.user_id)F()};var J=window.universal_variable.events||[];for(var K=0;K<J.length;K++)k(J[K]);window.uv_listener.push(["on","event",k])}};a.customScript=function(H){return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"sports Home","priority":1});var A="ladbrokesdesktopsportsbook.filters.SportsHome";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){if(!window.criteo_q){var k=function(L){if(L&&L.category&&L.category==="Login"&&L.action&&L.action==="Success"||L&&L.category&&L.category==="HTML Content"&&L.action==="User Push")if(window.universal_variable&&window.universal_variable.user&&window.universal_variable.user.user_id)F()};
var J=window.universal_variable.events||[];for(var K=0;K<J.length;K++)k(J[K]);window.uv_listener.push(["on","event",k])}};a.customScript=function(H){return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(12)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue12";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Mobenga Staging(1)","pattern":"^https?://ladbrokes-staging\\.mobenga\\.com/","patternType":"REGULAR_EXPRESSION","priority":3});var A="ladbrokesdesktopsportsbook.filters.MobengaStaging1";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Campaign Push","priority":1});var A="ladbrokesdesktopsportsbook.filters.CampaignPush";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){var k=function(L){if(L&&L.action&&L.action.indexOf&&L.action.indexOf("Campaign Push")>=0)F(!false)};var J=window.universal_variable.events||[];for(var K=0;K<J.length;K++)k(J[K]);window.uv_listener.push(["on","event",k])};a.customScript=function(H){return true};a.lexicalPattern=
""})();(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Mobenga","pattern":"^https?://((perf-|preprod-)?d|sports)\\.ladbrokes\\.com/","patternType":"REGULAR_EXPRESSION","priority":3});var A="ladbrokesdesktopsportsbook.filters.Mobenga";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Mobenga Proprod","pattern":"^https?://preprod-d\\.ladbrokes\\.com","patternType":"REGULAR_EXPRESSION","priority":1});var A="ladbrokesdesktopsportsbook.filters.MobengaProprod";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"name":"PageUrl Mobenga + Leeds + Preprod + Mars","pattern":"^https?://(tst1-|tst-|stg-|perf-|tst2-)?(d(-preprod)?|(nelson)?sports|ladbrokes2?-staging)(-lcm)?\\.(ladbrokes|mobenga)\\.com","patternType":"REGULAR_EXPRESSION"});var A="ladbrokesdesktopsportsbook.filters.MarsLcmenv";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"name":"is Debug"});var A="ladbrokesdesktopsportsbook.filters.IsDebug";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F(false)};a.customScript=function(H){return/opentag_debug/i.test(window.location.href)||/opentag_debug/i.test(document.cookie)};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"User Login","priority":1});var A="ladbrokesdesktopsportsbook.filters.UserLogin";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){if(window.universal_variable&&window.universal_variable.user&&window.universal_variable.user.user_id)F();else window.uv_listener.push(["on","event",function(k){if(k&&k.category&&k.category==="Login"&&k.action&&k.action==="Success"||k&&k.category&&k.category==="HTML Content"&&
k.action==="User Push")if(window.universal_variable&&window.universal_variable.user&&window.universal_variable.user.user_id)F()}])};a.customScript=function(H){return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Coupons Page","priority":1});var A="ladbrokesdesktopsportsbook.filters.CouponsPage";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){var k=function(L){if(L&&L.category&&L.category.indexOf("HTML Content")>-1&&L.action&&L.action.indexOf("Page Push")>-1&&window.universal_variable&&window.universal_variable.page&&window.universal_variable.page.subcategory&&/en-gb\/coupons\/(money-back-5-acca)?/.test(window.universal_variable.page.subcategory))F(!false)};
var J=window.universal_variable.events;if(J)for(var K=0;K<J.length;K++)k(J[K]);window.uv_listener.push(["on","event",k])};a.customScript=function(H){return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Football Pages","priority":1});var A="ladbrokesdesktopsportsbook.filters.FootballPages";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){var k=function(L){if(L&&L.category&&L.category.indexOf("HTML Content")>-1&&L.action&&L.action.indexOf("Page Push")>-1&&window.universal_variable&&window.universal_variable.page&&window.universal_variable.page.subcategory&&/(preprod-d|sports)\.ladbrokes\.com\/..-..\/betting\/(football|fu(%C3%9F|\u00df|ss)ball|fotboll)/.test(window.universal_variable.page.subcategory))F(!false)};
var J=window.universal_variable.events;if(J)for(var K=0;K<J.length;K++)k(J[K]);window.uv_listener.push(["on","event",k])};a.customScript=function(H){return true};a.lexicalPattern=""})();(function(){var B=qubit.opentag.filter.Filter;var a=new B({"name":"is Desktop UAT","pattern":"preprod-d\\.ladbrokes\\.com","patternType":"REGULAR_EXPRESSION"});var A="ladbrokesdesktopsportsbook.filters.IsDesktopUAT";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"desktop UAT","pattern":"preprod-d\\.ladbrokes\\.com","patternType":"REGULAR_EXPRESSION"});var A="ladbrokesdesktopsportsbook.filters.DesktopUAT";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"Exclude disable_deliver","pattern":"(\\?|\x26)disable_deliver","patternType":"REGULAR_EXPRESSION","priority":2});var A="ladbrokesdesktopsportsbook.filters.ExcludeDisable_deliver";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Mobenga Perf, Preprod \x26 Perf","pattern":"^https?://((preprod-|perf-)?d|sports)\\.ladbrokes\\.com/","patternType":"REGULAR_EXPRESSION","priority":3});var A="ladbrokesdesktopsportsbook.filters.MobengaPerfPreprodPerf";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Default filter: Match all","pattern":"","patternType":"ALL_URLS","priority":2});var A="ladbrokesdesktopsportsbook.filters.DefaultFilterMatchAll";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(1)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue1";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"AFF_ID Page","pattern":"AFF_ID\x3d","patternType":"CONTAINS","priority":2});var A="ladbrokesdesktopsportsbook.filters.AFF_IDPage";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"new mexos test exclude","pattern":"new_mexos_test"});var A="ladbrokesdesktopsportsbook.filters.NewMexosTestExclude";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag","pattern":"[\\?\x26]disable_opentag","patternType":"REGULAR_EXPRESSION","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentag";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Mobenga Desktop","pattern":"^https?://((preprod-|perf-)?d|(nelson)?sports)\\.ladbrokes\\.com/","patternType":"REGULAR_EXPRESSION","priority":4});var A="ladbrokesdesktopsportsbook.filters.MobengaDesktop";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(8)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue8";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(9)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue9";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"name":"deposit success"});var A="ladbrokesdesktopsportsbook.filters.DepositSuccess";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.location.pathname.match(/\/web\/ladbrokesvegas[^\/]*\/((cc-|redirect)?[Dd]eposit-?|quick)[Ss]uccess/)!==null)if(document.cookie.indexOf("firstdeposit\x3d")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Filter: Is debug","priority":1});var A="ladbrokesdesktopsportsbook.filters.FilterIsDebug";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){return document.cookie.indexOf("opentag_debug_tool")!==-1||/opentag_debug/i.test(window.location.href)};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"d.ladbrokes.com","priority":1});var A="ladbrokesdesktopsportsbook.filters.DLadbrokesCom";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){var k=document.createElement("a");k.href="javascript:;";var J=document.createTextNode("Leave Feedback");k.onclick=function(){window.universal_variable.events.push({"category":"Feedback","action":"Start","ga":true});L()};k.appendChild(J);var K=function(I){I=I||50;if(document.getElementsByClassName("footer-button-links").length)document.getElementsByClassName("footer-button-links")[0].appendChild(k);
else setTimeout(function(){K(I*2)},I)};K();var L=function(I){if(document.getElementById("qb_feedback_frame")===null){F(!false);var M=function(P){P=P||50;var T=window.q_ef_show;if(T)window.q_ef_show();else setTimeout(function(){M(P*2)},P)};M()}}};a.customScript=function(H){if(document.location.host=="d.ladbrokes.com"||document.location.host=="sports.ladbrokes.com")return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(6)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue6";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Mobenga Staging","pattern":"^https?://ladbrokes2?-staging\\.mobenga\\.com/","patternType":"REGULAR_EXPRESSION","priority":2});var A="ladbrokesdesktopsportsbook.filters.MobengaStaging";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(3)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue3";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"disable_opentag\x3dtrue(2)","priority":1});var A="ladbrokesdesktopsportsbook.filters.Disable_opentagTrue2";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){F()};a.customScript=function(H){if(document.cookie.indexOf("disable_opentag\x3dtrue")>-1)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"All","pattern":"ladbrokes.com/lbpt-sports","patternType":"ALL_URLS","priority":3});var A="ladbrokesdesktopsportsbook.filters.All";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":false,"name":"new mexos test exclude new","pattern":"new_mexos_test","patternType":"ALL_URLS"});var A="ladbrokesdesktopsportsbook.filters.NewMexosTestExcludeNew";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){try{var k=function(L){if(L&&L.action&&L.action.indexOf&&L.action.indexOf("Campaign Push")>=0)if(window.universal_variable&&window.universal_variable.page&&window.universal_variable.page.query&&window.universal_variable.page.query.indexOf("new_mexos_test")>
-1)F(true)};var J=window.universal_variable.events||[];for(var K=0;K<J.length;K++)k(J[K]);window.uv_listener.push(["on","event",k])}catch(L){}};a.customScript=function(H){if(document.location.host.match(/(d(-preprod)?|(nelson)?sports)\.ladbrokes\.com/)!==null)return true};a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Perf/Preprod + Prod","pattern":"^https?://(perf-d|sports)\\.ladbrokes\\.com/","patternType":"REGULAR_EXPRESSION","priority":2});var A="ladbrokesdesktopsportsbook.filters.PerfPreprodProd";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"Mobenga Preprod/Prod","pattern":"^https?://(d(-preprod)?|(nelson)?sports)\\.ladbrokes\\.com/en-gb/","patternType":"REGULAR_EXPRESSION","priority":4});var A="ladbrokesdesktopsportsbook.filters.MobengaPreprodProd";qubit.Define.clientNamespace(A,a);a.customStarter=null;a.customScript=null;a.lexicalPattern=""})();
(function(){var B=qubit.opentag.filter.Filter;var a=new B({"include":true,"name":"UV Mobenga + Leeds + Preprod + Mars-LCM","priority":3});var A="ladbrokesdesktopsportsbook.filters.MobengaLeedsPreprod";qubit.Define.clientNamespace(A,a);a.customStarter=function(H,F){window.uv_listener.push(["on","event",function(k){if(k&&k.action&&k.action==="User Push")F(!false)}])};a.customScript=function(H){return(new RegExp("^https?://(tst1-|tst-|stg-|perf-|tst2-)?(d(-preprod)?|(nelson)?sports|ladbrokes2?-staging)(-lcm)?.(ladbrokes|mobenga).com")).test(document.location.href)};
a.lexicalPattern='{"rows":[{"variables":[{"type":"currentUrl","comparator":"9","value":"^https?://(tst1-|tst-|stg-|perf-|tst2-)?(d(-preprod)?|(nelson)?sports|ladbrokes2?-staging)(-lcm)?\\\\.(ladbrokes|mobenga)\\\\.com"}],"starters":[{"type":"uvEvent","comparator":"1","value":["action","User Push"],"bool":false}],"operators":["and"]}],"operators":[]}'})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Content - LoginAPI - LoginMessages","disabled":false,"id":43789909,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.contentloginapiloginmessages.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  /**\n  * @Author \n  * This script displays account messages on user login.\n  */\nvar _mapi \x3d {};\n(function () {\n     _mapi.params \x3d {};\n    _mapi.params.realMode \x3d 1;\n    _mapi.login \x3d false;\n    _mapi.params.loginMsgType \x3d 'login';\n    _mapi.params.otherMsgType \x3d '';\n  \tvar bonusparam \x3d \"\";\n\n    var loadloginAPI \x3d function () {\n\n        var loadPTAPI \x3d function () {\n            if (typeof iapiConf !\x3d 'undefined') {\n\n                var addLoginAPI \x3d function () {\n                    if (typeof iapiLogin !\x3d 'undefined') {\n                        var loginapiscript \x3d document.createElement('script');\n                        loginapiscript.src \x3d 'https://scripts.ladbrokes.com/js/ptintegration/login-integration-thirdparty.js?ver\x3d7.7.1';\n                        loginapiscript.id \x3d 'loginapiscript';\n                        var oldscript \x3d document.getElementById('loginapiscript');\n                        if (oldscript) {\n                            //Repeat loads\n                            oldscript.parentElement.removeChild(oldscript);\n                            window.generateOkButton \x3d undefined;\n                        } else {\n                            \n                            //setTimeout(iapiLogout, 3600000, 1, 1);\n                        }\n                        ;\n                        document.body.appendChild(loginapiscript);\n//Temporary fixes\n                        var fixCloseButton \x3d function () {\n                            if (typeof generateOkButton !\x3d \"undefined\") {\n                                window.generateOkButton \x3d function () {\n                                    var aButton \x3d document.createElement('a');\n                                    aButton.setAttribute('target', '_notclickable');\n                                    aButton.setAttribute('onclick', 'javascript:closelb()');\n\n                                    var okButton \x3d document.createElement('div');\n                                    okButton.setAttribute('style',\"cursor: pointer; position: absolute; right:15px; top: 15px; font-family: 'Helvetica Neue', Helvetica, Arial ; color: #fff; font-weight: bold; text-decoration: none; padding:3px; font-size: 16px;display: inline-block;transform : scale(1.4,1);-webkit-transform:scale(1.4,1); -moz-transform:scale(1.4,1); -ms-transform:scale(1.4,1); -o-transform:scale(1.4,1);\");\n                                    okButton.innerHTML \x3d'X';\n                                    aButton.appendChild(okButton);\n\n//Wait on dialogs - Mobenga\n                                    var old_popup \x3d showPopup;\n                                    window.showPopup \x3d function () {\n                                        if (document.location.href.indexOf(\"streams\") \x3e -1 || document.location.href.indexOf(\"slip\") \x3e -1 || document.getElementById('alert-box3').getAttribute('class').indexOf(\"dn\") \x3d\x3d -1 || (document.getElementById('modal-overlay').getAttribute('class').indexOf(\"dn\") \x3d\x3d -1 \x26\x26 document.getElementById('modal-overlay').childNodes.length \x3e 0)) {\n                                            document.getElementById('msgLBMainContainer').style.visibility \x3d 'hidden';\n                                            setTimeout(showPopup, 500)\n                                        }\n                                        else {\n                                            document.getElementById('msgLBMainContainer').style.visibility \x3d 'visible';\n                                            old_popup()\n                                        }\n                                    };\n\n                                    return aButton;\n                                };\n                            }\n                        };\n                    } else {\n                        setTimeout(addLoginAPI, 100);\n                    }\n                };\n                addLoginAPI();\n            } else {\n                setTimeout(loadPTAPI, 100);\n            }\n        };\n        loadPTAPI();\n    };\n    loadloginAPI();\n  // Add this timeout that will trigger messages when script has loaded.\n  \n    var triggerMessages \x3d function () {\n\t\tif (typeof callLoginMessages !\x3d 'undefined') { \n\t\t\tif (window.universal_variable \x26\x26 window.universal_variable.user \x26\x26 window.universal_variable.user.user_id \x26\x26 typeof(Storage) !\x3d\x3d \"undefined\" \x26\x26 !sessionStorage.hasSeenLoginMsg) {\n\t\t\t\tcallLoginMessages();\n\t\t\t\tsessionStorage.hasSeenLoginMsg \x3d true;\n\t\t\t}\n\t\t} else {\n\t\t\tsetTimeout(triggerMessages,100);\n\t\t}\n\t};\n\ttriggerMessages();\n})();\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.MobengaLeedsPreprod","ladbrokesdesktopsportsbook.filters.MarsLcmenv","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue6"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"https://static.criteo.net/js/ld/ld.js","timeout":5E3,"async":true,"usesDocumentWrite":false,"prePostWindowScope":false,"name":"Retargetting - Criteo Prelogin","disabled":false,"id":45294221,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.retargettingcriteoprelogin.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.DefaultFilterMatchAll"]);
a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){function H(){var J="sports";window.criteo_q=window.criteo_q||[];window.criteo_q.push({event:"setAccount",account:15447},{event:"setSiteType",type:"d"},{event:"viewItem",item:J})}if(document.getElementById("md5_script")===null){var F=document.getElementsByTagName("head")[0];var k=document.createElement("script");k.type="text/javascript";
k.src="https://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js";k.id="md5_script";k.onload=H;F.appendChild(k)}else H()}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"is Debug"});var A="ladbrokesdesktopsportsbook.tags.isdebug.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.IsDebug"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Analytics - Mobenga - Page","disabled":false,"id":43789869,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.analyticsmobengapage.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  /**\n  * @author: Rob Ellison\n  * This script handles tracking of the dynamic pages in the mobenga app. This also sets any page level variables.\n  * This creates a trackPage function which is called by the mobenga app every time thepage changes.\n  *  @Dependencies: Analytics - Tracker Functions\n  */\n  window.currentPage \x3d '';\n  var trackPage \x3d (function() {\n    window.universal_variable \x3d window.universal_variable || [];\n    if (window.currentPage !\x3d document.location.pathname){\n      window.universal_variable.events \x3d window.universal_variable.events || [];\n      window.universal_variable.events.push({\"category\":\"HTML Content\",\"action\":\"Page Push\"});\n\n      (function() {\n        tracker.trackDimension('window_height', window.innerHeight);\n        tracker.trackDimension('window_width', window.innerWidth);\n        tracker.trackDimension('window_orientation', window.innerHeight\x3ewindow.innerWidth?\"Portrait\":\"Landscape\");\n        tracker.trackDimension('view_mode', \"Desktop View\");\n        if(window.universal_variable.user \x26\x26  window.universal_variable.user.language){\n          tracker.trackDimension('language', window.universal_variable.user.language);\n        }\n      })();\n      \n      (function(){\n        if(typeof(Storage) !\x3d\x3d \"undefined\") {\n          tracker.trackDimension('odds_format', localStorage.getItem('authentication:user:oddsDisplay')!\x3d\x3dnull?localStorage.getItem('authentication:user:oddsDisplay').replace('\"','').replace('\"',''):'fractional');\n        }\n      })();\n      \n      window.currentPage \x3d document.location.pathname;\n      tracker.trackPageview(currentPage);\n    }\n  });\n  trackPage();\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.Mobenga","ladbrokesdesktopsportsbook.filters.MobengaStaging","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue1"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.analyticstrackerfunctions.Tag"]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Analytics - Mobenga - Events","disabled":false,"id":43789858,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.analyticsmobengaevents.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  (function(){\n    /**\n    * @Author: Rob Ellison\n    * This script sends all Universal Variable events to Google Analytics.\n    * The event needs an action, a category and a ga\x3dtrue variable.\n    *  @Dependants: Analytics - Tracker Function   \n    */\n    var checkEvent \x3d function(event){\n      if((event.GA||event.ga) \x26\x26 !event.tracked){\n        if (event.category \x26\x26 event.action){\n          tracker.trackEvent(event.category,event.action,event.label||\"\",event.value||0);\n          if (event.category \x3d\x3d 'Betslip' \x26\x26 event.action \x3d\x3d 'Add' \x26\x26 event.product){\n            tracker.trackEnhancedBetAdd(event.product);\n          }\n          if (event.category \x3d\x3d 'Betslip' \x26\x26 event.action \x3d\x3d 'Enter Stake' \x26\x26 event.product){\n            for(var i\x3d0; i\x3cwindow.universal_variable.basket.line_items.length; i++){\n              var bkt_product \x3d window.universal_variable.basket.line_items[i];\n              if(event.product.id\x3d\x3dbkt_product.id \x26\x26 bkt_product.filled \x3d\x3d\x3dundefined){\n                bkt_product.filled \x3d true;\n                tracker.trackEnhancedBetEnterStake(event.product);\n              }\n            }\n          }\n          if (event.category \x3d\x3d 'Betslip' \x26\x26 event.action \x3d\x3d 'Submit' \x26\x26 window.universal_variable.basket.submitted\x3d\x3d\x3dundefined){\n            tracker.trackEnhancedBetSubmit(window.universal_variable.basket);\n            window.universal_variable.basket.submitted\x3dtrue;\n          }\n          if (event.category \x3d\x3d 'Logout' \x26\x26 event.action \x3d\x3d 'Success' \x26\x26 sessionStorage.hasSeenLoginMsg){\n            sessionStorage.hasSeenLoginMsg \x3d false;\n          }\n        } else if (event.promotion \x26\x26 event.type){\n          tracker.trackPromotion(event.type,event.promotion,event.creative,event.position);\n        }\n        event.tracked \x3d true;\n      }\n    };\n    \n    var events \x3d window.universal_variable.events;\n    \n    if (events) {\n      for (var i\x3d0; i\x3cevents.length; i++) {\n        checkEvent(events[i]);\n      }\n    }\n    window.uv_listener \x3d window.uv_listener || [];\n    window.uv_listener.push(['on', 'event', checkEvent]);\n  })();\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.Mobenga","ladbrokesdesktopsportsbook.filters.MobengaStaging","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.analyticstrackerfunctions.Tag"]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"description":"Commit \x3d f9cd79","url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Helpers","disabled":false,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.helpers1.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\nwindow.universal_variable \x3d window.universal_variable || {};\nwindow.universal_variable.events \x3d window.universal_variable.events || [];\nwindow.uv_listener \x3d window.uv_listener || [];\n\n// UV\n\nfunction newUVListener(listener) {\n  var events \x3d window.universal_variable.events;\n\n  for (var i \x3d 0; i \x3c events.length; i++)\n    listener(events[i]);\n\n  window.uv_listener.push(['on', 'event', listener]);\n}\n\nfunction newUVChangeListener(listener) {\n  window.uv_listener.push(['on', 'change', listener]);\n}\n\nfunction newUVListenerCond(cond, listener) {\n  var events \x3d window.universal_variable.events;\n\n  var condClosure \x3d function (event) {\n    if (cond(event)) {\n      listener(event);\n    }\n  };\n\n  for (var i \x3d 0; i \x3c events.length; i++) {\n    condClosure(events[i]);\n  }\n\n  window.uv_listener.push(['on', 'event', condClosure]);\n}\n\nfunction getTopDomain(domain) {\n  return domain.split('.').reverse().slice(0, 2).reverse().join('.');\n}\n\n// Cookies\n\nfunction createCookie(name, value, days, domain) {\n  domain \x3d domain || '.' + getTopDomain(document.domain);\n  var expires;\n  if (days) {\n    var date \x3d new Date();\n    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n    expires \x3d '; expires\x3d' + date.toGMTString();\n  } else {\n    expires \x3d '';\n  }\n  document.cookie \x3d name + '\x3d' + value + expires + ';domain\x3d' + domain + ';path\x3d/';\n}\n\nfunction readCookie(name) {\n  var nameEQ \x3d name + '\x3d';\n  var ca \x3d document.cookie.split(';');\n  for (var i \x3d 0; i \x3c ca.length; i++) {\n    var c \x3d ca[i];\n    while (c.charAt(0) \x3d\x3d ' ') c \x3d c.substring(1, c.length);\n    if (c.indexOf(nameEQ) \x3d\x3d 0) return c.substring(nameEQ.length, c.length);\n  }\n  return null;\n}\n\nfunction eraseCookie(name, domain) {\n  domain \x3d domain || '.' + getTopDomain(document.domain);\n  document.cookie \x3d name + '\x3d;expires\x3dThu, 01 Jan 1970 00:00:01 GMT;domain\x3d' + domain + ';path\x3d/';\n}\n\n// URL params\n\nfunction getQueryParams(qs) {\n  if (qs.substr(0, 1) \x3d\x3d '\x26') qs \x3d qs.substr(1);\n\n  qs \x3d qs.split('+').join(' ');\n  var params \x3d {},\n    tokens,\n    re \x3d /[?\x26]?([^\x3d]+)\x3d([^\x26]*)/g;\n\n  while (tokens \x3d re.exec(qs)) {\n    params[decodeURIComponent(tokens[1])] \x3d decodeURIComponent(tokens[2]);\n  }\n  return params;\n}\n\nfunction serialize(obj, prefix) {\n  var str \x3d [];\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p)) {\n      var k \x3d prefix ? prefix + '[' + p + ']' : p,\n        v \x3d obj[p];\n      str.push(typeof v \x3d\x3d 'object' ?\n        serialize(v, k) :\n        encodeURIComponent(k) + '\x3d' + encodeURIComponent(v));\n    }\n  }\n  return str.join('\x26');\n}\n\nfunction createPixel(src, alt, title) {\n  var img \x3d document.createElement('IMG');\n  img.src \x3d src;\n  img.height \x3d 1;\n  img.width \x3d 1;\n  if (alt !\x3d null) img.alt \x3d alt;\n  if (title !\x3d null) img.title \x3d title;\n  return img;\n}\n\nfunction onJqueryDocReady(cb) {\n  var waitForJquery \x3d function () {\n    if (window.jQuery) {\n      jQuery(document).ready(cb);\n    } else {\n      setTimeout(waitForJquery, 150);\n    }\n  };\n\n  waitForJquery();\n}\n\nfunction onJquery(cb) {\n  var waitForJquery \x3d function () {\n    if (window.jQuery) {\n      cb();\n    } else {\n      setTimeout(waitForJquery, 150);\n    }\n  };\n\n  waitForJquery();\n}\n\nfunction onJqueryWait(cb, delay, retries) {\n  retries \x3d retries || 5;\n  delay \x3d delay || 200;\n\n  var waitForJquery \x3d function () {\n    if (window.jQuery) {\n      cb();\n    } else {\n      if (retries \x3e 0) {\n        retries--;\n        setTimeout(waitForJquery, delay);\n      }\n    }\n  };\n\n  waitForJquery();\n}\n\nfunction waitForElement(selector, delay, retries, cb) {\n  retries \x3d retries || 5;\n  delay \x3d delay || 200;\n  var wait \x3d function () {\n    if (document.querySelector(selector) !\x3d null) {\n      cb();\n    } else {\n      if (retries \x3e 0) {\n        retries--;\n        setTimeout(wait, delay);\n      }\n    }\n  };\n\n  wait();\n}\n\x3c/script\x3e";
a.addClientFiltersList([]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Cookie - LBI_LU Registered User","disabled":false,"id":44321089,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.cookielbi_luregistereduser.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\nvar d \x3d new Date();\n d.setTime(d.getTime() + (365*24*60*60*1000));\n document.cookie \x3d 'LBI_LU\x3dtrue;domain\x3d.ladbrokes.com;path\x3d/;expires\x3d'+d.toGMTString(); \n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.UserLogin"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"dtxtngytz5im1.cloudfront.net/feedback-min.js","timeout":5E3,"async":true,"usesDocumentWrite":false,"prePostWindowScope":false,"name":"QuBit - Exit Feedback","disabled":true,"id":44328352,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.qubitexitfeedback.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.DLadbrokesCom"]);
a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){window.q_fb_opts={"cssExtra":"#main {padding: 0; height: 100%; width: 100%; box-sizing: border-box; font-family: 'robotoregularcondensed',arial; } .content {height: 100%; width: 100%; position: absolute; top: 0; left: 0; background-repeat: no-repeat; padding: 0; box-sizing: border-box; } .content.getFeedback {background: url('https://d1m54pdnjzjnhe.cloudfront.net/pngineer/0ef44f10-e9d7-11e4-8b68-97a3bb069adb.png'); } .content.thankYou {background: url('https://d1m54pdnjzjnhe.cloudfront.net/pngineer/0ef44f10-e9d7-11e4-8b68-97a3bb069adb.png'); } a.close {top: 12px; left: 384px; width: 25px; height: 25px; z-index: 12; } .content h1 {font-weight: bold; font-size: 20px; color: rgb(103, 103, 105); text-transform: uppercase; line-height: 0.645; text-shadow: 0px 1px 2px rgba(255, 255, 255, 0.6); position: absolute; left: 60px; top: 30px; height: 26px; z-index: 18; border-bottom: 1px solid rgb(103, 103, 105); } .content.thankYou h1 {margin-top: 10px; } .send, .send:hover, .send:active, .send:focus, .enabled .send, .enabled .send:hover, .enabled .send:active, .enabled .send:focus {background: url('https://d1m54pdnjzjnhe.cloudfront.net/pngineer/7fa7eb00-eff3-11e4-8b68-97a3bb069adb.png'); box-sizing: border-box; background-size: cover; filter: none; border: none; box-shadow: none; position: absolute; margin: 0; top: 261px; left: 242px; width: 119px; height: 44px; border-radius: 0; } textarea.text {resize: none; width: 302px; height: 120px; position: absolute; left: 62px; top: 122px; background-size: cover; border-radius: 0; } .content p {background-size: 311px; background-repeat: no-repeat; background-position: left top; font-size: 14px; color: rgb(103, 103, 105); line-height: 1.5; position: absolute; left: 63px; top: 70px; width: 320px; height: 33px; margin: 0; } .content.thankYou p{margin-top: 10px; text-align: left; }",
"pages":{"getFeedback":{"template":"\x3ch1\x3e{{title}}\x3c/h1\x3e \x3cp\x3e{{message}}\x3c/p\x3e \x3ctextarea tabindex\x3d'1' class\x3d'text'\x3e{{placeholder}}\x3c/textarea\x3e \x3ca tabindex\x3d'2' href\x3d'#' class\x3d'send'\x3e\x3c/a\x3e","data":{"title":"We\u2019d like your feedback","message":"Please tell us what you liked about our site and what you think we could improve.","placeholder":"Type your feedback here"},on:{"click .send":function(H,F){F.preventDefault();H=H.v1;if(H.getBoxBody().hasClass("enabled")){var k=
H.getBoxBody().find(".text").val();H.nextPage();H.sendFeedback(k);window.universal_variable=window.universal_variable||{};universal_variable.events=universal_variable.events||[];universal_variable.events.push({"category":"Feedback","action":"complete - "+k,"ga":true})}}}},"thankYou":{"data":{"message":"We appreciate your feedback."}}},"container":{"width":420,"height":325},"showProb":1,"trackingId":"ladbrokes","domain":".ladbrokes.com","clientId":36798,"profileId":2108,"configId":33}};a.script=function(){};
a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":false,"usesDocumentWrite":true,"name":"eSurvey 2.0","disabled":false,"id":43790014,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.esurvey20.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3ciframe src\x3d\"javascript:'';\" id\x3d\"ecos_iframe\" style\x3d\"position:absolute; left: 0; top: 0; width: 1px; height: 1px; visibility: hidden;\" title\x3d\"\"\x3e\x3c/iframe\x3e\x3ciframe src\x3d\"javascript:'';\" id\x3d\"ecos_iframe2\" style\x3d\"position:absolute; left: 0; top: 0; width: 1px; height: 1px; visibility: hidden;\" title\x3d\"\"\x3e\x3c/iframe\x3e\x3cdiv id\x3d\"ecos_surveylayer\" style\x3d\"position:absolute; left: 0; top: 0; width: 1px; height: 1px; visibility: hidden;\" title\x3d\"Visitor Survey (dynamically generated)\"\x3e\x3c/div\x3e\x3cscript language\x3d\"Javascript\" type\x3d\"text/javascript\"\x3e\n\x3c!--\n/*** eDigitalSurvey survey code v6.0.4.0 *****/\n/* Copyright (c) 2013 eDigitalResearch Ltd */\n/* Please refer to our Terms \x26 Conditions */\n/* for conditions of use. */\n/* Do NOT modify this code unless directed */\n/* to do so by a member of eDigitalResearch */\n/* staff. */\n/*********************************************/\n\ndocument.cookie \x3d 'ecos\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/; domain\x3dsportsbeta.ladbrokes.com';\n\nvar ecos_data \x3d '';\nvar ecos_data2 \x3d '';\nvar ecos_data3 \x3d '';\nvar ecos_test \x3d 0;\n\nvar ecos_sid \x3d 995634135;\nvar ecos_host \x3d 'ecustomeropinions.com';\nvar ecos_cookie_domain \x3d '.ladbrokes.com';\nvar ecos_vault \x3d 'vn17';\nvar ecos_ver \x3d '6040';\nvar ecos_nc \x3d '';\nvar ecos_go \x3d 0;\nvar ecos_pu \x3d 0;\nvar ecos_hm \x3d 0;\nvar ecos_pm \x3d 0;\nvar ecos_survey_size_x \x3d 550;\nvar ecos_survey_size_y \x3d 400;\nvar ecos_holding_size_x \x3d 550;\nvar ecos_holding_size_y \x3d 400;\nvar ecos_holding_complete_flag \x3d 1;\nvar ecos_jscode \x3d '';\nvar ecos_runjs \x3d 'ecos_run();';\nvar ecos_proportion \x3d 1.0;\nvar ecos_later_mode \x3d 0;\nvar ecos_device_type \x3d 1;\nvar ecos_cookie_old_value \x3d null;\nvar ecos_doc_domain_changed \x3d false;\nvar ecos_doc_domain_holding_ie_access_document \x3d window.location;\n\nvar brok \x3d false;\nif (parseInt(navigator.appVersion.charAt(0)) \x3e\x3d 4)\nbrok \x3d true;\n\nfunction ecos_buildurl(destpage) {\nvar ecos_url \x3d ecos_host + '/survey/' + destpage + '.php?sid\x3d' + ecos_sid;\n\necos_url \x3d ((document.location.protocol \x3d\x3d 'https:') ? 'https://' : 'http://') + ecos_url;\n\nif (ecos_test \x3e 0)\necos_url \x3d ecos_url + '\x26test\x3d1';\n\necos_url +\x3d '\x26v\x3d' + ecos_ver + '\x26r\x3d' + Math.round(Math.random() * 100000);\nif (ecos_vault.index !\x3d '_')\necos_url +\x3d '\x26vlt\x3d' + ecos_vault;\n\nvar myvar2 \x3d '';\nmyvar \x3d window.location.href;\n\nvar icount \x3d 0;\nfor (i\x3d0; i\x3cmyvar.length; i++) {\nif (myvar.charAt(i) \x3d\x3d '/')\nicount++;\nif (icount \x3e\x3d 3)\nmyvar2 +\x3d myvar.charAt(i);\n}\n\nif (ecos_data.length \x3e 0)\tecos_url +\x3d '\x26data\x3d' + ecos_data;\nif (ecos_data2.length \x3e 0)\tecos_url +\x3d '\x26data2\x3d' + ecos_data2;\nif (ecos_data3.length \x3e 0)\tecos_url +\x3d '\x26data3\x3d' + ecos_data3;\n\nif ((screen.width \x3e 0) \x26\x26 (screen.height \x3e 0))\necos_url +\x3d '\x26xres\x3d' + screen.width + '\x26yres\x3d' + screen.height;\n\nif (screen.colordepth \x3e 0)\necos_url +\x3d '\x26depth\x3d' + screen.colordepth;\n\nif (ecos_proportion \x3c 1.0) ecos_url +\x3d '\x26mult\x3d' + ecos_proportion;\necos_url +\x3d '\x26url\x3d' + escape(myvar2.substring(0,100));\necos_url +\x3d '\x26referrer\x3d' + escape(document.referrer.substring(0,100));\n\nvar ck;\nif (ck \x3d ecos_getcookie('ecos'))\necos_url +\x3d '\x26ecos_cookie\x3d' + ck;\n\nif (navigator.userAgent.indexOf(\"Safari\") \x3e\x3d 0)\necos_url +\x3d '\x26fullurl\x3d' + escape(window.location.href);\n\nif (ecos_doc_domain_changed)\necos_url +\x3d '\x26setdocdomain\x3d' + document.domain;\n\nreturn ecos_url;\n}\n\nfunction ecos_open_window(url, name, width, height) {\nvar specs \x3d ecos_device_type !\x3d 1 ? null :\n'location\x3d0,toolbar\x3dno,width\x3d' + width + ',height\x3d' + height +\n',directories\x3dno,status\x3dno,scrollbars\x3dyes,resizable\x3dyes';\nreturn window.open(url, name, specs);\n}\n\nfunction ecos_popup_popup() {\n\nvar ua \x3d navigator.userAgent;\nif ((ua.indexOf('NT 5.1') \x3e 0) \x26\x26 (ua.indexOf(' SV1') \x3e 0))\nreturn false;\n\nvar sw \x3d ecos_open_window(ecos_buildurl('survey'), 'surveywin', ecos_survey_size_x, ecos_survey_size_y);\n\nif ((ecos_pu) \x26\x26 (sw)) {\nsw.blur();\nsw.parent.blur();\n}\n\nreturn sw;\n}\n\n\nfunction ecos_popup_layer() {\nreturn ecos_request_via_iframe(ecos_buildurl('layer') + '\x26inlayer\x3d1');\n}\n\n\nfunction ecos_popup_holding_showwin(content) {\nvar hw \x3d null;\n\ntry {\n\nvar useAccessDoc \x3d ecos_doc_domain_changed \x26\x26 navigator.appName \x3d\x3d 'Microsoft Internet Explorer';\nhw \x3d ecos_open_window(\nuseAccessDoc ? ecos_doc_domain_holding_ie_access_document : '',\n'ecos_holding_window',\necos_holding_size_x,\necos_holding_size_y);\n\nif (content \x26\x26 hw) {\n\nvar attempts \x3d 0, maxTime \x3d 2000, delay \x3d 20;\nvar fn \x3d function(hw, content) {\n\nif (++attempts \x3e (maxTime / delay)) {\nhw.close();\nalert('Failed to access popup window, cannot show survey');\nreturn;\n}\n\ntry {\nif (!hw.document) throw 'wait';\n}\ncatch (e) {\nsetTimeout(function() { fn(hw, content); }, delay);\nreturn;\n}\n\nif (!hw.document.getElementById) {\nhw.close();\nhw \x3d null;\necos_layer_gosurveysize();\n}\nelse {\nvar e \x3d hw.document.getElementById('ecos_holding');\nif (!e) {\nvar body \x3d hw.document.getElementsByTagName('body')[0];\nbody.innerHTML \x3d '';\nhw.document.write(content);\n}\n}\n}\n\nfn(hw, content);\n}\n}\ncatch (e) {\nalert('ERROR: ' + e);\nif (hw) hw.close();\n}\n\nreturn hw;\n}\n\nfunction ecos_popup_holding() {\nvar sw \x3d null;\nif (!(sw \x3d ecos_popup_holding_showwin())) {\nreturn false;\n}\n\nif (ecos_request_via_iframe(ecos_buildurl('holding'))) {\nreturn sw;\n}\n\nreturn false;\n}\n\nfunction ecos_request_via_iframe(url) {\nif (!document.getElementById)\nreturn false;\n\nreturn ecos_load_url(document.getElementById(\"ecos_iframe2\"), url);\n}\n\nfunction ecos_load_url(frame, url) {\nif (ecos_doc_domain_changed) {\nel \x3d document.createElement('script');\nel.src \x3d url;\nel.type \x3d 'text/javascript';\ndocument.getElementsByTagName('head')[0].appendChild(el);\n} else {\nvar t \x3d '\x3cSCR' + 'IPT LANGUAGE\x3d\"Javascript\" SRC\x3d\"' + url + '\"\x3e\x3c/SCR' + 'IPT\x3e';\nvar b, a \x3d frame;\n\nif (a.contentDocument)\nb \x3d a.contentDocument;\nelse if (a.contentWindow)\nb \x3d a.contentWindow.document;\nelse if (a.document)\nb \x3d a.document;\nelse\nreturn false;\nb.open();\nb.write(t);\nb.close();\n}\n\nreturn true;\n}\n\n\nfunction ecos_layer_run() {\neval(ecos_jscode);\n\nvar check;\nif (!(check \x3d document.getElementById('ecos_cookie_permission'))) {\necos_setcookie();\n}\nelse {\nif (check.checked) ecos_setcookie();\n\ncheck.onclick \x3d function() {\nif (this.checked) {\necos_setcookie();\n}\nelse {\necos_unsetcookie();\n}\n};\n}\n}\n\nfunction ecos_getcookie(name) {\nvar cks \x3d document.cookie.split(';');\nvar ret \x3d '';\nfor (var i \x3d 0; i \x3c cks.length; i++)\n{\nvar c \x3d cks[i];\nwhile (c.charAt(0) \x3d\x3d ' ') c \x3d c.substring(1, c.length);\nif (c.indexOf(name + '\x3d') \x3d\x3d 0) ret +\x3d c.substring(name.length + 1, c.length) + '.';\n}\nreturn (ret.length \x3e 0) ? ret.substring(0, ret.length - 1) : ret;\n}\n\nfunction ecos_layer_gono(delay) {\nif(delay \x3e 0)\nsetTimeout(\"ecos_layer_gono()\", delay);\nelse\ndocument.getElementById('ecos_surveylayer').style.visibility \x3d 'hidden';\n}\n\n\nfunction ecos_layer_gosurveysize() {\necos_setcookie();\necos_layer_gono();\nvar sw \x3d ecos_open_window(ecos_buildurl('survey') + '\x26doneperm\x3d1', 'surveywin', ecos_survey_size_x, ecos_survey_size_y);\nif ((ecos_pu) \x26\x26 (sw)) {\nsw.blur();\nsw.parent.blur();\n}\nreturn sw;\n}\n\n\nfunction ecos_layer_golater() {\nif (ecos_later_mode \x3d\x3d 0) {\nsw \x3d ecos_layer_gosurveysize();\nif (sw) {\nsw.blur();\nsw.parent.blur();\n}\nreturn sw;\n}\nelse {\necos_setcookie();\necos_layer_gono();\nreturn ecos_popup_holding();\n}\n}\n\n\nvar runcounter \x3d 0;\nfunction ecos_popup() {\n\nif (document.getElementById)\nif (!document.getElementById(\"ecos_iframe\"))\nif (runcounter \x3c 10) {\nruncounter++;\nsetTimeout('ecos_popup()', 100);\nreturn;\n}\n\nif (ecos_go) {\n\nswitch (ecos_pm) {\ncase 0 : ecos_popup_popup(); break;\ncase 1 : ecos_popup_layer(); break;\ncase 2 : if (!ecos_popup_popup()) ecos_popup_layer(); break;\ncase 3 : if (!ecos_popup_layer()) ecos_popup_popup();\n}\n}\n}\n\n\nfunction ecos_run() {\nif (ecos_go) {\nif (ecos_hm \x3d\x3d 0)\necos_popup();\nelse if ((ecos_hm \x3d\x3d 1) \x26\x26 (brok)) {\necos_pm \x3d 0;\nwindow.onunload \x3d ecos_popup;\n}\n}\n}\n\n\nfunction ecos_i() {\neval(ecos_runjs);\n}\n\nfunction ecos_get_2nd_level_domain()\n{\nif(ecos_cookie_domain !\x3d '') {\nreturn escape(ecos_cookie_domain);\n}\nelse\nreturn document.domain;\n}\n\nfunction ecos_setcookie() {\nvar dt \x3d new Date();\nif (ecos_nc !\x3d '')\n{\nvar ck \x3d ecos_cookie_old_value \x3d ecos_getcookie('ecos');\nif (ck \x3d\x3d '')\nck \x3d escape(ecos_nc);\nelse\n{\nvar cksid \x3d ecos_nc.split('-', 2)[0];\nvar ckre \x3d new RegExp(cksid + '-\\\\d+');\nvar ckmatches \x3d ck.match(ckre);\nif ((!ckmatches) || ckmatches.length \x3d\x3d 0)\nck \x3d ck + '.' + escape(ecos_nc);\nelse\nck \x3d ck.replace(ckre, escape(ecos_nc));\n}\ndt.setDate(dt.getDate() + 7300);\nvar domain \x3d ecos_get_2nd_level_domain();\ndocument.cookie \x3d 'ecos\x3d' + ck + ';domain\x3d' + domain + ';path\x3d/;expires\x3d' + dt.toGMTString();\n}\n}\n\nfunction ecos_unsetcookie() {\nif (ecos_cookie_old_value \x3d\x3d null) return;\nvar dt \x3d new Date();\nif (ecos_cookie_old_value) {\ndt.setDate(dt.getDate() + 7300);\n}\nelse {\ndt.setDate(dt.getDate() - 1);\n}\ndocument.cookie \x3d 'ecos\x3d' + ecos_cookie_old_value + ';path\x3d/;expires\x3d' + dt.toGMTString();\n}\n\n\nvar runcounter2 \x3d 0;\nfunction ecos_load() {\nvar a, b;\nif (!(a \x3d document.getElementById(\"ecos_iframe\"))) {\nif (++runcounter2 \x3c 10)\nsetTimeout('ecos_load()', 100);\nreturn;\n}\n\nif ((ecos_allow \x3d\x3d null) \x26\x26 (typeof ecos_should_deploy !\x3d 'undefined') \x26\x26 (ecos_should_deploy \x3d\x3d false)) return;\n\nif (document.location.hostname \x3d\x3d document.domain) {\ntry {\nvar t;\nif (a.contentDocument)\nt \x3d a.contentDocument;\nelse if (a.contentWindow)\nt \x3d a.contentWindow.document;\nelse if (a.document)\nt \x3d a.document;\nelse\necos_doc_domain_changed \x3d true;\n}\ncatch (e) {\necos_doc_domain_changed \x3d true;\n}\n}\nelse\necos_doc_domain_changed \x3d true;\n\necos_load_url(a, ecos_buildurl('i'));\n}\n\nvar aeid \x3d ecos_getcookie('aeid');\nif (aeid\x3d\x3dnull || aeid\x3d\x3d'') {\necos_data\x3d'non_loggedin_visitor';\n}else{\necos_data\x3daeid;\n}\n\nvar ecos_allow \x3d null;\nif (document.location.toString().match('ECOS_SHOW_SURVEY')) {\necos_allow \x3d 'y';\n} else if (ecos_proportion \x3c 1.0) {\nif (Math.random() \x3e ecos_proportion) {\necos_allow \x3d 'n';\n}\n}\n\nif (ecos_allow !\x3d 'n') {\nif ((document.getElementById) \x26\x26 (window.frames)) {\nsetTimeout(ecos_load, 1);\n} else {\necos_img \x3d new Image;\necos_img.src \x3d ecos_buildurl('i') + '\x26nosup\x3d1';\n}\n}\n\nfunction ecos_update_dt_cookie()\n{\nvar dt \x3d +new Date();\nvar domain \x3d ecos_get_2nd_level_domain();\ndocument.cookie \x3d 'ecos.dt\x3d' + dt + ';domain\x3d' + domain + ';path\x3d/';\n}\n\necos_update_dt_cookie();\nsetInterval(ecos_update_dt_cookie, 500);\n\n\n// --\x3e\n\x3c/script\x3e\x3cnoscript\x3e\x3cimg src\x3d\"https://ecustomeropinions.com/survey/img.php?sid\x3d995634135\x26amp;nojs\x3d1\" border\x3d\"0\" width\x3d\"1\" height\x3d\"1\" alt\x3d\"\" /\x3e\x3ca href\x3d\"https://ecustomeropinions.com/survey/noscript.php?sid\x3d995634135\x26amp;nojs\x3d1\x26amp;vlt\x3dvn17\" rel\x3d\"nofollow\"\x3eWe would like your feedback, please fill in our survey\x3c/a\x3e\x3c/noscript\x3e";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.MobengaPreprodProd",
"ladbrokesdesktopsportsbook.filters.MobengaStaging1","ladbrokesdesktopsportsbook.filters.Dedupe","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue8"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"Check - Finance","description":"Checking deposit/signup events"});var A="ladbrokesdesktopsportsbook.tags.checkfinance.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList([]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.helpers1.Tag","ladbrokesdesktopsportsbook.tags.helpersevents.Tag","ladbrokesdesktopsportsbook.tags.analyticsuniversalanalytics.Tag"]);
a.pre=function(){};a.script=function(){function H(J,K,L){ga("send","event","FinanceCheck2",J,K,+L)}function F(){var J=window.universal_variable;return{userID:J.user&&J.user.user_id?J.user.user_id:"na",curr:J.user&&J.user.currency?J.user.currency:"na",amount:J.page&&J.page.Amount?J.page.Amount:"na"}}var k={deposit:false,signup:false};newUVListenerCond(isLBEvent.deposit,function(){setTimeout(function(){if(k.signup||k.deposit)return;k.deposit=true;var J=F();H("deposit",J.userID,J.amount)},500)});newUVListenerCond(isLBEvent.signup,
function(){if(k.signup)return;k.signup=true;var J=F();H("signup",J.userID,J.amount)})};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"Helpers - Product","description":"Helper to identify product"});var A="ladbrokesdesktopsportsbook.tags.helpersproduct.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList([]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){window.getLBProduct=function(){function H(S,V){if(T[S]>=0)T[S]+=V}function F(S,V){V=V||1;S=S.toLowerCase();
H(S,V+2);H(P[S],V+1);S=S.substr(0,3);H(P[S],V+1)}function k(){var S="na";for(var V in T)if(T[V]>T[S])S=V;if(S==="sportsbook")S="sports";return S}function J(){var S={mcasino:"casino",mslots:"slots",gamesext:"games",exmobile:"exchange",mlivedealer:"livedealer",mhub:"poker",m:"sports"};var V=window.location.hostname.split(".")[0];H(V,3);if(S[V])H(S[V],4)}function K(){if(window.location.pathname.indexOf("betexchange")>-1)H("exchange",5);if(window.location.pathname.indexOf("bet-in-play")>-1)H("inplay",
2);if(window.location.pathname.indexOf("virtual-sports")>-1)H("virtual",2);if(window.location.pathname.indexOf("/lobby/games")>-1)H("games",3);if(window.location.pathname.indexOf("/lobby/casino")>-1)H("casino",3);if(window.location.pathname.indexOf("/lobby/sports")>-1)H("sports",3);if(window.location.pathname.indexOf("/lobby/lottos")>-1)H("lottos",3);if(window.location.pathname.indexOf("/lobby/bingo")>-1)H("bingo",3)}function L(){if(document.cookie.match(/(^|; )system_source=([^;]*)/)!==null)F(document.cookie.match(/(^|; )system_source=([^;]*)/)[2],
1);if(document.location.href.match(/system_source=([^;&]*)/)!==null)F(document.location.href.match(/system_source=([^;&]*)/)[1],2);if(document.location.href.match(/sys_[Ss]ource=([^;&]*)/)!==null)F(document.location.href.match(/sys_[Ss]ource=([^;&]*)/)[1],2);if(document.location.href.match(/client[Tt]ype=([^;&]*)/)!==null)F(document.location.href.match(/client[Tt]ype=([^;&]*)/)[1],2);if(document.location.href.match(/initialtab=([^;&]*)/)!==null)F(document.location.href.match(/initialtab=([^;&]*)/)[1],
2)}function I(){if(M.page&&M.page.Category)F(M.page.Category,1);if(M.page&&M.page.Product)F(M.page.Product,3);if(M.user&&M.user.client_type)F(M.user.client_type,2)}var M=window.universal_variable;var P={pcs:"casino",plc:"livedealer",obe:"sports",ppk:"poker",vgs:"slots",bng:"bingo",odd:"thegrid",exc:"exchange",gam:"games",lot:"lottos",lde:"livedealer"};var T={na:0,thegrid:0,exchange:0,mobilebetting:0,lottos:0,livedealer:0,bingo:0,poker:0,games:0,slots:0,casino:0,sports:0,sportsbook:0,inplay:0,virtual:0};
return function(){J();K();I();L();return k()}}()};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"Mexos cookie extender","description":"Extends the duration of mexos cookies"});var A="ladbrokesdesktopsportsbook.tags.mexoscookieextender.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.NewMexosTest"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.helpers1.Tag","ladbrokesdesktopsportsbook.tags.newmexoscookie.Tag"]);
a.pre=function(){};a.script=function(){function H(P,T){var S=new XMLHttpRequest;S.overrideMimeType("application/json");S.open("GET",P,true);S.onreadystatechange=function(){if(S.readyState==4&&S.status=="200")T(JSON.parse(S.responseText))};S.send(null)}function F(){var P=readCookie(K);return P?P.split(",")[0]:""}function k(P){for(var T in P.config){var S=P.config[T];if(S.days&&S.aff_names instanceof Array){if(S.aff_names.indexOf(M)>-1){var V=readCookie(K);var da=readCookie(L);eraseCookie(K);eraseCookie(L);
eraseCookie(I);createCookie(K,V,S.days);createCookie(L,da,S.days);createCookie(I,M,S.days)}}else{console.log("bad json format:");console.log(S)}}}function J(){M=F();var P=readCookie(I);if(!M||M==P)return;H("https://s3-eu-west-1.amazonaws.com/ladbrokes.crossdomain/Mexos/mexos_extention_config.json",k)}var K="banner_domainclick";var L="Mexos_Pixel";var I="extended_mamber";var M="";J()};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Content - Mobenga- FootballPools Fix","disabled":false,"id":53239657,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.contentmobengafootballpoolsfix.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent='\x3cscript\x3e\n   if (window.jQuery){\n    var addLabel \x3d function(count){\n      try{    \n        var interval \x3d setInterval(function(){\n          if($(\'a[data-bind*\x3d"football.pools"]\').length \x3e 0 \x26\x26 $(\'#football-pools-label\').length \x3d\x3d\x3d 0) {\n            $(\'a[data-bind*\x3d"football.pools"]\').css({"width":"142px","cursor":"pointer"});\n            var label \x3d $(\'a[data-bind*\x3d"football.pools"]\').text();\n\t\t\t$(\'a[data-bind*\x3d"football.pools"] span.icon-check\').append(\'\x3cspan id\x3d"football-pools-label" style\x3d"color: black; font-size: 16px; font-family: Arial,Helvetica,sans-seri; position: relative; top: -4px;"\x3e\'+label+\'\x3c/span\x3e\');\n            clearInterval(interval);\n          }\n          count--||clearInterval(interval);\n        },200);\n      } catch(err) {\n      }\n    }\n    addLabel(20);\n  }\n\x3c/script\x3e';
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.FootballPages"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"async":true,"usesDocumentWrite":false,"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"name":"Crazy Egg","active":true,"disabled":false,"locked":false,"locationObject":"BODY","url":"","timeout":5E3});var A="ladbrokesdesktopsportsbook.tags.crazyegg.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent='\x3cscript type\x3d"text/javascript"\x3e\nsetTimeout(function(){var a\x3ddocument.createElement("script");\nvar b\x3ddocument.getElementsByTagName("script")[0];\na.src\x3ddocument.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0013/8062.js?"+Math.floor(new Date().getTime()/3600000);\na.async\x3dtrue;a.type\x3d"text/javascript";b.parentNode.insertBefore(a,b)}, 1);\n\x3c/script\x3e';
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.AllMainPages","ladbrokesdesktopsportsbook.filters.SITUATPerfPreprod"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Analytics - Mobenga - User","disabled":false,"id":43789891,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.analyticsmobengauser.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  /**\n  * @author: Rob Ellison\n  * This script handles tracking of the users in the mobenga app this sets users level variables.\n  * This creates a trackUser function which is called by the mobenga app every time the user information changes.\n  *  @Dependencies: Analytics - Tracker Functions\n  */\n  var trackUser \x3d function() {\n    if (window.universal_variable){\n      window.ga \x3d window.ga || [];\n      window.universal_variable.events \x3d window.universal_variable.events || [];\n      window.universal_variable.events.push({\"category\":\"HTML Content\",\"action\": \"User Push\"});\n      \n      if (window.universal_variable.user) {\n        if (window.universal_variable.user.user_id) {\n          tracker.trackDimension('\x26uid', window.universal_variable.user.user_id);\n          tracker.trackDimension('customer_id', window.universal_variable.user.user_id);\n          tracker.trackDimension('customer_id_session', window.universal_variable.user.user_id);\n        }\n        if (window.universal_variable.user.balance) {\n          tracker.trackDimension('balance', window.universal_variable.user.balance);\n        }\n        if (window.universal_variable.user.HVC) {        \n          tracker.trackDimension('hvc', window.universal_variable.user.HVC);\n        }\n        if(window.universal_variable.user.remember_username !\x3d\x3d undefined) {\n          tracker.trackDimension('remember_username', window.universal_variable.user.remember_username);\n        }\n        if(window.universal_variable.user.remember_password !\x3d\x3d undefined) {\n          tracker.trackDimension('remember_password', window.universal_variable.user.remember_password);\n        }\n        if(window.universal_variable.user.currency) {\n          tracker.trackDimension('\x26cu',window.universal_variable.user.currency);\n        }\n        if(window.universal_variable.user.startpage) {\n          tracker.trackDimension('remember_password', window.universal_variable.user.startpage);\n        }\n        if(window.universal_variable.user.remember_me !\x3d\x3d undefined) {\n          tracker.trackDimension('remember_me', window.universal_variable.user.remember_me);\n        }\n        if(window.universal_variable.user.product_preference) {\n          tracker.trackDimension('product_preference', window.universal_variable.user.product_preference);\n        }\n        if(window.universal_variable.user.inproduct_preference) {\n          tracker.trackDimension('inproduct_preference', window.universal_variable.user.inproduct_preference);\n        }\n      }\n    }\n  };\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.MarsLcmenv","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue3"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.analyticstrackerfunctions.Tag"]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"dd6zx4ibq538k.cloudfront.net/smartserve-2112.js","timeout":5E3,"async":true,"usesDocumentWrite":false,"prePostWindowScope":false,"name":"Qubit - Deliver","disabled":false,"id":43790023,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.qubitdeliver.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.ExposeSession",
"ladbrokesdesktopsportsbook.filters.ExcludeDisable_deliver","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue9","ladbrokesdesktopsportsbook.filters.DesktopUAT"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){window.__QB_USE_UV_PING=true;window.__qubit=window.__qubit||{};var H=function(){try{sessionStorage.setItem("qbTest","a");sessionStorage.removeItem("qbTest");return true}catch(L){return false}};var F=function(L,I){for(var M=
0;M<I.length;M++)if(L===I[M])return true;return false};var k=function(L,I){window.ga("send","event","Qbit Experiment",L+" - "+I);window.universal_variable=window.universal_variable||{};universal_variable.events=universal_variable.events||[];universal_variable.events.push({"action":"ga-event","dim40":L,"dim41":I})};var J=function(L){var I=L+"\x3d";var M=document.cookie.split(";");for(var P=0;P<M.length;P++){for(var T=M[P];T.charAt(0)===" ";)T=T.substring(1,T.length);if(T.indexOf(I)===0)return T.substring(I.length,
T.length)}return null};var K=function(L,I,M){L=L||50;var P=window.ga;if(P&&typeof P==="function")k(I,M);else setTimeout(function(){K(L*2,I,M)},L)};window.__qubit.ga=function(L,I,M,P){if(typeof P==="function")P();K(50,L,I)}};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Analytics - Mobenga - Betslip","disabled":false,"id":43789879,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.analyticsmobengabetslip.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent='\x3cscript id\x3d"betslipTracking"\x3e\n  /**\n  * @author: Rob Ellison\n  * This created the trackBetslip function that is called when a bet has been placed.\n  * If the Universal Variable transaction object exists call the tracker.trackEnhanced bet.  \n  *  @Dependants: Analytics - Tracking Functions\n  */\n  var trackBetSlip \x3d (function() {\n    if (window.universal_variable) {\n      if (window.universal_variable.transaction \x26\x26 window.universal_variable.transaction.total \x3e 0) {\n        tracker.trackEnhancedBet(window.universal_variable.transaction)\n\n        var currency \x3d window.universal_variable.user.currency !\x3d\x3d undefined ? window.universal_variable.user.currency : \'GBP\'\n        var total \x3d window.universal_variable.transaction.total !\x3d\x3d undefined ? window.universal_variable.transaction.total : 0\n        var uv \x3d window.__qubit \x26\x26 window.__qubit.uv\n        var uvOn \x3d uv \x26\x26 uv.on \x26\x26 typeof uv.on \x3d\x3d\x3d \'function\'\n\n        tracker.trackEvent("Betslip", "Bet Placed",currency,Math.round(total))\n      }\n    }\n  });\n\x3c/script\x3e';
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.MobengaPerfPreprodPerf","ladbrokesdesktopsportsbook.filters.MobengaStaging","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue2"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.analyticstrackerfunctions.Tag","ladbrokesdesktopsportsbook.tags.qubitdeliver.Tag"]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"CRE - TMI DoubleClick - Pixels","description":"Creates the TMI DoubleClick pixels"});var A="ladbrokesdesktopsportsbook.tags.cretmidoubleclickpixels.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.NewMexosTest"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.helpers1.Tag"]);a.pre=function(){};
a.script=function(){window.addEventListener("load",function(H){var F={signup:false,reg:false,login:false,deposit:false};getUVData=function(){var k=window.universal_variable;return{member:k.user&&k.user.advertiser?k.user.advertiser:"na",userID:k.user&&k.user.user_id?k.user.user_id:"0",product:getLBProduct(),amount:k.page&&k.page.Amount?k.page.Amount:"0"}};renderPixel=function(k,J){var K=window;var L=document;var I=J;var M=k;var P=L.createElement(I);P.src=M;P.async=true;if(I==="iframe"){P.height="0";
P.width="0";P.frameborder="0";P.style="display:none;"}L.getElementsByTagName("head")[0].appendChild(P)};TMIcreateEventPixel=function(k){var J=getUVData();var K=Math.random()+"";var L=K*1E13;if(k==="deposit")renderPixel("https://6417218.fls.doubleclick.net/activityi;src\x3d6417218;type\x3ddepos00;cat\x3dtmi-l0;u1\x3d"+J.userID+";u2\x3d[depositAmount];u4\x3d[numberofDeposits];u10\x3d[Bets Placed];u11\x3d[Bet Slip Additions];u12\x3d[2nd Deposits];u13\x3d[Number of Deposit];u14\x3d[Revenue (house wins)];u15\x3d[Stake Per Head];dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+
L+"?","iframe");else if(k==="reg")renderPixel("https://6417218.fls.doubleclick.net/activityi;src\x3d6417218;type\x3dsignu0;cat\x3dtmi-l0;u1\x3d"+J.userID+";u5\x3d[userCountry];u6\x3d[userGender];dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+L+"?","iframe");else if(k==="login")renderPixel("https://6417218.fls.doubleclick.net/activityi;src\x3d6417218;type\x3dsigni0;cat\x3dtmi-l0;u1\x3d"+J.userID+";u5\x3d[userCountry];u6\x3d[userGender];u10\x3d[Bets Placed];u11\x3d[Bet Slip Additions];u12\x3d[2nd Deposits];u13\x3d[Number of Deposit];u14\x3d[Revenue (house wins)];u15\x3d[Stake Per Head];u16\x3d[Sign Ins];dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+
L+"?","iframe")};newUVListenerCond(isLBEvent.signup,function(){if(F.signup)return;F.signup=true});window.uv_listener.push(["on","event",function(k){if(k.action==="Registration - Success"){F.login=true;TMIcreateEventPixel("reg")}}]);window.uv_listener=window.uv_listener||[];window.uv_listener.push(["on","event",function(k){if(k.action==="Login - Success"){if(F.login)return;F.login=true;TMIcreateEventPixel("login")}}]);newUVListenerCond(isLBEvent.login,function(){if(F.login)return;F.login=true;TMIcreateEventPixel("login")});
newUVListenerCond(isLBEvent.deposit,function(){F.deposit=true;TMIcreateEventPixel("deposit")})})};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"New Mexos Cookie","description":"Creates the Mexos pixel and banner_domailclick cookies"});var A="ladbrokesdesktopsportsbook.tags.newmexoscookie.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.NewMexosTest"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.helpers1.Tag"]);a.pre=function(){};
a.script=function(){function H(){var D=readCookie(T);return D?D.split(",")[0]:""}function F(){eraseCookie(T);eraseCookie(S);eraseCookie(V)}function k(){var D=["bing","yahoo","google","aol","yandex","duckduckgo"];var g="(^|(https?:\\/\\/)|(\\.))";var x="\\.";var E="";if(D.length>=1){E+=g+D[0]+x;for(var G=1;G<D.length;G++)E+="|"+g+D[G]+x}return RegExp(E,"i")}function J(D){var g=(D||document.referrer).toLowerCase();return w.test(g)}function K(D){if(D.member=="PayPerClick")return da;else if(D.member==
"PayPerClick_BINGO")return l;else if(D.member=="TDoubler")return b;else if(J())return fa;else return z}function L(D,g,x){createCookie(T,I(D,x),3);createCookie(S,I(g,x),3)}function I(D,g){return D.replace(/\{(\w+)\}/g,function(x,E){return g[E]||""})}function M(D){var g=/(http[s]?:\/\/)?([^\?]+)(.*)?/;var x=g.exec(D);if(x&&x.length>2){var E=x[2].substr(0,100);return encodeURI(E)}else return""}function P(){var D=getQueryParams(universal_variable.page.query||"");D.page_url=M(document.URL);D.referrer_url=
M(document.referrer);var g=H();var x=K(D);switch(x){case da:F();L(r,y,D);break;case l:F();L(f,q,D);break;case fa:F();L(d,u,D);break;case b:F();createPixel(I(v,D));break}}var T="banner_domainclick";var S="Mexos_Pixel";var V="extended_mamber";var da="ppc";var fa="seo";var l="ppc_bingo";var b="TDoubler";var z="default";var r="PayPerClick,14020628,690790,,ext_aff_tag:a_690790b_14020628c_{var1}d_BFEE56B37484684FF97E50F8DDEE8855e_PayPerClick%3bTPID:{var2}%3btrkid6:{var1}%3bgclid:{gclid}";var y="member\x3dPayPerClick\x26campaign\x3dDEFAULT\x26var9\x3d{gclid}{mscklid}\x26var10\x3d\x26zone\x3dPPC_Pixel";
var f="PayPerClick_BINGO,14020628,691084,,ext_aff_tag:a_691084b_14020628c_{var1}d_D85B1544C93EB0BA22BFE283735052E4e_PayPerClick_BINGO%3bTPID:%3btrkid6:{var1}%3bgclid:{gclid}";var q="member\x3dPayPerClick_BINGO\x26campaign\x3dDEFAULT\x26var9\x3d{gclid}\x26var10\x3d\x26zone\x3dPPC_Pixel";var d="SeoTraffic,13939919,690792,,ext_aff_tag:a_690792b_13939919c_d_FD4916BCDF6FF2A8CEE64AD3FB510F3Be_SeoTraffic%3bTPID:%3btrkid6:{page_url}%3bgclid:{referrer_url}";var u="member\x3dSeoTraffic\x26campaign\x3dDEFAULT\x26var9\x3d\x26var10\x3d\x26zone\x3dSeo_Pixel";
var v="https://online.ladbrokes.com/promoRedirect?member\x3d{member}\x26campaign\x3d{campaign}\x26channel\x3d{channel}\x26zone\x3d14020631\x26var1\x3d{tdaffid}\x26var2\x3dgclid{tdprgid}\x26var3\x3d{url}\x26var10\x3d{tduid}";var w=k();P()};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Content - Update Copyright 2017","disabled":false,"id":53277436,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.contentupdatecopyright2016.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  var addCopyrightFix \x3d function(count){\n      try{\n        var interval \x3d setInterval(function(){\n        var copyright \x3d document.getElementsByClassName('footer-copyright');\n    \tif(copyright \x26\x26 document.getElementById('copyright-fix') \x3d\x3d\x3d null) {\n             var c \x3d copyright[0].innerHTML.replace('2015','2017');\n     \t\t copyright[0].innerHTML\x3dc;\n     \t\t copyright[0].setAttribute(\"id\", \"copyright-fix\");\n            clearInterval(interval);\n          }\n          count--||clearInterval(interval);\n        },200);\n      } catch(err) {\n      }\n    }\n    addCopyrightFix(20);\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.Disable_opentag","ladbrokesdesktopsportsbook.filters.MobengaProprod"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"RULE: Debug","disabled":false,"id":49672368,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.ruledebug.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e;\x3c/script\x3e";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.FilterIsDebug"]);
a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"CRE - VE DoubleClick - Pixels","description":"Creates the VE DoubleClick pixels"});var A="ladbrokesdesktopsportsbook.tags.doubleclickpixels.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.NewMexosTest"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.helpers1.Tag"]);a.pre=function(){};
a.script=function(){window.addEventListener("load",function(H){var F="1873348";var k={signup:false,reg:false,login:false,deposit:false};getUVData=function(){var J=window.universal_variable;return{member:J.user&&J.user.advertiser?J.user.advertiser:"na",userID:J.user&&J.user.user_id?J.user.user_id:"0",product:getLBProduct(),amount:J.page&&J.page.Amount?J.page.Amount:"0"}};renderPixel=function(J,K){var L=window;var I=document;var M=K;var P=J;var T=I.createElement(M);T.src=P;T.async=true;if(M==="iframe"){T.height=
"0";T.width="0";T.frameborder="0";T.style="display:none;"}I.getElementsByTagName("head")[0].appendChild(T)};DCcreatePageViewPixels=function(){var J=Math.random()+"";var K=J*1E13;if(["sports.ladbrokes.com","m.ladbrokes.com"].indexOf(window.location.host)!==-1){renderPixel("https://8314807.fls.doubleclick.net/activityi;src\x3d8314807;type\x3dinvmedia;cat\x3dtbn8bvbf;dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+K+"?","iframe");renderPixel("//a.volvelle.tech/pixel?id\x3d8400\x26aid\x3d1036\x26type\x3djs",
"script");renderPixel("https://8311863.fls.doubleclick.net/activityi;src\x3d8311863;type\x3dladbr0;cat\x3dgb_la00;dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+K+"?","iframe")}if(["casino.ladbrokes.com","slots.ladbrokes.com","games.ladbrokes.com","livedealer.ladbrokes.com","bingo.ladbrokes.com","poker.ladbrokes.com","lottos.ladbrokes.com","gaming.ladbrokes.com"].indexOf(window.location.host)!==-1){renderPixel("https://8314807.fls.doubleclick.net/activityi;src\x3d8314807;type\x3dinvmedia;cat\x3dazj3gqah;dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+
K+"?","iframe");renderPixel("//a.volvelle.tech/pixel?id\x3d8404\x26aid\x3d1036\x26type\x3djs","script");renderPixel("https://8311863.fls.doubleclick.net/activityi;src\x3d8311863;type\x3dladbr0;cat\x3dgb_la000;dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+K+'?"',"iframe")}renderPixel("https://8314807.fls.doubleclick.net/activityi;src\x3d8314807;type\x3dinvmedia;cat\x3dikkjpu8q;dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+K+"?","iframe");renderPixel("//a.volvelle.tech/pixel?id\x3d8312\x26aid\x3d1036\x26type\x3djs",
"script");renderPixel("https://8311863.fls.doubleclick.net/activityi;src\x3d8311863;type\x3dladbr00;cat\x3dgb_la000;qty\x3d1;cost\x3d[Revenue];dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d[OrderID]?","iframe")};DCcreateEventPixel=function(J){var K=getUVData();var L=Math.random()+"";var I=L*1E13;if(J==="GB_Ladbrokes_NewReg_Conversion DBM")renderPixel("https://8314807.fls.doubleclick.net/activityi;src\x3d8314807;type\x3dinvmedia;cat\x3dk4sqx3fa;u1\x3d"+K.userID+";dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+
I+"?","iframe");else if(J==="GB_Ladbrokes_NewReg_Conversion Volvelle")renderPixel("//a.volvelle.tech/pixel?id\x3d8310\x26aid\x3d1036\x26type\x3djs","script");else if(J==="GB_Ladbrokes_NewReg_Conversion DCM")renderPixel("https://8311863.fls.doubleclick.net/activityi;src\x3d8311863;type\x3dladbr00;cat\x3dgb_la0;qty\x3d1;cost\x3d"+K.amount+";u1\x3d"+K.userID+";dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+I+"","iframe");else if(J==="GB_Ladbrokes_Login_Conversion DBM")renderPixel("https://8314807.fls.doubleclick.net/activityi;src\x3d8314807;type\x3dinvmedia;cat\x3dnyamiuav;u1\x3d"+
K.userID+";dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+I+"?","iframe");else if(J==="GB_Ladbrokes_Login_Conversion Volvelle")renderPixel("//a.volvelle.tech/pixel?id\x3d8311\x26aid\x3d1036\x26type\x3djs\x26c4\x3d"+K.userID+"","script");else if(J==="GB_Ladbrokes_Deposits_Conversion DBM")renderPixel("https://8314807.fls.doubleclick.net/activityi;src\x3d8314807;type\x3dsales;cat\x3dezol2qvp;qty\x3d1;cost\x3d"+K.amount+";u1\x3d"+K.userID+";dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+
I+"?","iframe");else if(J==="GB_Ladbrokes_Deposits_Conversion Volvelle")renderPixel("//a.volvelle.tech/pixel?id\x3d8313\x26aid\x3d1036\x26type\x3djs\x26bval\x3d"+K.amount+"\x26oid\x3d"+I+"\x26c4\x3d"+K.userID+"","script");else if(J==="GB_Ladbrokes_Deposits_Conversion DCM")renderPixel("https://8311863.fls.doubleclick.net/activityi;src\x3d8311863;type\x3dladbr00;cat\x3dgb_la001;qty\x3d1;cost\x3d"+K.amount+";u1\x3d"+K.userID+";dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+I+"?",
"iframe");else if(J==="GB_Ladbrokes_Login_Conversion DCM")renderPixel("https://8311863.fls.doubleclick.net/activityi;src\x3d8311863;type\x3dladbr00;cat\x3dgb_la00;qty\x3d1;cost\x3d1;u1\x3d"+K.userID+";dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+K.userID+"?","iframe");else if(J==="GB_Ladbrokes_FTD_Conversion DBM")renderPixel("https://8314807.fls.doubleclick.net/activityi;src\x3d8314807;type\x3dsales;cat\x3dyowxvu9a;qty\x3d1;cost\x3d"+K.amount+";u1\x3d"+K.userID+";dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+
K.userID+"?","iframe");else if(J==="GB_Ladbrokes_FTD_Conversion Volvelle")renderPixel("//a.volvelle.tech/pixel?id\x3d8716\x26aid\x3d1036\x26type\x3djs\x26bval\x3d"+K.amount+"\x26oid\x3d"+I+"\x26c4\x3d"+K.userID+"","script")};newUVListenerCond(isLBEvent.signup,function(){if(k.signup)return;k.signup=true;DCcreateEventPixel("GB_Ladbrokes_FTD_Conversion DBM");DCcreateEventPixel("GB_Ladbrokes_FTD_Conversion Volvelle")});window.uv_listener.push(["on","event",function(J){if(J.action==="Registration - Success"){k.login=
true;DCcreateEventPixel("GB_Ladbrokes_NewReg_Conversion DBM");DCcreateEventPixel("GB_Ladbrokes_NewReg_Conversion Volvelle");DCcreateEventPixel("GB_Ladbrokes_NewReg_Conversion DCM")}}]);window.uv_listener=window.uv_listener||[];window.uv_listener.push(["on","event",function(J){if(J.action==="Login - Success"){if(k.login)return;k.login=true;DCcreateEventPixel("GB_Ladbrokes_Login_Conversion DBM");DCcreateEventPixel("GB_Ladbrokes_Login_Conversion Volvelle");DCcreateEventPixel("GB_Ladbrokes_Login_Conversion DCM")}}]);
newUVListenerCond(isLBEvent.login,function(){if(k.login)return;k.login=true;DCcreateEventPixel("GB_Ladbrokes_Login_Conversion DBM");DCcreateEventPixel("GB_Ladbrokes_Login_Conversion Volvelle");DCcreateEventPixel("GB_Ladbrokes_Login_Conversion DCM")});newUVListenerCond(isLBEvent.deposit,function(){k.deposit=true;DCcreateEventPixel("GB_Ladbrokes_Deposits_Conversion DBM");DCcreateEventPixel("GB_Ladbrokes_Deposits_Conversion Volvelle");DCcreateEventPixel("GB_Ladbrokes_Deposits_Conversion DCM")});DCcreatePageViewPixels();
console.log("-----------------------------------VE loaded ("+F+")")})};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Cookie - eSurvey CustID","disabled":false,"id":43858365,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.cookieesurveycustid.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  /**\n  * @Author: Rob Ellison\n  * This script sets the customer ID cookie used by the eDigital survey script.\n  */\n  if(window.universal_variable \x26\x26 window.universal_variable.user \x26\x26 window.universal_variable.user.user_id){\n    var d \x3d new Date();\n    d.setTime(d.getTime() + (30*24*60*60*1000));\n    document.cookie \x3d 'aeid\x3d'+window.universal_variable.user.user_id+';domain\x3dladbrokes.com;path\x3d/;expiry\x3d'+d.toUTCString();+';'\n  }\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.DefaultFilterMatchAll1"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Content - Coupon Banner T\x26C's","disabled":false,"id":48371939,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.contentcouponbannertcs.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  /**\n  * @Author: Rob Ellison\n  * This is a temporary fix to display a terms and conditions link in the 5+ Accas banner.\n  * Once terms and codition link can be added to the banner through CMS this can be removed.\n  */\n  if (window.jQuery){\n    var addTCs \x3d function(count){\n      try{\n        var offer_text \x3d 'Offer applies to Win Draw Win markets only - ';\n        var link_text \x3d \"T\x26amp;C's apply\";\n        var language \x3d '/en-gb/';\n        if(document.location.pathname.indexOf('/de-de/')\x3d\x3d\x3d0){\n          offer_text \x3d 'Gilt nur f\u00fcr 1-X-2 M\u00e4rkte - ';\n          link_text \x3d 'AGB finden Anwendung';\n          language \x3d '/de-de/';\n        } else if(document.location.pathname.indexOf('/sv-se/')\x3d\x3d\x3d0){\n          offer_text \x3d 'G\u00e4ller endast 1-X-2-marknader \u2013 ';\n          link_text \x3d 'Regler \x26amp; villkor g\u00e4ller';\n          language \x3d '/sv-se/';\n        } else if(document.location.pathname.indexOf('/en-af/')\x3d\x3d\x3d0){\n          language \x3d '/en-af/';\n        } else if(document.location.pathname.indexOf('/en-ie/')\x3d\x3d\x3d0){\n          language \x3d '/en-ie/';\n        }\n         \n        var int \x3d setInterval(function(){\n          if(/back 5\\+ acca|zur\u00fcck bei 5\\+-kombiwette|tillbaka p\u00e5 5\\+ kombispel/.test($('.coupons .text-container .title-bottom').text().toLowerCase()) \x26\x26 $('#banner-tandcs').length \x3d\x3d\x3d 0) {\n            $('.coupons .text-container').append('\x3cbr\x3e\x3cp style\x3d\"color: white;font-size\x3d15px;font-family:Arial,Helvetica,sans-serif;height: 0;position: relative;bottom: 20px;\"\x3e'+offer_text+'\x3ca id\x3d\"banner-tandcs\" data-bind\x3d\"attr: { href: href}\" href\x3d\"'+language+'promotions/money-back-5-team-acca/\" style\x3d\"font-weight: bold;text-decoration: underline;color: white;font-weight: normal;font-size\x3d15px;font-family:Arial,Helvetica,sans-serif;\"\x3e'+link_text+'\x3c/a\x3e\x3c/p\x3e');\n            \n            // CSS fix Firefox\n            if (/firefox/.test(navigator.userAgent)) {\n              $('.coupons .text-container span:last').css({position:'relative',top:'-20px'});\n            }\n            \n            clearInterval(int);\n          }\n          count--||clearInterval(int);\n        },200);\n      } catch(err) {\n      }\n    }\n    addTCs(20);\n  }\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.CouponsPage"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"async":true,"usesDocumentWrite":false,"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"name":"GGA-235 - Connextra Betslip Retargeting","active":true,"disabled":false,"locked":false,"locationObject":"BODY","url":"","timeout":5E3});var A="ladbrokesdesktopsportsbook.tags.gga235connextrabetslipsuccess.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent='\x3cscript src\x3d"https://zz.connextra.com/dcs/tagController/tag/249557166696/betslip" async defer\x3e\x3c/script\x3e';
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.All"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"CRE - Connextra - Pixels","description":"Creates the Connextra pixels"});var A="ladbrokesdesktopsportsbook.tags.creconnextrapixels.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.NewMexosTest"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.helpers1.Tag"]);a.pre=function(){};a.script=
function(){window.addEventListener("load",function(H){var F={signup:false,reg:false,login:false,deposit:false};getUVData=function(){var k=window.universal_variable;return{member:k.user&&k.user.advertiser?k.user.advertiser:"na",userID:k.user&&k.user.user_id?k.user.user_id:"0",product:getLBProduct(),amount:k.page&&k.page.Amount?k.page.Amount:"0",depCount:k.user&&k.user.depositCount?k.user.depositCount:0}};renderPixel=function(k,J){var K=window;var L=document;var I=J;var M=k;var P=L.createElement(I);
P.src=M;P.async=true;if(I==="iframe"){P.height="0";P.width="0";P.frameborder="0";P.style="display:none;"}L.getElementsByTagName("head")[0].appendChild(P)};CNcreatePageViewPixels=function(){var k=Math.random()+"";var J=k*1E13;if(["sports.ladbrokes.com","m.ladbrokes.com"].indexOf(window.location.host)!==-1);if(["casino.ladbrokes.com","slots.ladbrokes.com","games.ladbrokes.com","livedealer.ladbrokes.com","bingo.ladbrokes.com","poker.ladbrokes.com","lottos.ladbrokes.com","gaming.ladbrokes.com"].indexOf(window.location.host)!==
-1);if(["accountone.ladbrokes.com"].indexOf(window.location.host)!==-1&&["/register"].indexOf(window.location.pathname)!==-1)renderPixel("https://zz.connextra.com/dcs/tagController/tag/249557166696/regstart","script");renderPixel("https://zz.connextra.com/dcs/tagController/tag/249557166696/homepage","script")};CNcreateEventPixel=function(k){var J=getUVData();var K=Math.random()+"";var L=K*1E13;if(k==="FTD")renderPixel("https://zz.connextra.com/dcs/tagController/tag/249557166696/firstdepositconfirm?AccountID\x3d"+
J.userID+"\x26Stake\x3d"+J.amount,"script");else if(k==="Deposit")renderPixel("https://zz.connextra.com/dcs/tagController/tag/249557166696/depositconfirm?AccountID\x3d"+J.userID+"\x26Stake\x3d"+J.amount,"script");else if(k==="Login")renderPixel("https://zz.connextra.com/dcs/tagController/tag/249557166696/loggedin?AccountID\x3d"+J.userID,"script");else if(k==="RegSuccess")renderPixel("https://zz.connextra.com/dcs/tagController/tag/249557166696/regconfirm?AccountID\x3d"+J.userID,"script")};newUVListenerCond(isLBEvent.signup,
function(){if(F.signup)return;F.signup=true;CNcreateEventPixel("FTD")});newUVListenerCond(isLBEvent.reg,function(){if(F.reg)return;F.reg=true;CNcreateEventPixel("RegSuccess")});newUVListenerCond(isLBEvent.login,function(){F.login=true;CNcreateEventPixel("Login")});newUVListenerCond(isLBEvent.deposit,function(){var k=getUVData();if(k.depCount<=1){console.log("-- n");return}console.log("-- f");F.deposit=true;CNcreateEventPixel("Deposit")});CNcreatePageViewPixels()})};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Qubit - Tracker","disabled":false,"id":43790338,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.qubittracker.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n\nwindow._qtd \x3d window._qtd || [];\n  window._qtd.push({\n    options: {\n      domain: \".ladbrokes.com\",\n      serverUrl: \"pong.qubitproducts.com/t2\",\n      clientId: \"ladbrokes\",\n      usePingQueue: (navigator.userAgent.indexOf(\"MSIE\") \x3d\x3d\x3d -1)\n    }\n  });\n\n(function() {\n  var head, qtracker, config;\n\n  head \x3d document.getElementsByTagName('head')[0];\n\n  qtracker \x3d document.createElement('script');\n  qtracker.src \x3d '//dtxtngytz5im1.cloudfront.net/qtracker-5.0.0.min.js';\n  //qtracker.src \x3d '//dtxtngytz5im1.cloudfront.net/qtracker-v3-min.js'; \n  head.appendChild(qtracker);\n\n  //config \x3d document.createElement('script');\n  //config.src \x3d '//s3-eu-west-1.amazonaws.com/qubit-etc/ladbrokes/qtracker/config.js'; \n  //head.appendChild(config);\n\n})();\n\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.All","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue10"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Mexos Cookie","disabled":true,"id":43789952,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.mexoscookie.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  \n  /**\n *\n *\n * Usage:\n *     var inst \x3d trafficMarkupService();\n *     inst.shootPixel();\n *\n */\n  \n  // parseUri 1.2.2\n  // (c) Steven Levithan \x3cstevenlevithan.com\x3e\n  // MIT License\n  var redLink;\n  \n  function parseUri (str) {\n    var o \x3d {\n      strictMode: false,\n      key: [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\", \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"],\n      q: {\n        name: \"queryKey\",\n        parser: /(?:^|\x26)([^\x26\x3d]*)\x3d?([^\x26]*)/g\n      },\n      parser: {\n        strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n        loose: /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n      }\n    };\n    \n    var m \x3d o.parser[o.strictMode ? \"strict\" : \"loose\"].exec(str),\n        uri \x3d {},\n        i \x3d 14;\n    \n    while (i--) uri[o.key[i]] \x3d m[i] || \"\";\n    \n    uri[o.q.name] \x3d {};\n    uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n      if ($1) uri[o.q.name][$1] \x3d $2;\n    });\n    \n    return uri;\n  }\n  \n  function trafficMarkupService (docURL, docReferrer) {    \n    var self \x3d this;\n    var query \x3d (window.universal_variable.page \x26\x26 window.universal_variable.page.query)?window.universal_variable.page.query:'';    \n    self.docURL \x3d docURL !\x3d\x3d undefined ? docURL : document.URL + query;\n    self.docReferrer \x3d docReferrer !\x3d\x3d undefined ? docReferrer : document.referrer;\n    \n    // getters for main params for easy testing\n    \n    self.getDocURL \x3d function () {\n      return self.docURL;\n    };\n    \n    self.getDocReferrer \x3d function () {\n      return self.docReferrer;\n    };\n    \n    // Misc helper functions\n    \n    self.getPath \x3d function () {\n      return encodeURI(parseUri(self.getDocURL()).path);\n    };\n    \n    self.getLandingPage \x3d function () {      \n      var product \x3d self.getProduct();\n      var path \x3d self.getPath();\n      \n      return encodeURI(product + path);\n    };\n    \n    self.getReferrer \x3d function () {\n      return encodeURI(self.getDocReferrer());\n    };\n    \n    self.getReferrerDomain \x3d function () {\n      return parseUri(self.getDocReferrer()).host;\n    };\n    \n    self.getParams \x3d function () {\n      return parseUri(self.getDocURL()).queryKey;\n    };\n    \n    // Key functions    \n    self.getProduct \x3d function () {      \n      var host \x3d parseUri(self.getDocURL()).host;\n      var path \x3d parseUri(self.getDocURL()).path;      \n      var product;\n      \n      switch (host) {\n          \n        case 'betting.ladbrokes.com':\n          product \x3d 'betting';\n          break;\n        case 'bingo.ladbrokes.com':\n          product \x3d 'bingo';\n          break;          \n        case 'casino.ladbrokes.com':          \n          product \x3d 'casino';          \n          if (path.toLowerCase().indexOf('live-dealer') \x3e -1) {\n            product \x3d 'livecasino';\n          }          \n          break;\n        case 'games.ladbrokes.com':\n          product \x3d 'games';\n          break;\n        case 'casino-stg.ladbrokes.com':\n          product \x3d 'casino';\n          break;  \n        case 'financials.ladbrokes.com':\n          product \x3d 'financials';\n          break;\n        case 'lottos.ladbrokes.com':\n          product \x3d 'lotto';\n          break;\n        case 'news.ladbrokes.com':\n          product \x3d 'news';\n          break;\n        case 'poker.ladbrokes.com':\n          product \x3d 'poker';\n          break;\n        case 'poker-stg.ladbrokes.com':\n          product \x3d'poker';\n          break; \n        case 'uat-ecommerce.ladbrokes.com':\n          product \x3d'sports';\n          break;    \n        case 'sports.ladbrokes.com':\n          product \x3d 'sportclassic';\n          break;\n        case 'd.ladbrokes.com':\n          product \x3d 'sportsmobenga';\n          break;\n        case 'sportsbeta.ladbrokes.com':\n          product \x3d 'sportbeta';          \n          if (path.toLowerCase().indexOf('betexchange') \x3e -1) {\n            product \x3d 'exchange';\n          }          \n          if (path.toLowerCase().indexOf('inplaylanding') \x3e -1) {\n            product \x3d 'inplay';\n          }\n          break;\n        case 'vegas.ladbrokes.com':\n          product \x3d 'vegas';\n          break;\n        case 'www.ladbrokes.com':\n          product \x3d 'home';\n          break;\n        case 'feeds.ladbrokes.com':\n          product \x3d 'feeds';\n          break;  \n        default :\n          product \x3d 'other';\n      }\n      \n      return product;\n    };\n    \n    self.getGoogleSlug \x3d function (host) {      \n      var locale;\n      \n      if (host.toLowerCase().indexOf('mail.') \x3e -1) {\n        locale \x3d 'googlemail';\n      } else if (host.toLowerCase().indexOf('.uk') \x3e -1) {\n        locale \x3d 'googleuk';\n      } else if (host.toLowerCase().indexOf('.es') \x3e -1) {\n        locale \x3d 'googlees';\n      } else if (host.toLowerCase().indexOf('.ie') \x3e -1) {\n        locale \x3d 'googleie';\n      } else if (host.toLowerCase().indexOf('.ru') \x3e -1) {\n        locale \x3d 'googleru';\n      } else if (host.toLowerCase().indexOf('.th') \x3e -1) {\n        locale \x3d 'googleth';\n      } else if (host.toLowerCase().indexOf('.ar') \x3e -1) {\n        locale \x3d 'googlear';\n      } else if (host.toLowerCase().indexOf('.com') \x3e -1) {\n        locale \x3d 'googlecom';\n      } else if (host.toLowerCase().indexOf('.hk') \x3e -1) {\n        locale \x3d 'googlehk';\n      } else if (host.toLowerCase().indexOf('.se') \x3e -1) {\n        locale \x3d 'googlese';\n      } else if (host.toLowerCase().indexOf('.de') \x3e -1) {\n        locale \x3d 'googlede';\n      } else if (host.toLowerCase().indexOf('.pl') \x3e -1) {\n        locale \x3d 'googlepl';\n      } else if (host.toLowerCase().indexOf('.pt') \x3e -1) {\n        locale \x3d 'googlept';\n      } else {\n        locale \x3d 'google';\n      }\n      \n      return locale;\n    };\n    \n    // Calculates correct code for source of traffic\n    \n    self.getTrafficType \x3d function () {\n      return self.getReferrerDomain() !\x3d '' ? 'SeoTraffic' : 'DirectTraffic';\n    };\n    \n    self.getChannel \x3d function () {      \n      var trafficType \x3d self.getTrafficType();\n      \n      // No channel for 'DirectTraffic'      \n      if (trafficType \x3d\x3d 'DirectTraffic') {\n        return '';\n      }\n      \n      // Exploring what SEO\n      \n      var refDomain \x3d self.getReferrerDomain();\n      \n      if (refDomain.toLowerCase().indexOf('bing.') \x3e -1) {\n        return 'bing';\n      }      \n      if (refDomain.toLowerCase().indexOf('yahoo.') \x3e -1) {\n        return 'yahoo';\n      }      \n      if (refDomain.toLowerCase().indexOf('aol.') \x3e -1) {\n        return 'aol';\n      }      \n      if (refDomain.toLowerCase().indexOf('yandex.') \x3e -1) {\n        return 'yandex';\n      }      \n      if (refDomain.toLowerCase().indexOf('google.') \x3e -1) {\n        return self.getGoogleSlug(refDomain);\n      }      \n      return 'referral';\n    };\n    \n    self.getKeywords \x3d function () {\n      var a \x3d self.getReferrer();\n      if (a \x3d /[?\x26](q|p|query|encquery|terms|rdata|szukaj|k|qt|qs|wd|text)\x3d([^\x26]*)/.exec(a)) return decodeURIComponent(a[2].replace(/\\+/g, \" \"));\n      return \"\";\n    };\n    \n    self.getSearchEngine \x3d function () {      \n      var regexp \x3d \"(\" + SE.join(\"|\") + \")\\\\.\",\n          refDomain \x3d self.getReferrerDomain();\n      \n      return refDomain.match(new RegExp(regexp)) ? refDomain : '';\n    };\n    \n    self.getLanguage \x3d function () {\n      return \"meta\x3d\";\n    }\n    \n    self.setCookieHelper \x3d function (c_name, value, exdays, domain) {\n      var exdate \x3d new Date();\n      exdate.setDate(exdate.getDate() + exdays);\n      var c_value \x3d value + ((exdays \x3d\x3d null) ? \"\" : \"; expires\x3d\" + exdate.toUTCString() + ';path\x3d/;domain\x3d' + domain);\n      document.cookie \x3d c_name + \"\x3d\" + c_value;\n    };\n    \n    self.splitCookie\x3dfunction (cookieName,param){      \n      var mexCookie \x3dself.getCookie(cookieName);\n      var mexCookieArr \x3dmexCookie.split(\"\x26\");\n      for(var i\x3d0;i\x3cmexCookieArr.length;i++)\n      {\n        var mexcookieParam \x3dmexCookieArr[i].split(\"\x3d\");\n        if (mexcookieParam[0] \x3d\x3d param);\n        return mexcookieParam[1];\n        break;\n      }\n      \n      return undefined;     \n    };\n    \n    self.isSearchEngine \x3d function (str) { \n      if (str.search('bing.') \x3e -1) {\n        return true;\n      }      \n      if (str.search('yahoo.') \x3e -1) {\n        return true;\n      }      \n      if (str.search('aol.') \x3e -1) {\n        return true;\n      }      \n      if (str.search('yandex.') \x3e -1) {\n        return true;\n      }      \n      if (str.search('google.') \x3e -1) {\n        return true;\n      }\n      else {\n        return false;\n      }\n      //////////////      \n    };\n    \n    self.dropCookie \x3d function () {    \n      if (self.getCookie('SEO') || self.getSearchEngine() \x3d\x3d '' || self.getCookie('AFF_ID')) return false;     \n      var cookie \x3d [];\n      \n      // 1st - Timestamp\n      cookie.push(Math.round(new Date().getTime() / 1000));\n      \n      // 2st - Search engine\n      cookie.push(self.getSearchEngine());\n      \n      // 3rd - Keyword\n      cookie.push(self.getKeywords());\n      \n      // 4th - Landing page\n      cookie.push(self.encodeURIComponent(getLandingPage()));\n      \n      // 5th - Language\n      cookie.push(self.getLanguage());\n      \n      self.setCookieHelper('SEO', cookie.join('|'), 14, '.ladbrokes.com');\n      \n      return true;\n    };\n    \n    self.getCookie \x3d function getCookie (cname) {\n      var name \x3d cname + \"\x3d\";\n      var ca \x3d document.cookie.split(';');\n      for (var i \x3d 0; i \x3c ca.length; i++) {\n        var c \x3d ca[i].replace(/^\\s+|\\s+$/g, '');\n        if (c.indexOf(name) \x3d\x3d 0) return c.substring(name.length, c.length);\n      }\n      return \"\";\n    };\n    \n    self.deleteCookie\x3d function (cookieName){\n      \n      document.cookie \x3d cookieName+'\x3d ;expires\x3dThu, 01 Jan 1970 00:00:01 GMT;path\x3d/;domain\x3d.ladbrokes.com';\n      \n    }\n    \n    self.getLink \x3d function (paramsObj) {      \n      //var strLink \x3d 'http://de.lbr.mexos.com/promoRedirect?'\n      var strLink \x3d 'http://online.ladbrokes.com/promoRedirect?'\n      + 'member\x3d' + paramsObj.member\n      + '\x26campaign\x3d' + paramsObj.campaign\n      + '\x26channel\x3d' + paramsObj.channel\n      + '\x26zone\x3d' + paramsObj.zone\n      + '\x26var1\x3d' + paramsObj.var1\n      + '\x26var2\x3d' + paramsObj.var2\n      + '\x26var3\x3d' + paramsObj.var3\n      + '\x26var4\x3d' + paramsObj.var4\n      + '\x26var5\x3d' + paramsObj.var5\n      + '\x26var6\x3d' + paramsObj.var6\n      + '\x26var7\x3d' + paramsObj.var7\n      + '\x26var8\x3d' + paramsObj.var8\n      + '\x26var9\x3d' + paramsObj.var9\n      + '\x26var10\x3d' + paramsObj.var10;\n      \n      return strLink;\n    };\n    \n    self.createPixelImg \x3d function (imgSrc,obj) {      \n      var img \x3d document.createElement(\"img\");\n      img.width \x3d 1;\n      img.height \x3d 1;\n      img.src \x3d imgSrc;\n      \n      if (document.body !\x3d null) {\n        document.body.appendChild(img);\n      }\n      \n      if ((obj.member \x3d\x3d 'TDoubler') \x26\x26 ((obj.var3 !\x3d undefined) \x26\x26 (obj.var3 !\x3d '')))\n      {\n        var redStr \x3d obj.var3+'?member\x3d'+obj.member+'\x26campaign\x3d'+obj.campaign+'\x26tdaffid\x3d'+obj.var1+'\x26tduid\x3d'+obj.var10+'\x26tdprgid'+obj.var2;\n        window.location.replace(redStr);\n      }     \n    };\n    \n    \n    \n    return {\n      test: function (curMember) {\n        return {\n          member: curMember,\n          campaign: self.getProduct(),\n          channel: self.getChannel(),\n          keywords: self.getKeywords(),\n          query: self.getParams()\n        }\n      },\n      shootPixel: function () {       \n        var urlParams \x3d self.getParams();\n        var paramsObj \x3d {};\n        var imgSrc;\n        var strTemp\x3dself.getCookie('banner_domainclick');\n        var arrTemp \x3dstrTemp.split(',');\n        var arr30DaysId\x3d['forcemedia','cleveradvWC','netwin81','marcusholland12','sazkarnet'];\n        var arrCriteoUsers\x3d['CriteoSport','CriteoVegas','CriteoCasino','CriteoPoker','CriteoBingo','CriteoGames'];\n        var isCriteo\x3dfalse;\n        \n        /////////////////////\n        if((self.getCookie('RETURNCLIENT') \x3d\x3d null) || (self.getCookie('RETURNCLIENT').length \x3d\x3d 0) ){          \n          var d \x3d new Date();\n          d.setTime(d.getTime() + (3*24*60*60*1000));          \n          for (var i \x3d 0; i \x3c arr30DaysId.length; i++) {\n            if(arr30DaysId[i] \x3d\x3d arrTemp[0])\n            {\n              \n              d.setTime(d.getTime() + (30*24*60*60*1000));\n              document.cookie \x3d 'banner_domainclick\x3d'+self.getCookie(\"banner_domainclick\")+';domain\x3d.ladbrokes.com;path\x3d/;expires\x3d'+d.toGMTString();\n              document.cookie \x3d 'Mexos_Pixel\x3d'+self.getCookie(\"Mexos_Pixel\")+';domain\x3d.ladbrokes.com;path\x3d/;expires\x3d'+d.toGMTString();\n              document.cookie \x3d 'AFF_DATA\x3d'+self.getCookie(\"AFF_DATA\")+';domain\x3d.ladbrokes.com;path\x3d/;expires\x3d'+d.toGMTString();\n            }\n          };\n          document.cookie \x3d 'RETURNCLIENT\x3dfirstTime;domain\x3d.ladbrokes.com;path\x3d/;expires\x3d'+d.toGMTString();          \n        }\n        \n        for (var i \x3d 0; i \x3c arrCriteoUsers.length; i++) {\n          if(arrCriteoUsers[i] \x3d\x3d urlParams.member)\n            isCriteo\x3dtrue;\n        };\n        if(!isCriteo)          \n        { \n          \n          if((urlParams.member \x3d\x3d \"PayPerClick\") || (urlParams.utm_medium \x3d\x3d \"paid_search\")){     \n            \n            self.deleteCookie('banner_domainclick'); \n            self.deleteCookie('Mexos_Pixel'); \n            \n          }        \n          if((arrTemp[0] \x3d\x3d \"\") || (urlParams.member \x3d\x3d \"PayPerClick\") || (urlParams.utm_medium \x3d\x3d \"paid_search\") || (arrTemp[0] \x3d\x3d \"DirectTraffic\"))\n          {    \n            \n            ///new obg\n            \n            paramsObj.member \x3d urlParams.member;\n            paramsObj.campaign \x3d urlParams.campaign;\n            paramsObj.channel \x3d urlParams.channel;\n            paramsObj.zone \x3d '14020627';\n            paramsObj.var1 \x3d \"\";\n            paramsObj.var2 \x3d \"\";\n            paramsObj.var3 \x3d \"\";\n            paramsObj.var4 \x3d urlParams.var4;\n            paramsObj.var5 \x3d urlParams.var5;\n            paramsObj.var6 \x3d urlParams.kprof_id;\n            paramsObj.var7 \x3d urlParams.kaffcode;\n            paramsObj.var8 \x3d urlParams.kdevice;\n            paramsObj.var9 \x3d urlParams.gclid;\n            paramsObj.var10 \x3d urlParams.kid;\n            ///      \n            // console.log('kannnn'+strTemp);\n            if (urlParams.member \x3d\x3d 'PayPerClick') {            \n              paramsObj.member \x3d urlParams.member;\n              paramsObj.campaign \x3d urlParams.campaign;\n              paramsObj.channel \x3d urlParams.channel;\n              paramsObj.zone \x3d '14020627';\n              paramsObj.var1 \x3d urlParams.var1;\n              paramsObj.var2 \x3d urlParams.var2;\n              paramsObj.var3 \x3d urlParams.var3;\n              paramsObj.var4 \x3d urlParams.var4;\n              paramsObj.var5 \x3d urlParams.var5;\n              paramsObj.var6 \x3d urlParams.kprof_id;\n              paramsObj.var7 \x3d urlParams.kaffcode;\n              paramsObj.var8 \x3d urlParams.kdevice;\n              paramsObj.var9 \x3d urlParams.gclid;\n              paramsObj.var10 \x3d urlParams.kid;\n              \n              imgSrc \x3d self.getLink(paramsObj);\n              self.createPixelImg(imgSrc,paramsObj);           \n            } else if (urlParams.utm_medium \x3d\x3d 'paid_search') {            \n              paramsObj.member \x3d 'PayPerClick';\n              paramsObj.campaign \x3d  'DEFAULT';\n              paramsObj.channel \x3d 'DEFAULT';\n              paramsObj.zone \x3d '14020627';\n              paramsObj.var1 \x3d urlParams.AFF_ID;\n              paramsObj.var2 \x3d \"\";\n              paramsObj.var3 \x3d \"\";\n              paramsObj.var4 \x3d \"\";\n              paramsObj.var5 \x3d \"\";\n              paramsObj.var6 \x3d \"\";\n              paramsObj.var7 \x3d \"\";\n              paramsObj.var8 \x3d \"\";\n              paramsObj.var9 \x3d urlParams.gclid;\n              paramsObj.var10 \x3d \"\";\n              \n              imgSrc \x3d self.getLink(paramsObj);\n              self.createPixelImg(imgSrc,paramsObj);   \n            } else if (urlParams.member \x3d\x3d 'TDoubler') {           \n              paramsObj.member \x3d urlParams.member;\n              paramsObj.campaign \x3d urlParams.campaign;\n              paramsObj.channel \x3d urlParams.channel;\n              paramsObj.zone \x3d '14020631';\n              paramsObj.var1 \x3d urlParams.tdaffid;\n              paramsObj.var2 \x3d urlParams.tdprgid;\n              paramsObj.var3 \x3d urlParams.url;\n              paramsObj.var4 \x3d \"\";\n              paramsObj.var5 \x3d \"\";\n              paramsObj.var6 \x3d \"\";\n              paramsObj.var7 \x3d \"\";\n              paramsObj.var8 \x3d \"\";\n              paramsObj.var9 \x3d \"\";\n              paramsObj.var10 \x3d urlParams.tduid;\n              \n              imgSrc \x3d self.getLink(paramsObj);\n              self.createPixelImg(imgSrc,paramsObj);         \n            }   else if (self.isSearchEngine(document.referrer)) {           \n              paramsObj.zone \x3d '13939920';\n              paramsObj.member \x3d self.getTrafficType();\n              paramsObj.campaign \x3d self.getProduct();\n              paramsObj.channel \x3d self.getChannel();\n              paramsObj.var1 \x3d \"\";\n              paramsObj.var2 \x3d self.getLandingPage();\n              paramsObj.var3 \x3d self.getReferrer();\n              paramsObj.var4 \x3d \"\";\n              paramsObj.var5 \x3d \"\";\n              paramsObj.var6 \x3d \"\";\n              paramsObj.var7 \x3d \"\";\n              paramsObj.var8 \x3d \"\";\n              paramsObj.var9 \x3d \"\";\n              paramsObj.var10 \x3d \"\";\n              \n              imgSrc \x3d self.getLink(paramsObj);\n              self.createPixelImg(imgSrc,paramsObj);     \n            }  \n            else  {            \n              if((arrTemp[0] \x3d\x3d \"\") \x26\x26 (arrTemp[0] !\x3d \"PayPerClick\")  \x26\x26 (arrTemp[0] !\x3d \"TDoubler\")  \x26\x26 (arrTemp[0] !\x3d \"SeoTraffic\") )\n              {              \n                paramsObj.zone \x3d '14020629';\n                paramsObj.member \x3d self.getTrafficType();\n                paramsObj.campaign \x3d self.getProduct();\n                paramsObj.channel \x3d self.getChannel();\n                paramsObj.var1 \x3d \"\";\n                paramsObj.var2 \x3d self.getLandingPage();\n                paramsObj.var3 \x3d self.getReferrer();\n                paramsObj.var4 \x3d encodeURIComponent(self.getKeywords());\n                paramsObj.var5 \x3d \"\";\n                paramsObj.var6 \x3d \"\";\n                paramsObj.var7 \x3d \"\";\n                paramsObj.var8 \x3d \"\";\n                paramsObj.var9 \x3d \"\";\n                paramsObj.var10 \x3d \"\";\n                \n                // imgSrc \x3d self.getLink(paramsObj);\n                // self.createPixelImg(imgSrc,paramsObj);           \n              }         \n            }\n          }\n          \n        }else {\n          //WILL GENERATE CRETEO PIXELL\n          self.deleteCookie('banner_domainclick'); \n          self.deleteCookie('Mexos_Pixel');\n          self.createPixelImg('http://online.ladbrokes.com/promoRedirect?key\x3d'+urlParams.key,'');    \n        }   \n      },\n      setCookie: function () {\n        self.dropCookie();\n      }      \n    }\n  }\n  \n  var inst \x3d trafficMarkupService();\n  inst.shootPixel();\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.MobengaCampaignPushUVEventOverrideWindowDocURL","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue7"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"Helpers - Events","description":"Helper to identify basic events"});var A="ladbrokesdesktopsportsbook.tags.helpersevents.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList([]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){window.isLBEvent=function(){function H(F){return F.replace(new RegExp(" ","g"),"").toLowerCase()}
return{signup:function(F){return F&&F.category&&F.action&&(H(F.category)==="lb_deposit"&&H(F.action)==="signup-success"||H(F.category)==="signup"&&H(F.action)==="signupsuccess"||H(F.category)==="signup"&&H(F.action)==="success")},login:function(F){return F&&F.category&&F.action&&(H(F.category)==="lb_login"&&H(F.action)==="success"||H(F.category)==="login"&&H(F.action)==="success")},deposit:function(F){return F&&F.category&&F.action&&(H(F.category)==="lb_deposit"&&H(F.action)==="deposit-success"||
H(F.category)==="deposit"&&H(F.action)==="depositsuccess"||H(F.category)==="deposit"&&H(F.action)==="success")},reg:function(F){return F&&F.category&&F.action&&(H(F.category)==="lb_register"&&H(F.action)==="registration-success"||H(F.category)==="registered"&&H(F.action)==="success"||H(F.category)==="registered"&&H(F.action)==="registrationsuccess")}}}()};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"CRE - TV Squared - Pixels","description":"Creates the TV Squared pixels"});var A="ladbrokesdesktopsportsbook.tags.cretvsquaredpixels.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.NewMexosTest"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.helpers1.Tag"]);a.pre=function(){};a.script=
function(){window.addEventListener("load",function(H){var F={signup:false,reg:false,login:false,deposit:false};getUVData=function(){var k=window.universal_variable;return{member:k.user&&k.user.advertiser?k.user.advertiser:"na",userID:k.user&&k.user.user_id?k.user.user_id:"0",product:getLBProduct(),amount:k.page&&k.page.Amount?k.page.Amount:"0"}};renderPixel=function(k,J){var K=window;var L=document;var I=J;var M=k;var P=L.createElement(I);P.src=M;P.async=true;if(I==="iframe"){P.height="0";P.width=
"0";P.frameborder="0";P.style="display:none;"}L.getElementsByTagName("head")[0].appendChild(P)};TVcreatePageViewPixels=function(){var k=getUVData();var J=Math.random()+"";var K=J*1E13;if(["bingo.ladbrokes.com"].indexOf(window.location.host)!==-1)tvSquaredAction("bingo landing page");if(["casino.ladbrokes.com","gaming.ladbrokes.com"].indexOf(window.location.host)!==-1)tvSquaredAction("casino landing page");if(["sports.ladbrokes.com","m.ladbrokes.com"].indexOf(window.location.host)!==-1)tvSquaredAction("sports landing page");
var L=window._tvq=window._tvq||[];(function(){var I="https:"==document.location.protocol?"https://collector-1749.tvsquared.com/":"http://collector-1749.tvsquared.com/";L.push(["setReferrerUrl",k.member]);L.push(["setSiteId","TV-81275409-1"]);L.push(["setTrackerUrl",I+"tv2track.php"]);L.push([function(){this.deleteCustomVariable(5,"page")}]);L.push(["trackPageView"]);var M=document;var P=M.createElement("script");var T=M.getElementsByTagName("script")[0];P.type="text/javascript";P.defer=true;P.async=
true;P.src=I+"tv2track.js";T.parentNode.insertBefore(P,T)})()};TVcreateEventPixel=function(k){var J=getUVData();var K=Math.random()+"";var L=K*1E13;if(k==="name");};tvSquaredAction=function(k){var J=getUVData();var K=window._tvq=window._tvq||[];(function(){var L={"user":""};var I=k;var M={"rev":J.amount,"prod":"Ladbrokes","id":k,"promo":"\x3cPROMOCODE\x3e"};var P="https:"==document.location.protocol?"https://collector-1749.tvsquared.com/":"http://collector-1749.tvsquared.com/";K.push(["setReferrerUrl",
J.member]);K.push(["setSiteId","TV-81275409-1"]);K.push(["setTrackerUrl",P+"tv2track.php"]);K.push([function(){this.setCustomVariable(5,"session",JSON2.stringify(L),"visit")}]);K.push([function(){this.setCustomVariable(5,I,JSON2.stringify(M),"page")}]);K.push(["trackPageView"]);var T=document;var S=T.createElement("script");var V=T.getElementsByTagName("script")[0];S.type="text/javascript";S.defer=true;S.async=true;S.src=P+"tv2track.js";V.parentNode.insertBefore(S,V)})()};newUVListenerCond(isLBEvent.signup,
function(){if(F.signup)return;F.signup=true;tvSquaredAction("first deposit")});newUVListenerCond(isLBEvent.reg,function(){if(F.reg)return;F.reg=true});newUVListenerCond(isLBEvent.login,function(){F.login=true});newUVListenerCond(isLBEvent.deposit,function(){F.deposit=true;tvSquaredAction("deposit")});TVcreatePageViewPixels()})};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Analytics -- Universal Analytics","disabled":false,"id":43789906,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.analyticsuniversalanalytics.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  /**\n  * @Authors Rob Ellison, Google\n  * This is the GA core script this is loaded before all others.\n  * Next campaign related dimensions and campaign information is set.\n  */ \n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']\x3dr;i[r]\x3di[r]||function(){\n  (i[r].q\x3di[r].q||[]).push(arguments)},i[r].l\x3d1*new Date();a\x3ds.createElement(o),\n  m\x3ds.getElementsByTagName(o)[0];a.async\x3d1;a.src\x3dg;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n  \n  ga('create', 'UA-25272412-1', 'ladbrokes.com');\n  ga('require','ec');\n  \n  (function(){\n    if (window.universal_variable \x26\x26 window.universal_variable.user \x26\x26 window.universal_variable.user.user_id\x3e0){\n      var customer_id \x3d window.universal_variable.user.user_id;\n      ga('set', '\x26uid', customer_id);\n      ga('set', 'dimension1', customer_id);\n      ga('set', 'dimension2', customer_id);\n    }\n  })();\n  \n  (function() {\n    var c \x3d document.cookie;\n    c \x3d c.substring(c.indexOf('__utmv\x3d'));\n    c \x3d c.substring(7, c.indexOf(';') \x3d\x3d -1 ? c.length : c.indexOf(';'));\n    var i \x3d c.indexOf('9\x3dVisitor_ID\x3d');\n    c \x3d c.substring(i + 13);\n    var j \x3d c.indexOf('\x3d');\n    if (i \x3d\x3d -1 \x26\x26 j \x3d\x3d -1) {\n      var visitor_id \x3d '' + new Date().getTime() + '_' + Math.floor(Math.random() * 999);\n      \n      // set custom variable\n      ga('set', 'dimension3', visitor_id);\n    }\n  })();\n  \n  (function() {\n    if (document.cookie.match(/Mexos_Pixel\x3d([^;]*)/)!\x3d\x3dnull){\n      var mexos_cookie \x3d document.cookie.match(/Mexos_Pixel\x3d([^;]*)/)[1];\n      if(mexos_cookie.match(/zone\x3d[^\x26]*[Mm][Ee][Dd][Ii][Aa]/)!\x3d\x3dnull) {\n        ga('set', 'dimension4','Media');\n      } else if (mexos_cookie.match(/member\x3d(PayPerClick|SeoTraffic|DirectTraffic)/)!\x3d\x3dnull) {\n        var channel \x3d mexos_cookie.match(/member\x3d([^\x26;]+)/)[1];\n        ga('set', 'dimension4',channel);\n      } else {\n        ga('set', 'dimension4','Affiliates');\n      }\n      if (mexos_cookie.match(/member\x3d([^\x26;]+)/)!\x3d\x3dnull){\n        var member \x3d mexos_cookie.match(/member\x3d([^\x26;]+)/)[1];\n        ga('set', 'dimension5',member);\n      }\n      if(mexos_cookie.match(/campaign\x3d[^\x26;]+/)!\x3d\x3dnull){\n        var campaign \x3d mexos_cookie.match(/campaign\x3d([^\x26;]+)/)[1];\n        ga('set', 'dimension6',campaign);\n      }\n    }\n  })();\n  \n  (function() {\n    var query \x3d window.universal_variable.page.query || \"\";\n    if (query.length\x3e0) {\n      if(/utm_medium\x3d([^\x26])/.test(query)){\n        ga('set','campaignMedium',query.match(/utm_medium\x3d([^\x26]*)/)[1]);\n      }\n      if(/utm_source\x3d([^\x26])/.test(query)){\n        ga('set','campaignSource',query.match(/utm_source\x3d([^\x26]*)/)[1]);\n      }\n      if(/utm_campaign\x3d([^\x26])/.test(query)){\n        ga('set','campaignName',query.match(/utm_campaign\x3d([^\x26]*)/)[1]);\n      }\n      if(/utm_content\x3d([^\x26])/.test(query)){\n        ga('set','campaignKeyword',query.match(/utm_content\x3d([^\x26]*)/)[1]);\n      }\n      if(/utm_term\x3d([^\x26])/.test(query)){\n        ga('set','campaignContent',query.match(/utm_term\x3d([^\x26]*)/)[1]);\n      }           \n    }\n  })();\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.MobengaDesktop","ladbrokesdesktopsportsbook.filters.MobengaStaging","ladbrokesdesktopsportsbook.filters.DataSecurityParameters","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue5"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"name":"Qubit - Deliver UAT","url":"//dd6zx4ibq538k.cloudfront.net/smartserve-2586.js"});var A="ladbrokesdesktopsportsbook.tags.qubitdeliveruat.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.IsDesktopUAT"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"https://static.criteo.net/js/ld/ld.js","timeout":5E3,"async":true,"usesDocumentWrite":false,"prePostWindowScope":true,"name":"Retargetting - Criteo - Product","disabled":false,"id":43790323,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.retargettingcriteoproduct.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.SportsHome"]);
a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){function H(){var J="other";if(document.location.host.indexOf("sports.ladbrokes.com")>-1)J="sports";else if(document.location.host.indexOf("casino.ladbrokes.com")>-1)J="casino";else if(document.location.host.indexOf("vegas.ladbrokes.com")>-1)J="vegas";else if(document.location.host.indexOf("games.ladbrokes.com")>-1)J="games";else if(document.location.host.indexOf("livedealer.ladbrokes.com")>
-1)J="livedealer";else if(document.location.host.indexOf("bingo.ladbrokes.com")>-1)J="bingo";else if(document.location.host.indexOf("poker.ladbrokes.com")>-1)J="poker";if(window.universal_variable&&window.universal_variable.user&&window.universal_variable.user.user_id){window.criteo_q=window.criteo_q||[];window.criteo_q.push({event:"setAccount",account:15447},{event:"setSiteType",type:"d"},{event:"setHashedEmail",email:CryptoJS.MD5(window.universal_variable.user.Email).toString()},{event:"viewItem",
item:J},{event:"viewSearch",logged_in:"true"})}else{window.criteo_q=window.criteo_q||[];window.criteo_q.push({event:"setAccount",account:15447},{event:"setSiteType",type:"d"},{event:"viewItem",item:J})}}if(document.getElementById("md5_script")===null){var F=document.getElementsByTagName("head")[0];var k=document.createElement("script");k.type="text/javascript";k.src="https://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js";k.id="md5_script";k.onload=H;F.appendChild(k)}else H()}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"NOT_END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Retargeting - Amazon all pages","disabled":false,"id":44096116,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.retargetingamazonallpages.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  (function (){\n    var img \x3d document.createElement(\"img\");\n    img.width \x3d 1;\n    img.height \x3d 1;\n    img.id \x3d 'amazon_pxl';\n    img.src \x3d 'https://aax-eu.amazon-adsystem.com/s/iui3?d\x3dforester-did\x26ex-fargs\x3d%3Fid%3Da45fb37d-a2d6-d218-4f6b-656fba6d44e3%26type%3D43%26m%3D3\x26ex-fch\x3d416613\x26ex-src\x3dwww.ladbrokes.com\x26ex-hargs\x3dv%3D1.0%3Bc%3D5341049815918%3Bp%3Da45fb37d-a2d6-d218-4f6b-656fba6d44e3';  \n    \n    if (document.body !\x3d\x3d null) {\n      document.body.appendChild(img);\n    }\n  })();\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.LoginSuccessEvent"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"description":"All MediaImage related events","url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Pixel - TMI","disabled":true,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.pixeltmi.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="";a.addClientFiltersList([]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=
[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.helpers1.Tag","ladbrokesdesktopsportsbook.tags.helpersproduct.Tag","ladbrokesdesktopsportsbook.tags.helpersevents.Tag","ladbrokesdesktopsportsbook.tags.analyticsuniversalanalytics.Tag"]);a.pre=function(){};a.script=function(){function H(I,M){}function F(){var I=window.universal_variable;return{userID:I.user&&I.user.user_id?I.user.user_id:"0",gender:I.user&&I.user.title?I.user.title:"NA",curr:I.user&&I.user.currency?I.user.currency:"NA",
amount:I.page&&I.page.Amount?I.page.Amount:"0",balance:I.user&&I.user.sports_balance?I.user.sports_balance:"0",depCount:I.user&&I.user.depositCount?I.user.depositCount:"0",ctry:I.user&&I.user.country_code?I.user.country_code:"NA",pcode:J[getLBProduct()]||getLBProduct(),rand:Math.floor(Math.random()*1E8)}}var k={deposit:false,signup:false,reg:false};var J={thegrid:"thegr0",exchange:"theex0",mobilebetting:"mobil0",lottos:"lotto0",livedealer:"livec0",bingo:"bingo0",poker:"poker0",games:"games0",slots:"slots0",
casino:"casin0",sports:"sport0",inplay:"sport0",virtual:"sport0",sportsbook:"sport0"};var K=F();H("visit",K.pcode);var L="https://6417218.fls.doubleclick.net/activityi;src\x3d6417218;"+"type\x3drosid0;cat\x3d"+K.pcode+";dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;"+"ord\x3d"+K.rand+"?";createPixel(L,"MediaImage All");newUVListenerCond(isLBEvent.login,function(){var I=F();H("login",I.pcode);var M="https://6417218.fls.doubleclick.net/activityi;src\x3d6417218;"+"type\x3dsigni0;cat\x3d"+
I.pcode+";"+"u1\x3d"+I.userID+";"+"dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+I.rand+"?";createPixel(M,"MediaImage Login")});newUVListenerCond(isLBEvent.deposit,function(){setTimeout(function(){if(k.signup||k.deposit)return;k.deposit=true;var I=F();H("deposit",I.pcode);var M="https://6417218.fls.doubleclick.net/activityi;src\x3d6417218;"+"type\x3ddepos0;cat\x3d"+I.pcode+";qty\x3d1;cost\x3d[Revenue];"+"u1\x3d"+I.userID+";"+"u2\x3d"+I.amount+";"+"u3\x3d"+I.balance+";"+"u4\x3d"+
I.depCount+";"+"u5\x3d"+I.ctry+";"+"u6\x3d"+I.gender+";"+"u8\x3d"+I.curr+";"+"dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+I.rand+"?";createPixel(M,"MediaImage Deposit")},500)});newUVListenerCond(isLBEvent.signup,function(){if(k.signup)return;k.signup=true;var I=F();H("signup",I.pcode);var M="https://6417218.fls.doubleclick.net/activityi;src\x3d6417218;"+"type\x3dftdkm0;cat\x3d"+I.pcode+";qty\x3d1;cost\x3d[Revenue];"+"u1\x3d"+I.userID+";"+"u2\x3d"+I.amount+";"+"u5\x3d"+I.ctry+
";"+"u6\x3d"+I.gender+";"+"u8\x3d"+I.curr+";"+"dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+I.rand+"?";createPixel(M,"MediaImage Signup")});newUVListenerCond(isLBEvent.reg,function(){if(k.reg)return;k.reg=true;var I=F();H("reg",I.pcode);var M="https://6417218.fls.doubleclick.net/activityi;src\x3d6417218;"+"type\x3dregs50;cat\x3d"+I.pcode+";"+"u1\x3d"+I.userID+";"+"u5\x3d"+I.ctry+";"+"u6\x3d"+I.gender+";"+"u8\x3d"+I.curr+";"+"dc_lat\x3d;dc_rdid\x3d;tag_for_child_directed_treatment\x3d;ord\x3d"+
I.rand+"?";createPixel(M,"MediaImage Registration")})};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"PPC - Adobe - Login","disabled":false,"id":52233083,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.ppcadobelogin.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  /**\n  * This adobe script is used to trackuser logging in for reporting purposes.\n  */\n    (function (){\n      var cust_id\x3d\"\";\n      if(window.universal_variable \x26\x26 window.universal_variable.user \x26\x26 window.universal_variable.user.user_id) {\n        cust_id \x3d window.universal_variable.user.user_id + 'L';\n        \n        var img \x3d document.createElement(\"img\");\n        img.width \x3d 1;\n        img.height \x3d 1;\n        img.id \x3d 'adobePixelLogin';\n        img.src \x3d '//pixel.everesttech.net/3441/t?ev_user_login\x3d1\x26ev_transid\x3d'+cust_id;  \n        \n        if (document.body !\x3d\x3d null \x26\x26 document.getElementById('adobePixelLogin') \x3d\x3d\x3dnull) {\n          document.body.appendChild(img);\n        }\n      }\n  })();\n\x3c/script\x3e";a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.LoginSuccessUVEvents",
"ladbrokesdesktopsportsbook.filters.Disable_opentag"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Analytics - Tracker Functions","disabled":false,"id":43789895,"locked":false,"locationObject":"HEAD"});var A="ladbrokesdesktopsportsbook.tags.analyticstrackerfunctions.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  /**\n  * @author: Rob Ellison\n  * This script contains all basic functions for tracking content. \n  * This contains all GA calls as well as other analytics such as Qtracker.\n  * Other analytics SDK's should only be implemented here by extending existing functions.\n  * @Depedency - Universal Analytics\n  * @Depedency - QTracker\n  */\n  function Tracker(){\n    window.ga \x3d window.ga || [];\n    \n    /**\n    * Lookup array for custom dimensions\n    */\n    var dimensionLookup \x3d {\n      \"\x26uid\":    \"\x26uid\",\n      \"\x26cu\":\t\"\x26cu\",\n      \"customer_id\":    \"dimension1\",\n      \"customer_id_session\":\"dimension2\",\n      \"visitor_id\":     \"dimension3\",\n      \"mexos_channel\":    \"dimension4\",\n      \"mexos_member\":   \"dimension5\",\n      \"mexos_campaign\":   \"dimension6\",\n      \"balance\":      \"dimension7\",\n      \"hvc\":        \"dimension8\",\n      \"window_height\":    \"dimension9\",\n      \"window_width\":   \"dimension10\",\n      \"window_orientation\": \"dimension11\",\n      \"view_mode\":      \"dimension12\",\n      \"remember_username\":  \"dimension13\",\n      \"remember_password\":  \"dimension14\",\n      \"class\":        \"dimension15\",\n      \"type\":       \"dimension16\",\n      \"subtype\":      \"dimension17\",\n      \"event\":        \"dimension18\",\n      \"product_inplay\":   \"dimension19\",\n      \"product_module\":   \"dimension20\",\n      \"product_receipt_id\": \"dimension21\",\n      \"product_event_id\": \"dimension22\",\n      \"product_market_id\":  \"dimension23\",\n      \"product_start_time\": \"dimension24\",\n      \"product_inc_multi\":  \"dimension25\",\n      \"product_each_way\": \"dimension26\",\n      \"language\":     \"dimension27\",\n      \"is_native_app\":    \"dimension28\",\n      \"native_app_version\": \"dimension29\",\n      \"homepage\":     \"dimension30\",\n      \"remember_me\":    \"dimension31\",\n      \"odds_format\":    \"dimension32\",\n      \"product_page\":   \"dimension35\",\n      \"product_preference\": \"dimension38\",\n      \"inproduct_preference\": \"dimension39\"\n    };\n    \n    /**\n    * Lookup array for custom metrics\n    */\n    var metricLookup \x3d {\n      \"product_potential_returns\":  \"metric1\",\n      \"product_odds\":         \"metric2\",\n      \"product_lines\":        \"metric3\",\n      \"registrations\":        \"metric4\",\n      \"first_deposits\":       \"metric5\",\n      \"first_deposit_amount\":     \"metric6\",\n      \"repeat_deposits\":      \"metric7\",\n      \"repeat_deposit_amount\":    \"metric8\"\n    };\n    \n    /**\n    * Sets the campaign information (where the user came from)\n    */\n    this.trackCampaign \x3d function(medium,source,campaign,content,term){\n      try{\n        ga('set','campaignMedium',medium);\n        ga('set','campaignSource',source);\n        ga('set','campaignName',campaign);\n        if(content)ga('set','campaignContent',content);\n        if(term)ga('set','campaignKeyword',term);\n      } catch(err){\n        console.log('trackCampaign Error - '+err);\n      }\n    };\n    \n    /**\n    * Sets the custom metric in GA\n    */\n    this.trackMetric \x3d function(id,value) {\n      try{\n        if (typeof ga \x3d\x3d 'function') ga('set',metricLookup[id],parseFloat(value));\n      } catch(err){\n        console.log('trackMetric Error - '+err);\n      }\n    };\n    \n    /**\n    * Sets the custom dimension in GA\n    */    \n    this.trackDimension \x3d function(id,value) {\n      try{\n        if (typeof ga \x3d\x3d 'function') ga('set',dimensionLookup[id],value.toString());     \n      } catch(err){\n        console.log('trackDimension Error - '+err);\n      }\n    };\n    \n    /**\n    * This takes a URL and returns a clean version removing the domain and first folder level\n    * e.g. sports.ladbrokes.com/en-gb/\n    */\n    var refineURI \x3d function(url){\n      var regex \x3d /^https?:\\/\\/[^\\/]*\\/[^\\/]*(\\/.*)/;\n      var result \x3d regex.test(url)?url.match(regex)[1]:url;\n      return result;\n    };\n    \n    /**\n    * This sends a Qubit virtual pageview. \n    * The UV events are normally deleted so they are preserved in this function.\n    */\n    var trackQubitPage \x3d function(){\n      var events \x3d JSON.parse(JSON.stringify(window.universal_variable.events));\n      window._qtd \x3d window._qtd || [];\n      _qtd.push({virtualPageView: 1});\n      for(var i\x3d0;i\x3cevents.length;i++){\n        if(events[i].action !\x3d \"Page Push\"){\n          window.universal_variable.events.push(events[i]);\n        }\n      }\n    };\n    \n    /**\n    * This sends the GA event.\n    */ \n    this.trackEvent \x3d function(category,action,label,value) {\n      try{           \n        label \x3d label || \"None\";\n        value \x3d parseFloat(value) || 0;\n        if (typeof ga \x3d\x3d 'function') ga('send','event',category,action,label,value);\n      } catch(err){\n        console.log('trackEvent Error - '+err);\n      }\n    };\n    \n    /**\n    * This sets the page and tracks a pageview.\n    * Subsequent events will be associated with this page\n    */\n    this.trackPageview \x3d function(url) {\n      try{\n        if (typeof ga \x3d\x3d 'function'){\n          ga('set','page',url);\n          ga('send','pageview');\n        }\n        trackQubitPage();\n      } catch(err){\n        console.log('trackPageview Error - '+err);\n      }\n    };\n    \n    /**\n    * This sets the page and tracks a pageview.\n    * Subsequent events will NOT be associated with this page\n    */\n    this.trackVirtualPageview \x3d function(url) {\n      try{\n        if (typeof ga \x3d\x3d 'function') ga('send','pageview',url);\n      } catch(err){\n        console.log('trackVirtualPageview Error - '+err);\n      }\n    };\n    \n    if (typeof ga \x3d\x3d 'function') ga('require','ec');\n    \n    /**\n    * This sets a 'product click' which is a bet add.\n    * This will appear in GA enhanced ecommerce.\n    */\n    this.trackEnhancedBetAdd \x3d function(product){\n      try{\n        ga('ec:addProduct', {\n          'name': product.name,\n          'id': product.id.substring(0,100),\n          'category': product.category.substring(0,30),\n          'brand': (product.market||'').substring(0,30),\n          'variant': (product.selection||'').substring(0,30),\n          'quantity': product.quantity||1,\n          /*'coupon':   product.coupon||'',*/\n          'dimension19': product.inplay||'false',\n          'dimension20': (product.module||'').substring(0,100),\n          'dimension21': (product.receipt_id||'').substring(0,30),\n          'dimension23': (product.market_id||'').substring(0,30),\n          'dimension22': (product.event_id||'').substring(0,30),\n          'dimension24': (product.start_time||'').substring(0,30),\n          'dimension26': product.eachWay||'false',\n          'dimension25': product.include_in_multi||'true',\n          /*'dimension34': (product.bonus||'').substring(0,30),*/\n          'dimension35': (refineURI(product.page)||'').substring(0,100),\n          'metric1': parseFloat(product.potential_return)||0,\n          'metric2': parseFloat(product.odds)||0\n        });\n        ga('ec:setAction', 'click', {\n          'affiliation': \"Betslip\"\n        }); \n      } catch(err){\n        console.log('trackEnhancedBetAdd Error - '+err);\n      }\n    };\n    \n    /**\n    * This sets a 'product add' which is a bet stake entered.\n    * This will appear in GA enhanced ecommerce.\n    */\n    this.trackEnhancedBetEnterStake \x3d function(product){\n      try{\n        ga('ec:addProduct', {\n          'name': product.name,\n          'id': product.id.substring(0,100),\n          'category': product.category.substring(0,30),\n          'brand': (product.market||'').substring(0,30),\n          'variant': (product.selection||'').substring(0,30),\n          'price': product.unit_price||0,\n          'quantity': product.quantity||1,\n          /*'coupon':   product.coupon||'',*/\n          'dimension19': product.inplay||'false',\n          'dimension20': (product.module||'').substring(0,100),\n          'dimension21': (product.receipt_id||'').substring(0,30),\n          'dimension23': (product.market_id||'').substring(0,30),\n          'dimension22': (product.event_id||'').substring(0,30),\n          'dimension24': (product.start_time||'').substring(0,30),\n          'dimension26': product.eachWay||'false',\n          'dimension25': product.include_in_multi||'true',\n          /*'dimension34': (product.bonus||'').substring(0,30),*/\n          'dimension35': (refineURI(product.page)||'').substring(0,100),\n          'metric1': parseFloat(product.potential_return)||0,\n          'metric2': parseFloat(product.odds)||0\n        });\n        ga('ec:setAction', 'add', {\n          'affiliation': \"Betslip\"\n        });\n      } catch(err){\n        console.log('trackEnhancedBetEnterStake Error - '+err);\n      }\n    };\n    \n    /**\n    * This sets a 'basket checkout' which is a betslip is submitted.\n    * This will appear in GA enhanced ecommerce.\n    */\n    this.trackEnhancedBetSubmit \x3d function(basket){\n      try{\n        var i, ii;\n        for (i \x3d 0, ii \x3d basket.line_items.length; i \x3c ii; i +\x3d 1) {\n          if(basket.line_items[i].unit_price\x3e0){\n            ga('ec:addProduct', {\n              'name': basket.line_items[i].name,\n              'id': basket.line_items[i].id.substring(0,100),\n              'category': basket.line_items[i].category,\n              'brand': (basket.line_items[i].market||'').substring(0,30),\n              'variant': (basket.line_items[i].selection||'').substring(0,30),\n              'price': basket.line_items[i].unit_price||0,\n              'quantity': basket.line_items[i].quantity||1,\n              /*'coupon':   basket.line_items[i].coupon||'',*/\n              'dimension19': basket.line_items[i].inplay||'false',\n              'dimension20': (basket.line_items[i].module||'').substring(0,100),\n              'dimension21': (basket.line_items[i].receipt_id||'').substring(0,30),\n              'dimension23': (basket.line_items[i].market_id||'').substring(0,30),\n              'dimension22': (basket.line_items[i].event_id||'').substring(0,30),\n              'dimension24': (basket.line_items[i].start_time||'').substring(0,30),\n              'dimension26': basket.line_items[i].eachWay||'false',\n              'dimension25': basket.line_items[i].include_in_multi||'true',\n              /*'dimension34': (basket.line_items[i].bonus||'').substring(0,30),*/\n              'dimension35': (refineURI(basket.line_items[i].page)||'').substring(0,100),\n              'metric1': parseFloat(basket.line_items[i].potential_return)||0,\n              'metric2': parseFloat(basket.line_items[i].odds)||0\n            });\n          }\n        }\n        ga('ec:setAction', 'checkout', {\n          'affiliation': \"Betslip\",\n          'revenue': basket.total\n        }); \n      } catch(err){\n        console.log('trackEnhancedBetSubmit Error - '+err);\n      }\n    };\n    \n    /**\n    * This sets a 'basket purchase' which is a betslip is successfully placed.\n    * This will appear in GA enhanced ecommerce.\n    */\n    this.trackEnhancedBet \x3d function(transaction){\n      try{\n        var i, ii;\n        for (i \x3d 0, ii \x3d transaction.line_items.length; i \x3c ii; i +\x3d 1) {\n          ga('ec:addProduct', {\n            'name': transaction.line_items[i].name,\n            'id': transaction.line_items[i].id.substring(0,100),\n            'category': transaction.line_items[i].category,\n            'brand': (transaction.line_items[i].market||'').substring(0,30),\n            'variant': (transaction.line_items[i].selection||'').substring(0,30),\n            'price': transaction.line_items[i].unit_price,\n            'quantity': transaction.line_items[i].quantity,\n            /*'coupon':   transaction.line_items[i].coupon||'',*/\n            'dimension19': transaction.line_items[i].inplay||'false',\n            'dimension20': (transaction.line_items[i].module||'').substring(0,100),\n            'dimension21': (transaction.line_items[i].receipt_id||'').substring(0,30),\n            'dimension23': (transaction.line_items[i].market_id||'').substring(0,30),\n            'dimension22': (transaction.line_items[i].event_id||'').substring(0,30),\n            'dimension24': (transaction.line_items[i].start_time||'').substring(0,30),\n            'dimension26': transaction.line_items[i].eachWay||'false',\n            'dimension25': transaction.line_items[i].include_in_multi||'true',\n            /*'dimension34': (transaction.line_items[i].bonus||'').substring(0,30),*/\n            'dimension35': (refineURI(transaction.line_items[i].page)||'').substring(0,100),\n            'metric1': parseFloat(transaction.line_items[i].potential_return)||0,\n            'metric2': parseFloat(transaction.line_items[i].odds)||0\n          });\n        }\n        ga('ec:setAction', 'purchase', {\n          'id': transaction.order_id,\n          'affiliation': \"Betslip\",\n          'revenue': transaction.total,\n          'shipping':'0',\n          'tax':'0'\n        });\n        trackQubitPage();\n      } catch(err){\n        console.log('trackEnhancedBet Error - '+err);\n      }\n    };\n    \n   /**\n    * This sets a 'promotion click' which associates subsquent bets to this promotion.\n    * This will appear in GA enhanced ecommerce.\n    */\n    this.trackPromotion \x3d function(type,promotion,creative,position) {\n      try{\n        if (typeof ga \x3d\x3d 'function') {\n          ga('ec:addPromo', {\n            'id': promotion,\n            'name': type,\n            'creative': creative,\n            'position': position\n          });\n          \n          ga('ec:setAction', 'promo_click');\n        }\n      } catch(err){\n        console.log('trackPromotion Error - '+err);\n      }\n    };\n  }\n  window.tracker \x3d new Tracker();\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.DefaultFilterMatchAll","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue4"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList(["ladbrokesdesktopsportsbook.tags.analyticsuniversalanalytics.Tag","ladbrokesdesktopsportsbook.tags.qubittracker.Tag"]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Facebook - All","disabled":false,"id":54329575,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.facebookall.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\n  !function(f,b,e,v,n,t,s){if(f.fbq)return;n\x3df.fbq\x3dfunction(){n.callMethod?\n  n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq\x3dn;\n  n.push\x3dn;n.loaded\x3d!0;n.version\x3d'2.0';n.queue\x3d[];t\x3db.createElement(e);t.async\x3d!0;\n  t.src\x3dv;s\x3db.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,\n  document,'script','//connect.facebook.net/en_US/fbevents.js');\n\n  fbq('init', '1452286315002932');\n  fbq('track', 'PageView');\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.DefaultFilterMatchAll"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.CustomTag;var a=new B({"dedupe":false,"locationPlaceHolder":"END","needsConsent":false,"active":true,"url":"","timeout":5E3,"async":true,"usesDocumentWrite":false,"name":"Content - LoginAPI - LoginMessages Stage","disabled":true,"id":44790565,"locked":false,"locationObject":"BODY"});var A="ladbrokesdesktopsportsbook.tags.contentloginapiloginmessagesstage.Tag";qubit.Define.clientNamespace(A,a);a.htmlContent="\x3cscript\x3e\nvar _mapi \x3d {};\n(function () {\n     _mapi.params \x3d {};\n    _mapi.params.realMode \x3d 1;\n    _mapi.login \x3d false;\n    _mapi.params.loginMsgType \x3d 'login';\n    _mapi.params.otherMsgType \x3d '';\n  \tvar bonusparam \x3d \"\";\n\n    var loadloginAPI \x3d function () {\n\n        var loadPTAPI \x3d function () {\n            if (typeof iapiConf !\x3d 'undefined') {\n\n                var addLoginAPI \x3d function () {\n                    if (typeof iapiLogin !\x3d 'undefined') {\n                        var loginapiscript \x3d document.createElement('script');\n                        loginapiscript.src \x3d 'https://scripts.ladbrokes.com/js/ptintegration/login-integration-thirdparty.js?ver\x3d7.7.1';\n                        loginapiscript.id \x3d 'loginapiscript';\n                        var oldscript \x3d document.getElementById('loginapiscript');\n                        if (oldscript) {\n                            //Repeat loads\n                            oldscript.parentElement.removeChild(oldscript);\n                            window.generateOkButton \x3d undefined;\n                        } else {\n                            \n                            //setTimeout(iapiLogout, 3600000, 1, 1);\n                        }\n                        ;\n                        document.body.appendChild(loginapiscript);\n//Temporary fixes\n                        var fixCloseButton \x3d function () {\n                            if (typeof generateOkButton !\x3d \"undefined\") {\n                                window.generateOkButton \x3d function () {\n                                    var aButton \x3d document.createElement('a');\n                                    aButton.setAttribute('target', '_notclickable');\n                                    aButton.setAttribute('onclick', 'javascript:closelb()');\n\n                                    var okButton \x3d document.createElement('div');\n                                    okButton.setAttribute('style',\"cursor: pointer; position: absolute; right:15px; top: 15px; font-family: 'Helvetica Neue', Helvetica, Arial ; color: #fff; font-weight: bold; text-decoration: none; padding:3px; font-size: 16px;display: inline-block;transform : scale(1.4,1);-webkit-transform:scale(1.4,1); -moz-transform:scale(1.4,1); -ms-transform:scale(1.4,1); -o-transform:scale(1.4,1);\");\n                                    okButton.innerHTML \x3d'X';\n                                    aButton.appendChild(okButton);\n\n//Wait on dialogs - Mobenga\n                                    var old_popup \x3d showPopup;\n                                    window.showPopup \x3d function () {\n                                        if (document.location.href.indexOf(\"streams\") \x3e -1 || document.location.href.indexOf(\"slip\") \x3e -1 || document.getElementById('alert-box3').getAttribute('class').indexOf(\"dn\") \x3d\x3d -1 || (document.getElementById('modal-overlay').getAttribute('class').indexOf(\"dn\") \x3d\x3d -1 \x26\x26 document.getElementById('modal-overlay').childNodes.length \x3e 0)) {\n                                            document.getElementById('msgLBMainContainer').style.visibility \x3d 'hidden';\n                                            setTimeout(showPopup, 500)\n                                        }\n                                        else {\n                                            document.getElementById('msgLBMainContainer').style.visibility \x3d 'visible';\n                                            old_popup()\n                                        }\n                                    };\n\n                                    return aButton;\n                                };\n                            }\n                        };\n                    } else {\n                        setTimeout(addLoginAPI, 100);\n                    }\n                };\n                addLoginAPI();\n            } else {\n                setTimeout(loadPTAPI, 100);\n            }\n        };\n        loadPTAPI();\n    };\n    loadloginAPI();\n  // Add this timeout that will trigger messages when script has loaded.\n  \n    var triggerMessages \x3d function () {\n\t\tif (typeof callLoginMessages !\x3d 'undefined') { \n\t\t\tif (window.universal_variable \x26\x26 window.universal_variable.user \x26\x26 window.universal_variable.user.user_id \x26\x26 typeof(Storage) !\x3d\x3d \"undefined\" \x26\x26 !sessionStorage.hasSeenLoginMsg) {\n\t\t\t\tcallLoginMessages();\n\t\t\t\tsessionStorage.hasSeenLoginMsg \x3d true;\n\t\t\t}\n\t\t} else {\n\t\t\tsetTimeout(triggerMessages,100);\n\t\t}\n\t};\n\ttriggerMessages();\n})();\n\x3c/script\x3e";
a.addClientFiltersList(["ladbrokesdesktopsportsbook.filters.UserPushEvent","ladbrokesdesktopsportsbook.filters.MobengaStaging1","ladbrokesdesktopsportsbook.filters.Disable_opentagTrue11"]);a.addClientVariablesMap({});a.addParameters([]);a.genericDependencies=[];a.addClientDependenciesList([]);a.pre=function(){};a.script=function(){};a.post=function(){}})();
(function(){var B=qubit.opentag.Container;var a=new B({"maxCookieLength":1E3,"cookieDomain":"","pingServerUrl":"","delayDocWrite":false,"name":"Ladbrokes Desktop (sports.ladbrokes.com)","gzip":true,"disabled":false,"tellLoadTimesProbability":1,"containerId":1873348});var A="ladbrokesdesktopsportsbook.Container";qubit.Define.clientNamespace(A,a)})();(function(){try{qubit.opentag.Main.run()}catch(B){try{console.error("Errors during opentag main runtime.",B)}catch(a){}}})();